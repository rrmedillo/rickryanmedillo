"use strict";var GN1=Object.defineProperty,WN1=Object.defineProperties,$N1=Object.getOwnPropertyDescriptors,RQ=Object.getOwnPropertySymbols,ZN1=Object.prototype.hasOwnProperty,KN1=Object.prototype.propertyIsEnumerable,OQ=(a2,z1,A)=>z1 in a2?GN1(a2,z1,{enumerable:!0,configurable:!0,writable:!0,value:A}):a2[z1]=A,FQ=(a2,z1)=>{for(var A in z1||(z1={}))ZN1.call(z1,A)&&OQ(a2,A,z1[A]);if(RQ)for(var A of RQ(z1))KN1.call(z1,A)&&OQ(a2,A,z1[A]);return a2},UQ=(a2,z1)=>WN1(a2,$N1(z1));(self.webpackChunkangular_quickstart=self.webpackChunkangular_quickstart||[]).push([[179],{2011:(a2,z1,A)=>{A.d(z1,{Dh:()=>m1,GT:()=>b1,Ot:()=>l1,cc:()=>V1,hO:()=>j1,on:()=>W,pX:()=>p1,xv:()=>v1});var c=A(5e3),e1=A(127),R=A(880);a2=A.hmd(a2);const f1=["ngOnDestroy"],p1=(S1,c2,t2,A1={})=>new Proxy(S1,{get:(H1,x1)=>t2.runOutsideAngular(()=>{var X1;if(S1[x1])return(null===(X1=null==A1?void 0:A1.spy)||void 0===X1?void 0:X1.get)&&A1.spy.get(x1,S1[x1]),S1[x1];if(f1.indexOf(x1)>-1)return()=>{};const B1=c2.toPromise().then(q=>{const U=q&&q[x1];return"function"==typeof U?U.bind(q):U&&U.then?U.then(t1=>t2.run(()=>t1)):t2.run(()=>U)});return new Proxy(()=>{},{get:(q,U)=>B1[U],apply:(q,U,t1)=>B1.then(d1=>{var c1;const I1=d1&&d1(...t1);return(null===(c1=null==A1?void 0:A1.spy)||void 0===c1?void 0:c1.apply)&&A1.spy.apply(x1,t1,I1),I1})})})}),b1=(S1,c2)=>{c2.forEach(t2=>{Object.getOwnPropertyNames(t2.prototype||t2).forEach(A1=>{Object.defineProperty(S1.prototype,A1,Object.getOwnPropertyDescriptor(t2.prototype||t2,A1))})})};class l1{constructor(c2){return c2}}const m1=new c.OlP("angularfire2.app.options"),v1=new c.OlP("angularfire2.app.name");function W(S1,c2,t2){const H1="object"==typeof t2&&t2||{};H1.name=H1.name||"string"==typeof t2&&t2||"[DEFAULT]";const X1=e1.Z.apps.filter(B1=>B1&&B1.name===H1.name)[0]||c2.runOutsideAngular(()=>e1.Z.initializeApp(S1,H1));try{JSON.stringify(S1)!==JSON.stringify(X1.options)&&G("error",`${X1.name} Firebase App already initialized with different options${a2.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(B1){}return new l1(X1)}const G=(S1,...c2)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[S1](...c2)},a1={provide:l1,useFactory:W,deps:[m1,c.R0b,[new c.FiY,v1]]};let j1=(()=>{class S1{constructor(t2){e1.Z.registerVersion("angularfire",R.q4.full,"core"),e1.Z.registerVersion("angularfire",R.q4.full,"app-compat"),e1.Z.registerVersion("angular",c.q4F.full,t2.toString())}static initializeApp(t2,A1){return{ngModule:S1,providers:[{provide:m1,useValue:t2},{provide:v1,useValue:A1}]}}}return S1.\u0275fac=function(t2){return new(t2||S1)(c.LFG(c.Lbi))},S1.\u0275mod=c.oAB({type:S1}),S1.\u0275inj=c.cJS({providers:[a1]}),S1})();function V1(S1,c2,t2,A1,H1){const[,x1,X1]=globalThis.\u0275AngularfireInstanceCache.find(B1=>B1[0]===S1)||[];if(x1)return function O1(S1,c2){try{return S1.toString()===c2.toString()}catch(t2){return S1===c2}}(H1,X1)||(g1("error",`${c2} was already initialized on the ${t2} Firebase App with different settings.${G1?" You may need to reload as Firebase is not HMR aware.":""}`),g1("warn",{is:H1,was:X1})),x1;{const B1=A1();return globalThis.\u0275AngularfireInstanceCache.push([S1,B1,H1]),B1}}const G1=!!a2.hot,g1=(S1,...c2)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[S1](...c2)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(a2,z1,A)=>{A.d(z1,{q4:()=>t0,iC:()=>rn,fc:()=>c8,HU:()=>Te,vb:()=>Dn,JM:()=>o8,nk:()=>ba});var c=A(5e3),e1=A(5867),R=A(5861),f1=A(9681),p1=A(2090),b1=A(4859),l1=A(1877);A(2833);const v1="@firebase/remote-config",W="0.3.8",V1=new p1.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class k2{constructor(N,J,C1,W1){this.client=N,this.storage=J,this.storageCache=C1,this.logger=W1}isCachedDataFresh(N,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const C1=Date.now()-J,W1=C1<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${C1}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${W1}.`),W1}fetch(N){var J=this;return(0,R.Z)(function*(){const[C1,W1]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(W1&&J.isCachedDataFresh(N.cacheMaxAgeMillis,C1))return W1;N.eTag=W1&&W1.eTag;const e2=yield J.client.fetch(N),T2=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===e2.status&&T2.push(J.storage.setLastSuccessfulFetchResponse(e2)),yield Promise.all(T2),e2})()}}function xe(k=navigator){return k.languages&&k.languages[0]||k.language}class o2{constructor(N,J,C1,W1,e2,T2){this.firebaseInstallations=N,this.sdkVersion=J,this.namespace=C1,this.projectId=W1,this.apiKey=e2,this.appId=T2}fetch(N){var J=this;return(0,R.Z)(function*(){const[C1,W1]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),T2=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},f2={sdk_version:J.sdkVersion,app_instance_id:C1,app_instance_id_token:W1,app_id:J.appId,language_code:xe()},Ae={method:"POST",headers:Ue,body:JSON.stringify(f2)},Ve=fetch(T2,Ae),j2=new Promise((U2,an)=>{N.signal.addEventListener(()=>{const Ie=new Error("The operation was aborted.");Ie.name="AbortError",an(Ie)})});let sn;try{yield Promise.race([Ve,j2]),sn=yield Ve}catch(U2){let an="fetch-client-network";throw"AbortError"===U2.name&&(an="fetch-timeout"),V1.create(an,{originalErrorMessage:U2.message})}let D4=sn.status;const i5=sn.headers.get("ETag")||void 0;let y6,N1;if(200===sn.status){let U2;try{U2=yield sn.json()}catch(an){throw V1.create("fetch-client-parse",{originalErrorMessage:an.message})}y6=U2.entries,N1=U2.state}if("INSTANCE_STATE_UNSPECIFIED"===N1?D4=500:"NO_CHANGE"===N1?D4=304:("NO_TEMPLATE"===N1||"EMPTY_CONFIG"===N1)&&(y6={}),304!==D4&&200!==D4)throw V1.create("fetch-status",{httpStatus:D4});return{status:D4,eTag:i5,config:y6}})()}}class Ce{constructor(N,J){this.client=N,this.storage=J}fetch(N){var J=this;return(0,R.Z)(function*(){const C1=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(N,C1)})()}attemptFetch(N,{throttleEndTimeMillis:J,backoffCount:C1}){var W1=this;return(0,R.Z)(function*(){yield function w2(k,N){return new Promise((J,C1)=>{const W1=Math.max(N-Date.now(),0),e2=setTimeout(J,W1);k.addEventListener(()=>{clearTimeout(e2),C1(V1.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,J);try{const e2=yield W1.client.fetch(N);return yield W1.storage.deleteThrottleMetadata(),e2}catch(e2){if(!function Le(k){if(!(k instanceof p1.ZR&&k.customData))return!1;const N=Number(k.customData.httpStatus);return 429===N||500===N||503===N||504===N}(e2))throw e2;const T2={throttleEndTimeMillis:Date.now()+(0,p1.$s)(C1),backoffCount:C1+1};return yield W1.storage.setThrottleMetadata(T2),W1.attemptFetch(N,T2)}})()}}class H3{constructor(N,J,C1,W1,e2){this.app=N,this._client=J,this._storageCache=C1,this._storage=W1,this._logger=e2,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function O2(k,N){const J=k.target.error||void 0;return V1.create(N,{originalErrorMessage:J&&J.message})}const P2="app_namespace_store";class be{constructor(N,J,C1,W1=function o3(){return new Promise((k,N)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=C1=>{N(O2(C1,"storage-open"))},J.onsuccess=C1=>{k(C1.target.result)},J.onupgradeneeded=C1=>{0===C1.oldVersion&&C1.target.result.createObjectStore(P2,{keyPath:"compositeKey"})}}catch(J){N(V1.create("storage-open",{originalErrorMessage:J}))}})}()){this.appId=N,this.appName=J,this.namespace=C1,this.openDbPromise=W1}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var J=this;return(0,R.Z)(function*(){const C1=yield J.openDbPromise;return new Promise((W1,e2)=>{const Ue=C1.transaction([P2],"readonly").objectStore(P2),f2=J.createCompositeKey(N);try{const Ae=Ue.get(f2);Ae.onerror=Ve=>{e2(O2(Ve,"storage-get"))},Ae.onsuccess=Ve=>{const j2=Ve.target.result;W1(j2?j2.value:void 0)}}catch(Ae){e2(V1.create("storage-get",{originalErrorMessage:Ae&&Ae.message}))}})})()}set(N,J){var C1=this;return(0,R.Z)(function*(){const W1=yield C1.openDbPromise;return new Promise((e2,T2)=>{const f2=W1.transaction([P2],"readwrite").objectStore(P2),Ae=C1.createCompositeKey(N);try{const Ve=f2.put({compositeKey:Ae,value:J});Ve.onerror=j2=>{T2(O2(j2,"storage-set"))},Ve.onsuccess=()=>{e2()}}catch(Ve){T2(V1.create("storage-set",{originalErrorMessage:Ve&&Ve.message}))}})})()}delete(N){var J=this;return(0,R.Z)(function*(){const C1=yield J.openDbPromise;return new Promise((W1,e2)=>{const Ue=C1.transaction([P2],"readwrite").objectStore(P2),f2=J.createCompositeKey(N);try{const Ae=Ue.delete(f2);Ae.onerror=Ve=>{e2(O2(Ve,"storage-delete"))},Ae.onsuccess=()=>{W1()}}catch(Ae){e2(V1.create("storage-delete",{originalErrorMessage:Ae&&Ae.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class _3{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,R.Z)(function*(){const J=N.storage.getLastFetchStatus(),C1=N.storage.getLastSuccessfulFetchTimestampMillis(),W1=N.storage.getActiveConfig(),e2=yield J;e2&&(N.lastFetchStatus=e2);const T2=yield C1;T2&&(N.lastSuccessfulFetchTimestampMillis=T2);const Ue=yield W1;Ue&&(N.activeConfig=Ue)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function V2(){return L3.apply(this,arguments)}function L3(){return(L3=(0,R.Z)(function*(){if(!(0,p1.hl)())return!1;try{return yield(0,p1.eu)()}catch(k){return!1}})).apply(this,arguments)}!function F3(){(0,f1._registerComponent)(new b1.wA("remote-config",function k(N,{instanceIdentifier:J}){const C1=N.getProvider("app").getImmediate(),W1=N.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw V1.create("registration-window");if(!(0,p1.hl)())throw V1.create("indexed-db-unavailable");const{projectId:e2,apiKey:T2,appId:Ue}=C1.options;if(!e2)throw V1.create("registration-project-id");if(!T2)throw V1.create("registration-api-key");if(!Ue)throw V1.create("registration-app-id");const f2=new be(Ue,C1.name,J=J||"firebase"),Ae=new _3(f2),Ve=new l1.Yd(v1);Ve.logLevel=l1.in.ERROR;const j2=new o2(W1,f1.SDK_VERSION,J,e2,T2,Ue),sn=new Ce(j2,f2),D4=new k2(sn,f2,Ae,Ve),i5=new H3(C1,D4,Ae,f2,Ve);return function X1(k){const N=(0,p1.m9)(k);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(i5),i5},"PUBLIC").setMultipleInstances(!0)),(0,f1.registerVersion)(v1,W),(0,f1.registerVersion)(v1,W,"esm2017")}();var he=A(8766);const De="/firebase-messaging-sw.js",K3="/firebase-cloud-messaging-push-scope",x3="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fe="google.c.a.c_id",E3="google.c.a.c_l",c4="google.c.a.ts",Z2="google.c.a.e";var y2=(()=>{return(k=y2||(y2={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",y2;var k})();function ye(k){const N=new Uint8Array(k);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Y3(k){const J=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),C1=atob(J),W1=new Uint8Array(C1.length);for(let e2=0;e2<C1.length;++e2)W1[e2]=C1.charCodeAt(e2);return W1}const G2="fcm_token_details_db",Xe="fcm_token_object_Store";function Ze(k){return O.apply(this,arguments)}function O(){return O=(0,R.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e2=>e2.name).includes(G2))return null;let N=null;return(yield(0,he.X3)(G2,5,{upgrade:(C1=(0,R.Z)(function*(W1,e2,T2,Ue){var f2;if(e2<2||!W1.objectStoreNames.contains(Xe))return;const Ae=Ue.objectStore(Xe),Ve=yield Ae.index("fcmSenderId").get(k);if(yield Ae.clear(),Ve)if(2===e2){const j2=Ve;if(!j2.auth||!j2.p256dh||!j2.endpoint)return;N={token:j2.fcmToken,createTime:null!==(f2=j2.createTime)&&void 0!==f2?f2:Date.now(),subscriptionOptions:{auth:j2.auth,p256dh:j2.p256dh,endpoint:j2.endpoint,swScope:j2.swScope,vapidKey:"string"==typeof j2.vapidKey?j2.vapidKey:ye(j2.vapidKey)}}}else if(3===e2){const j2=Ve;N={token:j2.fcmToken,createTime:j2.createTime,subscriptionOptions:{auth:ye(j2.auth),p256dh:ye(j2.p256dh),endpoint:j2.endpoint,swScope:j2.swScope,vapidKey:ye(j2.vapidKey)}}}else if(4===e2){const j2=Ve;N={token:j2.fcmToken,createTime:j2.createTime,subscriptionOptions:{auth:ye(j2.auth),p256dh:ye(j2.p256dh),endpoint:j2.endpoint,swScope:j2.swScope,vapidKey:ye(j2.vapidKey)}}}}),function(e2,T2,Ue,f2){return C1.apply(this,arguments)})})).close(),yield(0,he.Lj)(G2),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),Y(N)?N:null;var C1}),O.apply(this,arguments)}function Y(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:N}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const B="firebase-messaging-store";let n1=null;function j(){return n1||(n1=(0,he.X3)("firebase-messaging-database",1,{upgrade:(k,N)=>{0===N&&k.createObjectStore(B)}})),n1}function s1(k){return y1.apply(this,arguments)}function y1(){return(y1=(0,R.Z)(function*(k){const N=I2(k),C1=yield(yield j()).transaction(B).objectStore(B).get(N);if(C1)return C1;{const W1=yield Ze(k.appConfig.senderId);if(W1)return yield D1(k,W1),W1}})).apply(this,arguments)}function D1(k,N){return Z1.apply(this,arguments)}function Z1(){return(Z1=(0,R.Z)(function*(k,N){const J=I2(k),W1=(yield j()).transaction(B,"readwrite");return yield W1.objectStore(B).put(N,J),yield W1.done,N})).apply(this,arguments)}function q1(k){return p2.apply(this,arguments)}function p2(){return(p2=(0,R.Z)(function*(k){const N=I2(k),C1=(yield j()).transaction(B,"readwrite");yield C1.objectStore(B).delete(N),yield C1.done})).apply(this,arguments)}function I2({appConfig:k}){return k.appId}const se=new p1.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function U3(k,N){return h4.apply(this,arguments)}function h4(){return(h4=(0,R.Z)(function*(k,N){const J=yield En(k),C1=I4(N),W1={method:"POST",headers:J,body:JSON.stringify(C1)};let e2;try{e2=yield(yield fetch(T3(k.appConfig),W1)).json()}catch(T2){throw se.create("token-subscribe-failed",{errorInfo:T2})}if(e2.error)throw se.create("token-subscribe-failed",{errorInfo:e2.error.message});if(!e2.token)throw se.create("token-subscribe-no-token");return e2.token})).apply(this,arguments)}function _e(k,N){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,R.Z)(function*(k,N){const J=yield En(k),C1=I4(N.subscriptionOptions),W1={method:"PATCH",headers:J,body:JSON.stringify(C1)};let e2;try{e2=yield(yield fetch(`${T3(k.appConfig)}/${N.token}`,W1)).json()}catch(T2){throw se.create("token-update-failed",{errorInfo:T2})}if(e2.error)throw se.create("token-update-failed",{errorInfo:e2.error.message});if(!e2.token)throw se.create("token-update-no-token");return e2.token})).apply(this,arguments)}function A4(k,N){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,R.Z)(function*(k,N){const C1={method:"DELETE",headers:yield En(k)};try{const e2=yield(yield fetch(`${T3(k.appConfig)}/${N}`,C1)).json();if(e2.error)throw se.create("token-unsubscribe-failed",{errorInfo:e2.error.message})}catch(W1){throw se.create("token-unsubscribe-failed",{errorInfo:W1})}})).apply(this,arguments)}function T3({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function En(k){return lt.apply(this,arguments)}function lt(){return(lt=(0,R.Z)(function*({appConfig:k,installations:N}){const J=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function I4({p256dh:k,auth:N,endpoint:J,vapidKey:C1}){const W1={web:{endpoint:J,auth:N,p256dh:k}};return C1!==x3&&(W1.web.applicationPubKey=C1),W1}const d4=6048e5;function d3(k){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,R.Z)(function*(k){const N=yield W2(k.swRegistration,k.vapidKey),J={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:N.endpoint,auth:ye(N.getKey("auth")),p256dh:ye(N.getKey("p256dh"))},C1=yield s1(k.firebaseDependencies);if(C1){if(Q2(C1.subscriptionOptions,J))return Date.now()>=C1.createTime+d4?F(k,{token:C1.token,createTime:Date.now(),subscriptionOptions:J}):C1.token;try{yield A4(k.firebaseDependencies,C1.token)}catch(W1){console.warn(W1)}return P1(k.firebaseDependencies,J)}return P1(k.firebaseDependencies,J)})).apply(this,arguments)}function B3(k){return n2.apply(this,arguments)}function n2(){return(n2=(0,R.Z)(function*(k){const N=yield s1(k.firebaseDependencies);N&&(yield A4(k.firebaseDependencies,N.token),yield q1(k.firebaseDependencies));const J=yield k.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()})).apply(this,arguments)}function F(k,N){return h1.apply(this,arguments)}function h1(){return(h1=(0,R.Z)(function*(k,N){try{const J=yield _e(k.firebaseDependencies,N),C1=Object.assign(Object.assign({},N),{token:J,createTime:Date.now()});return yield D1(k.firebaseDependencies,C1),J}catch(J){throw yield B3(k),J}})).apply(this,arguments)}function P1(k,N){return d2.apply(this,arguments)}function d2(){return(d2=(0,R.Z)(function*(k,N){const C1={token:yield U3(k,N),createTime:Date.now(),subscriptionOptions:N};return yield D1(k,C1),C1.token})).apply(this,arguments)}function W2(k,N){return Y2.apply(this,arguments)}function Y2(){return(Y2=(0,R.Z)(function*(k,N){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Y3(N)})})).apply(this,arguments)}function Q2(k,N){return N.vapidKey===k.vapidKey&&N.endpoint===k.endpoint&&N.auth===k.auth&&N.p256dh===k.p256dh}function ze(k){const N={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function j3(k,N){if(!N.notification)return;k.notification={};const J=N.notification.title;J&&(k.notification.title=J);const C1=N.notification.body;C1&&(k.notification.body=C1);const W1=N.notification.image;W1&&(k.notification.image=W1)}(N,k),function S2(k,N){!N.data||(k.data=N.data)}(N,k),function Rt(k,N){if(!N.fcmOptions)return;k.fcmOptions={};const J=N.fcmOptions.link;J&&(k.fcmOptions.link=J);const C1=N.fcmOptions.analytics_label;C1&&(k.fcmOptions.analyticsLabel=C1)}(N,k),N}function C4(k){return"object"==typeof k&&!!k&&Fe in k}function n5(k,N){const J=[];for(let C1=0;C1<k.length;C1++)J.push(k.charAt(C1)),C1<N.length&&J.push(N.charAt(C1));return J.join("")}function e3(k){return se.create("missing-app-config-values",{valueName:k})}n5("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),n5("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ft{constructor(N,J,C1){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W1=function Ot(k){if(!k||!k.options)throw e3("App Configuration Object");if(!k.name)throw e3("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:J}=k;for(const C1 of N)if(!J[C1])throw e3(C1);return{appName:k.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:W1,installations:J,analyticsProvider:C1}}_delete(){return Promise.resolve()}}function ut(k){return ke.apply(this,arguments)}function ke(){return(ke=(0,R.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(De,{scope:K3}),k.swRegistration.update().catch(()=>{})}catch(N){throw se.create("failed-service-worker-registration",{browserErrorMessage:N.message})}})).apply(this,arguments)}function we(k,N){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,R.Z)(function*(k,N){if(!N&&!k.swRegistration&&(yield ut(k)),N||!k.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw se.create("invalid-sw-registration");k.swRegistration=N}})).apply(this,arguments)}function e8(k,N){return A3.apply(this,arguments)}function A3(){return(A3=(0,R.Z)(function*(k,N){N?k.vapidKey=N:k.vapidKey||(k.vapidKey=x3)})).apply(this,arguments)}function tn(){return(tn=(0,R.Z)(function*(k,N){if(!navigator)throw se.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw se.create("permission-blocked");return yield e8(k,null==N?void 0:N.vapidKey),yield we(k,null==N?void 0:N.serviceWorkerRegistration),d3(k)})).apply(this,arguments)}function t8(k,N,J){return ft.apply(this,arguments)}function ft(){return(ft=(0,R.Z)(function*(k,N,J){const C1=N4(N);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(C1,{message_id:J[Fe],message_name:J[E3],message_time:J[c4],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function N4(k){switch(k){case y2.NOTIFICATION_CLICKED:return"notification_open";case y2.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ir(){return(ir=(0,R.Z)(function*(k,N){const J=N.data;if(!J.isFirebaseMessaging)return;k.onMessageHandler&&J.messageType===y2.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(ze(J)):k.onMessageHandler.next(ze(J)));const C1=J.data;C4(C1)&&"1"===C1[Z2]&&(yield t8(k,J.messageType,C1))})).apply(this,arguments)}const r8="@firebase/messaging",Ut=k=>{const N=new Ft(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function n8(k,N){return ir.apply(this,arguments)}(N,J)),N},sr=k=>{const N=k.getProvider("messaging").getImmediate();return{getToken:C1=>function p4(k,N){return tn.apply(this,arguments)}(N,C1)}};function W4(){return ar.apply(this,arguments)}function ar(){return(ar=(0,R.Z)(function*(){try{yield(0,p1.eu)()}catch(k){return!1}return"undefined"!=typeof window&&(0,p1.hl)()&&(0,p1.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ma(){(0,f1._registerComponent)(new b1.wA("messaging",Ut,"PUBLIC")),(0,f1._registerComponent)(new b1.wA("messaging-internal",sr,"PRIVATE")),(0,f1.registerVersion)(r8,"0.9.13"),(0,f1.registerVersion)(r8,"0.9.13","esm2017")}();var An=A(7982),ur=A(4408),p6=A(7565);const s8=new class La extends p6.v{}(class i8 extends ur.o{constructor(N,J){super(N,J),this.scheduler=N,this.work=J}schedule(N,J=0){return J>0?super.schedule(N,J):(this.delay=J,this.state=N,this.scheduler.flush(this),this)}execute(N,J){return J>0||this.closed?super.execute(N,J):this._execute(N,J)}requestAsyncId(N,J,C1=0){return null!=C1&&C1>0||null==C1&&this.delay>0?super.requestAsyncId(N,J,C1):N.flush(this)}});var In=A(4986),$4=A(8505),Nn=A(5363),fr=A(9468);const t0=new c.GfV("7.3.0"),Bt="__angularfire_symbol__analyticsIsSupportedValue",Z4="__angularfire_symbol__analyticsIsSupported",a8="__angularfire_symbol__remoteConfigIsSupportedValue",jt="__angularfire_symbol__remoteConfigIsSupported",r5="__angularfire_symbol__messagingIsSupportedValue",q3="__angularfire_symbol__messagingIsSupported";globalThis[Z4]||(globalThis[Z4]=(0,An.Gb)().then(k=>globalThis[Bt]=k).catch(()=>globalThis[Bt]=!1)),globalThis[q3]||(globalThis[q3]=W4().then(k=>globalThis[r5]=k).catch(()=>globalThis[r5]=!1)),globalThis[jt]||(globalThis[jt]=V2().then(k=>globalThis[a8]=k).catch(()=>globalThis[a8]=!1));const ba={async:()=>globalThis[Z4],sync:()=>{const k=globalThis[Bt];if(void 0===k)throw new Error((k=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${k} in the constructor, first ensure that ${k} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${k})\`.`)("Analytics"));return k}};function o8(k,N,J){if(N){if(1===N.length)return N[0];const e2=N.filter(T2=>T2.app===J);if(1===e2.length)return e2[0]}return J.container.getProvider(k).getImmediate({optional:!0})}const Dn=(k,N)=>{const J=N?[N]:(0,e1.C6)(),C1=[];return J.forEach(W1=>{W1.container.getProvider(k).instances.forEach(T2=>{C1.includes(T2)||C1.push(T2)})}),C1};function qt(){}class m6{constructor(N,J=s8){this.zone=N,this.delegate=J}now(){return this.delegate.now()}schedule(N,J,C1){const W1=this.zone;return this.delegate.schedule(function(T2){W1.runGuarded(()=>{N.apply(this,[T2])})},J,C1)}}class m9{constructor(N){this.zone=N,this.task=null}call(N,J){const C1=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qt,{},qt,qt)),J.pipe((0,$4.b)({next:C1,complete:C1,error:C1})).subscribe(N).add(C1)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Te=(()=>{class k{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new m6(Zone.current)),this.insideAngular=J.run(()=>new m6(Zone.current,In.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(J){return new(J||k)(c.LFG(c.R0b))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Y4(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function c8(k){return k.pipe((0,Nn.Q)(Y4().outsideAngular))}function rn(k){return Y4(),function X3(k){return function(J){return(J=J.lift(new m9(k.ngZone))).pipe((0,fr.R)(k.outsideAngular),(0,Nn.Q)(k.insideAngular))}}(Y4())(k)}},2090:(a2,z1,A)=>{A.d(z1,{$s:()=>G2,BH:()=>j1,DV:()=>O2,Dv:()=>K3,G6:()=>B1,GJ:()=>ie,L:()=>m1,LL:()=>u1,Mn:()=>x1,Pz:()=>o2,Sg:()=>V1,UG:()=>g1,UI:()=>Oe,US:()=>b1,Wj:()=>Fe,Yr:()=>X1,ZB:()=>G,ZR:()=>I1,b$:()=>t2,cI:()=>xe,d:()=>A1,dS:()=>c4,eu:()=>U,g5:()=>R,gK:()=>x3,gQ:()=>M3,h$:()=>l1,hl:()=>q,hu:()=>e1,jU:()=>S1,lb:()=>E3,m9:()=>Ze,ne:()=>h3,p$:()=>W,pd:()=>F3,r3:()=>H3,ru:()=>c2,tV:()=>v1,uI:()=>G1,ug:()=>Z2,vZ:()=>T4,w1:()=>H1,w9:()=>S3,xO:()=>be,xb:()=>P2,z$:()=>O1,zI:()=>t1,zd:()=>_3});const e1=function(O,Y){if(!O)throw R(Y)},R=function(O){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+O)},f1=function(O){const Y=[];let Q=0;for(let T1=0;T1<O.length;T1++){let B=O.charCodeAt(T1);B<128?Y[Q++]=B:B<2048?(Y[Q++]=B>>6|192,Y[Q++]=63&B|128):55296==(64512&B)&&T1+1<O.length&&56320==(64512&O.charCodeAt(T1+1))?(B=65536+((1023&B)<<10)+(1023&O.charCodeAt(++T1)),Y[Q++]=B>>18|240,Y[Q++]=B>>12&63|128,Y[Q++]=B>>6&63|128,Y[Q++]=63&B|128):(Y[Q++]=B>>12|224,Y[Q++]=B>>6&63|128,Y[Q++]=63&B|128)}return Y},b1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(O,Y){if(!Array.isArray(O))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,T1=[];for(let B=0;B<O.length;B+=3){const n1=O[B],j=B+1<O.length,s1=j?O[B+1]:0,y1=B+2<O.length,D1=y1?O[B+2]:0;let p2=(15&s1)<<2|D1>>6,I2=63&D1;y1||(I2=64,j||(p2=64)),T1.push(Q[n1>>2],Q[(3&n1)<<4|s1>>4],Q[p2],Q[I2])}return T1.join("")},encodeString(O,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(O):this.encodeByteArray(f1(O),Y)},decodeString(O,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(O):function(O){const Y=[];let Q=0,T1=0;for(;Q<O.length;){const B=O[Q++];if(B<128)Y[T1++]=String.fromCharCode(B);else if(B>191&&B<224){const n1=O[Q++];Y[T1++]=String.fromCharCode((31&B)<<6|63&n1)}else if(B>239&&B<365){const y1=((7&B)<<18|(63&O[Q++])<<12|(63&O[Q++])<<6|63&O[Q++])-65536;Y[T1++]=String.fromCharCode(55296+(y1>>10)),Y[T1++]=String.fromCharCode(56320+(1023&y1))}else{const n1=O[Q++],j=O[Q++];Y[T1++]=String.fromCharCode((15&B)<<12|(63&n1)<<6|63&j)}}return Y.join("")}(this.decodeStringToByteArray(O,Y))},decodeStringToByteArray(O,Y){this.init_();const Q=Y?this.charToByteMapWebSafe_:this.charToByteMap_,T1=[];for(let B=0;B<O.length;){const n1=Q[O.charAt(B++)],s1=B<O.length?Q[O.charAt(B)]:0;++B;const D1=B<O.length?Q[O.charAt(B)]:64;++B;const q1=B<O.length?Q[O.charAt(B)]:64;if(++B,null==n1||null==s1||null==D1||null==q1)throw Error();T1.push(n1<<2|s1>>4),64!==D1&&(T1.push(s1<<4&240|D1>>2),64!==q1&&T1.push(D1<<6&192|q1))}return T1},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let O=0;O<this.ENCODED_VALS.length;O++)this.byteToCharMap_[O]=this.ENCODED_VALS.charAt(O),this.charToByteMap_[this.byteToCharMap_[O]]=O,this.byteToCharMapWebSafe_[O]=this.ENCODED_VALS_WEBSAFE.charAt(O),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[O]]=O,O>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(O)]=O,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(O)]=O)}}},l1=function(O){const Y=f1(O);return b1.encodeByteArray(Y,!0)},m1=function(O){return l1(O).replace(/\./g,"")},v1=function(O){try{return b1.decodeString(O,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function W(O){return G(void 0,O)}function G(O,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===O&&(O={});break;case Array:O=[];break;default:return Y}for(const Q in Y)!Y.hasOwnProperty(Q)||!a1(Q)||(O[Q]=G(O[Q],Y[Q]));return O}function a1(O){return"__proto__"!==O}class j1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,Q)=>{this.resolve=Y,this.reject=Q})}wrapCallback(Y){return(Q,T1)=>{Q?this.reject(Q):this.resolve(T1),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(Q):Y(Q,T1))}}}function V1(O,Y){if(O.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const T1=Y||"demo-project",B=O.iat||0,n1=O.sub||O.user_id;if(!n1)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const j=Object.assign({iss:`https://securetoken.google.com/${T1}`,aud:T1,iat:B,exp:B+3600,auth_time:B,sub:n1,user_id:n1,firebase:{sign_in_provider:"custom",identities:{}}},O);return[m1(JSON.stringify({alg:"none",type:"JWT"})),m1(JSON.stringify(j)),""].join(".")}function O1(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function G1(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O1())}function g1(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(O){return!1}}function S1(){return"object"==typeof self&&self.self===self}function c2(){const O="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof O&&void 0!==O.id}function t2(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function A1(){return O1().indexOf("Electron/")>=0}function H1(){const O=O1();return O.indexOf("MSIE ")>=0||O.indexOf("Trident/")>=0}function x1(){return O1().indexOf("MSAppHost/")>=0}function X1(){return!1}function B1(){return!g1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return"object"==typeof indexedDB}function U(){return new Promise((O,Y)=>{try{let Q=!0;const T1="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(T1);B.onsuccess=()=>{B.result.close(),Q||self.indexedDB.deleteDatabase(T1),O(!0)},B.onupgradeneeded=()=>{Q=!1},B.onerror=()=>{var n1;Y((null===(n1=B.error)||void 0===n1?void 0:n1.message)||"")}}catch(Q){Y(Q)}})}function t1(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class I1 extends Error{constructor(Y,Q,T1){super(Q),this.code=Y,this.customData=T1,this.name="FirebaseError",Object.setPrototypeOf(this,I1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u1.prototype.create)}}class u1{constructor(Y,Q,T1){this.service=Y,this.serviceName=Q,this.errors=T1}create(Y,...Q){const T1=Q[0]||{},B=`${this.service}/${Y}`,n1=this.errors[Y],j=n1?function M2(O,Y){return O.replace(k2,(Q,T1)=>{const B=Y[T1];return null!=B?String(B):`<${T1}?>`})}(n1,T1):"Error";return new I1(B,`${this.serviceName}: ${j} (${B}).`,T1)}}const k2=/\{\$([^}]+)}/g;function xe(O){return JSON.parse(O)}function o2(O){return JSON.stringify(O)}const w2=function(O){let Y={},Q={},T1={},B="";try{const n1=O.split(".");Y=xe(v1(n1[0])||""),Q=xe(v1(n1[1])||""),B=n1[2],T1=Q.d||{},delete Q.d}catch(n1){}return{header:Y,claims:Q,data:T1,signature:B}},S3=function(O){const Q=w2(O).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},ie=function(O){const Y=w2(O).claims;return"object"==typeof Y&&!0===Y.admin};function H3(O,Y){return Object.prototype.hasOwnProperty.call(O,Y)}function O2(O,Y){if(Object.prototype.hasOwnProperty.call(O,Y))return O[Y]}function P2(O){for(const Y in O)if(Object.prototype.hasOwnProperty.call(O,Y))return!1;return!0}function Oe(O,Y,Q){const T1={};for(const B in O)Object.prototype.hasOwnProperty.call(O,B)&&(T1[B]=Y.call(Q,O[B],B,O));return T1}function T4(O,Y){if(O===Y)return!0;const Q=Object.keys(O),T1=Object.keys(Y);for(const B of Q){if(!T1.includes(B))return!1;const n1=O[B],j=Y[B];if(o3(n1)&&o3(j)){if(!T4(n1,j))return!1}else if(n1!==j)return!1}for(const B of T1)if(!Q.includes(B))return!1;return!0}function o3(O){return null!==O&&"object"==typeof O}function be(O){const Y=[];for(const[Q,T1]of Object.entries(O))Array.isArray(T1)?T1.forEach(B=>{Y.push(encodeURIComponent(Q)+"="+encodeURIComponent(B))}):Y.push(encodeURIComponent(Q)+"="+encodeURIComponent(T1));return Y.length?"&"+Y.join("&"):""}function _3(O){const Y={};return O.replace(/^\?/,"").split("&").forEach(T1=>{if(T1){const[B,n1]=T1.split("=");Y[decodeURIComponent(B)]=decodeURIComponent(n1)}}),Y}function F3(O){const Y=O.indexOf("?");if(!Y)return"";const Q=O.indexOf("#",Y);return O.substring(Y,Q>0?Q:void 0)}class M3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Y,Q){Q||(Q=0);const T1=this.W_;if("string"==typeof Y)for(let q1=0;q1<16;q1++)T1[q1]=Y.charCodeAt(Q)<<24|Y.charCodeAt(Q+1)<<16|Y.charCodeAt(Q+2)<<8|Y.charCodeAt(Q+3),Q+=4;else for(let q1=0;q1<16;q1++)T1[q1]=Y[Q]<<24|Y[Q+1]<<16|Y[Q+2]<<8|Y[Q+3],Q+=4;for(let q1=16;q1<80;q1++){const p2=T1[q1-3]^T1[q1-8]^T1[q1-14]^T1[q1-16];T1[q1]=4294967295&(p2<<1|p2>>>31)}let D1,Z1,B=this.chain_[0],n1=this.chain_[1],j=this.chain_[2],s1=this.chain_[3],y1=this.chain_[4];for(let q1=0;q1<80;q1++){q1<40?q1<20?(D1=s1^n1&(j^s1),Z1=1518500249):(D1=n1^j^s1,Z1=1859775393):q1<60?(D1=n1&j|s1&(n1|j),Z1=2400959708):(D1=n1^j^s1,Z1=3395469782);const p2=(B<<5|B>>>27)+D1+y1+Z1+T1[q1]&4294967295;y1=s1,s1=j,j=4294967295&(n1<<30|n1>>>2),n1=B,B=p2}this.chain_[0]=this.chain_[0]+B&4294967295,this.chain_[1]=this.chain_[1]+n1&4294967295,this.chain_[2]=this.chain_[2]+j&4294967295,this.chain_[3]=this.chain_[3]+s1&4294967295,this.chain_[4]=this.chain_[4]+y1&4294967295}update(Y,Q){if(null==Y)return;void 0===Q&&(Q=Y.length);const T1=Q-this.blockSize;let B=0;const n1=this.buf_;let j=this.inbuf_;for(;B<Q;){if(0===j)for(;B<=T1;)this.compress_(Y,B),B+=this.blockSize;if("string"==typeof Y){for(;B<Q;)if(n1[j]=Y.charCodeAt(B),++j,++B,j===this.blockSize){this.compress_(n1),j=0;break}}else for(;B<Q;)if(n1[j]=Y[B],++j,++B,j===this.blockSize){this.compress_(n1),j=0;break}}this.inbuf_=j,this.total_+=Q}digest(){const Y=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let B=this.blockSize-1;B>=56;B--)this.buf_[B]=255&Q,Q/=256;this.compress_(this.buf_);let T1=0;for(let B=0;B<5;B++)for(let n1=24;n1>=0;n1-=8)Y[T1]=this.chain_[B]>>n1&255,++T1;return Y}}function h3(O,Y){const Q=new V2(O,Y);return Q.subscribe.bind(Q)}class V2{constructor(Y,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{Y(this)}).catch(T1=>{this.error(T1)})}next(Y){this.forEachObserver(Q=>{Q.next(Y)})}error(Y){this.forEachObserver(Q=>{Q.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,Q,T1){let B;if(void 0===Y&&void 0===Q&&void 0===T1)throw new Error("Missing Observer.");B=function he(O,Y){if("object"!=typeof O||null===O)return!1;for(const Q of Y)if(Q in O&&"function"==typeof O[Q])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:Q,complete:T1},void 0===B.next&&(B.next=De),void 0===B.error&&(B.error=De),void 0===B.complete&&(B.complete=De);const n1=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch(j){}}),this.observers.push(B),n1}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,Y)}sendOne(Y,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{Q(this.observers[Y])}catch(T1){"undefined"!=typeof console&&console.error&&console.error(T1)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function De(){}const K3=function(O,Y,Q,T1){let B;if(T1<Y?B="at least "+Y:T1>Q&&(B=0===Q?"none":"no more than "+Q),B)throw new Error(O+" failed: Was called with "+T1+(1===T1?" argument.":" arguments.")+" Expects "+B+".")};function x3(O,Y){return`${O} failed: ${Y} argument `}function Fe(O,Y,Q,T1){if((!T1||Q)&&"function"!=typeof Q)throw new Error(x3(O,Y)+"must be a valid function.")}function E3(O,Y,Q,T1){if((!T1||Q)&&("object"!=typeof Q||null===Q))throw new Error(x3(O,Y)+"must be a valid context object.")}const c4=function(O){const Y=[];let Q=0;for(let T1=0;T1<O.length;T1++){let B=O.charCodeAt(T1);if(B>=55296&&B<=56319){const n1=B-55296;T1++,e1(T1<O.length,"Surrogate pair missing trail surrogate."),B=65536+(n1<<10)+(O.charCodeAt(T1)-56320)}B<128?Y[Q++]=B:B<2048?(Y[Q++]=B>>6|192,Y[Q++]=63&B|128):B<65536?(Y[Q++]=B>>12|224,Y[Q++]=B>>6&63|128,Y[Q++]=63&B|128):(Y[Q++]=B>>18|240,Y[Q++]=B>>12&63|128,Y[Q++]=B>>6&63|128,Y[Q++]=63&B|128)}return Y},Z2=function(O){let Y=0;for(let Q=0;Q<O.length;Q++){const T1=O.charCodeAt(Q);T1<128?Y++:T1<2048?Y+=2:T1>=55296&&T1<=56319?(Y+=4,Q++):Y+=3}return Y};function G2(O,Y=1e3,Q=2){const T1=Y*Math.pow(Q,O),B=Math.round(.5*T1*(Math.random()-.5)*2);return Math.min(144e5,T1+B)}function Ze(O){return O&&O._delegate?O._delegate:O}},113:(a2,z1,A)=>{var c=A(5e3);let e1=null;function R(){return e1}const l1=new c.OlP("DocumentToken");let m1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function v1(){return(0,c.LFG)(G)}()},providedIn:"platform"}),n})();const W=new c.OlP("Location Initialized");let G=(()=>{class n extends m1{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){a1()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){a1()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(l1))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function j1(){return new G((0,c.LFG)(l1))}()},providedIn:"platform"}),n})();function a1(){return!!window.history.pushState}function V1(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function O1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function G1(n){return n&&"?"!==n[0]?"?"+n:n}let g1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function S1(n){const e=(0,c.LFG)(l1).location;return new t2((0,c.LFG)(m1),e&&e.origin||"")}()},providedIn:"root"}),n})();const c2=new c.OlP("appBaseHref");let t2=(()=>{class n extends g1{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return V1(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+G1(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const u=this.prepareExternalUrl(i+G1(s));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){const u=this.prepareExternalUrl(i+G1(s));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(m1),c.LFG(c2,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),A1=(()=>{class n extends g1{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=V1(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let u=this.prepareExternalUrl(i+G1(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){let u=this.prepareExternalUrl(i+G1(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(m1),c.LFG(c2,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),H1=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=O1(B1(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+G1(r))}normalize(t){return n.stripTrailingSlash(function X1(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,B1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+G1(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+G1(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=G1,n.joinWithSlash=V1,n.stripTrailingSlash=O1,n.\u0275fac=function(t){return new(t||n)(c.LFG(g1),c.LFG(m1))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function x1(){return new H1((0,c.LFG)(g1),(0,c.LFG)(m1))}()},providedIn:"root"}),n})();function B1(n){return n.replace(/\/index.html$/,"")}var U=(()=>((U=U||{})[U.Decimal=0]="Decimal",U[U.Percent=1]="Percent",U[U.Currency=2]="Currency",U[U.Scientific=3]="Scientific",U))(),d1=(()=>((d1=d1||{})[d1.Format=0]="Format",d1[d1.Standalone=1]="Standalone",d1))(),c1=(()=>((c1=c1||{})[c1.Narrow=0]="Narrow",c1[c1.Abbreviated=1]="Abbreviated",c1[c1.Wide=2]="Wide",c1[c1.Short=3]="Short",c1))(),I1=(()=>((I1=I1||{})[I1.Short=0]="Short",I1[I1.Medium=1]="Medium",I1[I1.Long=2]="Long",I1[I1.Full=3]="Full",I1))(),u1=(()=>((u1=u1||{})[u1.Decimal=0]="Decimal",u1[u1.Group=1]="Group",u1[u1.List=2]="List",u1[u1.PercentSign=3]="PercentSign",u1[u1.PlusSign=4]="PlusSign",u1[u1.MinusSign=5]="MinusSign",u1[u1.Exponential=6]="Exponential",u1[u1.SuperscriptingExponent=7]="SuperscriptingExponent",u1[u1.PerMille=8]="PerMille",u1[u1.Infinity=9]="Infinity",u1[u1.NaN=10]="NaN",u1[u1.TimeSeparator=11]="TimeSeparator",u1[u1.CurrencyDecimal=12]="CurrencyDecimal",u1[u1.CurrencyGroup=13]="CurrencyGroup",u1))();function ie(n,e){return he((0,c.cg1)(n)[c.wAp.DateFormat],e)}function H3(n,e){return he((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function O2(n,e){return he((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function P2(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(void 0===r){if(e===u1.CurrencyDecimal)return t[c.wAp.NumberSymbols][u1.Decimal];if(e===u1.CurrencyGroup)return t[c.wAp.NumberSymbols][u1.Group]}return r}function M3(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function he(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function De(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Fe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,E3={},c4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Z2=(()=>((Z2=Z2||{})[Z2.Short=0]="Short",Z2[Z2.ShortGMT=1]="ShortGMT",Z2[Z2.Long=2]="Long",Z2[Z2.Extended=3]="Extended",Z2))(),h2=(()=>((h2=h2||{})[h2.FullYear=0]="FullYear",h2[h2.Month=1]="Month",h2[h2.Date=2]="Date",h2[h2.Hours=3]="Hours",h2[h2.Minutes=4]="Minutes",h2[h2.Seconds=5]="Seconds",h2[h2.FractionalSeconds=6]="FractionalSeconds",h2[h2.Day=7]="Day",h2))(),y2=(()=>((y2=y2||{})[y2.DayPeriods=0]="DayPeriods",y2[y2.Days=1]="Days",y2[y2.Months=2]="Months",y2[y2.Eras=3]="Eras",y2))();function ye(n,e,t,r){let i=function U3(n){if(_e(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,u=1]=n.split("-").map(h=>+h);return Y3(i,s-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Fe))return function h4(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,h=Number(n[5]||0)-r,C=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,u,h,C,v),e}(r)}const e=new Date(n);if(!_e(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=G2(t,e)||e;let h,u=[];for(;e;){if(h=c4.exec(e),!h){u.push(e);break}{u=u.concat(h.slice(1));const b=u.pop();if(!b)break;e=b}}let C=i.getTimezoneOffset();r&&(C=I2(r,C),i=function se(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function pe(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(I2(e,i)-i))}(i,r,!0));let v="";return u.forEach(b=>{const z=function p2(n){if(q1[n])return q1[n];let e;switch(n){case"G":case"GG":case"GGG":e=Q(y2.Eras,c1.Abbreviated);break;case"GGGG":e=Q(y2.Eras,c1.Wide);break;case"GGGGG":e=Q(y2.Eras,c1.Narrow);break;case"y":e=O(h2.FullYear,1,0,!1,!0);break;case"yy":e=O(h2.FullYear,2,0,!0,!0);break;case"yyy":e=O(h2.FullYear,3,0,!1,!0);break;case"yyyy":e=O(h2.FullYear,4,0,!1,!0);break;case"Y":e=Z1(1);break;case"YY":e=Z1(2,!0);break;case"YYY":e=Z1(3);break;case"YYYY":e=Z1(4);break;case"M":case"L":e=O(h2.Month,1,1);break;case"MM":case"LL":e=O(h2.Month,2,1);break;case"MMM":e=Q(y2.Months,c1.Abbreviated);break;case"MMMM":e=Q(y2.Months,c1.Wide);break;case"MMMMM":e=Q(y2.Months,c1.Narrow);break;case"LLL":e=Q(y2.Months,c1.Abbreviated,d1.Standalone);break;case"LLLL":e=Q(y2.Months,c1.Wide,d1.Standalone);break;case"LLLLL":e=Q(y2.Months,c1.Narrow,d1.Standalone);break;case"w":e=D1(1);break;case"ww":e=D1(2);break;case"W":e=D1(1,!0);break;case"d":e=O(h2.Date,1);break;case"dd":e=O(h2.Date,2);break;case"c":case"cc":e=O(h2.Day,1);break;case"ccc":e=Q(y2.Days,c1.Abbreviated,d1.Standalone);break;case"cccc":e=Q(y2.Days,c1.Wide,d1.Standalone);break;case"ccccc":e=Q(y2.Days,c1.Narrow,d1.Standalone);break;case"cccccc":e=Q(y2.Days,c1.Short,d1.Standalone);break;case"E":case"EE":case"EEE":e=Q(y2.Days,c1.Abbreviated);break;case"EEEE":e=Q(y2.Days,c1.Wide);break;case"EEEEE":e=Q(y2.Days,c1.Narrow);break;case"EEEEEE":e=Q(y2.Days,c1.Short);break;case"a":case"aa":case"aaa":e=Q(y2.DayPeriods,c1.Abbreviated);break;case"aaaa":e=Q(y2.DayPeriods,c1.Wide);break;case"aaaaa":e=Q(y2.DayPeriods,c1.Narrow);break;case"b":case"bb":case"bbb":e=Q(y2.DayPeriods,c1.Abbreviated,d1.Standalone,!0);break;case"bbbb":e=Q(y2.DayPeriods,c1.Wide,d1.Standalone,!0);break;case"bbbbb":e=Q(y2.DayPeriods,c1.Narrow,d1.Standalone,!0);break;case"B":case"BB":case"BBB":e=Q(y2.DayPeriods,c1.Abbreviated,d1.Format,!0);break;case"BBBB":e=Q(y2.DayPeriods,c1.Wide,d1.Format,!0);break;case"BBBBB":e=Q(y2.DayPeriods,c1.Narrow,d1.Format,!0);break;case"h":e=O(h2.Hours,1,-12);break;case"hh":e=O(h2.Hours,2,-12);break;case"H":e=O(h2.Hours,1);break;case"HH":e=O(h2.Hours,2);break;case"m":e=O(h2.Minutes,1);break;case"mm":e=O(h2.Minutes,2);break;case"s":e=O(h2.Seconds,1);break;case"ss":e=O(h2.Seconds,2);break;case"S":e=O(h2.FractionalSeconds,1);break;case"SS":e=O(h2.FractionalSeconds,2);break;case"SSS":e=O(h2.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=B(Z2.Short);break;case"ZZZZZ":e=B(Z2.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=B(Z2.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=B(Z2.Long);break;default:return null}return q1[n]=e,e}(b);v+=z?z(i,t,C):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Y3(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function G2(n,e){const t=function k2(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(E3[t]=E3[t]||{},E3[t][e])return E3[t][e];let r="";switch(e){case"shortDate":r=ie(n,I1.Short);break;case"mediumDate":r=ie(n,I1.Medium);break;case"longDate":r=ie(n,I1.Long);break;case"fullDate":r=ie(n,I1.Full);break;case"shortTime":r=H3(n,I1.Short);break;case"mediumTime":r=H3(n,I1.Medium);break;case"longTime":r=H3(n,I1.Long);break;case"fullTime":r=H3(n,I1.Full);break;case"short":const i=G2(n,"shortTime"),s=G2(n,"shortDate");r=Q3(O2(n,I1.Short),[i,s]);break;case"medium":const u=G2(n,"mediumTime"),h=G2(n,"mediumDate");r=Q3(O2(n,I1.Medium),[u,h]);break;case"long":const C=G2(n,"longTime"),v=G2(n,"longDate");r=Q3(O2(n,I1.Long),[C,v]);break;case"full":const b=G2(n,"fullTime"),z=G2(n,"fullDate");r=Q3(O2(n,I1.Full),[b,z])}return r&&(E3[t][e]=r),r}function Q3(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Xe(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let u=String(n);for(;u.length<e;)u="0"+u;return r&&(u=u.substr(u.length-e)),s+u}function O(n,e,t=0,r=!1,i=!1){return function(s,u){let h=function Y(n,e){switch(n){case h2.FullYear:return e.getFullYear();case h2.Month:return e.getMonth();case h2.Date:return e.getDate();case h2.Hours:return e.getHours();case h2.Minutes:return e.getMinutes();case h2.Seconds:return e.getSeconds();case h2.FractionalSeconds:return e.getMilliseconds();case h2.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||h>-t)&&(h+=t),n===h2.Hours)0===h&&-12===t&&(h=12);else if(n===h2.FractionalSeconds)return function Ze(n,e){return Xe(n,3).substr(0,e)}(h,e);const C=P2(u,u1.MinusSign);return Xe(h,e,C,r,i)}}function Q(n,e,t=d1.Format,r=!1){return function(i,s){return function T1(n,e,t,r,i,s){switch(t){case y2.Months:return function w2(n,e,t){const r=(0,c.cg1)(n),s=he([r[c.wAp.MonthsFormat],r[c.wAp.MonthsStandalone]],e);return he(s,t)}(e,i,r)[n.getMonth()];case y2.Days:return function o2(n,e,t){const r=(0,c.cg1)(n),s=he([r[c.wAp.DaysFormat],r[c.wAp.DaysStandalone]],e);return he(s,t)}(e,i,r)[n.getDay()];case y2.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(s){const v=function h3(n){const e=(0,c.cg1)(n);return M3(e),(e[c.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?De(r):[De(r[0]),De(r[1])])}(e),b=function V2(n,e,t){const r=(0,c.cg1)(n);M3(r);const s=he([r[c.wAp.ExtraData][0],r[c.wAp.ExtraData][1]],e)||[];return he(s,t)||[]}(e,i,r),z=v.findIndex(S=>{if(Array.isArray(S)){const[E,I]=S,K=u>=E.hours&&h>=E.minutes,o1=u<I.hours||u===I.hours&&h<I.minutes;if(E.hours<I.hours){if(K&&o1)return!0}else if(K||o1)return!0}else if(S.hours===u&&S.minutes===h)return!0;return!1});if(-1!==z)return b[z]}return function xe(n,e,t){const r=(0,c.cg1)(n),s=he([r[c.wAp.DayPeriodsFormat],r[c.wAp.DayPeriodsStandalone]],e);return he(s,t)}(e,i,r)[u<12?0:1];case y2.Eras:return function Le(n,e){return he((0,c.cg1)(n)[c.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function B(n){return function(e,t,r){const i=-1*r,s=P2(t,u1.MinusSign),u=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Z2.Short:return(i>=0?"+":"")+Xe(u,2,s)+Xe(Math.abs(i%60),2,s);case Z2.ShortGMT:return"GMT"+(i>=0?"+":"")+Xe(u,1,s);case Z2.Long:return"GMT"+(i>=0?"+":"")+Xe(u,2,s)+":"+Xe(Math.abs(i%60),2,s);case Z2.Extended:return 0===r?"Z":(i>=0?"+":"")+Xe(u,2,s)+":"+Xe(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function y1(n){return Y3(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function D1(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();i=1+Math.floor((u+s)/7)}else{const s=y1(t),u=function s1(n){const e=Y3(n,0,1).getDay();return Y3(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),h=s.getTime()-u.getTime();i=1+Math.round(h/6048e5)}return Xe(i,n,P2(r,u1.MinusSign))}}function Z1(n,e=!1){return function(t,r){return Xe(y1(t).getFullYear(),n,P2(r,u1.MinusSign),e)}}const q1={};function I2(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function _e(n){return n instanceof Date&&!isNaN(n.valueOf())}const Ee=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Y2(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Rt(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let C4=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ot{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let e3=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ot(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,u),Ft(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ft(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ft(n,e){n.context.$implicit=e.item}let ke=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new we,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Tn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Tn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class we{constructor(){this.$implicit=null,this.ngIf=null}}function Tn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}function I3(n,e){return new c.vHH(2100,"")}const Xi=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let nn=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,s){var u;if(null==t||""===t||t!=t)return null;try{return ye(t,r,s||this.locale,null!==(u=null!=i?i:this.defaultTimezone)&&void 0!==u?u:void 0)}catch(h){throw I3()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(Xi,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0}),n})(),p6=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=La}transform(t,r=La){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(u=>{this.keyValues.push(function i8(n,e){return{key:n,value:e}}(u.key,u.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.aQg,16))},n.\u0275pipe=c.Yjl({name:"keyvalue",type:n,pure:!1}),n})();function La(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),s=String(r);return i==s?0:i<s?-1:1}let s8=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function $4(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function F(n,e,t){return function Pt(n,e,t,r,i,s,u=!1){let h="",C=!1;if(isFinite(n)){let v=function d2(n){let r,i,s,u,h,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(h=e.length))r=[0],i=1;else{for(h--;"0"===e.charAt(h);)h--;for(i-=s,r=[],u=0;s<=h;s++,u++)r[u]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);u&&(v=function P1(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(v));let b=e.minInt,z=e.minFrac,S=e.maxFrac;if(s){const U1=s.match(Ee);if(null===U1)throw new Error(`${s} is not a valid digit info`);const $1=U1[1],J1=U1[3],v2=U1[5];null!=$1&&(b=Y2($1)),null!=J1&&(z=Y2(J1)),null!=v2?S=Y2(v2):null!=J1&&z>S&&(S=z)}!function W2(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let u=s+n.integerLen,h=r[u];if(u>0){r.splice(Math.max(n.integerLen,u));for(let z=u;z<r.length;z++)r[z]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,u=s+1),r[0]=0;for(let z=1;z<u;z++)r[z]=0}if(h>=5)if(u-1<0){for(let z=0;z>u;z--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[u-1]++;for(;i<Math.max(0,s);i++)r.push(0);let C=0!==s;const v=e+n.integerLen,b=r.reduceRight(function(z,S,E,I){return I[E]=(S+=z)<10?S:S-10,C&&(0===I[E]&&E>=v?I.pop():C=!1),S>=10?1:0},0);b&&(r.unshift(b),n.integerLen++)}(v,z,S);let E=v.digits,I=v.integerLen;const K=v.exponent;let o1=[];for(C=E.every(U1=>!U1);I<b;I++)E.unshift(0);for(;I<0;I++)E.unshift(0);I>0?o1=E.splice(I,E.length):(o1=E,E=[0]);const R1=[];for(E.length>=e.lgSize&&R1.unshift(E.splice(-e.lgSize,E.length).join(""));E.length>e.gSize;)R1.unshift(E.splice(-e.gSize,E.length).join(""));E.length&&R1.unshift(E.join("")),h=R1.join(P2(t,r)),o1.length&&(h+=P2(t,i)+o1.join("")),K&&(h+=P2(t,u1.Exponential)+"+"+K)}else h=P2(t,u1.Infinity);return h=n<0&&!C?e.negPre+h+e.negSuf:e.posPre+h+e.posSuf,h}(n,function h1(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],u=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],h=u[0],C=u[1]||"";t.posPre=h.substr(0,h.indexOf("#"));for(let b=0;b<C.length;b++){const z=C.charAt(b);"0"===z?t.minFrac=t.maxFrac=b+1:"#"===z?t.maxFrac=b+1:t.posSuf+=z}const v=h.split(",");if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,s){const b=i.length-t.posPre.length-t.posSuf.length,z=s.indexOf("#");t.negPre=s.substr(0,z).replace(/'/g,""),t.negSuf=s.substr(z+b).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Oe(n,e){return(0,c.cg1)(n)[c.wAp.NumberFormats][e]}(e,U.Decimal),P2(e,u1.MinusSign)),e,u1.Group,u1.Decimal,t)}(function Nn(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw I3()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16))},n.\u0275pipe=c.Yjl({name:"number",type:n,pure:!0}),n})();let Bt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Z4="browser";function ht(n){return"server"===n}let o8=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Dn((0,c.LFG)(l1),window)}),n})();class Dn{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function m6(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qt(this.window.history)||qt(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function qt(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Te{}class g6 extends class Y4 extends class b1{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function p1(n){e1||(e1=n)}(new g6)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function c8(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==t?null:function rn(n){l8=l8||document.createElement("a"),l8.setAttribute("href",n);const e=l8.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rt(document.cookie,e)}}let l8,ae=null;const X3=new c.OlP("TRANSITION_ID"),v6=[{provide:c.ip1,useFactory:function u8(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[X3,l1,c.zs3],multi:!0}];class k{static init(){(0,c.VLi)(new k)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let s=i.length,u=!1;const h=function(C){u=u||C,s--,0==s&&r(u)};i.forEach(function(C){C.whenStable(h)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let N=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const J=new c.OlP("EventManagerPlugins");let C1=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const u=i[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class W1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let e2=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),T2=(()=>{class n extends e2{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ue),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ue))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(l1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ue(n){R().remove(n)}const f2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ae=/%COMP%/g;function N1(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?N1(n,i,t):(i=i.replace(Ae,n),t.push(i))}return t}function U2(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ie=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new dr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new f8(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new n0(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=N1(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(C1),c.LFG(T2),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class dr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(f2[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=f2[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=f2[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,U2(r)):this.eventManager.addEventListener(e,t,U2(r))}}class f8 extends dr{constructor(e,t,r,i){super(e),this.component=r;const s=N1(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function i5(n){return"_ngcontent-%COMP%".replace(Ae,n)}(i+"-"+r.id),this.hostAttr=function y6(n){return"_nghost-%COMP%".replace(Ae,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class n0 extends dr{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=N1(i.id,i.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let td=(()=>{class n extends W1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(l1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Cr=["alt","control","meta","shift"],mr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N3={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},on={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let gr=(()=>{class n extends W1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),u=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let u="";if(Cr.forEach(C=>{const v=r.indexOf(C);v>-1&&(r.splice(v,1),u+=C+".")}),u+=s,0!=r.length||0===s.length)return null;const h={};return h.domEventName=i,h.fullKey=u,h}static getEventFullKey(t){let r="",i=function s5(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&N3.hasOwnProperty(e)&&(e=N3[e]))}return mr[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Cr.forEach(s=>{s!=i&&on[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(l1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const r0=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Z4},{provide:c.g9A,useValue:function Ct(){g6.makeCurrent(),k.init()},multi:!0},{provide:l1,useFactory:function vr(){return(0,c.RDi)(document),document},deps:[]}]),s0=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function g9(){return new c.qLn},deps:[]},{provide:J,useClass:td,multi:!0,deps:[l1,c.R0b,c.Lbi]},{provide:J,useClass:gr,multi:!0,deps:[l1]},{provide:Ie,useClass:Ie,deps:[C1,T2,c.AFp]},{provide:c.FYo,useExisting:Ie},{provide:e2,useExisting:T2},{provide:T2,useClass:T2,deps:[l1]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:C1,useClass:C1,deps:[J,c.R0b]},{provide:Te,useClass:N,deps:[]}];let a5=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:X3,useExisting:c.AFp},v6]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:s0,imports:[Bt,c.hGG]}),n})(),o5=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(l1))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function za(){return new o5((0,c.LFG)(l1))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let L6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):c.LFG(a0),r},providedIn:"root"}),n})(),a0=(()=>{class n extends L6{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(r),(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(l1))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function l5(n){return new a0(n.get(l1))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();var Be=A(8996),u5=A(7669);function L2(...n){const e=(0,u5.yG)(n);return(0,Be.D)(n,e)}var C3=A(7579);class Q4 extends C3.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Ke=A(8306);const{isArray:Ea}=Array,{getPrototypeOf:Ta,prototype:Wt,keys:L9}=Object;function je(n){if(1===n.length){const e=n[0];if(Ea(e))return{args:e,keys:null};if(function o0(n){return n&&"object"==typeof n&&Ta(n)===Wt}(e)){const t=L9(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var pt=A(4671),b2=A(4004);const{isArray:Mr}=Array;function Ia(n){return(0,b2.U)(e=>function Aa(n,e){return Mr(e)?n(...e):n(e)}(n,e))}function c0(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var We=A(5403),f5=A(9672);function m8(...n){const e=(0,u5.yG)(n),t=(0,u5.jO)(n),{args:r,keys:i}=je(n);if(0===r.length)return(0,Be.D)([],e);const s=new Ke.y(function Pn(n,e,t=pt.y){return r=>{Rn(e,()=>{const{length:i}=n,s=new Array(i);let u=i,h=i;for(let C=0;C<i;C++)Rn(e,()=>{const v=(0,Be.D)(n[C],e);let b=!1;v.subscribe((0,We.x)(r,z=>{s[C]=z,b||(b=!0,h--),h||r.next(t(s.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>c0(i,u):pt.y));return t?s.pipe(Ia(t)):s}function Rn(n,e,t){n?(0,f5.f)(t,n,e):e()}var l0=A(576);function b6(n,e){const t=(0,l0.m)(n)?n:()=>n,r=i=>i.error(t());return new Ke.y(e?i=>e.schedule(r,0,i):r)}const z6=(0,A(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var g8=A(8189);function Lr(...n){return function f0(){return(0,g8.J)(1)}()((0,Be.D)(n,(0,u5.yG)(n)))}var ln=A(8421);function h5(n){return new Ke.y(e=>{(0,ln.Xf)(n()).subscribe(e)})}var d5=A(515),On=A(727),D3=A(4482);function w6(){return(0,D3.e)((n,e)=>{let t=null;n._refCount++;const r=(0,We.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Na extends Ke.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,D3.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new On.w0;const t=this.getSubject();e.add(this.source.subscribe((0,We.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=On.w0.EMPTY)}return e}refCount(){return w6()(this)}}function Ne(n,e){return(0,D3.e)((t,r)=>{let i=null,s=0,u=!1;const h=()=>u&&!i&&r.complete();t.subscribe((0,We.x)(r,C=>{null==i||i.unsubscribe();let v=0;const b=s++;(0,ln.Xf)(n(C,b)).subscribe(i=(0,We.x)(r,z=>r.next(e?e(C,z,b,v++):z),()=>{i=null,h()}))},()=>{u=!0,h()}))})}var v8=A(5698);function mt(...n){const e=(0,u5.yG)(n);return(0,D3.e)((t,r)=>{(e?Lr(n,t,e):Lr(n,t)).subscribe(r)})}function V6(n,e,t,r,i){return(s,u)=>{let h=t,C=e,v=0;s.subscribe((0,We.x)(u,b=>{const z=v++;C=h?n(C,b,z):(h=!0,b),r&&u.next(C)},i&&(()=>{h&&u.next(C),u.complete()})))}}function J4(n,e){return(0,D3.e)(V6(n,e,arguments.length>=2,!0))}function k4(n,e){return(0,D3.e)((t,r)=>{let i=0;t.subscribe((0,We.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}function P4(n){return(0,D3.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,We.x)(t,void 0,void 0,u=>{s=(0,ln.Xf)(n(u,P4(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}var n3=A(5577);function S6(n,e){return(0,l0.m)(e)?(0,n3.z)(n,e,1):(0,n3.z)(n,1)}function h0(n){return n<=0?()=>d5.E:(0,D3.e)((e,t)=>{let r=[];e.subscribe((0,We.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function qe(n=b9){return(0,D3.e)((e,t)=>{let r=!1;e.subscribe((0,We.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function b9(){return new z6}function z9(n){return(0,D3.e)((e,t)=>{let r=!1;e.subscribe((0,We.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function C5(n,e){const t=arguments.length>=2;return r=>r.pipe(n?k4((i,s)=>n(i,s,r)):pt.y,(0,v8.q)(1),t?z9(e):qe(()=>new z6))}var X4=A(8505);class Fn{constructor(e,t){this.id=e,this.url=t}}class H6 extends Fn{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class y8 extends Fn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class r3 extends Fn{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class d0 extends Fn{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class x6 extends Fn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cd extends Fn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C0 extends Fn{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class et extends Fn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends Fn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p5{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class E6{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _8{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class br{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M8{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Un{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p0{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ne="primary";class Da{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function k3(n){return new Da(n)}const m5="ngNavigationCancelingError";function un(n){const e=Error("NavigationCancelingError: "+n);return e[m5]=!0,e}function ka(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const u=r[s],h=n[s];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $t(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!zr(n[i],e[i]))return!1;return!0}function zr(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Pa(n){return Array.prototype.concat.apply([],n)}function wr(n){return n.length>0?n[n.length-1]:null}function b3(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function G3(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Be.D)(Promise.resolve(n)):L2(n)}const L8={exact:function Ra(n,e,t){if(!fn(n.segments,e.segments)||!Bn(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Ra(n.children[r],e.children[r],t))return!1;return!0},subset:Vr},g5={exact:function v0(n,e){return $t(n,e)},subset:function y0(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zr(n[t],e[t]))},ignored:()=>!0};function T6(n,e,t){return L8[t.paths](n.root,e.root,t.matrixParams)&&g5[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Vr(n,e,t){return _0(n,e,e.segments,t)}function _0(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!fn(i,t)||e.hasChildren()||!Bn(i,t,r))}if(n.segments.length===t.length){if(!fn(n.segments,t)||!Bn(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Vr(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(fn(n.segments,i)&&Bn(n.segments,i,r)&&n.children[ne])&&_0(n.children[ne],e,s,r)}}function Bn(n,e,t){return e.every((r,i)=>g5[t](n[i].parameters,r.parameters))}class jn{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=k3(this.queryParams)),this._queryParamMap}toString(){return V9.serialize(this)}}class X2{constructor(e,t){this.segments=e,this.children=t,this.parent=null,b3(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return y5(this)}}class c3{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=k3(this.parameters)),this._parameterMap}toString(){return L5(this)}}function fn(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class v5{}class Sr{parse(e){const t=new H9(e);return new jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${gt(e.root,!0)}`,r=function Ua(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${_5(t)}=${_5(i)}`).join("&"):`${_5(t)}=${_5(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function A6(n){return encodeURI(n)}(e.fragment)}`:""}`}}const V9=new Sr;function y5(n){return n.segments.map(e=>L5(e)).join("/")}function gt(n,e){if(!n.hasChildren())return y5(n);if(e){const t=n.children[ne]?gt(n.children[ne],!1):"",r=[];return b3(n.children,(i,s)=>{s!==ne&&r.push(`${s}:${gt(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function M0(n,e){let t=[];return b3(n.children,(r,i)=>{i===ne&&(t=t.concat(e(r,i)))}),b3(n.children,(r,i)=>{i!==ne&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ne?[gt(n.children[ne],!1)]:[`${i}:${gt(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ne]?`${y5(n)}/${t[0]}`:`${y5(n)}/(${t.join("//")})`}}function qn(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _5(n){return qn(n).replace(/%3B/gi,";")}function L0(n){return qn(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M5(n){return decodeURIComponent(n)}function b8(n){return M5(n.replace(/\+/g,"%20"))}function L5(n){return`${L0(n.path)}${function Fa(n){return Object.keys(n).map(e=>`;${L0(e)}=${L0(n[e])}`).join("")}(n.parameters)}`}const b0=/^[^\/()?;=#]+/;function hn(n){const e=n.match(b0);return e?e[0]:""}const z8=/^[^=?&#]+/,Ba=/^[^&#]+/;class H9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new X2([],{}):new X2([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ne]=new X2(e,t)),r}parseSegment(){const e=hn(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new c3(M5(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=hn(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=hn(this.remaining);i&&(r=i,this.capture(r))}e[M5(t)]=M5(r)}parseQueryParam(e){const t=function S9(n){const e=n.match(z8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function ja(n){const e=n.match(Ba);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=b8(t),s=b8(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hn(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[ne]:new X2([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class qa{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=z0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=z0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=b5(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return b5(e,this._root).map(t=>t.value)}}function z0(n,e){if(n===e.value)return e;for(const t of e.children){const r=z0(n,t);if(r)return r}return null}function b5(n,e){if(n===e.value)return[e];for(const t of e.children){const r=b5(n,t);if(r.length)return r.unshift(e),r}return[]}class dn{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Cn(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Hr extends qa{constructor(e,t){super(e),this.snapshot=t,Er(this,e)}toString(){return this.snapshot.toString()}}function I6(n,e){const t=function x9(n,e){const u=new Gn([],{},{},"",{},ne,e,null,n.root,-1,{});return new w0("",new dn(u,[]))}(n,e),r=new Q4([new c3("",{})]),i=new Q4({}),s=new Q4({}),u=new Q4({}),h=new Q4(""),C=new N6(r,i,u,h,s,ne,e,t.root);return C.snapshot=t.root,new Hr(new dn(C,[]),t)}class N6{constructor(e,t,r,i,s,u,h,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=h,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,b2.U)(e=>k3(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,b2.U)(e=>k3(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function E9(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function xr(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Gn{constructor(e,t,r,i,s,u,h,C,v,b,z){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=h,this.routeConfig=C,this._urlSegment=v,this._lastPathIndex=b,this._resolve=z}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=k3(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=k3(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class w0 extends qa{constructor(e,t){super(t),this.url=e,Er(this,t)}toString(){return V0(this._root)}}function Er(n,e){e.value._routerState=n,e.children.forEach(t=>Er(n,t))}function V0(n){const e=n.children.length>0?` { ${n.children.map(V0).join(", ")} } `:"";return`${n.value}${e}`}function pn(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$t(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$t(e.params,t.params)||n.params.next(t.params),function m0(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$t(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$t(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function S0(n,e){const t=$t(n.params,e.params)&&function Oa(n,e){return fn(n,e)&&n.every((t,r)=>$t(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||S0(n.parent,e.parent))}function w8(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function T9(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return w8(n,r,i);return w8(n,r)})}(n,e,t);return new dn(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>w8(n,h)),u}}const r=function A9(n){return new N6(new Q4(n.url),new Q4(n.params),new Q4(n.queryParams),new Q4(n.fragment),new Q4(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>w8(n,s));return new dn(r,i)}}function vt(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function z5(n){return"object"==typeof n&&null!=n&&n.outlets}function V8(n,e,t,r,i){let s={};if(r&&b3(r,(h,C)=>{s[C]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),n===e)return new jn(t,s,i);const u=Wa(n,e,t);return new jn(u,s,i)}function Wa(n,e,t){const r={};return b3(n.children,(i,s)=>{r[s]=i===e?t:Wa(i,e,t)}),new X2(n.segments,r)}class H0{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&vt(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(z5);if(i&&i!==wr(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class S8{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ya(n,e,t){if(n||(n=new X2([],{})),0===n.segments.length&&n.hasChildren())return Tr(n,e,t);const r=function fd(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const u=n.segments[i],h=t[r];if(z5(h))break;const C=`${h}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===C)break;if(C&&v&&"object"==typeof v&&void 0===v.outlets){if(!_t(C,v,u))return s;r+=2}else{if(!_t(C,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new X2(n.segments.slice(0,r.pathIndex),{});return s.children[ne]=new X2(n.segments.slice(r.pathIndex),n.children),Tr(s,0,i)}return r.match&&0===i.length?new X2(n.segments,{}):r.match&&!n.hasChildren()?Qa(n,e,t):r.match?Tr(n,0,i):Qa(n,e,t)}function Tr(n,e,t){if(0===t.length)return new X2(n.segments,{});{const r=function Ka(n){return z5(n[0])?n[0].outlets:{[ne]:n}}(t),i={};return b3(r,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[u]=Ya(n.children[u],e,s))}),b3(n.children,(s,u)=>{void 0===r[u]&&(i[u]=s)}),new X2(n.segments,i)}}function Qa(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(z5(s)){const C=yt(s.outlets);return new X2(r,C)}if(0===i&&vt(t[0])){r.push(new c3(n.segments[e].path,x0(t[0]))),i++;continue}const u=z5(s)?s.outlets[ne]:`${s}`,h=i<t.length-1?t[i+1]:null;u&&h&&vt(h)?(r.push(new c3(u,x0(h))),i+=2):(r.push(new c3(u,{})),i++)}return new X2(r,{})}function yt(n){const e={};return b3(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Qa(new X2([],{}),0,t))}),e}function x0(n){const e={};return b3(n,(t,r)=>e[r]=`${t}`),e}function _t(n,e,t){return n==t.path&&$t(e,t.parameters)}class Ja{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pn(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Cn(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),b3(i,(s,u)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Cn(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Cn(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Cn(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Un(s.value.snapshot))}),e.children.length&&this.forwardEvent(new br(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(pn(i),i===s)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),pn(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=function Ar(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),C=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=C,u.outlet&&u.outlet.activateWith(i,C),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class Ir{constructor(e,t){this.routes=e,this.module=t}}function k6(n){return"function"==typeof n}function w5(n){return n instanceof jn}const Nr=Symbol("INITIAL_VALUE");function V5(){return Ne(n=>m8(n.map(e=>e.pipe((0,v8.q)(1),mt(Nr)))).pipe(J4((e,t)=>{let r=!1;return t.reduce((i,s,u)=>i!==Nr?i:(s===Nr&&(r=!0),r||!1!==s&&u!==t.length-1&&!w5(s)?i:s),e)},Nr),k4(e=>e!==Nr),(0,b2.U)(e=>w5(e)?e:!0===e),(0,v8.q)(1)))}class N9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new S5,this.attachRef=null}}class S5{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new N9,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let H5=(()=>{class n{constructor(t,r,i,s,u){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=s||ne,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,C=new D9(t,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(S5),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class D9{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===N6?this.route:e===S5?this.childContexts:this.parent.get(e,t)}}let Dr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[H5],encapsulation:2}),n})();function P6(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];kr(r,A0(e,r))}}function kr(n,e){n.children&&P6(n.children,e)}function A0(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function I0(n){const e=n.children&&n.children.map(I0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=Dr),t}function oe(n){return n.outlet||ne}function N0(n,e){const t=n.filter(r=>oe(r)===e);return t.push(...n.filter(r=>oe(r)!==e)),t}const eo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function x5(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},eo):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||ka)(t,n,e);if(!s)return Object.assign({},eo);const u={};b3(s.posParams,(C,v)=>{u[v]=C.path});const h=s.consumed.length>0?Object.assign(Object.assign({},u),s.consumed[s.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function E5(n,e,t,r,i="corrected"){if(t.length>0&&function R9(n,e,t){return t.some(r=>R6(n,e,r)&&oe(r)!==ne)}(n,t,r)){const u=new X2(e,function P9(n,e,t,r){const i={};i[ne]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&oe(s)!==ne){const u=new X2([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[oe(s)]=u}return i}(n,e,r,new X2(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function O9(n,e,t){return t.some(r=>R6(n,e,r))}(n,t,r)){const u=new X2(n.segments,function k9(n,e,t,r,i,s){const u={};for(const h of r)if(R6(n,t,h)&&!i[oe(h)]){const C=new X2([],{});C._sourceSegment=n,C._segmentIndexShift="legacy"===s?n.segments.length:e.length,u[oe(h)]=C}return Object.assign(Object.assign({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new X2(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function R6(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function F9(n,e,t,r){return!!(oe(n)===r||r!==ne&&R6(e,t,n))&&("**"===n.path||x5(e,n,t).matched)}function to(n,e,t){return 0===e.length&&!n.children[t]}class Wn{constructor(e){this.segmentGroup=e||null}}class e4{constructor(e){this.urlTree=e}}function O6(n){return b6(new Wn(n))}function D0(n){return b6(new e4(n))}class Pr{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=E5(this.urlTree.root,[],[],this.config).segmentGroup,t=new X2(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ne).pipe((0,b2.U)(s=>this.createUrlTree(x8(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(P4(s=>{if(s instanceof e4)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Wn?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ne).pipe((0,b2.U)(i=>this.createUrlTree(x8(i),e.queryParams,e.fragment))).pipe(P4(i=>{throw i instanceof Wn?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new X2([],{[ne]:e}):e;return new jn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,b2.U)(s=>new X2([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,Be.D)(i).pipe(S6(s=>{const u=r.children[s],h=N0(t,s);return this.expandSegmentGroup(e,h,u,s).pipe((0,b2.U)(C=>({segment:C,outlet:s})))}),J4((s,u)=>(s[u.outlet]=u.segment,s),{}),function od(n,e){const t=arguments.length>=2;return r=>r.pipe(n?k4((i,s)=>n(i,s,r)):pt.y,h0(1),t?z9(e):qe(()=>new z6))}())}expandSegment(e,t,r,i,s,u){return(0,Be.D)(r).pipe(S6(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,s,u).pipe(P4(v=>{if(v instanceof Wn)return L2(null);throw v}))),C5(h=>!!h),P4((h,C)=>{if(h instanceof z6||"EmptyError"===h.name)return to(t,i,s)?L2(new X2([],{})):O6(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,s,u,h){return F9(i,t,s,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u):O6(t):O6(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?D0(s):this.lineralizeSegments(r,s).pipe((0,n3.z)(u=>{const h=new X2(u,{});return this.expandSegment(e,h,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){const{matched:h,consumedSegments:C,remainingSegments:v,positionalParamSegments:b}=x5(t,i,s);if(!h)return O6(t);const z=this.applyRedirectCommands(C,i.redirectTo,b);return i.redirectTo.startsWith("/")?D0(z):this.lineralizeSegments(i,z).pipe((0,n3.z)(S=>this.expandSegment(e,t,r,S.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?L2(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,b2.U)(z=>(r._loadedConfig=z,new X2(i,{})))):L2(new X2(i,{}));const{matched:u,consumedSegments:h,remainingSegments:C}=x5(t,r,i);return u?this.getChildConfig(e,r,i).pipe((0,n3.z)(b=>{const z=b.module,S=b.routes,{segmentGroup:E,slicedSegments:I}=E5(t,h,C,S),K=new X2(E.segments,E.children);if(0===I.length&&K.hasChildren())return this.expandChildren(z,S,K).pipe((0,b2.U)($1=>new X2(h,$1)));if(0===S.length&&0===I.length)return L2(new X2(h,{}));const o1=oe(r)===s;return this.expandSegment(z,K,S,I,o1?ne:s,!0).pipe((0,b2.U)(U1=>new X2(h.concat(U1.segments),U1.children)))})):O6(t)}getChildConfig(e,t,r){return t.children?L2(new Ir(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?L2(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,n3.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,b2.U)(s=>(t._loadedConfig=s,s))):function P3(n){return b6(un(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):L2(new Ir([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?L2(i.map(u=>{const h=e.get(u);let C;if(function E0(n){return n&&k6(n.canLoad)}(h))C=h.canLoad(t,r);else{if(!k6(h))throw new Error("Invalid CanLoad guard");C=h(t,r)}return G3(C)})).pipe(V5(),(0,X4.b)(u=>{if(!w5(u))return;const h=un(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,b2.U)(u=>!0===u)):L2(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return L2(r);if(i.numberOfChildren>1||!i.children[ne])return b6(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[ne]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new jn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return b3(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=t[h]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let u={};return b3(t.children,(h,C)=>{u[C]=this.createSegmentGroup(e,h,r,i)}),new X2(s,u)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function x8(n){const e={};for(const r of Object.keys(n.children)){const s=x8(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function U9(n){if(1===n.numberOfChildren&&n.children[ne]){const e=n.children[ne];return new X2(n.segments.concat(e.segments),e.children)}return n}(new X2(n.segments,e))}class m4{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gn{constructor(e,t){this.component=e,this.route=t}}function ro(n,e,t){const r=n._root;return U6(r,e?e._root:null,t,[r.value])}function T5(n,e,t){const r=function P0(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function U6(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Cn(e);return n.children.forEach(u=>{(function so(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const C=function B9(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!fn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fn(n.url,e.url)||!$t(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!S0(n,e)||!$t(n.queryParams,e.queryParams);default:return!S0(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);C?i.canActivateChecks.push(new m4(r)):(s.data=u.data,s._resolvedData=u._resolvedData),U6(n,e,s.component?h?h.children:null:t,r,i),C&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new gn(h.outlet.component,u))}else u&&g4(e,h,i),i.canActivateChecks.push(new m4(r)),U6(n,null,s.component?h?h.children:null:t,r,i)})(u,s[u.value.outlet],t,r.concat([u.value]),i),delete s[u.value.outlet]}),b3(s,(u,h)=>g4(u,t.getContext(h),i)),i}function g4(n,e,t){const r=Cn(n),i=n.value;b3(r,(s,u)=>{g4(s,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new gn(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class co{}function Zt(n){return new Ke.y(e=>e.error(n))}class lo{constructor(e,t,r,i,s,u){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=u}recognize(){const e=E5(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ne);if(null===t)return null;const r=new Gn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new dn(r,t),s=new w0(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=E9(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const u=t.children[s],h=N0(e,s),C=this.processSegmentGroup(h,u,s);if(null===C)return null;r.push(...C)}const i=fo(r);return function uo(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const u=this.processSegmentAgainstRoute(s,t,r,i);if(null!==u)return u}return to(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!F9(e,t,r,i))return null;let s,u=[],h=[];if("**"===e.path){const E=r.length>0?wr(r).parameters:{};s=new Gn(r,E,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),oe(e),e.component,e,B6(t),Mt(t)+r.length,p(e))}else{const E=x5(t,e,r);if(!E.matched)return null;u=E.consumedSegments,h=E.remainingSegments,s=new Gn(u,E.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),oe(e),e.component,e,B6(t),Mt(t)+u.length,p(e))}const C=function G9(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:v,slicedSegments:b}=E5(t,u,h,C.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution);if(0===b.length&&v.hasChildren()){const E=this.processChildren(C,v);return null===E?null:[new dn(s,E)]}if(0===C.length&&0===b.length)return[new dn(s,[])];const z=oe(e)===i,S=this.processSegment(C,v,b,z?ne:i);return null===S?null:[new dn(s,S)]}}function F0(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function fo(n){const e=[],t=new Set;for(const r of n){if(!F0(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=fo(r.children);e.push(new dn(r.value,i))}return e.filter(r=>!t.has(r))}function B6(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Mt(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function y(n){return n.data||{}}function p(n){return n.resolve||{}}function X(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Y1(n){return Ne(e=>{const t=n(e);return t?(0,Be.D)(t).pipe((0,b2.U)(()=>e)):L2(e)})}class H2 extends class A2{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ye=new c.OlP("ROUTES");class y4{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,b2.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=s.create(e);return new Ir(Pa(u.injector.get(Ye,void 0,c.XFs.Self|c.XFs.Optional)).map(I0),u)}),P4(s=>{throw t._loader$=void 0,s}));return t._loader$=new Na(i,()=>new C3.x).pipe(w6()),t._loader$}loadModuleFactory(e){return G3(e()).pipe((0,n3.z)(t=>t instanceof c.YKP?L2(t):(0,Be.D)(this.compiler.compileModuleAsync(t))))}}class W9{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function $n(n){throw n}function Or(n,e,t){return e.parse("/")}function Fr(n,e){return L2(null)}const U0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ur={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let p3=(()=>{class n{constructor(t,r,i,s,u,h,C){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new C3.x,this.errorHandler=$n,this.malformedUriErrorHandler=Or,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Fr,afterPreactivation:Fr},this.urlHandlingStrategy=new W9,this.routeReuseStrategy=new H2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const z=u.get(c.R0b);this.isNgZoneEnabled=z instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=function ud(){return new jn(new X2([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new y4(u,h,S=>this.triggerEvent(new p5(S)),S=>this.triggerEvent(new E6(S))),this.routerState=I6(this.currentUrlTree,this.rootComponentType),this.transitions=new Q4({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(k4(i=>0!==i.id),(0,b2.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ne(i=>{let s=!1,u=!1;return L2(i).pipe((0,X4.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ne(h=>{const C=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return j0(h.source)&&(this.browserUrlTree=h.extractedUrl),L2(h).pipe(Ne(z=>{const S=this.transitions.getValue();return r.next(new H6(z.id,this.serializeUrl(z.extractedUrl),z.source,z.restoredState)),S!==this.transitions.getValue()?d5.E:Promise.resolve(z)}),function no(n,e,t,r){return Ne(i=>function F6(n,e,t,r,i){return new Pr(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,b2.U)(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,X4.b)(z=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:z.urlAfterRedirects})}),function g(n,e,t,r,i){return(0,n3.z)(s=>function E8(n,e,t,r,i="emptyOnly",s="legacy"){try{const u=new lo(n,e,t,r,i,s).recognize();return null===u?Zt(new co):L2(u)}catch(u){return Zt(u)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe((0,b2.U)(u=>Object.assign(Object.assign({},s),{targetSnapshot:u}))))}(this.rootComponentType,this.config,z=>this.serializeUrl(z),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,X4.b)(z=>{if("eager"===this.urlUpdateStrategy){if(!z.extras.skipLocationChange){const E=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl);this.setBrowserUrl(E,z)}this.browserUrlTree=z.urlAfterRedirects}const S=new x6(z.id,this.serializeUrl(z.extractedUrl),this.serializeUrl(z.urlAfterRedirects),z.targetSnapshot);r.next(S)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:E,source:I,restoredState:K,extras:o1}=h,R1=new H6(S,this.serializeUrl(E),I,K);r.next(R1);const U1=I6(E,this.rootComponentType).snapshot;return L2(Object.assign(Object.assign({},h),{targetSnapshot:U1,urlAfterRedirects:E,extras:Object.assign(Object.assign({},o1),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),d5.E}),Y1(h=>{const{targetSnapshot:C,id:v,extractedUrl:b,rawUrl:z,extras:{skipLocationChange:S,replaceUrl:E}}=h;return this.hooks.beforePreactivation(C,{navigationId:v,appliedUrlTree:b,rawUrlTree:z,skipLocationChange:!!S,replaceUrl:!!E})}),(0,X4.b)(h=>{const C=new cd(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(C)}),(0,b2.U)(h=>Object.assign(Object.assign({},h),{guards:ro(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function ao(n,e){return(0,n3.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?L2(Object.assign(Object.assign({},t),{guardsResult:!0})):function j9(n,e,t,r){return(0,Be.D)(n).pipe((0,n3.z)(i=>function O0(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?L2(s.map(h=>{const C=T5(h,e,i);let v;if(function hd(n){return n&&k6(n.canDeactivate)}(C))v=G3(C.canDeactivate(n,e,t,r));else{if(!k6(C))throw new Error("Invalid CanDeactivate guard");v=G3(C(n,e,t,r))}return v.pipe(C5())})).pipe(V5()):L2(!0)}(i.component,i.route,t,e,r)),C5(i=>!0!==i,!0))}(u,r,i,n).pipe((0,n3.z)(h=>h&&function Xa(n){return"boolean"==typeof n}(h)?function Rr(n,e,t,r){return(0,Be.D)(e).pipe(S6(i=>Lr(function oo(n,e){return null!==n&&e&&e(new _8(n)),L2(!0)}(i.route.parent,r),function q9(n,e){return null!==n&&e&&e(new M8(n)),L2(!0)}(i.route,r),function R0(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function io(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>h5(()=>L2(u.guards.map(C=>{const v=T5(C,u.node,t);let b;if(function T0(n){return n&&k6(n.canActivateChild)}(v))b=G3(v.canActivateChild(r,n));else{if(!k6(v))throw new Error("Invalid CanActivateChild guard");b=G3(v(r,n))}return b.pipe(C5())})).pipe(V5())));return L2(s).pipe(V5())}(n,i.path,t),function v4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return L2(!0);const i=r.map(s=>h5(()=>{const u=T5(s,e,t);let h;if(function H8(n){return n&&k6(n.canActivate)}(u))h=G3(u.canActivate(e,n));else{if(!k6(u))throw new Error("Invalid CanActivate guard");h=G3(u(e,n))}return h.pipe(C5())}));return L2(i).pipe(V5())}(n,i.route,t))),C5(i=>!0!==i,!0))}(r,s,n,e):L2(h)),(0,b2.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,X4.b)(h=>{if(w5(h.guardsResult)){const v=un(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw v.url=h.guardsResult,v}const C=new C0(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(C)}),k4(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Y1(h=>{if(h.guards.canActivateChecks.length)return L2(h).pipe((0,X4.b)(C=>{const v=new et(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(v)}),Ne(C=>{let v=!1;return L2(C).pipe(function M(n,e){return(0,n3.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return L2(t);let s=0;return(0,Be.D)(i).pipe(S6(u=>function V(n,e,t,r){return function T(n,e,t,r){const i=X(n);if(0===i.length)return L2({});const s={};return(0,Be.D)(i).pipe((0,n3.z)(u=>function M1(n,e,t,r){const i=T5(n,e,r);return G3(i.resolve?i.resolve(e,t):i(e,t))}(n[u],e,t,r).pipe((0,X4.b)(h=>{s[u]=h}))),h0(1),(0,n3.z)(()=>X(s).length===i.length?L2(s):d5.E))}(n._resolve,n,e,r).pipe((0,b2.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),E9(n,t).resolve),null)))}(u.route,r,n,e)),(0,X4.b)(()=>s++),h0(1),(0,n3.z)(u=>s===i.length?L2(t):d5.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,X4.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,X4.b)(C=>{const v=new tt(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(v)}))}),Y1(h=>{const{targetSnapshot:C,id:v,extractedUrl:b,rawUrl:z,extras:{skipLocationChange:S,replaceUrl:E}}=h;return this.hooks.afterPreactivation(C,{navigationId:v,appliedUrlTree:b,rawUrlTree:z,skipLocationChange:!!S,replaceUrl:!!E})}),(0,b2.U)(h=>{const C=function Ga(n,e,t){const r=w8(n,e._root,t?t._root:void 0);return new Hr(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:C})}),(0,X4.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,b2.U)(r=>(new Ja(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,X4.b)({next(){s=!0},complete(){s=!0}}),function w9(n){return(0,D3.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var h;s||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===i.id&&(this.currentNavigation=null)}),P4(h=>{if(u=!0,function ld(n){return n&&n[m5]}(h)){const C=w5(h.url);C||(this.navigated=!0,this.restoreHistory(i,!0));const v=new r3(i.id,this.serializeUrl(i.extractedUrl),h.message);r.next(v),C?setTimeout(()=>{const b=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),z={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||j0(i.source)};this.scheduleNavigation(b,"imperative",null,z,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const C=new d0(i.id,this.serializeUrl(i.extractedUrl),h);r.next(C);try{i.resolve(this.errorHandler(h))}catch(v){i.reject(v)}}return d5.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},u=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(u){const C=Object.assign({},u);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(s.state=C)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,u,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){P6(t),this.config=t.map(I0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:C}=r,v=i||this.routerState.root,b=C?this.currentUrlTree.fragment:u;let z=null;switch(h){case"merge":z=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":z=this.currentUrlTree.queryParams;break;default:z=s||null}return null!==z&&(z=this.removeEmptyProps(z)),function mn(n,e,t,r,i){if(0===t.length)return V8(e.root,e.root,e.root,r,i);const s=function I9(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new H0(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return b3(s.outlets,(C,v)=>{h[v]="string"==typeof C?C.split("/"):C}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===u?(s.split("/").forEach((h,C)=>{0==C&&"."===h||(0==C&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new H0(t,e,r)}(t);if(s.toRoot())return V8(e.root,e.root,new X2([],{}),r,i);const u=function $a(n,e,t){if(n.isAbsolute)return new S8(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new S8(s,s===e.root,0)}const r=vt(n.commands[0])?0:1;return function Za(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new S8(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),h=u.processChildren?Tr(u.segmentGroup,u.index,s.commands):Ya(u.segmentGroup,u.index,s.commands);return V8(e.root,u.segmentGroup,h,r,i)}(v,this.currentUrlTree,t,z,null!=b?b:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=w5(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function B0(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},U0):!1===r?Object.assign({},Ur):r,w5(t))return T6(this.currentUrlTree,t,i);const s=this.parseUrl(t);return T6(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new y8(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,u){var h,C;if(this.disposed)return Promise.resolve(!1);let v,b,z;u?(v=u.resolve,b=u.reject,z=u.promise):z=new Promise((I,K)=>{v=I,b=K});const S=++this.navigationId;let E;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),E=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):E=0,this.setTransition({id:S,targetPageId:E,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:v,reject:b,promise:z,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),z.catch(I=>Promise.reject(I))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new r3(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function j0(n){return"imperative"!==n}let q0=(()=>{class n{constructor(t,r,i,s,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=u,this.commands=null,this.onChanges=new C3.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:A5(this.skipLocationChange),replaceUrl:A5(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:A5(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(p3),c.Y36(N6),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),Zn=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new C3.x,this.subscription=t.events.subscribe(s=>{s instanceof y8&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,u){if(0!==t||r||i||s||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:A5(this.skipLocationChange),replaceUrl:A5(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:A5(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(p3),c.Y36(N6),c.Y36(g1))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function A5(n){return""===n||!!n}let G0=(()=>{class n{constructor(t,r,i,s,u,h){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=u,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(C=>{C instanceof y8&&this.update()})}ngAfterContentInit(){L2(this.links.changes,this.linksWithHrefs.changes,L2(null)).pipe((0,g8.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Be.D)(r).pipe((0,g8.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function $9(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(p3),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(q0,8),c.Y36(Zn,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,q0,5),c.Suo(i,Zn,5)),2&t){let s;c.iGM(s=c.CRH())&&(r.links=s),c.iGM(s=c.CRH())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),n})();class Z9{}class Cd{preload(e,t){return L2(null)}}let pd=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new y4(i,r,C=>t.triggerEvent(new p5(C)),C=>t.triggerEvent(new E6(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(k4(t=>t instanceof y8),S6(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const u=s._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return(0,Be.D)(i).pipe((0,g8.J)(),(0,b2.U)(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?L2(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,n3.z)(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(p3),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Z9))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ho=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof H6?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof y8&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof p0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new p0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Lt=new c.OlP("ROUTER_CONFIGURATION"),Y9=new c.OlP("ROUTER_FORROOT_GUARD"),md=[H1,{provide:v5,useClass:Sr},{provide:p3,useFactory:function J9(n,e,t,r,i,s,u={},h,C){const v=new p3(null,n,e,t,r,i,Pa(s));return h&&(v.urlHandlingStrategy=h),C&&(v.routeReuseStrategy=C),function yd(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,v),u.enableTracing&&v.events.subscribe(b=>{var z,S;null===(z=console.group)||void 0===z||z.call(console,`Router Event: ${b.constructor.name}`),console.log(b.toString()),console.log(b),null===(S=console.groupEnd)||void 0===S||S.call(console)}),v},deps:[v5,S5,H1,c.zs3,c.Sil,Ye,Lt,[class T8{},new c.FiY],[class l2{},new c.FiY]]},S5,{provide:N6,useFactory:function Co(n){return n.routerState.root},deps:[p3]},pd,Cd,class K9{preload(e,t){return t().pipe(P4(()=>L2(null)))}},{provide:Lt,useValue:{enableTracing:!1}}];function fM(){return new c.PXZ("Router",p3)}let I5=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[md,Q9(t),{provide:Y9,useFactory:vd,deps:[[p3,new c.FiY,new c.tp0]]},{provide:Lt,useValue:r||{}},{provide:g1,useFactory:gd,deps:[m1,[new c.tBr(c2),new c.FiY],Lt]},{provide:ho,useFactory:hM,deps:[p3,o8,Lt]},{provide:Z9,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Cd},{provide:c.PXZ,multi:!0,useFactory:fM},[Br,{provide:c.ip1,multi:!0,useFactory:_d,deps:[Br]},{provide:ec,useFactory:X9,deps:[Br]},{provide:c.tb,multi:!0,useExisting:ec}]]}}static forChild(t){return{ngModule:n,providers:[Q9(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y9,8),c.LFG(p3,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function hM(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new ho(n,e,t)}function gd(n,e,t={}){return t.useHash?new A1(n,e):new t2(n,e)}function vd(n){return"guarded"}function Q9(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Ye,multi:!0,useValue:n}]}let Br=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new C3.x}appInitializer(){return this.injector.get(W,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(h=>r=h),s=this.injector.get(p3),u=this.injector.get(Lt);return"disabled"===u.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?L2(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Lt),i=this.injector.get(pd),s=this.injector.get(ho),u=this.injector.get(p3),h=this.injector.get(c.z2F);t===h.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),s.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function _d(n){return n.appInitializer.bind(n)}function X9(n){return n.bootstrapListener.bind(n)}const ec=new c.OlP("Router Initializer");var w1=A(5861),wd={prefix:"fas",iconName:"align-justify",icon:[448,512,[],"f039","M416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96zM416 352H32C14.33 352 0 337.7 0 320C0 302.3 14.33 288 32 288H416C433.7 288 448 302.3 448 320C448 337.7 433.7 352 416 352zM0 192C0 174.3 14.33 160 32 160H416C433.7 160 448 174.3 448 192C448 209.7 433.7 224 416 224H32C14.33 224 0 209.7 0 192zM416 480H32C14.33 480 0 465.7 0 448C0 430.3 14.33 416 32 416H416C433.7 416 448 430.3 448 448C448 465.7 433.7 480 416 480z"]},So={prefix:"fas",iconName:"award",icon:[384,512,[],"f559","M288 358.3c13.98-8.088 17.53-30.04 28.88-41.39c11.35-11.35 33.3-14.88 41.39-28.87c7.98-13.79 .1658-34.54 4.373-50.29C366.7 222.5 383.1 208.5 383.1 192c0-16.5-17.27-30.52-21.34-45.73c-4.207-15.75 3.612-36.5-4.365-50.29c-8.086-13.98-30.03-17.52-41.38-28.87c-11.35-11.35-14.89-33.3-28.87-41.39c-13.79-7.979-34.54-.1637-50.29-4.375C222.5 17.27 208.5 0 192 0C175.5 0 161.5 17.27 146.3 21.34C130.5 25.54 109.8 17.73 95.98 25.7C82 33.79 78.46 55.74 67.11 67.08C55.77 78.43 33.81 81.97 25.72 95.95C17.74 109.7 25.56 130.5 21.35 146.2C17.27 161.5 .0008 175.5 .0008 192c0 16.5 17.27 30.52 21.34 45.73c4.207 15.75-3.615 36.5 4.361 50.29C33.8 302 55.74 305.5 67.08 316.9c11.35 11.35 14.89 33.3 28.88 41.4c13.79 7.979 34.53 .1582 50.28 4.369C161.5 366.7 175.5 384 192 384c16.5 0 30.52-17.27 45.74-21.34C253.5 358.5 274.2 366.3 288 358.3zM112 192c0-44.27 35.81-80 80-80s80 35.73 80 80c0 44.17-35.81 80-80 80S112 236.2 112 192zM1.719 433.2c-3.25 8.188-1.781 17.48 3.875 24.25c5.656 6.75 14.53 9.898 23.12 8.148l45.19-9.035l21.43 42.27C99.46 507 107.6 512 116.7 512c.3438 0 .6641-.0117 1.008-.0273c9.5-.375 17.65-6.082 21.24-14.88l33.58-82.08c-53.71-4.639-102-28.12-138.2-63.95L1.719 433.2zM349.6 351.1c-36.15 35.83-84.45 59.31-138.2 63.95l33.58 82.08c3.594 8.797 11.74 14.5 21.24 14.88C266.6 511.1 266.1 512 267.3 512c9.094 0 17.23-4.973 21.35-13.14l21.43-42.28l45.19 9.035c8.594 1.75 17.47-1.398 23.12-8.148c5.656-6.766 7.125-16.06 3.875-24.25L349.6 351.1z"]},kc={prefix:"fas",iconName:"bolt",icon:[384,512,[9889,"zap"],"f0e7","M240.5 224H352C365.3 224 377.3 232.3 381.1 244.7C386.6 257.2 383.1 271.3 373.1 280.1L117.1 504.1C105.8 513.9 89.27 514.7 77.19 505.9C65.1 497.1 60.7 481.1 66.59 467.4L143.5 288H31.1C18.67 288 6.733 279.7 2.044 267.3C-2.645 254.8 .8944 240.7 10.93 231.9L266.9 7.918C278.2-1.92 294.7-2.669 306.8 6.114C318.9 14.9 323.3 30.87 317.4 44.61L240.5 224z"]},PC={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M320 336c0 8.844-7.156 16-16 16h-96C199.2 352 192 344.8 192 336V288H0v144C0 457.6 22.41 480 48 480h416c25.59 0 48-22.41 48-48V288h-192V336zM464 96H384V48C384 22.41 361.6 0 336 0h-160C150.4 0 128 22.41 128 48V96H48C22.41 96 0 118.4 0 144V256h512V144C512 118.4 489.6 96 464 96zM336 96h-160V48h160V96z"]},ts={prefix:"fas",iconName:"cake-candles",icon:[448,512,[127874,"birthday-cake","cake"],"f1fd","M352 111.1c22.09 0 40-17.88 40-39.97S352 0 352 0s-40 49.91-40 72S329.9 111.1 352 111.1zM224 111.1c22.09 0 40-17.88 40-39.97S224 0 224 0S184 49.91 184 72S201.9 111.1 224 111.1zM383.1 223.1L384 160c0-8.836-7.164-16-16-16h-32C327.2 144 320 151.2 320 160v64h-64V160c0-8.836-7.164-16-16-16h-32C199.2 144 192 151.2 192 160v64H128V160c0-8.836-7.164-16-16-16h-32C71.16 144 64 151.2 64 160v63.97c-35.35 0-64 28.65-64 63.1v68.7c9.814 6.102 21.39 11.33 32 11.33c20.64 0 45.05-19.73 52.7-27.33c6.25-6.219 16.34-6.219 22.59 0C114.1 348.3 139.4 367.1 160 367.1s45.05-19.73 52.7-27.33c6.25-6.219 16.34-6.219 22.59 0C242.1 348.3 267.4 367.1 288 367.1s45.05-19.73 52.7-27.33c6.25-6.219 16.34-6.219 22.59 0C370.1 348.3 395.4 367.1 416 367.1c10.61 0 22.19-5.227 32-11.33V287.1C448 252.6 419.3 223.1 383.1 223.1zM352 373.3c-13.75 10.95-38.03 26.66-64 26.66s-50.25-15.7-64-26.66c-13.75 10.95-38.03 26.66-64 26.66s-50.25-15.7-64-26.66c-13.75 10.95-38.03 26.66-64 26.66c-11.27 0-22.09-3.121-32-7.377v87.38C0 497.7 14.33 512 32 512h384c17.67 0 32-14.33 32-32v-87.38c-9.91 4.256-20.73 7.377-32 7.377C390 399.1 365.8 384.3 352 373.3zM96 111.1c22.09 0 40-17.88 40-39.97S96 0 96 0S56 49.91 56 72S73.91 111.1 96 111.1z"]},ns={prefix:"fas",iconName:"calendar",icon:[448,512,[128198,128197],"f133","M96 32C96 14.33 110.3 0 128 0C145.7 0 160 14.33 160 32V64H288V32C288 14.33 302.3 0 320 0C337.7 0 352 14.33 352 32V64H400C426.5 64 448 85.49 448 112V160H0V112C0 85.49 21.49 64 48 64H96V32zM448 464C448 490.5 426.5 512 400 512H48C21.49 512 0 490.5 0 464V192H448V464z"]},Yp={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"]},yl={prefix:"fas",iconName:"comment-dots",icon:[512,512,[62075,128172,"commenting"],"f4ad","M256 31.1c-141.4 0-255.1 93.12-255.1 208c0 49.62 21.35 94.98 56.97 130.7c-12.5 50.37-54.27 95.27-54.77 95.77c-2.25 2.25-2.875 5.734-1.5 8.734c1.249 3 4.021 4.766 7.271 4.766c66.25 0 115.1-31.76 140.6-51.39c32.63 12.25 69.02 19.39 107.4 19.39c141.4 0 255.1-93.13 255.1-207.1S397.4 31.1 256 31.1zM127.1 271.1c-17.75 0-32-14.25-32-31.1s14.25-32 32-32s32 14.25 32 32S145.7 271.1 127.1 271.1zM256 271.1c-17.75 0-31.1-14.25-31.1-31.1s14.25-32 31.1-32s31.1 14.25 31.1 32S273.8 271.1 256 271.1zM383.1 271.1c-17.75 0-32-14.25-32-31.1s14.25-32 32-32s32 14.25 32 32S401.7 271.1 383.1 271.1z"]},Dl={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"]},ds={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,61443,9993],"f0e0","M464 64C490.5 64 512 85.49 512 112C512 127.1 504.9 141.3 492.8 150.4L275.2 313.6C263.8 322.1 248.2 322.1 236.8 313.6L19.2 150.4C7.113 141.3 0 127.1 0 112C0 85.49 21.49 64 48 64H464zM217.6 339.2C240.4 356.3 271.6 356.3 294.4 339.2L512 176V384C512 419.3 483.3 448 448 448H64C28.65 448 0 419.3 0 384V176L217.6 339.2z"]},$l={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M279.6 160.4C282.4 160.1 285.2 160 288 160C341 160 384 202.1 384 256C384 309 341 352 288 352C234.1 352 192 309 192 256C192 253.2 192.1 250.4 192.4 247.6C201.7 252.1 212.5 256 224 256C259.3 256 288 227.3 288 192C288 180.5 284.1 169.7 279.6 160.4zM480.6 112.6C527.4 156 558.7 207.1 573.5 243.7C576.8 251.6 576.8 260.4 573.5 268.3C558.7 304 527.4 355.1 480.6 399.4C433.5 443.2 368.8 480 288 480C207.2 480 142.5 443.2 95.42 399.4C48.62 355.1 17.34 304 2.461 268.3C-.8205 260.4-.8205 251.6 2.461 243.7C17.34 207.1 48.62 156 95.42 112.6C142.5 68.84 207.2 32 288 32C368.8 32 433.5 68.84 480.6 112.6V112.6zM288 112C208.5 112 144 176.5 144 256C144 335.5 208.5 400 288 400C367.5 400 432 335.5 432 256C432 176.5 367.5 112 288 112z"]},a7={prefix:"fas",iconName:"file",icon:[384,512,[128459,61462,128196],"f15b","M0 64C0 28.65 28.65 0 64 0H224V128C224 145.7 238.3 160 256 160H384V448C384 483.3 355.3 512 320 512H64C28.65 512 0 483.3 0 448V64zM256 128V0L384 128H256z"]},Zw={prefix:"fas",iconName:"gauge",icon:[512,512,["dashboard","gauge-med","tachometer-alt-average"],"f624","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM280 292.7V88C280 74.75 269.3 64 256 64C242.7 64 232 74.75 232 88V292.7C208.5 302.1 192 325.1 192 352C192 387.3 220.7 416 256 416C291.3 416 320 387.3 320 352C320 325.1 303.5 302.1 280 292.7zM144 176C161.7 176 176 161.7 176 144C176 126.3 161.7 112 144 112C126.3 112 112 126.3 112 144C112 161.7 126.3 176 144 176zM96 224C78.33 224 64 238.3 64 256C64 273.7 78.33 288 96 288C113.7 288 128 273.7 128 256C128 238.3 113.7 224 96 224zM416 288C433.7 288 448 273.7 448 256C448 238.3 433.7 224 416 224C398.3 224 384 238.3 384 256C384 273.7 398.3 288 416 288zM368 112C350.3 112 336 126.3 336 144C336 161.7 350.3 176 368 176C385.7 176 400 161.7 400 144C400 126.3 385.7 112 368 112z"]},R4={prefix:"fas",iconName:"graduation-cap",icon:[640,512,[127891,"mortar-board"],"f19d","M623.1 136.9l-282.7-101.2c-13.73-4.91-28.7-4.91-42.43 0L16.05 136.9C6.438 140.4 0 149.6 0 160s6.438 19.65 16.05 23.09L76.07 204.6c-11.89 15.8-20.26 34.16-24.55 53.95C40.05 263.4 32 274.8 32 288c0 9.953 4.814 18.49 11.94 24.36l-24.83 149C17.48 471.1 25 480 34.89 480H93.11c9.887 0 17.41-8.879 15.78-18.63l-24.83-149C91.19 306.5 96 297.1 96 288c0-10.29-5.174-19.03-12.72-24.89c4.252-17.76 12.88-33.82 24.94-47.03l190.6 68.23c13.73 4.91 28.7 4.91 42.43 0l282.7-101.2C633.6 179.6 640 170.4 640 160S633.6 140.4 623.1 136.9zM351.1 314.4C341.7 318.1 330.9 320 320 320c-10.92 0-21.69-1.867-32-5.555L142.8 262.5L128 405.3C128 446.6 213.1 480 320 480c105.1 0 192-33.4 192-74.67l-14.78-142.9L351.1 314.4z"]},Yw={prefix:"fas",iconName:"hard-drive",icon:[512,512,[128436,"hdd"],"f0a0","M464 288h-416C21.5 288 0 309.5 0 336v96C0 458.5 21.5 480 48 480h416c26.5 0 48-21.5 48-48v-96C512 309.5 490.5 288 464 288zM320 416c-17.62 0-32-14.38-32-32s14.38-32 32-32s32 14.38 32 32S337.6 416 320 416zM416 416c-17.62 0-32-14.38-32-32s14.38-32 32-32s32 14.38 32 32S433.6 416 416 416zM464 32h-416C21.5 32 0 53.5 0 80v192.4C13.41 262.3 29.92 256 48 256h416c18.08 0 34.59 6.254 48 16.41V80C512 53.5 490.5 32 464 32z"]},eD={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z"]},sD={prefix:"fas",iconName:"laptop",icon:[640,512,[128187],"f109","M128 96h384v256h64v-272c0-26.38-21.62-48-48-48h-416c-26.38 0-48 21.62-48 48V352h64V96zM624 383.1h-608c-8.75 0-16 7.25-16 16v16c0 35.25 28.75 64 64 64h512c35.25 0 64-28.75 64-64v-16C640 391.2 632.8 383.1 624 383.1z"]},dD={prefix:"fas",iconName:"location-crosshairs",icon:[512,512,["location"],"f601","M176 256C176 211.8 211.8 176 256 176C300.2 176 336 211.8 336 256C336 300.2 300.2 336 256 336C211.8 336 176 300.2 176 256zM256 0C273.7 0 288 14.33 288 32V66.65C368.4 80.14 431.9 143.6 445.3 224H480C497.7 224 512 238.3 512 256C512 273.7 497.7 288 480 288H445.3C431.9 368.4 368.4 431.9 288 445.3V480C288 497.7 273.7 512 256 512C238.3 512 224 497.7 224 480V445.3C143.6 431.9 80.14 368.4 66.65 288H32C14.33 288 0 273.7 0 256C0 238.3 14.33 224 32 224H66.65C80.14 143.6 143.6 80.14 224 66.65V32C224 14.33 238.3 0 256 0zM128 256C128 326.7 185.3 384 256 384C326.7 384 384 326.7 384 256C384 185.3 326.7 128 256 128C185.3 128 128 185.3 128 256z"]},bD={prefix:"fas",iconName:"marker",icon:[512,512,[],"f5a1","M480.1 160.1L316.3 325.7L186.3 195.7L302.1 80L288.1 66.91C279.6 57.54 264.4 57.54 255 66.91L168.1 152.1C159.6 162.3 144.4 162.3 135 152.1C125.7 143.6 125.7 128.4 135 119L221.1 32.97C249.2 4.853 294.8 4.853 322.9 32.97L336 46.06L351 31.03C386.9-4.849 445.1-4.849 480.1 31.03C516.9 66.91 516.9 125.1 480.1 160.1V160.1zM229.5 412.5C181.5 460.5 120.3 493.2 53.7 506.5L28.71 511.5C20.84 513.1 12.7 510.6 7.03 504.1C1.356 499.3-1.107 491.2 .4662 483.3L5.465 458.3C18.78 391.7 51.52 330.5 99.54 282.5L163.7 218.3L293.7 348.3L229.5 412.5z"]},Ug={prefix:"fas",iconName:"mobile",icon:[384,512,[128241,"mobile-android","mobile-phone"],"f3ce","M320 0H64C37.5 0 16 21.5 16 48v416C16 490.5 37.5 512 64 512h256c26.5 0 48-21.5 48-48v-416C368 21.5 346.5 0 320 0zM240 447.1C240 456.8 232.8 464 224 464H159.1C151.2 464 144 456.8 144 448S151.2 432 160 432h64C232.8 432 240 439.2 240 447.1z"]},WD={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32zM421.7 220.3L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3z"]},nV={prefix:"fas",iconName:"reply",icon:[512,512,[61714,"mail-reply"],"f3e5","M8.31 189.9l176-151.1c15.41-13.3 39.69-2.509 39.69 18.16v80.05C384.6 137.9 512 170.1 512 322.3c0 61.44-39.59 122.3-83.34 154.1c-13.66 9.938-33.09-2.531-28.06-18.62c45.34-145-21.5-183.5-176.6-185.8v87.92c0 20.7-24.31 31.45-39.69 18.16l-176-151.1C-2.753 216.6-2.784 199.4 8.31 189.9z"]},RP={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[61575,128077],"f164","M128 447.1V223.1c0-17.67-14.33-31.1-32-31.1H32c-17.67 0-32 14.33-32 31.1v223.1c0 17.67 14.33 31.1 32 31.1h64C113.7 479.1 128 465.6 128 447.1zM512 224.1c0-26.5-21.48-47.98-48-47.98h-146.5c22.77-37.91 34.52-80.88 34.52-96.02C352 56.52 333.5 32 302.5 32c-63.13 0-26.36 76.15-108.2 141.6L178 186.6C166.2 196.1 160.2 210 160.1 224c-.0234 .0234 0 0 0 0L160 384c0 15.1 7.113 29.33 19.2 38.39l34.14 25.59C241 468.8 274.7 480 309.3 480H368c26.52 0 48-21.47 48-47.98c0-3.635-.4805-7.143-1.246-10.55C434 415.2 448 397.4 448 376c0-9.148-2.697-17.61-7.139-24.88C463.1 347 480 327.5 480 304.1c0-12.5-4.893-23.78-12.72-32.32C492.2 270.1 512 249.5 512 224.1z"]},hR={prefix:"fas",iconName:"user-tie",icon:[448,512,[],"f508","M352 128C352 198.7 294.7 256 224 256C153.3 256 96 198.7 96 128C96 57.31 153.3 0 224 0C294.7 0 352 57.31 352 128zM209.1 359.2L176 304H272L238.9 359.2L272.2 483.1L311.7 321.9C388.9 333.9 448 400.7 448 481.3C448 498.2 434.2 512 417.3 512H30.72C13.75 512 0 498.2 0 481.3C0 400.7 59.09 333.9 136.3 321.9L175.8 483.1L209.1 359.2z"]},CV={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M319.9 320c57.41 0 103.1-46.56 103.1-104c0-57.44-46.54-104-103.1-104c-57.41 0-103.1 46.56-103.1 104C215.9 273.4 262.5 320 319.9 320zM369.9 352H270.1C191.6 352 128 411.7 128 485.3C128 500.1 140.7 512 156.4 512h327.2C499.3 512 512 500.1 512 485.3C512 411.7 448.4 352 369.9 352zM512 160c44.18 0 80-35.82 80-80S556.2 0 512 0c-44.18 0-80 35.82-80 80S467.8 160 512 160zM183.9 216c0-5.449 .9824-10.63 1.609-15.91C174.6 194.1 162.6 192 149.9 192H88.08C39.44 192 0 233.8 0 285.3C0 295.6 7.887 304 17.62 304h199.5C196.7 280.2 183.9 249.7 183.9 216zM128 160c44.18 0 80-35.82 80-80S172.2 0 128 0C83.82 0 48 35.82 48 80S83.82 160 128 160zM551.9 192h-61.84c-12.8 0-24.88 3.037-35.86 8.24C454.8 205.5 455.8 210.6 455.8 216c0 33.71-12.78 64.21-33.16 88h199.7C632.1 304 640 295.6 640 285.3C640 233.8 600.6 192 551.9 192z"]},HR={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M507.6 122.8c-2.904-12.09-18.25-16.13-27.04-7.338l-76.55 76.56l-83.1-.0002l0-83.1l76.55-76.56c8.791-8.789 4.75-24.14-7.336-27.04c-23.69-5.693-49.34-6.111-75.92 .2484c-61.45 14.7-109.4 66.9-119.2 129.3C189.8 160.8 192.3 186.7 200.1 210.1l-178.1 178.1c-28.12 28.12-28.12 73.69 0 101.8C35.16 504.1 53.56 512 71.1 512s36.84-7.031 50.91-21.09l178.1-178.1c23.46 7.736 49.31 10.24 76.17 6.004c62.41-9.84 114.6-57.8 129.3-119.2C513.7 172.1 513.3 146.5 507.6 122.8zM80 456c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24s24 10.74 24 24C104 445.3 93.25 456 80 456z"]};class ps1{}var yV=A(4986),_V=A(6451),xR=A(3099);function MV(n,e=pt.y){return n=null!=n?n:ms1,(0,D3.e)((t,r)=>{let i,s=!0;t.subscribe((0,We.x)(r,u=>{const h=e(u);(s||!n(i,h))&&(s=!1,i=h,r.next(u))}))})}function ms1(n,e){return n===e}var gs1=A(5032),re=A(880),z3=A(2011),LV=(A(7092),A(3942)),q6=A(4859),bt=A(9681),D=A(2090),G6=A(1877);const ER="@firebase/database";let bV="";function AR(n){bV=n}class _s1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,D.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,D.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Ms1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,D.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const IR=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _s1(e)}}catch(e){}return new Ms1},gs=IR("localStorage"),zV=IR("sessionStorage"),f7=new G6.Yd("@firebase/database"),NR=function(){let n=1;return function(){return n++}}(),DR=function(n){const e=(0,D.dS)(n),t=new D.gQ;t.update(e);const r=t.digest();return D.US.encodeByteArray(r)},ju=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=ju.apply(null,r):e+="object"==typeof r?(0,D.Pz)(r):r,e+=" "}return e};let vs=null,kR=!0;const PR=function(n,e){(0,D.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(f7.logLevel=G6.in.VERBOSE,vs=f7.log.bind(f7),e&&zV.set("logging_enabled",!0)):"function"==typeof n?vs=n:(vs=null,zV.remove("logging_enabled"))},L4=function(...n){if(!0===kR&&(kR=!1,null===vs&&!0===zV.get("logging_enabled")&&PR(!0)),vs){const e=ju.apply(null,n);vs(e)}},qu=function(n){return function(...e){L4(n,...e)}},wV=function(...n){const e="FIREBASE INTERNAL ERROR: "+ju(...n);f7.error(e)},P5=function(...n){const e=`FIREBASE FATAL ERROR: ${ju(...n)}`;throw f7.error(e),new Error(e)},rt=function(...n){const e="FIREBASE WARNING: "+ju(...n);f7.warn(e)},Qg=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},O8="[MIN_NAME]",R5="[MAX_NAME]",ys=function(n,e){if(n===e)return 0;if(n===O8||e===R5)return-1;if(e===O8||n===R5)return 1;{const t=Jg(n),r=Jg(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},zs1=function(n,e){return n===e?0:n<e?-1:1},Gu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,D.Pz)(e))},VV=function(n){if("object"!=typeof n||null===n)return(0,D.Pz)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,D.Pz)(e[r]),t+=":",t+=VV(n[e[r]]);return t+="}",t},RR=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function b4(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const OR=function(n){(0,D.hu)(!Qg(n),"Invalid JSON number");const r=1023;let i,s,u,h,C;0===n?(s=0,u=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=h+r,u=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,u=Math.round(n/Math.pow(2,-1074))));const v=[];for(C=52;C;C-=1)v.push(u%2?1:0),u=Math.floor(u/2);for(C=11;C;C-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(i?1:0),v.reverse();const b=v.join("");let z="";for(C=0;C<64;C+=8){let S=parseInt(b.substr(C,8),2).toString(16);1===S.length&&(S="0"+S),z+=S}return z.toLowerCase()},Hs1=new RegExp("^-?(0*)\\d{1,10}$"),FR=-2147483648,SV=2147483647,Jg=function(n){if(Hs1.test(n)){const e=Number(n);if(e>=FR&&e<=SV)return e}return null},h7=function(n){try{n()}catch(e){setTimeout(()=>{throw rt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Wu=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class Es1{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){rt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ts1{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(L4("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rt(e)}}let $u=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const GR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ZR="websocket",KR="long_polling";class xV{constructor(e,t,r,i,s=!1,u="",h=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gs.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function YR(n,e,t){let r;if((0,D.hu)("string"==typeof e,"typeof type must == string"),(0,D.hu)("object"==typeof t,"typeof params must == object"),e===ZR)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==KR)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function As1(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return b4(t,(s,u)=>{i.push(s+"="+u)}),r+i.join("&")}class Is1{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,D.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,D.p$)(this.counters_)}}const EV={},TV={};function AV(n){const e=n.toString();return EV[e]||(EV[e]=new Is1),EV[e]}class Ds1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&h7(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class di{constructor(e,t,r,i,s,u,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qu(e),this.stats_=AV(t),this.urlFn=C=>(this.appCheckToken&&(C.ac=this.appCheckToken),YR(t,KR,C))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ds1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,D.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new IV((...s)=>{const[u,h,C,v,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=h,this.password=C;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[u,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&GR.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){di.forceAllow_=!0}static forceDisallow(){di.forceDisallow_=!0}static isAvailable(){return!((0,D.Yr)()||!di.forceAllow_&&(di.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,D.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,D.h$)(t),i=RR(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,D.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,D.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class IV{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,D.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=NR(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=IV.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){L4("frame writing exception"),h.stack&&L4(h.stack),L4(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||L4("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const u=this.pendingSegs.shift();r=r+"&seg"+i+"="+u.seg+"&ts"+i+"="+u.ts+"&d"+i+"="+u.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,D.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{L4("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let ev=null;"undefined"!=typeof MozWebSocket?ev=MozWebSocket:"undefined"!=typeof WebSocket&&(ev=WebSocket);let d7=(()=>{class n{constructor(t,r,i,s,u,h,C){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qu(this.connId),this.stats_=AV(r),this.connURL=n.connectionURL_(r,h,C,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,u){const h={v:"5"};return!(0,D.Yr)()&&"undefined"!=typeof location&&location.hostname&&GR.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),s&&(h.ac=s),u&&(h.p=u),YR(t,ZR,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gs.set("previous_websocket_failure",!0);try{let i;if((0,D.Yr)()){const u={headers:{"User-Agent":`Firebase/5/${bV}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,C=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;C&&(u.proxy={origin:C})}this.mySock=new ev(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==ev&&!n.forceDisallow_}static previouslyFailed(){return gs.isInMemoryStorage||!0===gs.get("previous_websocket_failure")}markConnectionHealthy(){gs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,D.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,D.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,D.Pz)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=RR(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),rO=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[di,d7]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=d7&&d7.isAvailable();let i=r&&!d7.previouslyFailed();if(t.webSocketOnly&&(r||rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[d7];else{const s=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&s.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class uO{constructor(e,t,r,i,s,u,h,C,v,b){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=C,this.onKill_=v,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qu("c:"+this.id+":"),this.transportManager_=new rO(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Wu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Gu("t",e),r=Gu("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Gu("t",e),r=Gu("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Gu("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?wV("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wV("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Wu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class fO{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class hO{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,D.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,D.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class tv extends hO{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,D.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tv}getInitialEvent(e){return(0,D.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Pe{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function He(){return new Pe("")}function le(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ci(n){return n.pieces_.length-n.pieceNum_}function Qe(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Pe(n.pieces_,e)}function DV(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Zu(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function pO(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Pe(e,0)}function g3(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Pe(t,0)}function ue(n){return n.pieceNum_>=n.pieces_.length}function zt(n,e){const t=le(n),r=le(e);if(null===t)return e;if(t===r)return zt(Qe(n),Qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function ra1(n,e){const t=Zu(n,0),r=Zu(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=ys(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function kV(n,e){if(Ci(n)!==Ci(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function i6(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ci(n)>Ci(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class ia1{constructor(e,t){this.errorPrefix_=t,this.parts_=Zu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,D.ug)(this.parts_[r]);mO(this)}}function mO(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+_s(n))}function _s(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class PV extends hO{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new PV}getInitialEvent(e){return(0,D.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ku=1e3;let rv,Ms=(()=>{class n extends fO{constructor(t,r,i,s,u,h,C,v){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=C,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=qu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ku,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,D.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");PV.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&tv.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,u={r:s,a:t,b:r};this.log_((0,D.Pz)(u)),(0,D.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new D.BH,i={p:t._path.toString(),q:t._queryObject},s={action:"g",request:i,onComplete:h=>{const C=h.d;"ok"===h.s?(this.onDataUpdate_(i.p,C,!1,null),r.resolve(C)):r.reject(C)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[u];void 0===h||s!==h||(delete this.outstandingGets_[u],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+u+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(u),r.promise}listen(t,r,i,s){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),(0,D.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,D.hu)(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const C={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(h).set(u,C),this.connected_&&this.sendListen_(C)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const u={p:i};t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,C=>{const v=C.d,b=C.s;n.warnOnListenWarnings_(v,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",C),"ok"!==b&&this.removeListen_(i,s),t.onComplete&&t.onComplete(b,v))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,D.r3)(t,"w")){const i=(0,D.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,D.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,D.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const u=s.s,h=s.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,D.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const u={p:t};s&&(u.q=i,u.t=s),this.sendRequest("n",u)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const u={p:r,d:i};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,u){this.initConnection_();const h={p:r,d:i};void 0!==u&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,D.Pz)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):wV("Unrecognized action received from server: "+(0,D.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,D.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ku,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ku,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ku),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,w1.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let C=!1,v=null;const b=function(){v?v.close():(C=!0,s())};t.realtime_={close:b,sendRequest:function(E){(0,D.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(E)}};const S=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[E,I]=yield Promise.all([t.authTokenProvider_.getToken(S),t.appCheckTokenProvider_.getToken(S)]);C?L4("getToken() completed but was canceled"):(L4("getToken() completed. Creating connection."),t.authToken_=E&&E.accessToken,t.appCheckToken_=I&&I.token,v=new uO(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,K=>{rt(K+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(E){t.log_("Failed to get token: "+E),C||(t.repoInfo_.nodeAdmin&&rt(E),b())}}})()}interrupt(t){L4("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){L4("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,D.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ku,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(u=>VV(u)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Pe(t).toString();let s;if(this.listens.has(i)){const u=this.listens.get(i);s=u.get(r),u.delete(r),0===u.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){L4("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){L4("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,D.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+bV.replace(/\./g,"-")]=1,(0,D.uI)()?t["framework.cordova"]=1:(0,D.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=tv.getInstance().currentlyOnline();return(0,D.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class fe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new fe(e,t)}}class nv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new fe(O8,e),i=new fe(O8,t);return 0!==this.compare(r,i)}minPost(){return fe.MIN}}class yO extends nv{static get __EMPTY_NODE(){return rv}static set __EMPTY_NODE(e){rv=e}compare(e,t){return ys(e.name,t.name)}isDefinedOn(e){throw(0,D.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return fe.MIN}maxPost(){return new fe(R5,rv)}makePost(e,t){return(0,D.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new fe(e,rv)}toString(){return".key"}}const O5=new yO;class iv{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=t?r(e.key,t):1,i&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let OV,W6=(()=>{class n{constructor(t,r,i,s,u){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:Jt.EMPTY_NODE,this.right=null!=u?u:Jt.EMPTY_NODE}copy(t,r,i,s,u){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=u?u:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const u=i(t,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===u?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Jt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Jt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Jt{constructor(e,t=Jt.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Jt(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,W6.BLACK,null,null))}remove(e){return new Jt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,W6.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new iv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new iv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new iv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new iv(this.root_,null,this.comparator_,!0,e)}}function da1(n,e){return ys(n.name,e.name)}function RV(n,e){return ys(n,e)}Jt.EMPTY_NODE=new class ha1{copy(e,t,r,i,s){return this}insert(e,t,r){return new W6(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const _O=function(n){return"number"==typeof n?"number:"+OR(n):"string:"+n},MO=function(n){if(n.isLeafNode()){const e=n.val();(0,D.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,D.r3)(e,".sv"),"Priority must be a string or number.")}else(0,D.hu)(n===OV||n.isEmpty(),"priority of unexpected type.");(0,D.hu)(n===OV||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let LO,bO,zO,C7=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,D.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),MO(this.priorityNode_)}static set __childrenNodeConstructor(t){LO=t}static get __childrenNodeConstructor(){return LO}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ue(t)?this:".priority"===le(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=le(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,D.hu)(".priority"!==i||1===Ci(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+_O(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?OR(this.value_):this.value_,this.lazyHash_=DR(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,D.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),u=n.VALUE_TYPE_ORDER.indexOf(i);return(0,D.hu)(s>=0,"Unknown leaf type: "+r),(0,D.hu)(u>=0,"Unknown leaf type: "+i),s===u?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const i3=new class ga1 extends nv{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?ys(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(R5,new C7("[PRIORITY-POST]",zO))}makePost(e,t){const r=bO(e);return new fe(t,new C7("[PRIORITY-POST]",r))}toString(){return".priority"}},va1=Math.log(2);class ya1{constructor(e){this.count=parseInt(Math.log(e+1)/va1,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sv=function(n,e,t,r){n.sort(e);const i=function(C,v){const b=v-C;let z,S;if(0===b)return null;if(1===b)return z=n[C],S=t?t(z):z,new W6(S,z.node,W6.BLACK,null,null);{const E=parseInt(b/2,10)+C,I=i(C,E),K=i(E+1,v);return z=n[E],S=t?t(z):z,new W6(S,z.node,W6.BLACK,I,K)}},h=function(C){let v=null,b=null,z=n.length;const S=function(I,K){const o1=z-I,R1=z;z-=I;const U1=i(o1+1,R1),$1=n[o1],J1=t?t($1):$1;E(new W6(J1,$1.node,K,null,U1))},E=function(I){v?(v.left=I,v=I):(b=I,v=I)};for(let I=0;I<C.count;++I){const K=C.nextBitIsOne(),o1=Math.pow(2,C.count-(I+1));K?S(o1,W6.BLACK):(S(o1,W6.BLACK),S(o1,W6.RED))}return b}(new ya1(n.length));return new Jt(r||e,h)};let FV;const p7={};class F8{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,D.hu)(p7&&i3,"ChildrenNode.ts has not been loaded"),FV=FV||new F8({".priority":p7},{".priority":i3}),FV}get(e){const t=(0,D.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Jt?t:null}hasIndex(e){return(0,D.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,D.hu)(e!==O5,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(fe.Wrap);let h,u=s.getNext();for(;u;)i=i||e.isDefinedOn(u.node),r.push(u),u=s.getNext();h=i?sv(r,e.getCompare()):p7;const C=e.toString(),v=Object.assign({},this.indexSet_);v[C]=e;const b=Object.assign({},this.indexes_);return b[C]=h,new F8(b,v)}addToIndexes(e,t){const r=(0,D.UI)(this.indexes_,(i,s)=>{const u=(0,D.DV)(this.indexSet_,s);if((0,D.hu)(u,"Missing index implementation for "+s),i===p7){if(u.isDefinedOn(e.node)){const h=[],C=t.getIterator(fe.Wrap);let v=C.getNext();for(;v;)v.name!==e.name&&h.push(v),v=C.getNext();return h.push(e),sv(h,u.getCompare())}return p7}{const h=t.get(e.name);let C=i;return h&&(C=C.remove(new fe(e.name,h))),C.insert(e,e.node)}});return new F8(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,D.UI)(this.indexes_,i=>{if(i===p7)return i;{const s=t.get(e.name);return s?i.remove(new fe(e.name,s)):i}});return new F8(r,this.indexSet_)}}let Yu,J2=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&MO(this.priorityNode_),this.children_.isEmpty()&&(0,D.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Yu||(Yu=new n(new Jt(RV),null,F8.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Yu}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Yu:r}}getChild(t){const r=le(t);return null===r?this:this.getImmediateChild(r).getChild(Qe(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,D.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new fe(t,r);let s,u;r.isEmpty()?(s=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(i,this.children_));const h=s.isEmpty()?Yu:this.priorityNode_;return new n(s,h,u)}}updateChild(t,r){const i=le(t);if(null===i)return r;{(0,D.hu)(".priority"!==le(t)||1===Ci(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Qe(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,u=!0;if(this.forEachChild(i3,(h,C)=>{r[h]=C.val(t),i++,u&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):u=!1}),!t&&u&&s<2*i){const h=[];for(const C in r)h[C]=r[C];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+_O(this.getPriority().val())+":"),this.forEachChild(i3,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":DR(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const u=s.getPredecessorKey(new fe(t,r));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new fe(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new fe(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,fe.Wrap);let u=s.peek();for(;null!=u&&r.compare(u,t)<0;)s.getNext(),u=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,fe.Wrap);let u=s.peek();for(;null!=u&&r.compare(u,t)>0;)s.getNext(),u=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Qu?-1:0}withIndex(t){if(t===O5||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===O5||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(i3),s=r.getIterator(i3);let u=i.getNext(),h=s.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=i.getNext(),h=s.getNext()}return null===u&&null===h}return!1}return!1}}resolveIndex_(t){return t===O5?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Qu=new class _a1 extends J2{constructor(){super(new Jt(RV),J2.EMPTY_NODE,F8.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J2.EMPTY_NODE}isEmpty(){return!1}};function w3(n,e=null){if(null===n)return J2.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,D.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new C7(n,w3(e));if(n instanceof Array){let t=J2.EMPTY_NODE;return b4(n,(r,i)=>{if((0,D.r3)(n,r)&&"."!==r.substring(0,1)){const s=w3(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(w3(e))}{const t=[];let r=!1;if(b4(n,(u,h)=>{if("."!==u.substring(0,1)){const C=w3(h);C.isEmpty()||(r=r||!C.getPriority().isEmpty(),t.push(new fe(u,C)))}}),0===t.length)return J2.EMPTY_NODE;const s=sv(t,da1,u=>u.name,RV);if(r){const u=sv(t,i3.getCompare());return new J2(s,w3(e),new F8({".priority":u},{".priority":i3}))}return new J2(s,w3(e),F8.Default)}}Object.defineProperties(fe,{MIN:{value:new fe(O8,J2.EMPTY_NODE)},MAX:{value:new fe(R5,Qu)}}),yO.__EMPTY_NODE=J2.EMPTY_NODE,C7.__childrenNodeConstructor=J2,function Ca1(n){OV=n}(Qu),function ma1(n){zO=n}(Qu),function pa1(n){bO=n}(w3);class UV extends nv{constructor(e){super(),this.indexPath_=e,(0,D.hu)(!ue(e)&&".priority"!==le(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?ys(e.name,t.name):s}makePost(e,t){const r=w3(e),i=J2.EMPTY_NODE.updateChild(this.indexPath_,r);return new fe(t,i)}maxPost(){const e=J2.EMPTY_NODE.updateChild(this.indexPath_,Qu);return new fe(R5,e)}toString(){return Zu(this.indexPath_,0).join("/")}}const BV=new class La1 extends nv{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ys(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,t){const r=w3(e);return new fe(t,r)}toString(){return".value"}},m7="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ba1=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const s=new Array(8);for(i=7;i>=0;i--)s[i]=m7.charAt(t%64),t=Math.floor(t/64);(0,D.hu)(0===t,"Cannot push at time == 0");let u=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=m7.charAt(e[i]);return(0,D.hu)(20===u.length,"nextPushId: Length should be 20."),u}}(),SO=function(n){if(n===""+SV)return"-";const e=Jg(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let u=0;u<t.length;u++)t[u]=n.charAt(u);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return R5;const s=m7.charAt(m7.indexOf(t[r])+1);return t[r]=s,t.slice(0,r+1).join("")},HO=function(n){if(n===""+FR)return O8;const e=Jg(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+SV:(delete t[t.length-1],t.join("")):(t[t.length-1]=m7.charAt(m7.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function xO(n){return{type:"value",snapshotNode:n}}function g7(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Ju(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Xu(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class qV{constructor(e){this.index_=e}updateChild(e,t,r,i,s,u){(0,D.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(i).equals(r.getChild(i))&&h.isEmpty()===r.isEmpty()||(null!=u&&(r.isEmpty()?e.hasChild(t)?u.trackChildChange(Ju(t,h)):(0,D.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(g7(t,r)):u.trackChildChange(Xu(t,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(i3,(i,s)=>{t.hasChild(i)||r.trackChildChange(Ju(i,s))}),t.isLeafNode()||t.forEachChild(i3,(i,s)=>{if(e.hasChild(i)){const u=e.getImmediateChild(i);u.equals(s)||r.trackChildChange(Xu(i,s,u))}else r.trackChildChange(g7(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?J2.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ef{constructor(e){this.indexedFilter_=new qV(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ef.getStartPost_(e),this.endPost_=ef.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,s,u){return this.matches(new fe(t,r))||(r=J2.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,u)}updateFullNode(e,t,r){t.isLeafNode()&&(t=J2.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(J2.EMPTY_NODE);const s=this;return t.forEachChild(i3,(u,h)=>{s.matches(new fe(u,h))||(i=i.updateImmediateChild(u,J2.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class wa1{constructor(e){this.rangedFilter_=new ef(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,s,u){return this.rangedFilter_.matches(new fe(t,r))||(r=J2.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,u):this.fullLimitUpdateChild_(e,t,r,s,u)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=J2.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=J2.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;s.hasNext()&&u<this.limit_;){const h=s.getNext();let C;if(C=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!C)break;i=i.updateImmediateChild(h.name,h.node),u++}}else{let s,u,h,C;if(i=t.withIndex(this.index_),i=i.updatePriority(J2.EMPTY_NODE),this.reverse_){C=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();const z=this.index_.getCompare();h=(S,E)=>z(E,S)}else C=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let v=0,b=!1;for(;C.hasNext();){const z=C.getNext();!b&&h(s,z)<=0&&(b=!0),b&&v<this.limit_&&h(z,u)<=0?v++:i=i.updateImmediateChild(z.name,J2.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let u;if(this.reverse_){const z=this.index_.getCompare();u=(S,E)=>z(E,S)}else u=this.index_.getCompare();const h=e;(0,D.hu)(h.numChildren()===this.limit_,"");const C=new fe(t,r),v=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),b=this.rangedFilter_.matches(C);if(h.hasChild(t)){const z=h.getImmediateChild(t);let S=i.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=S&&(S.name===t||h.hasChild(S.name));)S=i.getChildAfterChild(this.index_,S,this.reverse_);const E=null==S?1:u(S,C);if(b&&!r.isEmpty()&&E>=0)return null!=s&&s.trackChildChange(Xu(t,r,z)),h.updateImmediateChild(t,r);{null!=s&&s.trackChildChange(Ju(t,z));const K=h.updateImmediateChild(t,J2.EMPTY_NODE);return null!=S&&this.rangedFilter_.matches(S)?(null!=s&&s.trackChildChange(g7(S.name,S.node)),K.updateImmediateChild(S.name,S.node)):K}}return r.isEmpty()?e:b&&u(v,C)>=0?(null!=s&&(s.trackChildChange(Ju(v.name,v.node)),s.trackChildChange(g7(t,r))),h.updateImmediateChild(t,r).updateImmediateChild(v.name,J2.EMPTY_NODE)):e}}class av{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=i3}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:O8}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:R5}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,D.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===i3}copy(){const e=new av;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function GV(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function WV(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function ov(n,e){const t=n.copy();return t.index_=e,t}function EO(n){const e={};if(n.isDefault())return e;let t;return n.index_===i3?t="$priority":n.index_===BV?t="$value":n.index_===O5?t="$key":((0,D.hu)(n.index_ instanceof UV,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,D.Pz)(t),n.startSet_&&(e.startAt=(0,D.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,D.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,D.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,D.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function TO(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==i3&&(e.i=n.index_.toString()),e}class cv extends fO{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=qu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,D.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const u=cv.getListenId_(e,r),h={};this.listens_[u]=h;const C=EO(e._queryParams);this.restRequest_(s+".json",C,(v,b)=>{let z=b;if(404===v&&(z=null,v=null),null===v&&this.onDataUpdate_(s,z,!1,r),(0,D.DV)(this.listens_,u)===h){let S;S=v?401===v?"permission_denied":"rest_error:"+v:"ok",i(S,null)}})}unlisten(e,t){const r=cv.getListenId_(e,t);delete this.listens_[r]}get(e){const t=EO(e._queryParams),r=e._path.toString(),i=new D.BH;return this.restRequest_(r+".json",t,(s,u)=>{let h=u;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,D.xO)(t);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let C=null;if(h.status>=200&&h.status<300){try{C=(0,D.cI)(h.responseText)}catch(v){rt("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,C)}else 401!==h.status&&404!==h.status&&rt("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}class Ta1{constructor(){this.rootNode_=J2.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function lv(){return{value:null,children:new Map}}function v7(n,e,t){if(ue(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=le(e);n.children.has(r)||n.children.set(r,lv()),v7(n.children.get(r),e=Qe(e),t)}}function $V(n,e){if(ue(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(i3,(r,i)=>{v7(n,new Pe(r),i)}),$V(n,e)}}if(n.children.size>0){const t=le(e);return e=Qe(e),n.children.has(t)&&$V(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function ZV(n,e,t){null!==n.value?t(e,n.value):function Aa1(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{ZV(i,new Pe(e.toString()+"/"+r),t)})}class Ia1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&b4(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class ka1{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ia1(e);const r=1e4+2e4*Math.random();Wu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;b4(e,(i,s)=>{s>0&&(0,D.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Wu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var s6=(()=>{return(n=s6||(s6={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",s6;var n})();function QV(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class uv{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=s6.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ue(this.path)){if(null!=this.affectedTree.value)return(0,D.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Pe(e));return new uv(He(),t,this.revert)}}return(0,D.hu)(le(this.path)===e,"operationForChild called for unrelated child."),new uv(Qe(this.path),this.affectedTree,this.revert)}}class tf{constructor(e,t){this.source=e,this.path=t,this.type=s6.LISTEN_COMPLETE}operationForChild(e){return ue(this.path)?new tf(this.source,He()):new tf(this.source,Qe(this.path))}}class Ls{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=s6.OVERWRITE}operationForChild(e){return ue(this.path)?new Ls(this.source,He(),this.snap.getImmediateChild(e)):new Ls(this.source,Qe(this.path),this.snap)}}class y7{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=s6.MERGE}operationForChild(e){if(ue(this.path)){const t=this.children.subtree(new Pe(e));return t.isEmpty()?null:t.value?new Ls(this.source,He(),t.value):new y7(this.source,He(),t)}return(0,D.hu)(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new y7(this.source,Qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class pi{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ue(e))return this.isFullyInitialized()&&!this.filtered_;const t=le(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Pa1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nf(n,e,t,r,i,s){const u=r.filter(h=>h.type===t);u.sort((h,C)=>function Fa1(n,e,t){if(null==e.childName||null==t.childName)throw(0,D.g5)("Should only compare child_ events.");const r=new fe(e.childName,e.snapshotNode),i=new fe(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,C)),u.forEach(h=>{const C=function Oa1(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);i.forEach(v=>{v.respondsTo(h.type)&&e.push(v.createEvent(C,n.query_))})})}function fv(n,e){return{eventCache:n,serverCache:e}}function rf(n,e,t,r){return fv(new pi(e,t,r),n.serverCache)}function IO(n,e,t,r){return fv(n.eventCache,new pi(e,t,r))}function hv(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function bs(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let JV;class s3{constructor(e,t=(()=>(JV||(JV=new Jt(zs1)),JV))()){this.value=e,this.children=t}static fromObject(e){let t=new s3(null);return b4(e,(r,i)=>{t=t.set(new Pe(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:He(),value:this.value};if(ue(e))return null;{const r=le(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Qe(e),t);return null!=s?{path:g3(new Pe(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ue(e))return this;{const t=le(e),r=this.children.get(t);return null!==r?r.subtree(Qe(e)):new s3(null)}}set(e,t){if(ue(e))return new s3(t,this.children);{const r=le(e),s=(this.children.get(r)||new s3(null)).set(Qe(e),t),u=this.children.insert(r,s);return new s3(this.value,u)}}remove(e){if(ue(e))return this.children.isEmpty()?new s3(null):new s3(null,this.children);{const t=le(e),r=this.children.get(t);if(r){const i=r.remove(Qe(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new s3(null):new s3(this.value,s)}return this}}get(e){if(ue(e))return this.value;{const t=le(e),r=this.children.get(t);return r?r.get(Qe(e)):null}}setTree(e,t){if(ue(e))return t;{const r=le(e),s=(this.children.get(r)||new s3(null)).setTree(Qe(e),t);let u;return u=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new s3(this.value,u)}}fold(e){return this.fold_(He(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(g3(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,He(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(ue(e))return null;{const s=le(e),u=this.children.get(s);return u?u.findOnPath_(Qe(e),g3(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,He(),t)}foreachOnPath_(e,t,r){if(ue(e))return this;{this.value&&r(t,this.value);const i=le(e),s=this.children.get(i);return s?s.foreachOnPath_(Qe(e),g3(t,i),r):new s3(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(g3(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class $6{constructor(e){this.writeTree_=e}static empty(){return new $6(new s3(null))}}function sf(n,e,t){if(ue(e))return new $6(new s3(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const u=zt(i,e);return s=s.updateChild(u,t),new $6(n.writeTree_.set(i,s))}{const i=new s3(t),s=n.writeTree_.setTree(e,i);return new $6(s)}}}function XV(n,e,t){let r=n;return b4(t,(i,s)=>{r=sf(r,g3(e,i),s)}),r}function NO(n,e){if(ue(e))return $6.empty();{const t=n.writeTree_.setTree(e,new s3(null));return new $6(t)}}function eS(n,e){return null!=zs(n,e)}function zs(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(zt(t.path,e)):null}function DO(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(i3,(r,i)=>{e.push(new fe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new fe(r,i.value))}),e}function mi(n,e){if(ue(e))return n;{const t=zs(n,e);return new $6(null!=t?new s3(t):n.writeTree_.subtree(e))}}function tS(n){return n.writeTree_.isEmpty()}function _7(n,e){return kO(He(),n.writeTree_,e)}function kO(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,D.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=kO(g3(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(g3(n,".priority"),r)),t}}function dv(n,e){return UO(e,n)}function Wa1(n,e){if(n.snap)return i6(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&i6(g3(n.path,t),e))return!0;return!1}function Za1(n){return n.visible}function PO(n,e,t){let r=$6.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const u=s.path;let h;if(s.snap)i6(t,u)?(h=zt(t,u),r=sf(r,h,s.snap)):i6(u,t)&&(h=zt(u,t),r=sf(r,He(),s.snap.getChild(h)));else{if(!s.children)throw(0,D.g5)("WriteRecord should have .snap or .children");if(i6(t,u))h=zt(t,u),r=XV(r,h,s.children);else if(i6(u,t))if(h=zt(u,t),ue(h))r=XV(r,He(),s.children);else{const C=(0,D.DV)(s.children,le(h));if(C){const v=C.getChild(Qe(h));r=sf(r,He(),v)}}}}}return r}function RO(n,e,t,r,i){if(r||i){const s=mi(n.visibleWrites,e);return!i&&tS(s)?t:i||null!=t||eS(s,He())?_7(PO(n.allWrites,function(v){return(v.visible||i)&&(!r||!~r.indexOf(v.writeId))&&(i6(v.path,e)||i6(e,v.path))},e),t||J2.EMPTY_NODE):null}{const s=zs(n.visibleWrites,e);if(null!=s)return s;{const u=mi(n.visibleWrites,e);return tS(u)?t:null!=t||eS(u,He())?_7(u,t||J2.EMPTY_NODE):null}}}function Cv(n,e,t,r){return RO(n.writeTree,n.treePath,e,t,r)}function nS(n,e){return function Ka1(n,e,t){let r=J2.EMPTY_NODE;const i=zs(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(i3,(s,u)=>{r=r.updateImmediateChild(s,u)}),r;if(t){const s=mi(n.visibleWrites,e);return t.forEachChild(i3,(u,h)=>{const C=_7(mi(s,new Pe(u)),h);r=r.updateImmediateChild(u,C)}),DO(s).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}return DO(mi(n.visibleWrites,e)).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}(n.writeTree,n.treePath,e)}function OO(n,e,t,r){return function Ya1(n,e,t,r,i){(0,D.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=g3(e,t);if(eS(n.visibleWrites,s))return null;{const u=mi(n.visibleWrites,s);return tS(u)?i.getChild(t):_7(u,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function pv(n,e){return function Ja1(n,e){return zs(n.visibleWrites,e)}(n.writeTree,g3(n.treePath,e))}function rS(n,e,t){return function Qa1(n,e,t,r){const i=g3(e,t),s=zs(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?_7(mi(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function FO(n,e){return UO(g3(n.treePath,e),n.writeTree)}function UO(n,e){return{treePath:n,writeTree:e}}class no1{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,D.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,D.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,Xu(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,Ju(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,g7(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,D.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Xu(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const BO=new class ro1{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class iS{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new pi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rS(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:bs(this.viewCache_),s=function to1(n,e,t,r,i,s){return function Xa1(n,e,t,r,i,s,u){let h;const C=mi(n.visibleWrites,e),v=zs(C,He());if(null!=v)h=v;else{if(null==t)return[];h=_7(C,t)}if(h=h.withIndex(u),h.isEmpty()||h.isLeafNode())return[];{const b=[],z=u.getCompare(),S=s?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let E=S.getNext();for(;E&&b.length<i;)0!==z(E,r)&&b.push(E),E=S.getNext();return b}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function jO(n,e,t,r,i,s){const u=e.eventCache;if(null!=pv(r,t))return e;{let h,C;if(ue(t))if((0,D.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=bs(e),z=nS(r,v instanceof J2?v:J2.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),z,s)}else{const v=Cv(r,bs(e));h=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=le(t);if(".priority"===v){(0,D.hu)(1===Ci(t),"Can't have a priority with additional path components");const b=u.getNode();C=e.serverCache.getNode();const z=OO(r,t,b,C);h=null!=z?n.filter.updatePriority(b,z):u.getNode()}else{const b=Qe(t);let z;if(u.isCompleteForChild(v)){C=e.serverCache.getNode();const S=OO(r,t,u.getNode(),C);z=null!=S?u.getNode().getImmediateChild(v).updateChild(b,S):u.getNode().getImmediateChild(v)}else z=rS(r,v,e.serverCache);h=null!=z?n.filter.updateChild(u.getNode(),v,z,b,i,s):u.getNode()}}return rf(e,h,u.isFullyInitialized()||ue(t),n.filter.filtersNodes())}}function mv(n,e,t,r,i,s,u,h){const C=e.serverCache;let v;const b=u?n.filter:n.filter.getIndexedFilter();if(ue(t))v=b.updateFullNode(C.getNode(),r,null);else if(b.filtersNodes()&&!C.isFiltered()){const E=C.getNode().updateChild(t,r);v=b.updateFullNode(C.getNode(),E,null)}else{const E=le(t);if(!C.isCompleteForPath(t)&&Ci(t)>1)return e;const I=Qe(t),o1=C.getNode().getImmediateChild(E).updateChild(I,r);v=".priority"===E?b.updatePriority(C.getNode(),o1):b.updateChild(C.getNode(),E,o1,I,BO,null)}const z=IO(e,v,C.isFullyInitialized()||ue(t),b.filtersNodes());return jO(n,z,t,i,new iS(i,z,s),h)}function sS(n,e,t,r,i,s,u){const h=e.eventCache;let C,v;const b=new iS(i,e,s);if(ue(t))v=n.filter.updateFullNode(e.eventCache.getNode(),r,u),C=rf(e,v,!0,n.filter.filtersNodes());else{const z=le(t);if(".priority"===z)v=n.filter.updatePriority(e.eventCache.getNode(),r),C=rf(e,v,h.isFullyInitialized(),h.isFiltered());else{const S=Qe(t),E=h.getNode().getImmediateChild(z);let I;if(ue(S))I=r;else{const K=b.getCompleteChild(z);I=null!=K?".priority"===DV(S)&&K.getChild(pO(S)).isEmpty()?K:K.updateChild(S,r):J2.EMPTY_NODE}C=E.equals(I)?e:rf(e,n.filter.updateChild(h.getNode(),z,I,S,b,u),h.isFullyInitialized(),n.filter.filtersNodes())}}return C}function qO(n,e){return n.eventCache.isCompleteForChild(e)}function GO(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function aS(n,e,t,r,i,s,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,C=e;v=ue(t)?r:new s3(null).setTree(t,r);const b=e.serverCache.getNode();return v.children.inorderTraversal((z,S)=>{if(b.hasChild(z)){const I=GO(0,e.serverCache.getNode().getImmediateChild(z),S);C=mv(n,C,new Pe(z),I,i,s,u,h)}}),v.children.inorderTraversal((z,S)=>{const E=!e.serverCache.isCompleteForChild(z)&&void 0===S.value;if(!b.hasChild(z)&&!E){const K=GO(0,e.serverCache.getNode().getImmediateChild(z),S);C=mv(n,C,new Pe(z),K,i,s,u,h)}}),C}class ho1{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new qV(r.getIndex()),s=function Va1(n){return n.loadsAllData()?new qV(n.getIndex()):n.hasLimit()?new wa1(n):new ef(n)}(r);this.processor_=function io1(n){return{filter:n}}(s);const u=t.serverCache,h=t.eventCache,C=i.updateFullNode(J2.EMPTY_NODE,u.getNode(),null),v=s.updateFullNode(J2.EMPTY_NODE,h.getNode(),null),b=new pi(C,u.isFullyInitialized(),i.filtersNodes()),z=new pi(v,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=fv(z,b),this.eventGenerator_=new Pa1(this.query_)}get query(){return this.query_}}function po1(n,e){const t=bs(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ue(e)&&!t.getImmediateChild(le(e)).isEmpty())?t.getChild(e):null}function WO(n){return 0===n.eventRegistrations_.length}function $O(n,e,t){const r=[];if(t){(0,D.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const u=s.createCancelEvent(t,i);u&&r.push(u)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const u=n.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(u)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function ZO(n,e,t,r){e.type===s6.MERGE&&null!==e.source.queryId&&((0,D.hu)(bs(n.viewCache_),"We should always have a full cache before handling merges"),(0,D.hu)(hv(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function ao1(n,e,t,r,i){const s=new no1;let u,h;if(t.type===s6.OVERWRITE){const v=t;v.source.fromUser?u=sS(n,e,v.path,v.snap,r,i,s):((0,D.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered()&&!ue(v.path),u=mv(n,e,v.path,v.snap,r,i,h,s))}else if(t.type===s6.MERGE){const v=t;v.source.fromUser?u=function co1(n,e,t,r,i,s,u){let h=e;return r.foreach((C,v)=>{const b=g3(t,C);qO(e,le(b))&&(h=sS(n,h,b,v,i,s,u))}),r.foreach((C,v)=>{const b=g3(t,C);qO(e,le(b))||(h=sS(n,h,b,v,i,s,u))}),h}(n,e,v.path,v.children,r,i,s):((0,D.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered(),u=aS(n,e,v.path,v.children,r,i,h,s))}else if(t.type===s6.ACK_USER_WRITE){const v=t;u=v.revert?function fo1(n,e,t,r,i,s){let u;if(null!=pv(r,t))return e;{const h=new iS(r,e,i),C=e.eventCache.getNode();let v;if(ue(t)||".priority"===le(t)){let b;if(e.serverCache.isFullyInitialized())b=Cv(r,bs(e));else{const z=e.serverCache.getNode();(0,D.hu)(z instanceof J2,"serverChildren would be complete if leaf node"),b=nS(r,z)}b=b,v=n.filter.updateFullNode(C,b,s)}else{const b=le(t);let z=rS(r,b,e.serverCache);null==z&&e.serverCache.isCompleteForChild(b)&&(z=C.getImmediateChild(b)),v=null!=z?n.filter.updateChild(C,b,z,Qe(t),h,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(C,b,J2.EMPTY_NODE,Qe(t),h,s):C,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Cv(r,bs(e)),u.isLeafNode()&&(v=n.filter.updateFullNode(v,u,s)))}return u=e.serverCache.isFullyInitialized()||null!=pv(r,He()),rf(e,v,u,n.filter.filtersNodes())}}(n,e,v.path,r,i,s):function lo1(n,e,t,r,i,s,u){if(null!=pv(i,t))return e;const h=e.serverCache.isFiltered(),C=e.serverCache;if(null!=r.value){if(ue(t)&&C.isFullyInitialized()||C.isCompleteForPath(t))return mv(n,e,t,C.getNode().getChild(t),i,s,h,u);if(ue(t)){let v=new s3(null);return C.getNode().forEachChild(O5,(b,z)=>{v=v.set(new Pe(b),z)}),aS(n,e,t,v,i,s,h,u)}return e}{let v=new s3(null);return r.foreach((b,z)=>{const S=g3(t,b);C.isCompleteForPath(S)&&(v=v.set(b,C.getNode().getChild(S)))}),aS(n,e,t,v,i,s,h,u)}}(n,e,v.path,v.affectedTree,r,i,s)}else{if(t.type!==s6.LISTEN_COMPLETE)throw(0,D.g5)("Unknown operation type: "+t.type);u=function uo1(n,e,t,r,i){const s=e.serverCache;return jO(n,IO(e,s.getNode(),s.isFullyInitialized()||ue(t),s.isFiltered()),t,r,BO,i)}(n,e,t.path,r,s)}const C=s.getChanges();return function oo1(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=hv(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(xO(hv(e)))}}(e,u,C),{viewCache:u,changes:C}}(n.processor_,i,e,t,r);return function so1(n,e){(0,D.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,D.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,D.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,KO(n,s.changes,s.viewCache.eventCache.getNode(),null)}function KO(n,e,t,r){return function Ra1(n,e,t,r){const i=[],s=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&s.push(function za1(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),nf(n,i,"child_removed",e,r,t),nf(n,i,"child_added",e,r,t),nf(n,i,"child_moved",s,r,t),nf(n,i,"child_changed",e,r,t),nf(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let gv,yv;class YO{constructor(){this.views=new Map}}function oS(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,D.hu)(null!=s,"SyncTree gave us an op for an invalid query."),ZO(s,e,t,r)}{let s=[];for(const u of n.views.values())s=s.concat(ZO(u,e,t,r));return s}}function QO(n,e,t,r,i){const u=n.views.get(e._queryIdentifier);if(!u){let h=Cv(t,i?r:null),C=!1;h?C=!0:r instanceof J2?(h=nS(t,r),C=!1):(h=J2.EMPTY_NODE,C=!1);const v=fv(new pi(h,C,!1),new pi(r,i,!1));return new ho1(e,v)}return u}function JO(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function gi(n,e){let t=null;for(const r of n.views.values())t=t||po1(r,e);return t}function XO(n,e){return e._queryParams.loadsAllData()?vv(n):n.views.get(e._queryIdentifier)}function eF(n,e){return null!=XO(n,e)}function vi(n){return null!=vv(n)}function vv(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let wo1=1;class tF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new s3(null),this.pendingWriteTree_=function eo1(){return{visibleWrites:$6.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cS(n,e,t,r,i){return function Ba1(n,e,t,r,i){(0,D.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=sf(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?M7(n,new Ls({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function yi(n,e,t=!1){const r=function qa1(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function Ga1(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,D.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,u=n.allWrites.length-1;for(;i&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=t&&Wa1(h,r.path)?i=!1:i6(r.path,h.path)&&(s=!0)),u--}return!!i&&(s?(function $a1(n){n.visibleWrites=PO(n.allWrites,Za1,He()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=NO(n.visibleWrites,r.path):b4(r.children,C=>{n.visibleWrites=NO(n.visibleWrites,g3(r.path,C))}),!0))}(n.pendingWriteTree_,e)){let s=new s3(null);return null!=r.snap?s=s.set(He(),!0):b4(r.children,u=>{s=s.set(new Pe(u),!0)}),M7(n,new uv(r.path,s,t))}return[]}function af(n,e,t){return M7(n,new Ls({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function lS(n,e,t,r){const i=e._path,s=n.syncPointTree_.get(i);let u=[];if(s&&("default"===e._queryIdentifier||eF(s,e))){const h=function Lo1(n,e,t,r){const i=e._queryIdentifier,s=[];let u=[];const h=vi(n);if("default"===i)for(const[C,v]of n.views.entries())u=u.concat($O(v,t,r)),WO(v)&&(n.views.delete(C),v.query._queryParams.loadsAllData()||s.push(v.query));else{const C=n.views.get(i);C&&(u=u.concat($O(C,t,r)),WO(C)&&(n.views.delete(i),C.query._queryParams.loadsAllData()||s.push(C.query)))}return h&&!vi(n)&&s.push(new(function yo1(){return(0,D.hu)(gv,"Reference.ts has not been loaded"),gv}())(e._repo,e._path)),{removed:s,events:u}}(s,e,t,r);(function _o1(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(i));const C=h.removed;u=h.events;const v=-1!==C.findIndex(z=>z._queryParams.loadsAllData()),b=n.syncPointTree_.findOnPath(i,(z,S)=>vi(S));if(v&&!b){const z=n.syncPointTree_.subtree(i);if(!z.isEmpty()){const S=function Io1(n){return n.fold((e,t,r)=>{if(t&&vi(t))return[vv(t)];{let i=[];return t&&(i=JO(t)),b4(r,(s,u)=>{i=i.concat(u)}),i}})}(z);for(let E=0;E<S.length;++E){const I=S[E],K=I.query,o1=sF(n,I);n.listenProvider_.startListening(cf(K),Mv(n,K),o1.hashFn,o1.onComplete)}}}!b&&C.length>0&&!r&&(v?n.listenProvider_.stopListening(cf(e),null):C.forEach(z=>{const S=n.queryToTagMap.get(Lv(z));n.listenProvider_.stopListening(cf(z),S)})),function No1(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=Lv(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,C)}return u}function nF(n,e,t){const r=e._path;let i=null,s=!1;n.syncPointTree_.foreachOnPath(r,(z,S)=>{const E=zt(z,r);i=i||gi(S,E),s=s||vi(S)});let h,u=n.syncPointTree_.get(r);u?(s=s||vi(u),i=i||gi(u,He())):(u=new YO,n.syncPointTree_=n.syncPointTree_.set(r,u)),null!=i?h=!0:(h=!1,i=J2.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((S,E)=>{const I=gi(E,He());I&&(i=i.updateImmediateChild(S,I))}));const C=eF(u,e);if(!C&&!e._queryParams.loadsAllData()){const z=Lv(e);(0,D.hu)(!n.queryToTagMap.has(z),"View does not exist, but we have a tag");const S=function Do1(){return wo1++}();n.queryToTagMap.set(z,S),n.tagToQueryMap.set(S,z)}let b=function Mo1(n,e,t,r,i,s){const u=QO(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function mo1(n,e){n.eventRegistrations_.push(e)}(u,t),function go1(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(i3,(s,u)=>{r.push(g7(s,u))}),t.isFullyInitialized()&&r.push(xO(t.getNode())),KO(n,r,t.getNode(),e)}(u,t)}(u,e,t,dv(n.pendingWriteTree_,r),i,h);if(!C&&!s){const z=XO(u,e);b=b.concat(function ko1(n,e,t){const r=e._path,i=Mv(n,e),s=sF(n,t),u=n.listenProvider_.startListening(cf(e),i,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(r);if(i)(0,D.hu)(!vi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const C=h.fold((v,b,z)=>{if(!ue(v)&&b&&vi(b))return[vv(b).query];{let S=[];return b&&(S=S.concat(JO(b).map(E=>E.query))),b4(z,(E,I)=>{S=S.concat(I)}),S}});for(let v=0;v<C.length;++v){const b=C[v];n.listenProvider_.stopListening(cf(b),Mv(n,b))}}return u}(n,e,z))}return b}function _v(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(u,h)=>{const v=gi(h,zt(u,e));if(v)return v});return RO(i,e,s,t,!0)}function M7(n,e){return rF(e,n.syncPointTree_,null,dv(n.pendingWriteTree_,He()))}function rF(n,e,t,r){if(ue(n.path))return iF(n,e,t,r);{const i=e.get(He());null==t&&null!=i&&(t=gi(i,He()));let s=[];const u=le(n.path),h=n.operationForChild(u),C=e.children.get(u);if(C&&h){const v=t?t.getImmediateChild(u):null,b=FO(r,u);s=s.concat(rF(h,C,v,b))}return i&&(s=s.concat(oS(i,n,r,t))),s}}function iF(n,e,t,r){const i=e.get(He());null==t&&null!=i&&(t=gi(i,He()));let s=[];return e.children.inorderTraversal((u,h)=>{const C=t?t.getImmediateChild(u):null,v=FO(r,u),b=n.operationForChild(u);b&&(s=s.concat(iF(b,h,C,v)))}),i&&(s=s.concat(oS(i,n,r,t))),s}function sF(n,e){const t=e.query,r=Mv(n,t);return{hashFn:()=>(function do1(n){return n.viewCache_.serverCache.getNode()}(e)||J2.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function xo1(n,e,t){const r=uS(n,t);if(r){const i=fS(r),s=i.path,u=i.queryId,h=zt(s,e);return hS(n,s,new tf(QV(u),h))}return[]}(n,t._path,r):function Ho1(n,e){return M7(n,new tf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Ss1(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return lS(n,t,null,s)}}}}function Mv(n,e){const t=Lv(e);return n.queryToTagMap.get(t)}function Lv(n){return n._path.toString()+"$"+n._queryIdentifier}function uS(n,e){return n.tagToQueryMap.get(e)}function fS(n){const e=n.indexOf("$");return(0,D.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Pe(n.substr(0,e))}}function hS(n,e,t){const r=n.syncPointTree_.get(e);return(0,D.hu)(r,"Missing sync point for query tag that we're tracking"),oS(r,t,dv(n.pendingWriteTree_,e),null)}function cf(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function zo1(){return(0,D.hu)(yv,"Reference.ts has not been loaded"),yv}())(n._repo,n._path):n}class dS{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new dS(t)}node(){return this.node_}}class CS{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=g3(this.path_,e);return new CS(this.syncTree_,t)}node(){return _v(this.syncTree_,this.path_)}}const aF=function(n,e,t){return n&&"object"==typeof n?((0,D.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Ro1(n[".sv"],e,t):"object"==typeof n[".sv"]?Oo1(n[".sv"],e):void(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Ro1=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,D.hu)(!1,"Unexpected server value: "+n)},Oo1=function(n,e,t){n.hasOwnProperty("increment")||(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,D.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,D.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const u=i.getValue();return"number"!=typeof u?r:u+r},oF=function(n,e,t,r){return mS(e,new CS(t,n),r)},pS=function(n,e,t){return mS(n,new dS(e),t)};function mS(n,e,t){const r=n.getPriority().val(),i=aF(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const u=n,h=aF(u.getValue(),e,t);return h!==u.getValue()||i!==u.getPriority().val()?new C7(h,w3(i)):n}{const u=n;return s=u,i!==u.getPriority().val()&&(s=s.updatePriority(new C7(i))),u.forEachChild(i3,(h,C)=>{const v=mS(C,e.getImmediateChild(h),t);v!==C&&(s=s.updateImmediateChild(h,v))}),s}}class gS{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function bv(n,e){let t=e instanceof Pe?e:new Pe(e),r=n,i=le(t);for(;null!==i;){const s=(0,D.DV)(r.node.children,i)||{children:{},childCount:0};r=new gS(i,r,s),t=Qe(t),i=le(t)}return r}function ws(n){return n.node.value}function vS(n,e){n.node.value=e,yS(n)}function cF(n){return n.node.childCount>0}function zv(n,e){b4(n.node.children,(t,r)=>{e(new gS(t,n,r))})}function lF(n,e,t,r){t&&!r&&e(n),zv(n,i=>{lF(i,e,!0,r)}),t&&r&&e(n)}function lf(n){return new Pe(null===n.parent?n.name:lf(n.parent)+"/"+n.name)}function yS(n){null!==n.parent&&function Bo1(n,e,t){const r=function Fo1(n){return void 0===ws(n)&&!cF(n)}(t),i=(0,D.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,yS(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,yS(n))}(n.parent,n.name,n)}const jo1=/[\[\].#$\/\u0000-\u001F\u007F]/,qo1=/[\[\].#$\u0000-\u001F\u007F]/,_S=10485760,wv=function(n){return"string"==typeof n&&0!==n.length&&!jo1.test(n)},uF=function(n){return"string"==typeof n&&0!==n.length&&!qo1.test(n)},uf=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Qg(n)||n&&"object"==typeof n&&(0,D.r3)(n,".sv")},F5=function(n,e,t,r){r&&void 0===e||ff((0,D.gK)(n,"value"),e,t)},ff=function(n,e,t){const r=t instanceof Pe?new ia1(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+_s(r));if("function"==typeof e)throw new Error(n+"contains a function "+_s(r)+" with contents = "+e.toString());if(Qg(e))throw new Error(n+"contains "+e.toString()+" "+_s(r));if("string"==typeof e&&e.length>_S/3&&(0,D.ug)(e)>_S)throw new Error(n+"contains a string greater than "+_S+" utf8 bytes "+_s(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(b4(e,(u,h)=>{if(".value"===u)i=!0;else if(".priority"!==u&&".sv"!==u&&(s=!0,!wv(u)))throw new Error(n+" contains an invalid key ("+u+") "+_s(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function sa1(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,D.ug)(e),mO(n)})(r,u),ff(n,h,r),function aa1(n){const e=n.parts_.pop();n.byteLength_-=(0,D.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+_s(r)+" in addition to actual children.")}},fF=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,D.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];b4(e,(u,h)=>{const C=new Pe(u);if(ff(i,h,g3(t,C)),".priority"===DV(C)&&!uf(h))throw new Error(i+"contains an invalid value for '"+C.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(C)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=Zu(r);for(let u=0;u<s.length;u++)if((".priority"!==s[u]||u!==s.length-1)&&!wv(s[u]))throw new Error(n+"contains an invalid key ("+s[u]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(ra1);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&i6(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},MS=function(n,e,t){if(!t||void 0!==e){if(Qg(e))throw new Error((0,D.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!uf(e))throw new Error((0,D.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},hf=function(n,e,t,r){if(!(r&&void 0===t||wv(t)))throw new Error((0,D.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},df=function(n,e,t,r){if(!(r&&void 0===t||uF(t)))throw new Error((0,D.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},a6=function(n,e){if(".info"===le(e))throw new Error(n+" failed = Can't modify data under /.info/")},hF=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!wv(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),uF(n)}(t))throw new Error((0,D.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Zo1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vv(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!kV(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function LS(n,e,t){Vv(n,t),dF(n,r=>kV(r,e))}function o6(n,e,t){Vv(n,t),dF(n,r=>i6(r,e)||i6(e,r))}function dF(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(Ko1(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Ko1(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();vs&&L4("event: "+t.toString()),h7(r)}}}const CF="repo_interrupt";class Qo1{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zo1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lv(),this.transactionQueueTree_=new gS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pF(n){const t=n.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Cf(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:pF(n)})}function mF(n,e,t,r,i){n.dataUpdateCount++;const s=new Pe(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(i)if(r){const C=(0,D.UI)(t,v=>w3(v));u=function To1(n,e,t,r){const i=uS(n,r);if(i){const s=fS(i),u=s.path,h=s.queryId,C=zt(u,e),v=s3.fromObject(t);return hS(n,u,new y7(QV(h),C,v))}return[]}(n.serverSyncTree_,s,C,i)}else{const C=w3(t);u=function Eo1(n,e,t,r){const i=uS(n,r);if(null!=i){const s=fS(i),u=s.path,h=s.queryId,C=zt(u,e);return hS(n,u,new Ls(QV(h),C,t))}return[]}(n.serverSyncTree_,s,C,i)}else if(r){const C=(0,D.UI)(t,v=>w3(v));u=function So1(n,e,t){const r=s3.fromObject(t);return M7(n,new y7({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,C)}else{const C=w3(t);u=af(n.serverSyncTree_,s,C)}let h=s;u.length>0&&(h=b7(n,s)),o6(n.eventQueue_,h,u)}function gF(n,e){bS(n,"connected",e),!1===e&&function n71(n){L7(n,"onDisconnectEvents");const e=Cf(n),t=lv();ZV(n.onDisconnect_,He(),(i,s)=>{const u=oF(i,s,n.serverSyncTree_,e);v7(t,i,u)});let r=[];ZV(t,He(),(i,s)=>{r=r.concat(af(n.serverSyncTree_,i,s));const u=SS(n,i);b7(n,u)}),n.onDisconnect_=lv(),o6(n.eventQueue_,He(),r)}(n)}function bS(n,e,t){const r=new Pe("/.info/"+e),i=w3(t);n.infoData_.updateSnapshot(r,i);const s=af(n.infoSyncTree_,r,i);o6(n.eventQueue_,r,s)}function Sv(n){return n.nextWriteId_++}function zS(n,e,t,r,i){L7(n,"set",{path:e.toString(),value:t,priority:r});const s=Cf(n),u=w3(t,r),h=_v(n.serverSyncTree_,e),C=pS(u,h,s),v=Sv(n),b=cS(n.serverSyncTree_,e,C,v,!0);Vv(n.eventQueue_,b),n.server_.put(e.toString(),u.val(!0),(S,E)=>{const I="ok"===S;I||rt("set at "+e+" failed: "+S);const K=yi(n.serverSyncTree_,v,!I);o6(n.eventQueue_,e,K),_i(0,i,S,E)});const z=SS(n,e);b7(n,z),o6(n.eventQueue_,z,[])}function r71(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&$V(n.onDisconnect_,e),_i(0,t,r,i)})}function vF(n,e,t,r){const i=w3(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,u)=>{"ok"===s&&v7(n.onDisconnect_,e,i),_i(0,r,s,u)})}function wS(n,e,t){let r;r=".info"===le(e._path)?lS(n.infoSyncTree_,e,t):lS(n.serverSyncTree_,e,t),LS(n.eventQueue_,e._path,r)}function yF(n){n.persistentConnection_&&n.persistentConnection_.interrupt(CF)}function L7(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),L4(t,...e)}function _i(n,e,t,r){e&&h7(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const u=new Error(s);u.code=i,e(u)}})}function VS(n,e,t){return _v(n.serverSyncTree_,e,t)||J2.EMPTY_NODE}function Hv(n,e=n.transactionQueueTree_){if(e||xv(n,e),ws(e)){const t=MF(n,e);(0,D.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function l71(n,e,t){const r=t.map(v=>v.currentWriteId),i=VS(n,e,r);let s=i;const u=i.hash();for(let v=0;v<t.length;v++){const b=t[v];(0,D.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const z=zt(e,b.path);s=s.updateChild(z,b.currentOutputSnapshotRaw)}const h=s.val(!0),C=e;n.server_.put(C.toString(),h,v=>{L7(n,"transaction put response",{path:C.toString(),status:v});let b=[];if("ok"===v){const z=[];for(let S=0;S<t.length;S++)t[S].status=2,b=b.concat(yi(n.serverSyncTree_,t[S].currentWriteId)),t[S].onComplete&&z.push(()=>t[S].onComplete(null,!0,t[S].currentOutputSnapshotResolved)),t[S].unwatcher();xv(n,bv(n.transactionQueueTree_,e)),Hv(n,n.transactionQueueTree_),o6(n.eventQueue_,e,b);for(let S=0;S<z.length;S++)h7(z[S])}else{if("datastale"===v)for(let z=0;z<t.length;z++)t[z].status=3===t[z].status?4:0;else{rt("transaction at "+C.toString()+" failed: "+v);for(let z=0;z<t.length;z++)t[z].status=4,t[z].abortReason=v}b7(n,e)}},u)}(n,lf(e),t)}else cF(e)&&zv(e,t=>{Hv(n,t)})}function b7(n,e){const t=_F(n,e),r=lf(t);return function u71(n,e,t){if(0===e.length)return;const r=[];let i=[];const u=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const C=e[h],v=zt(t,C.path);let z,b=!1;if((0,D.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===C.status)b=!0,z=C.abortReason,i=i.concat(yi(n.serverSyncTree_,C.currentWriteId,!0));else if(0===C.status)if(C.retryCount>=25)b=!0,z="maxretry",i=i.concat(yi(n.serverSyncTree_,C.currentWriteId,!0));else{const S=VS(n,C.path,u);C.currentInputSnapshot=S;const E=e[h].update(S.val());if(void 0!==E){ff("transaction failed: Data returned ",E,C.path);let I=w3(E);"object"==typeof E&&null!=E&&(0,D.r3)(E,".priority")||(I=I.updatePriority(S.getPriority()));const o1=C.currentWriteId,R1=Cf(n),U1=pS(I,S,R1);C.currentOutputSnapshotRaw=I,C.currentOutputSnapshotResolved=U1,C.currentWriteId=Sv(n),u.splice(u.indexOf(o1),1),i=i.concat(cS(n.serverSyncTree_,C.path,U1,C.currentWriteId,C.applyLocally)),i=i.concat(yi(n.serverSyncTree_,o1,!0))}else b=!0,z="nodata",i=i.concat(yi(n.serverSyncTree_,C.currentWriteId,!0))}o6(n.eventQueue_,t,i),i=[],b&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===z?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(z),!1,null)))}xv(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)h7(r[h]);Hv(n,n.transactionQueueTree_)}(n,MF(n,t),r),r}function _F(n,e){let t,r=n.transactionQueueTree_;for(t=le(e);null!==t&&void 0===ws(r);)r=bv(r,t),t=le(e=Qe(e));return r}function MF(n,e){const t=[];return LF(n,e,t),t.sort((r,i)=>r.order-i.order),t}function LF(n,e,t){const r=ws(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);zv(e,i=>{LF(n,i,t)})}function xv(n,e){const t=ws(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,vS(e,t.length>0?t:void 0)}zv(e,r=>{xv(n,r)})}function SS(n,e){const t=lf(_F(n,e)),r=bv(n.transactionQueueTree_,e);return function Uo1(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{HS(n,i)}),HS(n,r),lF(r,i=>{HS(n,i)}),t}function HS(n,e){const t=ws(e);if(t){const r=[];let i=[],s=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,D.hu)(s===u-1,"All SENT items should be at beginning of queue."),s=u,t[u].status=3,t[u].abortReason="set"):((0,D.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),i=i.concat(yi(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&r.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===s?vS(e,void 0):t.length=s+1,o6(n.eventQueue_,lf(e),i);for(let u=0;u<r.length;u++)h7(r[u])}}const xS=function(n,e){const t=d71(n),r=t.namespace;return"firebase.com"===t.domain&&P5(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&P5("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new xV(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Pe(t.pathString)}},d71=function(n){let e="",t="",r="",i="",s="",u=!0,h="https",C=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let b=n.indexOf("/");-1===b&&(b=n.length);let z=n.indexOf("?");-1===z&&(z=n.length),e=n.substring(0,Math.min(b,z)),b<z&&(i=function f71(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(b,z)));const S=function h71(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):rt(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,z)));v=e.indexOf(":"),v>=0?(u="https"===h||"wss"===h,C=parseInt(e.substring(v+1),10)):v=e.length;const E=e.slice(0,v);if("localhost"===E.toLowerCase())t="localhost";else if(E.split(".").length<=2)t=E;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),t=e.substring(I+1),s=r}"ns"in S&&(s=S.ns)}return{host:e,port:C,domain:t,subdomain:r,secure:u,scheme:h,pathString:i,namespace:s}};class bF{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,D.Pz)(this.snapshot.exportVal())}}class zF{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class wF{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,D.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class VF{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new D.BH;return r71(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){a6("OnDisconnect.remove",this._path);const e=new D.BH;return vF(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){a6("OnDisconnect.set",this._path),F5("OnDisconnect.set",e,this._path,!1);const t=new D.BH;return vF(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){a6("OnDisconnect.setWithPriority",this._path),F5("OnDisconnect.setWithPriority",e,this._path,!1),MS("OnDisconnect.setWithPriority",t,!1);const r=new D.BH;return function i71(n,e,t,r,i){const s=w3(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(u,h)=>{"ok"===u&&v7(n.onDisconnect_,e,s),_i(0,i,u,h)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){a6("OnDisconnect.update",this._path),fF("OnDisconnect.update",e,this._path,!1);const t=new D.BH;return function s71(n,e,t,r){if((0,D.xb)(t))return L4("onDisconnect().update() called with empty data.  Don't do anything."),void _i(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{"ok"===i&&b4(t,(u,h)=>{const C=w3(h);v7(n.onDisconnect_,g3(e,u),C)}),_i(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Xt{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ue(this._path)?null:DV(this._path)}get ref(){return new c6(this._repo,this._path)}get _queryIdentifier(){const e=TO(this._queryParams),t=VV(e);return"{}"===t?"default":t}get _queryObject(){return TO(this._queryParams)}isEqual(e){if(!((e=(0,D.m9)(e))instanceof Xt))return!1;const t=this._repo===e._repo,r=kV(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function na1(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function Ev(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Mi(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===O5){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==O8)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==R5)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===i3){if(null!=e&&!uf(e)||null!=t&&!uf(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,D.hu)(n.getIndex()instanceof UV||n.getIndex()===BV,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Tv(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class c6 extends Xt{constructor(e,t){super(e,t,new av,!1)}get parent(){const e=pO(this._path);return null===e?null:new c6(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Vs{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Pe(e),r=Ss(this.ref,e);return new Vs(this._node.getChild(t),r,i3)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Vs(i,Ss(this.ref,r),i3)))}hasChild(e){const t=new Pe(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function SF(n,e){return(n=(0,D.m9)(n))._checkNotDeleted("ref"),void 0!==e?Ss(n._root,e):n._root}function HF(n,e){(n=(0,D.m9)(n))._checkNotDeleted("refFromURL");const t=xS(e,n._repo.repoInfo_.nodeAdmin);hF("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&P5("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),SF(n,t.path.toString())}function Ss(n,e){return null===le((n=(0,D.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),df("child","path",t,!1)):df("child","path",e,!1),new c6(n._repo,g3(n._path,e));var t}function ES(n,e){n=(0,D.m9)(n),a6("set",n._path),F5("set",e,n._path,!1);const t=new D.BH;return zS(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function v71(n,e){fF("update",e,n._path,!1);const t=new D.BH;return function t71(n,e,t,r){L7(n,"update",{path:e.toString(),value:t});let i=!0;const s=Cf(n),u={};if(b4(t,(h,C)=>{i=!1,u[h]=oF(g3(e,h),w3(C),n.serverSyncTree_,s)}),i)L4("update() called with empty data.  Don't do anything."),_i(0,r,"ok",void 0);else{const h=Sv(n),C=function Vo1(n,e,t,r){!function ja1(n,e,t,r){(0,D.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=XV(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=s3.fromObject(t);return M7(n,new y7({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,u,h);Vv(n.eventQueue_,C),n.server_.merge(e.toString(),t,(v,b)=>{const z="ok"===v;z||rt("update at "+e+" failed: "+v);const S=yi(n.serverSyncTree_,h,!z),E=S.length>0?b7(n,e):e;o6(n.eventQueue_,E,S),_i(0,r,v,b)}),b4(t,v=>{const b=SS(n,g3(e,v));b7(n,b)}),o6(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function y71(n){return function e71(n,e){const t=function Ao1(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(v,b)=>{const z=zt(v,t);r=r||gi(b,z)});let i=n.syncPointTree_.get(t);i?r=r||gi(i,He()):(i=new YO,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,u=s?new pi(r,!0,!1):null;return function Co1(n){return hv(n.viewCache_)}(QO(i,e,dv(n.pendingWriteTree_,e._path),s?u.getNode():J2.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(r=>{const i=w3(r).withIndex(e._queryParams.getIndex()),s=af(n.serverSyncTree_,e._path,i);return LS(n.eventQueue_,e._path,s),Promise.resolve(i)},r=>(L7(n,"get for query "+(0,D.Pz)(e)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,D.m9)(n))._repo,n).then(e=>new Vs(e,new c6(n._repo,n._path),n._queryParams.getIndex()))}class Av{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new bF("value",this,new Vs(e.snapshotNode,new c6(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new zF(this,e,t):null}matches(e){return e instanceof Av&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Iv{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new zF(this,e,t):null}createEvent(e,t){(0,D.hu)(null!=e.childName,"Child events should have a childName.");const r=Ss(new c6(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new bF(e.type,this,new Vs(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Iv&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function pf(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const C=t,v=(b,z)=>{wS(n._repo,n,h),C(b,z)};v.userCallback=t.userCallback,v.context=t.context,t=v}const u=new wF(t,s||void 0),h="value"===e?new Av(u):new Iv(e,u);return function a71(n,e,t){let r;r=".info"===le(e._path)?nF(n.infoSyncTree_,e,t):nF(n.serverSyncTree_,e,t),LS(n.eventQueue_,e._path,r)}(n._repo,n,h),()=>wS(n._repo,n,h)}function TS(n,e,t,r){return pf(n,"value",e,t,r)}function xF(n,e,t,r){return pf(n,"child_added",e,t,r)}function EF(n,e,t,r){return pf(n,"child_changed",e,t,r)}function TF(n,e,t,r){return pf(n,"child_moved",e,t,r)}function AF(n,e,t,r){return pf(n,"child_removed",e,t,r)}function IF(n,e,t){let r=null;const i=t?new wF(t):null;"value"===e?r=new Av(i):e&&(r=new Iv(e,i)),wS(n._repo,n,r)}class Z6{}class NF extends Z6{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){F5("endAt",this._value,e._path,!0);const t=WV(e._queryParams,this._value,this._key);if(Tv(t),Mi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xt(e._repo,e._path,t,e._orderByCalled)}}class M71 extends Z6{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){F5("endBefore",this._value,e._path,!1);const t=function Ea1(n,e,t){let r,i;return n.index_===O5?("string"==typeof e&&(e=HO(e)),i=WV(n,e,t)):(r=null==t?O8:HO(t),i=WV(n,e,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(Tv(t),Mi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xt(e._repo,e._path,t,e._orderByCalled)}}class DF extends Z6{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){F5("startAt",this._value,e._path,!0);const t=GV(e._queryParams,this._value,this._key);if(Tv(t),Mi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Xt(e._repo,e._path,t,e._orderByCalled)}}class z71 extends Z6{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){F5("startAfter",this._value,e._path,!1);const t=function xa1(n,e,t){let r;if(n.index_===O5)"string"==typeof e&&(e=SO(e)),r=GV(n,e,t);else{let i;i=null==t?R5:SO(t),r=GV(n,e,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Tv(t),Mi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Xt(e._repo,e._path,t,e._orderByCalled)}}class V71 extends Z6{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xt(e._repo,e._path,function Sa1(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class H71 extends Z6{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xt(e._repo,e._path,function Ha1(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class E71 extends Z6{constructor(e){super(),this._path=e}_apply(e){Ev(e,"orderByChild");const t=new Pe(this._path);if(ue(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new UV(t),i=ov(e._queryParams,r);return Mi(i),new Xt(e._repo,e._path,i,!0)}}class A71 extends Z6{_apply(e){Ev(e,"orderByKey");const t=ov(e._queryParams,O5);return Mi(t),new Xt(e._repo,e._path,t,!0)}}class N71 extends Z6{_apply(e){Ev(e,"orderByPriority");const t=ov(e._queryParams,i3);return Mi(t),new Xt(e._repo,e._path,t,!0)}}class k71 extends Z6{_apply(e){Ev(e,"orderByValue");const t=ov(e._queryParams,BV);return Mi(t),new Xt(e._repo,e._path,t,!0)}}class R71 extends Z6{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(F5("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new NF(this._value,this._key)._apply(new DF(this._value,this._key)._apply(e))}}function K6(n,...e){let t=(0,D.m9)(n);for(const r of e)t=r._apply(t);return t}(function vo1(n){(0,D.hu)(!gv,"__referenceConstructor has already been defined"),gv=n})(c6),function bo1(n){(0,D.hu)(!yv,"__referenceConstructor has already been defined"),yv=n}(c6);const AS={};function PF(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||P5("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),L4("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let C,v,u=xS(s,i),h=u.repoInfo;"undefined"!=typeof process&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(C=!0,s=`http://${v}?ns=${h.namespace}`,u=xS(s,i),h=u.repoInfo):C=!u.repoInfo.secure;const b=i&&C?new $u($u.OWNER):new Ts1(n.name,n.options,e);hF("Invalid Firebase Database URL",u),ue(u.path)||P5("Database URL must point to the root of a Firebase Database (not including a child path).");const z=function j71(n,e,t,r){let i=AS[e.name];i||(i={},AS[e.name]=i);let s=i[n.toURLString()];return s&&P5("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Qo1(n,false,t,r),i[n.toURLString()]=s,s}(h,n,b,new Es1(n.name,t));return new G71(z,n)}class G71{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Jo1(n,e,t){if(n.stats_=AV(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new cv(n.repoInfo_,(r,i,s,u)=>{mF(n,r,i,s,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>gF(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,D.Pz)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Ms(n.repoInfo_,e,(r,i,s,u)=>{mF(n,r,i,s,u)},r=>{gF(n,r)},r=>{!function Xo1(n,e){b4(e,(t,r)=>{bS(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Ns1(n,e){const t=n.toString();return TV[t]||(TV[t]=e()),TV[t]}(n.repoInfo_,()=>new ka1(n.stats_,n.server_)),n.infoData_=new Ta1,n.infoSyncTree_=new tF({startListening:(r,i,s,u)=>{let h=[];const C=n.infoData_.getNode(r._path);return C.isEmpty()||(h=af(n.infoSyncTree_,r._path,C),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),bS(n,"connected",!1),n.serverSyncTree_=new tF({startListening:(r,i,s,u)=>(n.server_.listen(r,s,i,(h,C)=>{const v=u(h,C);o6(n.eventQueue_,r._path,v)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new c6(this._repo,He())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function B71(n,e){const t=AS[e];(!t||t[n.key]!==n)&&P5(`Database ${e}(${n.repoInfo_}) has already been deleted.`),yF(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&P5("Cannot call "+e+" on a deleted database.")}}function RF(){rO.IS_TRANSPORT_INITIALIZED&&rt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function W71(){RF(),di.forceDisallow()}function $71(){RF(),d7.forceDisallow(),di.forceAllow()}function Q71(n,e){PR(n,e)}const X71={".sv":"timestamp"};class n91{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ms.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Ms.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function J71(n){AR(bt.SDK_VERSION),(0,bt._registerComponent)(new q6.wA("database",(e,{instanceIdentifier:t})=>PF(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,bt.registerVersion)(ER,"0.13.0",n),(0,bt.registerVersion)(ER,"0.13.0","esm2017")}();const a91=new G6.Yd("@firebase/database-compat"),OF=function(n){a91.warn("FIREBASE WARNING: "+n)};class l91{constructor(e){this._delegate=e}cancel(e){(0,D.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,D.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,D.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,D.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,D.Dv)("OnDisconnect.set",1,2,arguments.length),(0,D.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,D.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,D.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if((0,D.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,OF("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,D.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class u91{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,D.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Li{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,D.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,D.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,D.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,D.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,D.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),df("DataSnapshot.child","path",e,!1),new Li(this._database,this._delegate.child(e))}hasChild(e){return(0,D.Dv)("DataSnapshot.hasChild",1,1,arguments.length),df("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,D.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,D.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,D.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Li(this._database,t)))}hasChildren(){return(0,D.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,D.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,D.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ln(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class O4{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;(0,D.Dv)("Query.on",2,4,arguments.length),(0,D.Wj)("Query.on","callback",t,!1);const u=O4.getCancelAndContextArgs_("Query.on",r,i),h=(v,b)=>{t.call(u.context,new Li(this.database,v),b)};h.userCallback=t,h.context=u.context;const C=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(e){case"value":return TS(this._delegate,h,C),t;case"child_added":return xF(this._delegate,h,C),t;case"child_removed":return AF(this._delegate,h,C),t;case"child_changed":return EF(this._delegate,h,C),t;case"child_moved":return TF(this._delegate,h,C),t;default:throw new Error((0,D.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,D.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,D.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,D.Wj)("Query.off","callback",t,!0),(0,D.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,IF(this._delegate,e,i)}else IF(this._delegate,e)}get(){return y71(this._delegate).then(e=>new Li(this.database,e))}once(e,t,r,i){(0,D.Dv)("Query.once",1,4,arguments.length),(0,D.Wj)("Query.once","callback",t,!0);const s=O4.getCancelAndContextArgs_("Query.once",r,i),u=new D.BH,h=(v,b)=>{const z=new Li(this.database,v);t&&t.call(s.context,z,b),u.resolve(z)};h.userCallback=t,h.context=s.context;const C=v=>{s.cancel&&s.cancel.call(s.context,v),u.reject(v)};switch(e){case"value":TS(this._delegate,h,C,{onlyOnce:!0});break;case"child_added":xF(this._delegate,h,C,{onlyOnce:!0});break;case"child_removed":AF(this._delegate,h,C,{onlyOnce:!0});break;case"child_changed":EF(this._delegate,h,C,{onlyOnce:!0});break;case"child_moved":TF(this._delegate,h,C,{onlyOnce:!0});break;default:throw new Error((0,D.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,D.Dv)("Query.limitToFirst",1,1,arguments.length),new O4(this.database,K6(this._delegate,function S71(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new V71(n)}(e)))}limitToLast(e){return(0,D.Dv)("Query.limitToLast",1,1,arguments.length),new O4(this.database,K6(this._delegate,function x71(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new H71(n)}(e)))}orderByChild(e){return(0,D.Dv)("Query.orderByChild",1,1,arguments.length),new O4(this.database,K6(this._delegate,function T71(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return df("orderByChild","path",n,!1),new E71(n)}(e)))}orderByKey(){return(0,D.Dv)("Query.orderByKey",0,0,arguments.length),new O4(this.database,K6(this._delegate,function I71(){return new A71}()))}orderByPriority(){return(0,D.Dv)("Query.orderByPriority",0,0,arguments.length),new O4(this.database,K6(this._delegate,function D71(){return new N71}()))}orderByValue(){return(0,D.Dv)("Query.orderByValue",0,0,arguments.length),new O4(this.database,K6(this._delegate,function P71(){return new k71}()))}startAt(e=null,t){return(0,D.Dv)("Query.startAt",0,2,arguments.length),new O4(this.database,K6(this._delegate,function b71(n=null,e){return hf("startAt","key",e,!0),new DF(n,e)}(e,t)))}startAfter(e=null,t){return(0,D.Dv)("Query.startAfter",0,2,arguments.length),new O4(this.database,K6(this._delegate,function w71(n,e){return hf("startAfter","key",e,!0),new z71(n,e)}(e,t)))}endAt(e=null,t){return(0,D.Dv)("Query.endAt",0,2,arguments.length),new O4(this.database,K6(this._delegate,function _71(n,e){return hf("endAt","key",e,!0),new NF(n,e)}(e,t)))}endBefore(e=null,t){return(0,D.Dv)("Query.endBefore",0,2,arguments.length),new O4(this.database,K6(this._delegate,function L71(n,e){return hf("endBefore","key",e,!0),new M71(n,e)}(e,t)))}equalTo(e,t){return(0,D.Dv)("Query.equalTo",1,2,arguments.length),new O4(this.database,K6(this._delegate,function O71(n,e){return hf("equalTo","key",e,!0),new R71(n,e)}(e,t)))}toString(){return(0,D.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,D.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,D.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof O4))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,D.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,D.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,D.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new Ln(this.database,new c6(this._delegate._repo,this._delegate._path))}}class Ln extends O4{constructor(e,t){super(e,new Xt(t._repo,t._path,new av,!1)),this.database=e,this._delegate=t}getKey(){return(0,D.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,D.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ln(this.database,Ss(this._delegate,e))}getParent(){(0,D.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ln(this.database,e):null}getRoot(){return(0,D.Dv)("Reference.root",0,0,arguments.length),new Ln(this.database,this._delegate.root)}set(e,t){(0,D.Dv)("Reference.set",1,2,arguments.length),(0,D.Wj)("Reference.set","onComplete",t,!0);const r=ES(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,D.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,OF("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}a6("Reference.update",this._delegate._path),(0,D.Wj)("Reference.update","onComplete",t,!0);const r=v71(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,D.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,D.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function g71(n,e,t){if(a6("setWithPriority",n._path),F5("setWithPriority",e,n._path,!1),MS("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new D.BH;return zS(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,D.Dv)("Reference.remove",0,1,arguments.length),(0,D.Wj)("Reference.remove","onComplete",e,!0);const t=function p71(n){return a6("remove",n._path),ES(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,D.Dv)("Reference.transaction",1,3,arguments.length),(0,D.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,D.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,D.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function r91(n,e,t){var r;if(n=(0,D.m9)(n),a6("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=null==t?void 0:t.applyLocally)||void 0===r||r,s=new D.BH,h=TS(n,()=>{});return function c71(n,e,t,r,i,s){L7(n,"transaction on "+e);const u={path:e,update:t,onComplete:r,status:null,order:NR(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=VS(n,e,void 0);u.currentInputSnapshot=h;const C=u.update(h.val());if(void 0===C)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{ff("transaction failed: Data returned ",C,u.path),u.status=0;const v=bv(n.transactionQueueTree_,e),b=ws(v)||[];let z;b.push(u),vS(v,b),"object"==typeof C&&null!==C&&(0,D.r3)(C,".priority")?(z=(0,D.DV)(C,".priority"),(0,D.hu)(uf(z),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):z=(_v(n.serverSyncTree_,e)||J2.EMPTY_NODE).getPriority().val();const S=Cf(n),E=w3(C,z),I=pS(E,h,S);u.currentOutputSnapshotRaw=E,u.currentOutputSnapshotResolved=I,u.currentWriteId=Sv(n);const K=cS(n.serverSyncTree_,e,I,u.currentWriteId,u.applyLocally);o6(n.eventQueue_,e,K),Hv(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(C,v,b)=>{let z=null;C?s.reject(C):(z=new Vs(b,new c6(n._repo,n._path),i3),s.resolve(new n91(v,z)))},h,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new u91(s.committed,new Li(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){(0,D.Dv)("Reference.setPriority",1,2,arguments.length),(0,D.Wj)("Reference.setPriority","onComplete",t,!0);const r=function m71(n,e){n=(0,D.m9)(n),a6("setPriority",n._path),MS("setPriority",e,!1);const t=new D.BH;return zS(n._repo,g3(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,D.Dv)("Reference.push",0,2,arguments.length),(0,D.Wj)("Reference.push","onComplete",t,!0);const r=function C71(n,e){n=(0,D.m9)(n),a6("push",n._path),F5("push",e,n._path,!0);const t=pF(n._repo),r=ba1(t),i=Ss(n,r),s=Ss(n,r);let u;return u=null!=e?ES(s,e).then(()=>s):Promise.resolve(s),i.then=u.then.bind(u),i.catch=u.then.bind(u,void 0),i}(this._delegate,e),i=r.then(u=>new Ln(this.database,u));t&&i.then(()=>t(null),u=>t(u));const s=new Ln(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return a6("Reference.onDisconnect",this._delegate._path),new l91(new VF(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mf{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:W71,forceLongPolling:$71}}useEmulator(e,t,r={}){!function Z71(n,e,t,r={}){(n=(0,D.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&P5("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&P5('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new $u($u.OWNER);else if(r.mockUserToken){const u="string"==typeof r.mockUserToken?r.mockUserToken:(0,D.Sg)(r.mockUserToken,n.app.options.projectId);s=new $u(u)}!function U71(n,e,t,r){n.repoInfo_=new xV(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(this._delegate,e,t,r)}ref(e){if((0,D.Dv)("database.ref",0,1,arguments.length),e instanceof Ln){const t=HF(this._delegate,e.toString());return new Ln(this,t)}{const t=SF(this._delegate,e);return new Ln(this,t)}}refFromURL(e){(0,D.Dv)("database.refFromURL",1,1,arguments.length);const r=HF(this._delegate,e);return new Ln(this,r)}goOffline(){return(0,D.Dv)("database.goOffline",0,0,arguments.length),function K71(n){(n=(0,D.m9)(n))._checkNotDeleted("goOffline"),yF(n._repo)}(this._delegate)}goOnline(){return(0,D.Dv)("database.goOnline",0,0,arguments.length),function Y71(n){(n=(0,D.m9)(n))._checkNotDeleted("goOnline"),function o71(n){n.persistentConnection_&&n.persistentConnection_.resume(CF)}(n._repo)}(this._delegate)}}mf.ServerValue={TIMESTAMP:function e91(){return X71}(),increment:n=>function t91(n){return{".sv":{increment:n}}}(n)};var h91=Object.freeze({__proto__:null,initStandalone:function f91({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){AR(t);const u=new q6.zt("auth-internal",new q6.H0("database-standalone"));return u.setComponent(new q6.wA("auth-internal",()=>r,"PRIVATE")),{instance:new mf(PF(n,u,void 0,e,s),n),namespace:i}}});const d91=mf.ServerValue;!function C91(n){n.INTERNAL.registerComponent(new q6.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new mf(i,r)},"PUBLIC").setServiceProps({Reference:Ln,Query:O4,Database:mf,DataSnapshot:Li,enableLogging:Q71,INTERNAL:h91,ServerValue:d91}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(LV.Z);var gf=A(5363),p91=A(6063);class m91 extends C3.x{constructor(e=1/0,t=1/0,r=p91.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:u}=this;t||(r.push(e),!i&&r.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let u=0;u<s.length&&!e.closed;u+=r?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const u=t.now();let h=0;for(let C=1;C<r.length&&r[C]<=u;C+=2)h=C;h&&r.splice(0,h+1)}}}function IS(n,e,t){var r,i;let s,u=!1;return n&&"object"==typeof n?(s=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,u=!!n.refCount,t=n.scheduler):s=null!=n?n:1/0,(0,xR.B)({connector:()=>new m91(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function FF(n,e){return(0,l0.m)(e)?Ne(()=>n,e):Ne(()=>n)}var NS=A(9468);A(5867);const BF=new Map,M91={activated:!1,tokenObservers:[]},L91={initialized:!1,enabled:!1};function z4(n){return BF.get(n)||M91}function Y6(n,e){BF.set(n,e)}function Nv(){return L91}class S91{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,w1.Z)(function*(){t.stop();try{t.pending=new D.BH,yield function H91(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new D.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const wt=new D.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qF(n){if(!z4(n).activated)throw wt.create("use-before-activation",{appName:n.name})}function RS(n,e){return OS.apply(this,arguments)}function OS(){return(OS=(0,w1.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const z=yield i.getHeartbeatsHeader();z&&(r["X-Firebase-Client"]=z)}const s={method:"POST",body:JSON.stringify(e),headers:r};let u,h;try{u=yield fetch(n,s)}catch(z){throw wt.create("fetch-network-error",{originalErrorMessage:z.message})}if(200!==u.status)throw wt.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(z){throw wt.create("fetch-parse-error",{originalErrorMessage:z.message})}const C=h.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw wt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(C[1]),b=Date.now();return{token:h.token,expireTimeMillis:b+v,issuedAtTimeMillis:b}})).apply(this,arguments)}function I91(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const yf="firebase-app-check-store";let Pv=null;function WF(){return Pv||(Pv=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(wt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(yf,{keyPath:"compositeKey"})}}catch(t){e(wt.create("storage-open",{originalErrorMessage:t.message}))}}),Pv)}function FS(){return(FS=(0,w1.Z)(function*(n,e){const r=(yield WF()).transaction(yf,"readwrite"),s=r.objectStore(yf).put({compositeKey:n,value:e});return new Promise((u,h)=>{s.onsuccess=C=>{u()},r.onerror=C=>{var v;h(wt.create("storage-set",{originalErrorMessage:null===(v=C.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const _f=new G6.Yd("@firebase/app-check");function YF(n,e){return(0,D.hl)()?function P91(n,e){return function $F(n,e){return FS.apply(this,arguments)}(function KF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{_f.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function QF(){return Nv().enabled}function JF(){return qS.apply(this,arguments)}function qS(){return(qS=(0,w1.Z)(function*(){const n=Nv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const j91={error:"UNKNOWN_ERROR"};function q91(n){return D.US.encodeString(JSON.stringify(n),!1)}function Rv(n){return GS.apply(this,arguments)}function GS(){return(GS=(0,w1.Z)(function*(n,e=!1){const t=n.app;qF(t);const r=z4(t);let s,i=r.token;if(!i){const C=yield r.cachedTokenPromise;C&&Ov(C)&&(i=C)}if(!e&&i&&Ov(i))return{token:i.token};let h,u=!1;if(QF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=RS(I91(t,yield JF()),n.heartbeatServiceProvider).then(v=>(r.exchangeTokenPromise=void 0,v)),u=!0);const C=yield r.exchangeTokenPromise;return yield YF(t,C),Y6(t,Object.assign(Object.assign({},r),{token:C})),{token:C.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(C=>(r.exchangeTokenPromise=void 0,C)),u=!0),i=yield r.exchangeTokenPromise}catch(C){"appCheck/throttled"===C.code?_f.warn(C.message):_f.error(C),s=C}return i?(h={token:i.token},Y6(t,Object.assign(Object.assign({},r),{token:i})),yield YF(t,i)):h=W91(s),u&&eU(t,h),h})).apply(this,arguments)}function $S(n,e){const t=z4(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Y6(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function XF(n){const{app:e}=n,t=z4(e);let r=t.tokenRefresher;r||(r=function G91(n){const{app:e}=n;return new S91((0,w1.Z)(function*(){let r;if(r=z4(e).token?yield Rv(n,!0):yield Rv(n),r.error)throw r.error}),()=>!0,()=>{const t=z4(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Y6(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function eU(n,e){const t=z4(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Ov(n){return n.expireTimeMillis-Date.now()>0}function W91(n){return{token:q91(j91),error:n}}class $91{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=z4(this.app);for(const t of e)$S(this.app,t.next);return Promise.resolve()}}const cU="app-check-internal";!function oc1(){(0,bt._registerComponent)(new q6.wA("app-check",n=>function Z91(n,e){return new $91(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cU).initialize()})),(0,bt._registerComponent)(new q6.wA(cU,n=>function K91(n){return{getToken:e=>Rv(n,e),addTokenListener:e=>function WS(n,e,t,r){const{app:i}=n,s=z4(i),u={next:t,error:r,type:e};if(Y6(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,u]})),s.token&&Ov(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),XF(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>XF(n))}(n,"INTERNAL",e),removeTokenListener:e=>$S(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,bt.registerVersion)("@firebase/app-check","0.5.8")}();class Mf{constructor(){return(0,re.vb)("app-check")}}"undefined"!=typeof window&&window;var Hs=A(127);const JS=new c.OlP("angularfire2.auth.use-emulator"),XS=new c.OlP("angularfire2.auth.settings"),eH=new c.OlP("angularfire2.auth.tenant-id"),tH=new c.OlP("angularfire2.auth.langugage-code"),nH=new c.OlP("angularfire2.auth.use-device-language"),rH=new c.OlP("angularfire.auth.persistence"),iH=(n,e,t,r,i,s,u,h)=>(0,z3.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const C=e.runOutsideAngular(()=>n.auth());if(t&&C.useEmulator(...t),r&&(C.tenantId=r),C.languageCode=i,s&&C.useDeviceLanguage(),u)for(const[v,b]of Object.entries(u))C.settings[v]=b;return h&&C.setPersistence(h),C},[t,r,i,s,u,h]);let Lf=(()=>{class n{constructor(t,r,i,s,u,h,C,v,b,z,S,E){const I=new C3.x,K=L2(void 0).pipe((0,gf.Q)(u.outsideAngular),Ne(()=>s.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,7092)))),(0,b2.U)(()=>(0,z3.on)(t,s,r)),(0,b2.U)(o1=>iH(o1,s,h,v,b,z,C,S)),IS({bufferSize:1,refCount:!1}));if(ht(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=L2(null);else{K.pipe(C5()).subscribe();const R1=K.pipe(Ne(J1=>J1.getRedirectResult().then(v2=>v2,()=>null)),re.iC,IS({bufferSize:1,refCount:!1})),U1=K.pipe(Ne(J1=>new Ke.y(v2=>({unsubscribe:s.runOutsideAngular(()=>J1.onAuthStateChanged(E2=>v2.next(E2),E2=>v2.error(E2),()=>v2.complete()))})))),$1=K.pipe(Ne(J1=>new Ke.y(v2=>({unsubscribe:s.runOutsideAngular(()=>J1.onIdTokenChanged(E2=>v2.next(E2),E2=>v2.error(E2),()=>v2.complete()))}))));this.authState=R1.pipe(FF(U1),(0,NS.R)(u.outsideAngular),(0,gf.Q)(u.insideAngular)),this.user=R1.pipe(FF($1),(0,NS.R)(u.outsideAngular),(0,gf.Q)(u.insideAngular)),this.idToken=this.user.pipe(Ne(J1=>J1?(0,Be.D)(J1.getIdToken()):L2(null))),this.idTokenResult=this.user.pipe(Ne(J1=>J1?(0,Be.D)(J1.getIdTokenResult()):L2(null))),this.credential=(0,_V.T)(R1,I,this.authState.pipe(k4(J1=>!J1))).pipe((0,b2.U)(J1=>(null==J1?void 0:J1.user)?J1:null),(0,NS.R)(u.outsideAngular),(0,gf.Q)(u.insideAngular))}return(0,z3.pX)(this,K,s,{spy:{apply:(o1,R1,U1)=>{(o1.startsWith("signIn")||o1.startsWith("createUser"))&&U1.then($1=>I.next($1))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z3.Dh),c.LFG(z3.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(re.HU),c.LFG(JS,8),c.LFG(XS,8),c.LFG(eH,8),c.LFG(tH,8),c.LFG(nH,8),c.LFG(rH,8),c.LFG(Mf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dc1=(()=>{class n{constructor(){Hs.Z.registerVersion("angularfire",re.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Lf]}),n})();function uU(n){return null==n}function fU(n){return"function"==typeof n.set}function hU(n,e){return fU(e)?e:n.ref(e)}function dU(n,e){if(function Cc1(n){return"string"==typeof n}(n))return e.stringCase();if(fU(n))return e.firebaseCase();if(function pc1(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function bf(n,e,t="on",r=yV.z){return new Ke.y(i=>{let s=null;return s=n[t](e,(u,h)=>{r.schedule(()=>{i.next({snapshot:u,prevKey:h})}),"once"===t&&r.schedule(()=>i.complete())},u=>{r.schedule(()=>i.error(u))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,b2.U)(i=>{const{snapshot:s,prevKey:u}=i;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:u,key:h}}),(0,xR.B)())}function CU(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function vc1(n,e){const{payload:t,prevKey:r,key:i}=e,s=CU(n,i),u=function gc1(n,e){if(uU(e))return 0;{const t=CU(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(C=>{const v={payload:C,type:"value",prevKey:h,key:C.key};return h=C.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==r&&(n=n.filter(C=>C.payload.key!==t.key)).splice(u,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===i?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(u,0,h),n}return n;default:return n}}function pU(n){return(uU(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function mU(n,e,t){return function mc1(n,e,t){return bf(n,"value","once",t).pipe(Ne(r=>{const i=[L2(r)];return e.forEach(s=>i.push(bf(n,s,"on",t))),(0,_V.T)(...i).pipe(J4(vc1,[]))}),MV())}(n,e=pU(e),t)}function gU(n,e,t){const r=(e=pU(e)).map(i=>bf(n,i,"on",t));return(0,_V.T)(...r)}function vU(n,e){return function(r,i){return dU(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function Lc1(n){return function(t){return t?dU(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function yU(n,e){return function(){return bf(n,"value","on",e)}}const wc1=new c.OlP("angularfire2.realtimeDatabaseURL"),Vc1=new c.OlP("angularfire2.database.use-emulator");let zf=(()=>{class n{constructor(t,r,i,s,u,h,C,v,b,z,S,E,I,K,o1){this.schedulers=h;const R1=C,U1=(0,z3.on)(t,u,r);v&&iH(U1,u,b,S,E,I,z,K),this.database=(0,z3.cc)(`${U1.name}.database.${i}`,"AngularFireDatabase",U1.name,()=>{const $1=u.runOutsideAngular(()=>U1.database(i||void 0));return R1&&$1.useEmulator(...R1),$1},[R1])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>hU(this.database,t));let s=i;return r&&(s=r(i)),function bc1(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:vU(r,"update"),set:vU(r,"set"),push:i=>r.push(i),remove:Lc1(r),snapshotChanges:i=>mU(n,i,t).pipe(re.iC),stateChanges:i=>gU(n,i,t).pipe(re.iC),auditTrail:i=>function yc1(n,e,t){return function Mc1(n,e,t){return function _c1(n,e){return bf(n,"value","on",e).pipe((0,b2.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function vs1(...n){const e=(0,u5.jO)(n);return(0,D3.e)((t,r)=>{const i=n.length,s=new Array(i);let u=n.map(()=>!1),h=!1;for(let C=0;C<i;C++)(0,ln.Xf)(n[C]).subscribe((0,We.x)(r,v=>{s[C]=v,!h&&!u[C]&&(u[C]=!0,(h=u.every(pt.y))&&(u=null))},gs1.Z));t.subscribe((0,We.x)(r,C=>{if(h){const v=[C,...s];r.next(e?e(...v):v)}}))})}(e),(0,b2.U)(([i,s])=>{const u=i.lastKeyToLoad,h=s.map(C=>C.key);return{actions:s,lastKeyToLoad:u,loadedKeys:h}}),function ys1(n){return(0,D3.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,We.x)(t,s=>(r||(r=!n(s,i++)))&&t.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,b2.U)(i=>i.actions))}(n,gU(n,e).pipe(J4((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(re.iC),valueChanges:(i,s)=>mU(n,i,t).pipe((0,b2.U)(h=>h.map(C=>s&&s.idField?Object.assign(Object.assign({},C.payload.val()),{[s.idField]:C.key}):C.payload.val())),re.iC)}}(s,this)}object(t){return function zc1(n,e){return{query:n,snapshotChanges:()=>yU(n,e.schedulers.outsideAngular)().pipe(re.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>yU(n,e.schedulers.outsideAngular)().pipe(re.iC,(0,b2.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>hU(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z3.Dh),c.LFG(z3.xv,8),c.LFG(wc1,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(re.HU),c.LFG(Vc1,8),c.LFG(Lf,8),c.LFG(JS,8),c.LFG(XS,8),c.LFG(eH,8),c.LFG(tH,8),c.LFG(nH,8),c.LFG(rH,8),c.LFG(Mf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Sc1=(()=>{class n{constructor(){Hs.Z.registerVersion("angularfire",re.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[zf]}),n})();function Uv(){return(0,D3.e)((n,e)=>{let t,r=!1;n.subscribe((0,We.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var g2,Hc1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},U8={},sH=sH||{},K2=Hc1||self;function Bv(){}function aH(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var oH="closure_uid_"+(1e9*Math.random()>>>0),Ec1=0;function Tc1(n,e,t){return n.call.apply(n.bind,arguments)}function Ac1(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function F4(n,e,t){return(F4=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tc1:Ac1).apply(null,arguments)}function jv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function U4(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[i].apply(r,u)}}function bi(){this.s=this.s,this.o=this.o}var Nc1={};bi.prototype.s=!1,bi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function xc1(n){return Object.prototype.hasOwnProperty.call(n,oH)&&n[oH]||(n[oH]=++Ec1)}(this);delete Nc1[n]}},bi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _U=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},MU=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function LU(n){return Array.prototype.concat.apply([],arguments)}function cH(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qv(n){return/^[\s\xa0]*$/.test(n)}var St,bU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Vt(n,e){return-1!=n.indexOf(e)}function lH(n,e){return n<e?-1:n>e?1:0}e:{var zU=K2.navigator;if(zU){var wU=zU.userAgent;if(wU){St=wU;break e}}St=""}function uH(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function VU(n){const e={};for(const t in n)e[t]=n[t];return e}var SU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<SU.length;s++)t=SU[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function fH(n){return fH[" "](n),n}fH[" "]=Bv;var Gv,n,Pc1=Vt(St,"Opera"),z7=Vt(St,"Trident")||Vt(St,"MSIE"),xU=Vt(St,"Edge"),hH=xU||z7,EU=Vt(St,"Gecko")&&!(Vt(St.toLowerCase(),"webkit")&&!Vt(St,"Edge"))&&!(Vt(St,"Trident")||Vt(St,"MSIE"))&&!Vt(St,"Edge"),Rc1=Vt(St.toLowerCase(),"webkit")&&!Vt(St,"Edge");function TU(){var n=K2.document;return n?n.documentMode:void 0}e:{var dH="",CH=(n=St,EU?/rv:([^\);]+)(\)|;)/.exec(n):xU?/Edge\/([\d\.]+)/.exec(n):z7?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Rc1?/WebKit\/(\S+)/.exec(n):Pc1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(CH&&(dH=CH?CH[1]:""),z7){var pH=TU();if(null!=pH&&pH>parseFloat(dH)){Gv=String(pH);break e}}Gv=dH}var Oc1={};var Uc1=K2.document&&z7&&(TU()||parseInt(Gv,10))||void 0,Bc1=function(){if(!K2.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{K2.addEventListener("test",Bv,e),K2.removeEventListener("test",Bv,e)}catch(t){}return n}();function it(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Vf(n,e){if(it.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(EU){e:{try{fH(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jc1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Vf.Z.h.call(this)}}it.prototype.h=function(){this.defaultPrevented=!0},U4(Vf,it);var jc1={2:"touch",3:"pen",4:"mouse"};Vf.prototype.h=function(){Vf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Sf="closure_listenable_"+(1e6*Math.random()|0),qc1=0;function Gc1(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++qc1,this.ca=this.fa=!1}function Wv(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function $v(n){this.src=n,this.g={},this.h=0}function gH(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=_U(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function vH(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}$v.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=vH(n,e,r,i);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new Gc1(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var yH="closure_lm_"+(1e6*Math.random()|0),_H={};function IU(n,e,t,r,i){if(r&&r.once)return DU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)IU(n,e[s],t,r,i);return null}return t=zH(t),n&&n[Sf]?n.N(e,t,wf(r)?!!r.capture:!!r,i):NU(n,e,t,!1,r,i)}function NU(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var u=wf(i)?!!i.capture:!!i,h=LH(n);if(h||(n[yH]=h=new $v(n)),(t=h.add(e,t,r,u,s)).proxy)return t;if(r=function Wc1(){var e=$c1;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Bc1||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(PU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function DU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)DU(n,e[s],t,r,i);return null}return t=zH(t),n&&n[Sf]?n.O(e,t,wf(r)?!!r.capture:!!r,i):NU(n,e,t,!0,r,i)}function kU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)kU(n,e[s],t,r,i);else r=wf(r)?!!r.capture:!!r,t=zH(t),n&&n[Sf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=vH(s=n.g[e],t,r,i))&&(Wv(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=LH(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vH(e,t,r,i)),(t=-1<n?e[n]:null)&&MH(t))}function MH(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Sf])gH(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(PU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=LH(e))?(gH(t,n),0==t.h&&(t.src=null,e[yH]=null)):Wv(n)}}}function PU(n){return n in _H?_H[n]:_H[n]="on"+n}function $c1(n,e){if(n.ca)n=!0;else{e=new Vf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&MH(n),n=t.call(r,e)}return n}function LH(n){return(n=n[yH])instanceof $v?n:null}var bH="__closure_events_fn_"+(1e9*Math.random()>>>0);function zH(n){return"function"==typeof n?n:(n[bH]||(n[bH]=function(e){return n.handleEvent(e)}),n[bH])}function w4(){bi.call(this),this.i=new $v(this),this.P=this,this.I=null}function B4(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new it(e,n);else if(e instanceof it)e.target=e.target||n;else{var i=e;HU(e=new it(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];i=Zv(u,r,!0,e)&&i}if(i=Zv(u=e.g=n,r,!0,e)&&i,i=Zv(u,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Zv(u=e.g=t[s],r,!1,e)&&i}function Zv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.ca&&u.capture==t){var h=u.listener,C=u.ia||u.src;u.fa&&gH(n.i,u),i=!1!==h.call(C,r)&&i}}return i&&!r.defaultPrevented}U4(w4,bi),w4.prototype[Sf]=!0,w4.prototype.removeEventListener=function(n,e,t,r){kU(this,n,e,t,r)},w4.prototype.M=function(){if(w4.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Wv(t[r]);delete n.g[e],n.h--}}this.I=null},w4.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},w4.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var wH=K2.JSON.stringify;function Zc1(){var n=OU;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var SH,RU=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Yc1,n=>n.reset());class Yc1{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Qc1(n){K2.setTimeout(()=>{throw n},0)}function VH(n,e){SH||function Jc1(){var n=K2.Promise.resolve(void 0);SH=function(){n.then(Xc1)}}(),HH||(SH(),HH=!0),OU.add(n,e)}var HH=!1,OU=new class Kc1{constructor(){this.h=this.g=null}add(e,t){const r=RU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Xc1(){for(var n;n=Zc1();){try{n.h.call(n.g)}catch(t){Qc1(t)}var e=RU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}HH=!1}function Kv(n,e){w4.call(this),this.h=n||1,this.g=e||K2,this.j=F4(this.kb,this),this.l=Date.now()}function xH(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function EH(n,e,t){if("function"==typeof n)t&&(n=F4(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=F4(n.handleEvent,n)}return 2147483647<Number(e)?-1:K2.setTimeout(n,e||0)}function FU(n){n.g=EH(()=>{n.g=null,n.i&&(n.i=!1,FU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}U4(Kv,w4),(g2=Kv.prototype).da=!1,g2.S=null,g2.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),B4(this,"tick"),this.da&&(xH(this),this.start()))}},g2.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},g2.M=function(){Kv.Z.M.call(this),xH(this),delete this.g};class el1 extends bi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:FU(this)}M(){super.M(),this.g&&(K2.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hf(n){bi.call(this),this.h=n,this.g={}}U4(Hf,bi);var UU=[];function BU(n,e,t,r){Array.isArray(t)||(t&&(UU[0]=t.toString()),t=UU);for(var i=0;i<t.length;i++){var s=IU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function jU(n){uH(n.g,function(e,t){this.g.hasOwnProperty(t)&&MH(e)},n),n.g={}}function Yv(){this.g=!0}function w7(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function il1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<i.length;u++)i[u]=""}}}return wH(t)}catch(h){return e}}(n,t)+(r?" "+r:"")})}Hf.prototype.M=function(){Hf.Z.M.call(this),jU(this)},Hf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yv.prototype.Aa=function(){this.g=!1},Yv.prototype.info=function(){};var xs={},qU=null;function Qv(){return qU=qU||new w4}function GU(n){it.call(this,xs.Ma,n)}function xf(n){const e=Qv();B4(e,new GU(e,n))}function WU(n,e){it.call(this,xs.STAT_EVENT,n),this.stat=e}function Ht(n){const e=Qv();B4(e,new WU(e,n))}function $U(n,e){it.call(this,xs.Na,n),this.size=e}function Ef(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return K2.setTimeout(function(){n()},e)}xs.Ma="serverreachability",U4(GU,it),xs.STAT_EVENT="statevent",U4(WU,it),xs.Na="timingevent",U4($U,it);var Jv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ZU={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function TH(){}function YU(){}TH.prototype.h=null;var NH,Tf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function AH(){it.call(this,"d")}function IH(){it.call(this,"c")}function Xv(){}function Af(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Hf(this),this.P=sl1,this.W=new Kv(n=hH?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new QU}function QU(){this.i=null,this.g="",this.h=!1}U4(AH,it),U4(IH,it),U4(Xv,TH),Xv.prototype.g=function(){return new XMLHttpRequest},Xv.prototype.i=function(){return{}},NH=new Xv;var sl1=45e3,DH={},ey={};function kH(n,e,t){n.K=1,n.v=sy(B8(e)),n.s=t,n.U=!0,JU(n,null)}function JU(n,e){n.F=Date.now(),If(n),n.A=B8(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),oB(t.h,"t",r),n.C=0,t=n.l.H,n.h=new QU,n.g=EB(n.l,t?e:null,!n.s),0<n.O&&(n.L=new el1(F4(n.Ia,n,n.g),n.O)),BU(n.V,n.g,"readystatechange",n.gb),e=n.H?VU(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),xf(1),function tl1(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),C=0;C<h.length;C++){var v=h[C].split("=");if(1<v.length){var b=v[0];v=v[1];var z=b.split("_");u=2<=z.length&&"type"==z[1]?u+(b+"=")+v+"&":u+(b+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function XU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function eB(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=al1(n,t),i==ey){4==e&&(n.o=4,Ht(14),r=!1),w7(n.j,n.m,null,"[Incomplete Response]");break}if(i==DH){n.o=4,Ht(15),w7(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}w7(n.j,n.m,i,null),PH(n,i)}XU(n)&&i!=ey&&i!=DH&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ht(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ZH(e),e.L=!0,Ht(11))):(w7(n.j,n.m,t,"[Invalid Chunked Response]"),Es(n),Nf(n))}function al1(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ey:(t=Number(e.substring(t,r)),isNaN(t)?DH:(r+=1)+t>e.length?ey:(e=e.substr(r,t),n.C=r+t,e))}function If(n){n.Y=Date.now()+n.P,tB(n,n.P)}function tB(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ef(F4(n.eb,n),e)}function ty(n){n.B&&(K2.clearTimeout(n.B),n.B=null)}function Nf(n){0==n.l.G||n.I||VB(n.l,n)}function Es(n){ty(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,xH(n.W),jU(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function PH(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||FH(t.i,n)))if(t.I=n.N,!n.J&&FH(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ef(F4(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;fy(t),ly(t)}$H(t),Ht(18)}if(1>=uB(t.i)&&t.ka){try{t.ka()}catch(v){}t.ka=void 0}}else Is(t,11)}else if((n.J||t.g==n)&&fy(t),!qv(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.U=v[0],v=v[1],2==t.G)if("c"==v[0]){t.J=v[1],t.la=v[2];const b=v[3];null!=b&&(t.ma=b,t.h.info("VER="+t.ma));const z=v[4];null!=z&&(t.za=z,t.h.info("SVER="+t.za));const S=v[5];null!=S&&"number"==typeof S&&0<S&&(t.K=r=1.5*S,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const E=n.g;if(E){const I=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var s=r.i;!s.g&&(Vt(I,"spdy")||Vt(I,"quic")||Vt(I,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(UH(s,s.h),s.h=null))}if(r.D){const K=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(r.sa=K,v3(r.F,r.D,K))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((r=t).oa=xB(r,r.H?r.la:null,r.W),u.J){fB(r.i,u);var h=u,C=r.K;C&&h.setTimeout(C),h.B&&(ty(h),If(h)),r.g=u}else zB(r);0<t.l.length&&uy(t)}else"stop"!=v[0]&&"close"!=v[0]||Is(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Is(t,7):GH(t):"noop"!=v[0]&&t.j&&t.j.wa(v),t.A=0)}xf(4)}catch(v){}}function RH(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(aH(n)||"string"==typeof n)MU(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(aH(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function ol1(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(aH(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function V7(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof V7)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function OH(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Ts(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Ts(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Ts(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(g2=Af.prototype).setTimeout=function(n){this.P=n},g2.gb=function(n){n=n.target;const e=this.L;e&&3==j8(n)?e.l():this.Ia(n)},g2.Ia=function(n){try{if(n==this.g)e:{const b=j8(this.g);var e=this.g.Da();const z=this.g.ba();if(!(3>b)&&(3!=b||hH||this.g&&(this.h.h||this.g.ga()||yB(this.g)))){this.I||4!=b||7==e||xf(8==e||0>=z?3:2),ty(this);var t=this.g.ba();this.N=t;t:if(XU(this)){var r=yB(this.g);n="";var i=r.length,s=4==j8(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Es(this),Nf(this);var u="";break t}this.h.i=new K2.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function nl1(n,e,t,r,i,s,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.X,b,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,C=this.g;if((h=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qv(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Ht(12),Es(this),Nf(this);break e}w7(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,PH(this,t)}this.U?(eB(this,b,u),hH&&this.i&&3==b&&(BU(this.V,this.W,"tick",this.fb),this.W.start())):(w7(this.j,this.m,u,null),PH(this,u)),4==b&&Es(this),this.i&&!this.I&&(4==b?VB(this.l,this):(this.i=!1,If(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ht(12)):(this.o=0,Ht(13)),Es(this),Nf(this)}}}catch(b){}},g2.fb=function(){if(this.g){var n=j8(this.g),e=this.g.ga();this.C<e.length&&(ty(this),eB(this,n,e),this.i&&4!=n&&If(this))}},g2.cancel=function(){this.I=!0,Es(this)},g2.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function rl1(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(xf(3),Ht(17)),Es(this),this.o=2,Nf(this)):tB(this,this.Y-n)},(g2=V7.prototype).R=function(){OH(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},g2.T=function(){return OH(this),this.g.concat()},g2.get=function(n,e){return Ts(this.h,n)?this.h[n]:e},g2.set=function(n,e){Ts(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},g2.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var nB=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function As(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof As){this.g=void 0!==e?e:n.g,ny(this,n.j),this.s=n.s,ry(this,n.i),iy(this,n.m),this.l=n.l,e=n.h;var t=new Pf;t.i=e.i,e.g&&(t.g=new V7(e.g),t.h=e.h),rB(this,t),this.o=n.o}else n&&(t=String(n).match(nB))?(this.g=!!e,ny(this,t[1]||"",!0),this.s=Df(t[2]||""),ry(this,t[3]||"",!0),iy(this,t[4]),this.l=Df(t[5]||"",!0),rB(this,t[6]||"",!0),this.o=Df(t[7]||"")):(this.g=!!e,this.h=new Pf(null,this.g))}function B8(n){return new As(n)}function ny(n,e,t){n.j=t?Df(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ry(n,e,t){n.i=t?Df(e,!0):e}function iy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function rB(n,e,t){e instanceof Pf?(n.h=e,function ml1(n,e){e&&!n.j&&(zi(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(sB(this,r),oB(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=kf(e,Cl1)),n.h=new Pf(e,n.g))}function v3(n,e,t){n.h.set(e,t)}function sy(n){return v3(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Df(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,fl1),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fl1(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}As.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kf(e,iB,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kf(e,iB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(kf(t,"/"==t.charAt(0)?dl1:hl1,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kf(t,pl1)),n.join("")};var iB=/[#\/\?@]/g,hl1=/[#\?:]/g,dl1=/[#\?]/g,Cl1=/[#\?@]/g,pl1=/#/g;function Pf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function zi(n){n.g||(n.g=new V7,n.h=0,n.i&&function cl1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sB(n,e){zi(n),e=S7(n,e),Ts(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ts((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&OH(n)))}function aB(n,e){return zi(n),e=S7(n,e),Ts(n.g.h,e)}function oB(n,e,t){sB(n,e),0<t.length&&(n.i=null,n.g.set(S7(n,e),cH(t)),n.h+=t.length)}function S7(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function cB(n){this.l=n||vl1,n=K2.PerformanceNavigationTiming?0<(n=K2.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(K2.g&&K2.g.Ea&&K2.g.Ea()&&K2.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(g2=Pf.prototype).add=function(n,e){zi(this),this.i=null,n=S7(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},g2.forEach=function(n,e){zi(this),this.g.forEach(function(t,r){MU(t,function(i){n.call(e,i,r,this)},this)},this)},g2.T=function(){zi(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},g2.R=function(n){zi(this);var e=[];if("string"==typeof n)aB(this,n)&&(e=LU(e,this.g.get(S7(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=LU(e,n[t])}return e},g2.set=function(n,e){return zi(this),this.i=null,aB(this,n=S7(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},g2.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},g2.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=i;""!==r[s]&&(u+="="+encodeURIComponent(String(r[s]))),n.push(u)}}return this.i=n.join("&")};var vl1=10;function lB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uB(n){return n.h?1:n.g?n.g.size:0}function FH(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function UH(n,e){n.g?n.g.add(e):n.h=e}function fB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function hB(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return cH(n.i)}function BH(){}function yl1(){this.g=new BH}function _l1(n,e,t){const r=t||"";try{RH(n,function(i,s){let u=i;wf(i)&&(u=wH(i)),e.push(r+s+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ay(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Rf(n){this.l=n.$b||null,this.j=n.ib||!1}function oy(n,e){w4.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=jH,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cB.prototype.cancel=function(){if(this.i=hB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},BH.prototype.stringify=function(n){return K2.JSON.stringify(n,void 0)},BH.prototype.parse=function(n){return K2.JSON.parse(n,void 0)},U4(Rf,TH),Rf.prototype.g=function(){return new oy(this.l,this.j)},Rf.prototype.i=function(n){return function(){return n}}({}),U4(oy,w4);var jH=0;function dB(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Of(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ff(n)}function Ff(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(g2=oy.prototype).open=function(n,e){if(this.readyState!=jH)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ff(this)},g2.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||K2).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},g2.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Of(this)),this.readyState=jH},g2.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ff(this)),this.g&&(this.readyState=3,Ff(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==K2.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dB(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},g2.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Of(this):Ff(this),3==this.readyState&&dB(this)}},g2.Ua=function(n){this.g&&(this.response=this.responseText=n,Of(this))},g2.Ta=function(n){this.g&&(this.response=n,Of(this))},g2.ha=function(){this.g&&Of(this)},g2.setRequestHeader=function(n,e){this.v.append(n,e)},g2.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},g2.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(oy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ll1=K2.JSON.parse;function t4(n){w4.call(this),this.headers=new V7,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=CB,this.K=this.L=!1}U4(t4,w4);var CB="",bl1=/^https?$/i,zl1=["POST","PUT"];function Vl1(n){return"content-type"==n.toLowerCase()}function pB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mB(n),cy(n)}function mB(n){n.D||(n.D=!0,B4(n,"complete"),B4(n,"error"))}function gB(n){if(n.h&&void 0!==sH&&(!n.C[1]||4!=j8(n)||2!=n.ba()))if(n.v&&4==j8(n))EH(n.Fa,0,n);else if(B4(n,"readystatechange"),4==j8(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(nB)[1]||null;if(!i&&K2.self&&K2.self.location){var s=K2.self.location.protocol;i=s.substr(0,s.length-1)}r=!bl1.test(i?i.toLowerCase():"")}t=r}if(t)B4(n,"complete"),B4(n,"success");else{n.m=6;try{var u=2<j8(n)?n.g.statusText:""}catch(C){u=""}n.j=u+" ["+n.ba()+"]",mB(n)}}finally{cy(n)}}}function cy(n,e){if(n.g){vB(n);const t=n.g,r=n.C[0]?Bv:null;n.g=null,n.C=null,e||B4(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function vB(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(K2.clearTimeout(n.A),n.A=null)}function j8(n){return n.g?n.g.readyState:0}function yB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case CB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function qH(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Sl1(n){let e="";return uH(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):v3(n,e,t))}function Uf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _B(n){this.za=0,this.l=[],this.h=new Yv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Uf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Uf("baseRetryDelayMs",5e3,n),this.$a=Uf("retryDelaySeedMs",1e4,n),this.Ya=Uf("forwardChannelMaxRetries",2,n),this.ra=Uf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new cB(n&&n.concurrentRequestLimit),this.Ca=new yl1,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function GH(n){if(MB(n),3==n.G){var e=n.V++,t=B8(n.F);v3(t,"SID",n.J),v3(t,"RID",e),v3(t,"TYPE","terminate"),Bf(n,t),(e=new Af(n,n.h,e,void 0)).K=2,e.v=sy(B8(t)),t=!1,K2.navigator&&K2.navigator.sendBeacon&&(t=K2.navigator.sendBeacon(e.v.toString(),"")),!t&&K2.Image&&((new Image).src=e.v,t=!0),t||(e.g=EB(e.l,null),e.g.ea(e.v)),e.F=Date.now(),If(e)}HB(n)}function ly(n){n.g&&(ZH(n),n.g.cancel(),n.g=null)}function MB(n){ly(n),n.u&&(K2.clearTimeout(n.u),n.u=null),fy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&K2.clearTimeout(n.m),n.m=null)}function WH(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&uy(n)}function uy(n){lB(n.i)||n.m||(n.m=!0,VH(n.Ha,n),n.C=0)}function LB(n,e){var t;t=e?e.m:n.V++;const r=B8(n.F);v3(r,"SID",n.J),v3(r,"RID",t),v3(r,"AID",n.U),Bf(n,r),n.o&&n.s&&qH(r,n.o,n.s),t=new Af(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=bB(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),UH(n.i,t),kH(t,r,e)}function Bf(n,e){n.j&&RH({},function(t,r){v3(e,r,t)})}function bB(n,e,t){t=Math.min(n.l.length,t);var r=n.j?F4(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=i[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let C=0;C<t;C++){let v=i[C].h;const b=i[C].g;if(v-=s,0>v)s=Math.max(0,i[C].h-100),h=!1;else try{_l1(b,u,"req"+v+"_")}catch(z){r&&r(b)}}if(h){r=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function zB(n){n.g||n.u||(n.Y=1,VH(n.Ga,n),n.A=0)}function $H(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ef(F4(n.Ga,n),SB(n,n.A)),n.A++,0))}function ZH(n){null!=n.B&&(K2.clearTimeout(n.B),n.B=null)}function wB(n){n.g=new Af(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=B8(n.oa);v3(e,"RID","rpc"),v3(e,"SID",n.J),v3(e,"CI",n.N?"0":"1"),v3(e,"AID",n.U),Bf(n,e),v3(e,"TYPE","xmlhttp"),n.o&&n.s&&qH(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=sy(B8(e)),t.s=null,t.U=!0,JU(t,n)}function fy(n){null!=n.v&&(K2.clearTimeout(n.v),n.v=null)}function VB(n,e){var t=null;if(n.g==e){fy(n),ZH(n),n.g=null;var r=2}else{if(!FH(n.i,e))return;t=e.D,fB(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;B4(r=Qv(),new $U(r,t,e,i)),uy(n)}else zB(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Hl1(n,e){return!(uB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ef(F4(n.Ha,n,e),SB(n,n.C)),n.C++,0)))}(n,e)||2==r&&$H(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Is(n,5);break;case 4:Is(n,10);break;case 3:Is(n,6);break;default:Is(n,2)}}function SB(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Is(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=F4(n.jb,n);t||(t=new As("//www.google.com/images/cleardot.gif"),K2.location&&"http"==K2.location.protocol||ny(t,"https"),sy(t)),function Ml1(n,e){const t=new Yv;if(K2.Image){const r=new Image;r.onload=jv(ay,t,r,"TestLoadImage: loaded",!0,e),r.onerror=jv(ay,t,r,"TestLoadImage: error",!1,e),r.onabort=jv(ay,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=jv(ay,t,r,"TestLoadImage: timeout",!1,e),K2.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ht(2);n.G=0,n.j&&n.j.va(e),HB(n),MB(n)}function HB(n){n.G=0,n.I=-1,n.j&&((0!=hB(n.i).length||0!=n.l.length)&&(n.i.i.length=0,cH(n.l),n.l.length=0),n.j.ua())}function xB(n,e,t){let r=function ll1(n){return n instanceof As?B8(n):new As(n,void 0)}(t);if(""!=r.i)e&&ry(r,e+"."+r.i),iy(r,r.m);else{const i=K2.location;r=function ul1(n,e,t,r){var i=new As(null,void 0);return n&&ny(i,n),e&&ry(i,e),t&&iy(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&uH(n.aa,function(i,s){v3(r,s,i)}),t=n.sa,(e=n.D)&&t&&v3(r,e,t),v3(r,"VER",n.ma),Bf(n,r),r}function EB(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new t4(t&&n.Ba&&!n.qa?new Rf({ib:!0}):n.qa)).L=n.H,e}function TB(){}function hy(){if(z7&&!(10<=Number(Uc1)))throw Error("Environmental error: no available transport.")}function bn(n,e){w4.call(this),this.g=new _B(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!qv(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qv(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new H7(this)}function AB(n){AH.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function IB(){IH.call(this),this.status=1}function H7(n){this.g=n}(g2=t4.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():NH.g(),this.C=function KU(n){return n.h||(n.h=n.i())}(this.u?this.u:NH),this.g.onreadystatechange=F4(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void pB(this,s)}n=t||"";const i=new V7(this.headers);r&&RH(r,function(s,u){i.set(u,s)}),r=function Dc1(n){e:{var e=Vl1;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=K2.FormData&&n instanceof K2.FormData,!(0<=_U(zl1,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vB(this),0<this.B&&((this.K=function wl1(n){return z7&&function Fc1(){return function kc1(n){var e=Oc1;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=bU(String(Gv)).split("."),t=bU("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",s=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=lH(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||lH(0==i[2].length,0==s[2].length)||lH(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=F4(this.pa,this)):this.A=EH(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){pB(this,s)}},g2.pa=function(){void 0!==sH&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,B4(this,"timeout"),this.abort(8))},g2.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,B4(this,"complete"),B4(this,"abort"),cy(this))},g2.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cy(this,!0)),t4.Z.M.call(this)},g2.Fa=function(){this.s||(this.F||this.v||this.l?gB(this):this.cb())},g2.cb=function(){gB(this)},g2.ba=function(){try{return 2<j8(this)?this.g.status:-1}catch(n){return-1}},g2.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},g2.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ll1(e)}},g2.Da=function(){return this.m},g2.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(g2=_B.prototype).ma=8,g2.G=1,g2.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},g2.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Af(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=VU(s),HU(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bB(this,i,e),v3(t=B8(this.F),"RID",n),v3(t,"CVER",22),this.D&&v3(t,"X-HTTP-Session-Id",this.D),Bf(this,t),this.o&&s&&qH(t,this.o,s),UH(this.i,i),this.Ra&&v3(t,"TYPE","init"),this.ja?(v3(t,"$req",e),v3(t,"SID","null"),i.$=!0,kH(i,t,null)):kH(i,t,e),this.G=2}}else 3==this.G&&(n?LB(this,n):0==this.l.length||lB(this.i)||LB(this))},g2.Ga=function(){if(this.u=null,wB(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ef(F4(this.bb,this),n)}},g2.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ht(10),ly(this),wB(this))},g2.ab=function(){null!=this.v&&(this.v=null,ly(this),$H(this),Ht(19))},g2.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ht(2)):(this.h.info("Failed to ping google.com"),Ht(1))},(g2=TB.prototype).xa=function(){},g2.wa=function(){},g2.va=function(){},g2.ua=function(){},g2.Oa=function(){},hy.prototype.g=function(n,e){return new bn(n,e)},U4(bn,w4),bn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),VH(F4(n.hb,n,e))),Ht(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=xB(n,null,n.W),uy(n)},bn.prototype.close=function(){GH(this.g)},bn.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,WH(this.g,e)}else this.v?((e={}).__data__=wH(n),WH(this.g,e)):WH(this.g,n)},bn.prototype.M=function(){this.g.j=null,delete this.j,GH(this.g),delete this.g,bn.Z.M.call(this)},U4(AB,AH),U4(IB,IH),U4(H7,TB),H7.prototype.xa=function(){B4(this.g,"a")},H7.prototype.wa=function(n){B4(this.g,new AB(n))},H7.prototype.va=function(n){B4(this.g,new IB(n))},H7.prototype.ua=function(){B4(this.g,"b")},hy.prototype.createWebChannel=hy.prototype.g,bn.prototype.send=bn.prototype.u,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,Jv.NO_ERROR=0,Jv.TIMEOUT=8,Jv.HTTP_ERROR=6,ZU.COMPLETE="complete",YU.EventType=Tf,Tf.OPEN="a",Tf.CLOSE="b",Tf.ERROR="c",Tf.MESSAGE="d",w4.prototype.listen=w4.prototype.N,t4.prototype.listenOnce=t4.prototype.O,t4.prototype.getLastError=t4.prototype.La,t4.prototype.getLastErrorCode=t4.prototype.Da,t4.prototype.getStatus=t4.prototype.ba,t4.prototype.getResponseJson=t4.prototype.Qa,t4.prototype.getResponseText=t4.prototype.ga,t4.prototype.send=t4.prototype.ea;var xl1=U8.createWebChannelTransport=function(){return new hy},El1=U8.getStatEventTarget=function(){return Qv()},KH=U8.ErrorCode=Jv,Tl1=U8.EventType=ZU,Al1=U8.Event=xs,NB=U8.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Il1=U8.FetchXmlHttpFactory=Rf,dy=U8.WebChannel=YU,Nl1=U8.XhrIo=t4;const DB="@firebase/firestore";class j4{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}j4.UNAUTHENTICATED=new j4(null),j4.GOOGLE_CREDENTIALS=new j4("google-credentials-uid"),j4.FIRST_PARTY=new j4("first-party-uid"),j4.MOCK_USER=new j4("mock-user");let x7="9.8.0";const wi=new G6.Yd("@firebase/firestore");function YH(){return wi.logLevel}function Q1(n,...e){if(wi.logLevel<=G6.in.DEBUG){const t=e.map(QH);wi.debug(`Firestore (${x7}): ${n}`,...t)}}function n4(n,...e){if(wi.logLevel<=G6.in.ERROR){const t=e.map(QH);wi.error(`Firestore (${x7}): ${n}`,...t)}}function jf(n,...e){if(wi.logLevel<=G6.in.WARN){const t=e.map(QH);wi.warn(`Firestore (${x7}): ${n}`,...t)}}function QH(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function _2(n="Unexpected state"){const e=`FIRESTORE (${x7}) INTERNAL ASSERTION FAILED: `+n;throw n4(e),new Error(e)}function q2(n,e){n||_2()}function u2(n,e){return n}const _1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F1 extends D.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class V4{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class kB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pl1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(j4.UNAUTHENTICATED))}shutdown(){}}class Rl1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ol1{constructor(e){this.t=e,this.currentUser=j4.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let u=new V4;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new V4,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const v=u;e.enqueueRetryable((0,w1.Z)(function*(){yield v.promise,yield s(r.currentUser)}))},C=v=>{Q1("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>C(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?C(v):(Q1("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new V4)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q1("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q2("string"==typeof r.accessToken),new kB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q2(null===e||"string"==typeof e),new j4(e)}}class Fl1{constructor(e,t,r){this.type="FirstParty",this.user=j4.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Ul1{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Fl1(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(j4.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bl1{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&Q1("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.p;return this.p=s.token,Q1("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q1("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):Q1("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(q2("string"==typeof t.token),this.p=t.token,new PB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class zn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function jl1(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}zn.A=-1;class RB{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=jl1(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ee(n,e){return n<e?-1:n>e?1:0}function E7(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function OB(n){return n+"\0"}class $3{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new F1(_1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new F1(_1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new F1(_1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F1(_1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $3.fromMillis(Date.now())}static fromDate(e){return $3.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $3(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class F2{constructor(e){this.timestamp=e}static fromTimestamp(e){return new F2(e)}static min(){return new F2(new $3(0,0))}static max(){return new F2(new $3(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function FB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ns(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class qf{constructor(e,t,r){void 0===t?t=0:t>e.length&&_2(),void 0===r?r=e.length-t:r>e.length-t&&_2(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===qf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),u=t.get(i);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ge extends qf{construct(e,t,r){return new ge(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new F1(_1.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ge(t)}static emptyPath(){return new ge([])}}const ql1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class u4 extends qf{construct(e,t,r){return new u4(e,t,r)}static isValidIdentifier(e){return ql1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),u4.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new u4(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new F1(_1.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new F1(_1.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const C=e[i+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new F1(_1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=C,i+=2}else"`"===h?(u=!u,i++):"."!==h||u?(r+=h,i++):(s(),i++)}if(s(),u)throw new F1(_1.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new u4(t)}static emptyPath(){return new u4([])}}class T7{constructor(e){this.fields=e,e.sort(u4.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return E7(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class f4{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new f4(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new f4(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}f4.EMPTY_BYTE_STRING=new f4("");const Wl1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(n){if(q2(!!n),"string"==typeof n){let e=0;const t=Wl1.exec(n);if(q2(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:R3(n.seconds),nanos:R3(n.nanos)}}function R3(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ds(n){return"string"==typeof n?f4.fromBase64String(n):f4.fromUint8Array(n)}function JH(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function BB(n){const e=n.mapValue.fields.__previous_value__;return JH(e)?BB(e):e}function Gf(n){const e=Vi(n.mapValue.fields.__local_write_time__.timestampValue);return new $3(e.seconds,e.nanos)}class $l1{constructor(e,t,r,i,s,u,h,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=C}}class q8{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new q8("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof q8&&e.projectId===this.projectId&&e.database===this.database}}function Wf(n){return null==n}function $f(n){return 0===n&&1/n==-1/0}function jB(n){return"number"==typeof n&&Number.isInteger(n)&&!$f(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class s2{constructor(e){this.path=e}static fromPath(e){return new s2(ge.fromString(e))}static fromName(e){return new s2(ge.fromString(e).popFirst(5))}static empty(){return new s2(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new s2(new ge(e.slice()))}}const Si={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cy={nullValue:"NULL_VALUE"};function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?JH(n)?4:$B(n)?9007199254740991:10:_2()}function U5(n,e){if(n===e)return!0;const t=ks(n);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gf(n).isEqual(Gf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Vi(r.timestampValue),u=Vi(i.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ds(n.bytesValue).isEqual(Ds(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return R3(r.geoPointValue.latitude)===R3(i.geoPointValue.latitude)&&R3(r.geoPointValue.longitude)===R3(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return R3(r.integerValue)===R3(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=R3(r.doubleValue),u=R3(i.doubleValue);return s===u?$f(s)===$f(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return E7(n.arrayValue.values||[],e.arrayValue.values||[],U5);case 10:return function(r,i){const s=r.mapValue.fields||{},u=i.mapValue.fields||{};if(FB(s)!==FB(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!U5(s[h],u[h])))return!1;return!0}(n,e);default:return _2()}var i}function Zf(n,e){return void 0!==(n.values||[]).find(t=>U5(t,e))}function Hi(n,e){if(n===e)return 0;const t=ks(n),r=ks(e);if(t!==r)return ee(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ee(n.booleanValue,e.booleanValue);case 2:return function(i,s){const u=R3(i.integerValue||i.doubleValue),h=R3(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return qB(n.timestampValue,e.timestampValue);case 4:return qB(Gf(n),Gf(e));case 5:return ee(n.stringValue,e.stringValue);case 6:return function(i,s){const u=Ds(i),h=Ds(s);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const u=i.split("/"),h=s.split("/");for(let C=0;C<u.length&&C<h.length;C++){const v=ee(u[C],h[C]);if(0!==v)return v}return ee(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const u=ee(R3(i.latitude),R3(s.latitude));return 0!==u?u:ee(R3(i.longitude),R3(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const u=i.values||[],h=s.values||[];for(let C=0;C<u.length&&C<h.length;++C){const v=Hi(u[C],h[C]);if(v)return v}return ee(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Si.mapValue&&s===Si.mapValue)return 0;if(i===Si.mapValue)return 1;if(s===Si.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),C=s.fields||{},v=Object.keys(C);h.sort(),v.sort();for(let b=0;b<h.length&&b<v.length;++b){const z=ee(h[b],v[b]);if(0!==z)return z;const S=Hi(u[h[b]],C[v[b]]);if(0!==S)return S}return ee(h.length,v.length)}(n.mapValue,e.mapValue);default:throw _2()}}function qB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ee(n,e);const t=Vi(n),r=Vi(e),i=ee(t.seconds,r.seconds);return 0!==i?i:ee(t.nanos,r.nanos)}function A7(n){return XH(n)}function XH(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Vi(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ds(n.bytesValue).toBase64():"referenceValue"in n?s2.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const u of r.values||[])s?s=!1:i+=",",i+=XH(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",u=!0;for(const h of i)u?u=!1:s+=",",s+=`${h}:${XH(r.fields[h])}`;return s+"}"}(n.mapValue):_2();var e}function Ps(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ex(n){return!!n&&"integerValue"in n}function Kf(n){return!!n&&"arrayValue"in n}function GB(n){return!!n&&"nullValue"in n}function WB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function py(n){return!!n&&"mapValue"in n}function Yf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ns(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $B(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zl1(n){return"nullValue"in n?Cy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ps(q8.empty(),s2.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_2()}function Kl1(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ps(q8.empty(),s2.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Si:_2()}function ZB(n,e){const t=Hi(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function KB(n,e){const t=Hi(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class st{constructor(e){this.value=e}static empty(){return new st({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!py(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yf(t)}setAll(e){let t=u4.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const C=this.getFieldsMap(t);this.applyChanges(C,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Yf(u):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());py(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return U5(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];py(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ns(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new st(Yf(this.value))}}function YB(n){const e=[];return Ns(n.fields,(t,r)=>{const i=new u4([t]);if(py(r)){const s=YB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const u of s)e.push(i.child(u))}else e.push(i)}),new T7(e)}class l3{constructor(e,t,r,i,s,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=u}static newInvalidDocument(e){return new l3(e,0,F2.min(),F2.min(),st.empty(),0)}static newFoundDocument(e,t,r){return new l3(e,1,t,F2.min(),r,0)}static newNoDocument(e,t){return new l3(e,2,t,F2.min(),st.empty(),0)}static newUnknownDocument(e,t){return new l3(e,3,t,F2.min(),st.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=st.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=st.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof l3&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new l3(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class my{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function tx(n){return n.fields.find(e=>2===e.kind)}function Rs(n){return n.fields.filter(e=>2!==e.kind)}my.UNKNOWN_ID=-1;class gy{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qf(0,Q6.min())}}function QB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=F2.fromTimestamp(1e9===r?new $3(t+1,0):new $3(t,r));return new Q6(i,s2.empty(),e)}function Yl1(n){return new Q6(n.readTime,n.key,-1)}class Q6{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Q6(F2.min(),s2.empty(),-1)}static max(){return new Q6(F2.max(),s2.empty(),-1)}}function JB(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=s2.comparator(n.documentKey,e.documentKey),0!==t?t:ee(n.largestBatchId,e.largestBatchId))}class Z3{constructor(e,t){this.comparator=e,this.root=t||q4.EMPTY}insert(e,t){return new Z3(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,q4.BLACK,null,null))}remove(e){return new Z3(this.comparator,this.root.remove(e,this.comparator).copy(null,null,q4.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vy(this.root,e,this.comparator,!1)}getReverseIterator(){return new vy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vy(this.root,e,this.comparator,!0)}}class vy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class q4{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:q4.RED,this.left=null!=i?i:q4.EMPTY,this.right=null!=s?s:q4.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new q4(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return q4.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return q4.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,q4.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,q4.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _2();const e=this.left.check();if(e!==this.right.check())throw _2();return e+(this.isRed()?0:1)}}q4.EMPTY=null,q4.RED=!0,q4.BLACK=!1,q4.EMPTY=new class{constructor(){this.size=0}get key(){throw _2()}get value(){throw _2()}get color(){throw _2()}get left(){throw _2()}get right(){throw _2()}copy(n,e,t,r,i){return this}insert(n,e,t){return new q4(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class a3{constructor(e){this.comparator=e,this.data=new Z3(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XB(this.data.getIterator())}getIteratorFrom(e){return new XB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof a3)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new a3(this.comparator);return t.data=e,t}}class XB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function I7(n){return n.hasNext()?n.getNext():void 0}class Ql1{constructor(e,t=null,r=[],i=[],s=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=u,this.endAt=h,this.P=null}}function ej(n,e=null,t=[],r=[],i=null,s=null,u=null){return new Ql1(n,e,t,r,i,s,u)}function Os(n){const e=u2(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+A7(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Wf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>A7(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>A7(r)).join(",")),e.P=t}return e.P}function Jf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!au1(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!U5(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sj(n.startAt,e.startAt)&&sj(n.endAt,e.endAt)}function yy(n){return s2.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _y(n,e){return n.filters.filter(t=>t instanceof G4&&t.field.isEqual(e))}function tj(n,e,t){let r=Cy,i=!0;for(const s of _y(n,e)){let u=Cy,h=!0;switch(s.op){case"<":case"<=":u=Zl1(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=Cy}ZB({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];ZB({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function nj(n,e,t){let r=Si,i=!0;for(const s of _y(n,e)){let u=Si,h=!0;switch(s.op){case">=":case">":u=Kl1(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=Si}KB({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];KB({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class G4 extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Xl1(e,t,r):"array-contains"===t?new nu1(e,r):"in"===t?new ru1(e,r):"not-in"===t?new iu1(e,r):"array-contains-any"===t?new su1(e,r):new G4(e,t,r)}static V(e,t,r){return"in"===t?new eu1(e,r):new tu1(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Hi(t,this.value)):null!==t&&ks(this.value)===ks(t)&&this.v(Hi(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _2()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Xl1 extends G4{constructor(e,t,r){super(e,t,r),this.key=s2.fromName(r.referenceValue)}matches(e){const t=s2.comparator(e.key,this.key);return this.v(t)}}class eu1 extends G4{constructor(e,t){super(e,"in",t),this.keys=rj(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tu1 extends G4{constructor(e,t){super(e,"not-in",t),this.keys=rj(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rj(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>s2.fromName(r.referenceValue))}class nu1 extends G4{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kf(t)&&Zf(t.arrayValue,this.value)}}class ru1 extends G4{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Zf(this.value.arrayValue,t)}}class iu1 extends G4{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Zf(this.value.arrayValue,t)}}class su1 extends G4{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Zf(this.value.arrayValue,r))}}class xi{constructor(e,t){this.position=e,this.inclusive=t}}class N7{constructor(e,t="asc"){this.field=e,this.dir=t}}function au1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function ij(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],u=n.position[i];if(r=s.field.isKeyField()?s2.comparator(s2.fromName(u.referenceValue),t.key):Hi(u,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sj(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!U5(n.position[t],e.position[t]))return!1;return!0}class G8{constructor(e,t=null,r=[],i=[],s=null,u="F",h=null,C=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=C,this.D=null,this.C=null}}function aj(n,e,t,r,i,s,u,h){return new G8(n,e,t,r,i,s,u,h)}function D7(n){return new G8(n)}function nx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function rx(n){for(const e of n.filters)if(e.S())return e.field;return null}function ix(n){return null!==n.collectionGroup}function k7(n){const e=u2(n);if(null===e.D){e.D=[];const t=rx(e),r=nx(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new N7(t)),e.D.push(new N7(u4.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new N7(u4.keyField(),s))}}}return e.D}function l6(n){const e=u2(n);if(!e.C)if("F"===e.limitType)e.C=ej(e.path,e.collectionGroup,k7(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of k7(e))t.push(new N7(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new xi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new xi(e.startAt.position,e.startAt.inclusive):null;e.C=ej(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function oj(n,e,t){return new G8(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xf(n,e){return Jf(l6(n),l6(e))&&n.limitType===e.limitType}function cj(n){return`${Os(l6(n))}|lt:${n.limitType}`}function sx(n){return`Query(target=${function Jl1(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${A7(r.value)}`;var r}).join(", ")}]`),Wf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>A7(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>A7(t)).join(",")),`Target(${e})`}(l6(n))}; limitType=${n.limitType})`}function ax(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):s2.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,u){const h=ij(i,s,u);return i.inclusive?h<=0:h<0}(t.startAt,k7(t),r)||t.endAt&&!function(i,s,u){const h=ij(i,s,u);return i.inclusive?h>=0:h>0}(t.endAt,k7(t),r)));var t,r}function lj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uj(n){return(e,t)=>{let r=!1;for(const i of k7(n)){const s=cu1(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function cu1(n,e,t){const r=n.field.isKeyField()?s2.comparator(e.key,t.key):function(i,s,u){const h=s.data.field(i),C=u.data.field(i);return null!==h&&null!==C?Hi(h,C):_2()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _2()}}function fj(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$f(e)?"-0":e}}function hj(n){return{integerValue:""+n}}function dj(n,e){return jB(e)?hj(e):fj(n,e)}class My{constructor(){this._=void 0}}function lu1(n,e,t){return n instanceof P7?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Fs?pj(n,e):n instanceof Us?mj(n,e):function(r,i){const s=Cj(r,i),u=gj(s)+gj(r.k);return ex(s)&&ex(r.k)?hj(u):fj(r.M,u)}(n,e)}function uu1(n,e,t){return n instanceof Fs?pj(n,e):n instanceof Us?mj(n,e):t}function Cj(n,e){return n instanceof R7?ex(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class P7 extends My{}class Fs extends My{constructor(e){super(),this.elements=e}}function pj(n,e){const t=vj(e);for(const r of n.elements)t.some(i=>U5(i,r))||t.push(r);return{arrayValue:{values:t}}}class Us extends My{constructor(e){super(),this.elements=e}}function mj(n,e){let t=vj(e);for(const r of n.elements)t=t.filter(i=>!U5(i,r));return{arrayValue:{values:t}}}class R7 extends My{constructor(e,t){super(),this.M=e,this.k=t}}function gj(n){return R3(n.integerValue||n.doubleValue)}function vj(n){return Kf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class eh{constructor(e,t){this.field=e,this.transform=t}}class hu1{constructor(e,t){this.version=e,this.transformResults=t}}class r4{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new r4}static exists(e){return new r4(void 0,e)}static updateTime(e){return new r4(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ly(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class by{}function du1(n,e,t){n instanceof th?function(r,i,s){const u=r.value.clone(),h=Lj(r.fieldTransforms,i,s.transformResults);u.setAll(h),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Bs?function(r,i,s){if(!Ly(r.precondition,i))return void i.convertToUnknownDocument(s.version);const u=Lj(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(Mj(r)),h.setAll(u),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ox(n,e,t){var i;n instanceof th?function(r,i,s){if(!Ly(r.precondition,i))return;const u=r.value.clone(),h=bj(r.fieldTransforms,s,i);u.setAll(h),i.convertToFoundDocument(_j(i),u).setHasLocalMutations()}(n,e,t):n instanceof Bs?function(r,i,s){if(!Ly(r.precondition,i))return;const u=bj(r.fieldTransforms,s,i),h=i.data;h.setAll(Mj(r)),h.setAll(u),i.convertToFoundDocument(_j(i),h).setHasLocalMutations()}(n,e,t):Ly(n.precondition,i=e)&&i.convertToNoDocument(F2.min())}function Cu1(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Cj(r.transform,i||null);null!=s&&(null==t&&(t=st.empty()),t.set(r.field,s))}return t||null}function yj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&E7(t,r,(i,s)=>function fu1(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Fs&&r instanceof Fs||t instanceof Us&&r instanceof Us?E7(t.elements,r.elements,U5):t instanceof R7&&r instanceof R7?U5(t.k,r.k):t instanceof P7&&r instanceof P7);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function _j(n){return n.isFoundDocument()?n.version:F2.min()}class th extends by{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Bs extends by{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function Mj(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Lj(n,e,t){const r=new Map;q2(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],u=s.transform,h=e.data.field(s.field);r.set(s.field,uu1(u,h,t[i]))}return r}function bj(n,e,t){const r=new Map;for(const i of n){const s=i.transform,u=t.data.field(i.field);r.set(i.field,lu1(s,u,e))}return r}class nh extends by{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class cx extends by{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class pu1{constructor(e){this.count=e}}var i4,ve;function zj(n){switch(n){default:return _2();case _1.CANCELLED:case _1.UNKNOWN:case _1.DEADLINE_EXCEEDED:case _1.RESOURCE_EXHAUSTED:case _1.INTERNAL:case _1.UNAVAILABLE:case _1.UNAUTHENTICATED:return!1;case _1.INVALID_ARGUMENT:case _1.NOT_FOUND:case _1.ALREADY_EXISTS:case _1.PERMISSION_DENIED:case _1.FAILED_PRECONDITION:case _1.ABORTED:case _1.OUT_OF_RANGE:case _1.UNIMPLEMENTED:case _1.DATA_LOSS:return!0}}function wj(n){if(void 0===n)return n4("GRPC error has no .code"),_1.UNKNOWN;switch(n){case i4.OK:return _1.OK;case i4.CANCELLED:return _1.CANCELLED;case i4.UNKNOWN:return _1.UNKNOWN;case i4.DEADLINE_EXCEEDED:return _1.DEADLINE_EXCEEDED;case i4.RESOURCE_EXHAUSTED:return _1.RESOURCE_EXHAUSTED;case i4.INTERNAL:return _1.INTERNAL;case i4.UNAVAILABLE:return _1.UNAVAILABLE;case i4.UNAUTHENTICATED:return _1.UNAUTHENTICATED;case i4.INVALID_ARGUMENT:return _1.INVALID_ARGUMENT;case i4.NOT_FOUND:return _1.NOT_FOUND;case i4.ALREADY_EXISTS:return _1.ALREADY_EXISTS;case i4.PERMISSION_DENIED:return _1.PERMISSION_DENIED;case i4.FAILED_PRECONDITION:return _1.FAILED_PRECONDITION;case i4.ABORTED:return _1.ABORTED;case i4.OUT_OF_RANGE:return _1.OUT_OF_RANGE;case i4.UNIMPLEMENTED:return _1.UNIMPLEMENTED;case i4.DATA_LOSS:return _1.DATA_LOSS;default:return _2()}}(ve=i4||(i4={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";class Ei{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return UB(this.inner)}size(){return this.innerSize}}const mu1=new Z3(s2.comparator);function u6(){return mu1}const gu1=new Z3(s2.comparator);function lx(...n){let e=gu1;for(const t of n)e=e.insert(t.key,t);return e}function rh(){return new Ei(n=>n.toString(),(n,e)=>n.isEqual(e))}const vu1=new Z3(s2.comparator),yu1=new a3(s2.comparator);function Re(...n){let e=yu1;for(const t of n)e=e.add(t);return e}const _u1=new a3(ee);function zy(){return _u1}class ih{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,sh.createSynthesizedTargetChangeForCurrentChange(e,t)),new ih(F2.min(),r,zy(),u6(),Re())}}class sh{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new sh(f4.EMPTY_BYTE_STRING,t,Re(),Re(),Re())}}class wy{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class Vj{constructor(e,t){this.targetId=e,this.$=t}}class Sj{constructor(e,t,r=f4.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Hj{constructor(){this.B=0,this.L=Ej(),this.U=f4.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Re(),t=Re(),r=Re();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_2()}}),new sh(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Ej()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Mu1{constructor(e){this.nt=e,this.st=new Map,this.it=u6(),this.rt=xj(),this.ot=new a3(ee)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:_2()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const s=i.target;if(yy(s))if(0===r){const u=new s2(s.path);this.ct(t,u,l3.newNoDocument(u,F2.min()))}else q2(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,u)=>{const h=this.wt(u);if(h){if(s.current&&yy(h.target)){const C=new s2(h.target.path);null!==this.it.get(C)||this.It(u,C)||this.ct(u,C,l3.newNoDocument(C,e))}s.j&&(t.set(u,s.H()),s.J())}});let r=Re();this.rt.forEach((s,u)=>{let h=!0;u.forEachWhile(C=>{const v=this.wt(C);return!v||2===v.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.it.forEach((s,u)=>u.setReadTime(e));const i=new ih(e,t,this.ot,this.it,r);return this.it=u6(),this.rt=xj(),this.ot=new a3(ee),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Hj,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new a3(ee),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Q1("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Hj),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function xj(){return new Z3(s2.comparator)}function Ej(){return new Z3(s2.comparator)}const Lu1={asc:"ASCENDING",desc:"DESCENDING"},bu1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zu1{constructor(e,t){this.databaseId=e,this.N=t}}function ah(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tj(n,e){return n.N?e.toBase64():e.toUint8Array()}function wu1(n,e){return ah(n,e.toTimestamp())}function S4(n){return q2(!!n),F2.fromTimestamp(function(e){const t=Vi(e);return new $3(t.seconds,t.nanos)}(n))}function ux(n,e){return(t=n,new ge(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Aj(n){const e=ge.fromString(n);return q2(Uj(e)),e}function oh(n,e){return ux(n.databaseId,e.path)}function B5(n,e){const t=Aj(e);if(t.get(1)!==n.databaseId.projectId)throw new F1(_1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new F1(_1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new s2(Nj(t))}function fx(n,e){return ux(n.databaseId,e)}function Ij(n){const e=Aj(n);return 4===e.length?ge.emptyPath():Nj(e)}function ch(n){return new ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Nj(n){return q2(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Dj(n,e,t){return{name:oh(n,e),fields:t.value.mapValue.fields}}function kj(n,e,t){const r=B5(n,e.name),i=S4(e.updateTime),s=new st({mapValue:{fields:e.fields}}),u=l3.newFoundDocument(r,i,s);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function lh(n,e){let t;if(e instanceof th)t={update:Dj(n,e.key,e.value)};else if(e instanceof nh)t={delete:oh(n,e.key)};else if(e instanceof Bs)t={update:Dj(n,e.key,e.data),updateMask:Nu1(e.fieldMask)};else{if(!(e instanceof cx))return _2();t={verify:oh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const u=s.transform;if(u instanceof P7)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Fs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Us)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof R7)return{fieldPath:s.field.canonicalString(),increment:u.k};throw _2()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:wu1(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_2()),t;var i}function hx(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?r4.updateTime(S4(i.updateTime)):void 0!==i.exists?r4.exists(i.exists):r4.none():r4.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,u){let h=null;"setToServerValue"in u?(q2("REQUEST_TIME"===u.setToServerValue),h=new P7):"appendMissingElements"in u?h=new Fs(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Us(u.removeAllFromArray.values||[]):"increment"in u?h=new R7(s,u.increment):_2();const C=u4.fromServerFormat(u.fieldPath);return new eh(C,h)}(n,i)):[];var i;if(e.update){const i=B5(n,e.update.name),s=new st({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new T7((e.updateMask.fieldPaths||[]).map(v=>u4.fromServerFormat(v)));return new Bs(i,s,u,t,r)}return new th(i,s,t,r)}if(e.delete){const i=B5(n,e.delete);return new nh(i,t)}if(e.verify){const i=B5(n,e.verify);return new cx(i,t)}return _2()}function Pj(n,e){return{documents:[fx(n,e.path)]}}function Rj(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=fx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=fx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(C){if(0===C.length)return;const v=C.map(b=>function(z){if("=="===z.op){if(WB(z.value))return{unaryFilter:{field:O7(z.field),op:"IS_NAN"}};if(GB(z.value))return{unaryFilter:{field:O7(z.field),op:"IS_NULL"}}}else if("!="===z.op){if(WB(z.value))return{unaryFilter:{field:O7(z.field),op:"IS_NOT_NAN"}};if(GB(z.value))return{unaryFilter:{field:O7(z.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:O7(z.field),op:Tu1(z.op),value:z.value}}}(b));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(C){if(0!==C.length)return C.map(v=>{return{field:O7((b=v).field),direction:Eu1(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=(v=e.limit,n.N||Wf(v)?v:{value:v});var v,h,C;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(C=e.endAt).inclusive,values:C.position}),t}function Oj(n){let e=Ij(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){q2(1===r);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=Fj(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(b=>{return new N7(F7((z=b).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction));var z}));let h=null;t.limit&&(h=function(b){let z;return z="object"==typeof b?b.value:b,Wf(z)?null:z}(t.limit));let C=null;var b;t.startAt&&(C=new xi((b=t.startAt).values||[],!!b.before));let v=null;return t.endAt&&(v=function(b){return new xi(b.values||[],!b.before)}(t.endAt)),aj(e,i,u,s,h,"F",C,v)}function Fj(n){return n?void 0!==n.unaryFilter?[Iu1(n)]:void 0!==n.fieldFilter?[Au1(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Fj(e)).reduce((e,t)=>e.concat(t)):_2():[]}function Eu1(n){return Lu1[n]}function Tu1(n){return bu1[n]}function O7(n){return{fieldPath:n.canonicalString()}}function F7(n){return u4.fromServerFormat(n.fieldPath)}function Au1(n){return G4.create(F7(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _2()}}(n.fieldFilter.op),n.fieldFilter.value)}function Iu1(n){switch(n.unaryFilter.op){case"IS_NAN":const e=F7(n.unaryFilter.field);return G4.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=F7(n.unaryFilter.field);return G4.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=F7(n.unaryFilter.field);return G4.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=F7(n.unaryFilter.field);return G4.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _2()}}function Nu1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Uj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function xt(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Bj(e)),e=Du1(n.get(t),e);return Bj(e)}function Du1(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function Bj(n){return n+"\x01\x01"}function j5(n){const e=n.length;if(q2(e>=2),2===e)return q2("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ge.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&_2(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let C;0===i.length?C=h:(i+=h,C=i,i=""),r.push(C);break;case"\x10":i+=n.substring(s,u),i+="\0";break;case"\x11":i+=n.substring(s,u+1);break;default:_2()}s=u+2}return new ge(r)}const jj=["userId","batchId"];function Vy(n,e){return[n,xt(e)]}function qj(n,e,t){return[n,xt(e),t]}const ku1={},Pu1=["prefixPath","collectionGroup","readTime","documentId"],Ru1=["prefixPath","collectionGroup","documentId"],Ou1=["collectionGroup","readTime","prefixPath","documentId"],Fu1=["canonicalId","targetId"],Uu1=["targetId","path"],Bu1=["path","targetId"],ju1=["collectionId","parent"],qu1=["indexId","uid"],Gu1=["uid","sequenceNumber"],Wu1=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$u1=["indexId","uid","orderedDocumentKey"],Zu1=["userId","collectionPath","documentId"],Ku1=["userId","collectionPath","largestBatchId"],Yu1=["userId","collectionGroup","largestBatchId"],Gj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qu1=[...Gj,"documentOverlays"],Wj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ju1=[...Wj,"indexConfiguration","indexState","indexEntries"],$j="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class L1{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_2(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L1((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L1?t:L1.resolve(t)}catch(t){return L1.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L1.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L1.reject(t)}static resolve(e){return new L1((t,r)=>{t(e)})}static reject(e){return new L1((t,r)=>{r(e)})}static waitFor(e){return new L1((t,r)=>{let i=0,s=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++s,u&&s===i&&t()},C=>r(C))}),u=!0,s===i&&t()})}static or(e){let t=L1.resolve(!1);for(const r of e)t=t.next(i=>i?L1.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}class Sy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new V4,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new uh(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=dx(r.target.error);this.At.reject(new uh(e,i))}}static open(e,t,r,i){try{return new Sy(t,e.transaction(i,r))}catch(s){throw new uh(t,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Q1("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ef1(t)}}class J6{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===J6.Vt((0,D.z$)())&&n4("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q1("SimpleDb","Removing database:",e),qs(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,D.hl)())return!1;if(J6.St())return!0;const e=(0,D.z$)(),t=J6.Vt(e),r=0<t&&t<10,i=J6.Dt(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,w1.Z)(function*(){return t.db||(Q1("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{r(u.target.result)},s.onblocked=()=>{i(new uh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;i("VersionError"===h.name?new F1(_1.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new F1(_1.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new uh(e,h))},s.onupgradeneeded=u=>{Q1("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.Pt.kt(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{Q1("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,w1.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.Nt(e);const C=Sy.open(s.db,e,u?"readonly":"readwrite",r),v=i(C).next(b=>(C.bt(),b)).catch(b=>(C.abort(b),L1.reject(b))).toPromise();return v.catch(()=>{}),yield C.Rt,v}catch(C){const v="FirebaseError"!==C.name&&h<3;if(Q1("SimpleDb","Transaction failed with error:",C.message,"Retrying:",v),s.close(),!v)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Xu1{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return qs(this.Ft.delete())}}class uh extends F1{constructor(e,t){super(_1.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function js(n){return"IndexedDbTransactionError"===n.name}class ef1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Q1("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Q1("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qs(r)}add(e){return Q1("SimpleDb","ADD",this.store.name,e,e),qs(this.store.add(e))}get(e){return qs(this.store.get(e)).next(t=>(void 0===t&&(t=null),Q1("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Q1("SimpleDb","DELETE",this.store.name,e),qs(this.store.delete(e))}count(){return Q1("SimpleDb","COUNT",this.store.name),qs(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.Kt(i,(u,h)=>{s.push(h)}).next(()=>s)}{const i=this.store.getAll(r.range);return new L1((s,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{s(h.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new L1((i,s)=>{r.onerror=u=>{s(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Qt(e,t){Q1("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(s,u,h)=>h.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new L1((r,i)=>{t.onerror=s=>{const u=dx(s.target.error);i(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}Kt(e,t){const r=[];return new L1((i,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const C=new Xu1(h),v=t(h.primaryKey,h.value,C);if(v instanceof L1){const b=v.catch(z=>(C.done(),L1.reject(z)));r.push(b)}C.isDone?i():null===C.Lt?h.continue():h.continue(C.Lt)}}).next(()=>L1.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qs(n){return new L1((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=dx(r.target.error);t(i)}})}let Kj=!1;function dx(n){const e=J6.Vt((0,D.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new F1("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Kj||(Kj=!0,setTimeout(()=>{throw r},0)),r}}return n}class Yj extends Zj{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function H4(n,e){const t=u2(n);return J6.xt(t.Ht,e)}class Cx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&du1(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&ox(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&ox(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(F2.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Re())}isEqual(e){return this.batchId===e.batchId&&E7(this.mutations,e.mutations,(t,r)=>yj(t,r))&&E7(this.baseMutations,e.baseMutations,(t,r)=>yj(t,r))}}class px{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){q2(e.mutations.length===r.length);let i=vu1;const s=e.mutations;for(let u=0;u<s.length;u++)i=i.insert(s[u].key,r[u].version);return new px(e,t,r,i)}}class mx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ti{constructor(e,t,r,i,s=F2.min(),u=F2.min(),h=f4.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Qj{constructor(e){this.Jt=e}}function Jj(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Hy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:oh(i=n.Jt,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:ah(i,s.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Gs(e.version)};else{if(!e.isUnknownDocument())return _2();r.unknownDocument={path:t.path.toArray(),version:Gs(e.version)}}var i,s;return r}function Hy(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Gs(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ws(n){const e=new $3(n.seconds,n.nanoseconds);return F2.fromTimestamp(e)}function U7(n,e){const t=(e.baseMutations||[]).map(s=>hx(n.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const u=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(u.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(s=>hx(n.Jt,s)),i=$3.fromMillis(e.localWriteTimeMs);return new Cx(e.batchId,i,t,r)}function fh(n){const e=Ws(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ws(n.lastLimboFreeSnapshotVersion):F2.min();let r;var i;return void 0!==n.query.documents?(q2(1===(i=n.query).documents.length),r=l6(D7(Ij(i.documents[0])))):r=l6(Oj(n.query)),new Ti(r,n.targetId,0,n.lastListenSequenceNumber,e,t,f4.fromBase64String(n.resumeToken))}function Xj(n,e){const t=Gs(e.snapshotVersion),r=Gs(e.lastLimboFreeSnapshotVersion);let i;i=yy(e.target)?Pj(n.Jt,e.target):Rj(n.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Os(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function gx(n){const e=Oj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?oj(e,e.limit,"L"):e}function vx(n,e){return new mx(e.largestBatchId,hx(n.Jt,e.overlayMutation))}function eq(n,e){const t=e.path.lastSegment();return[n,xt(e.path.popLast()),t]}class nf1{getBundleMetadata(e,t){return tq(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ws(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return tq(e).put({bundleId:(r=t).id,createTime:Gs(S4(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return nq(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:gx(i.bundledQuery),readTime:Ws(i.readTime)};var i})}saveNamedQuery(e,t){return nq(e).put({name:(r=t).name,readTime:Gs(S4(r.readTime)),bundledQuery:r.bundledQuery});var r}}function tq(n){return H4(n,"bundles")}function nq(n){return H4(n,"namedQueries")}class yx{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new yx(e,t.uid||"")}getOverlay(e,t){return hh(e).get(eq(this.userId,t)).next(r=>r?vx(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((s,u)=>{const h=new mx(t,u);i.push(this.Xt(e,h))}),L1.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(xt(u.getCollectionPath())));const s=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);s.push(hh(e).Qt("collectionPathOverlayIndex",h))}),L1.waitFor(s)}getOverlaysForCollection(e,t,r){const i=rh(),s=xt(t),u=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return hh(e).qt("collectionPathOverlayIndex",u).next(h=>{for(const C of h){const v=vx(this.M,C);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=rh();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hh(e).Wt({index:"collectionGroupOverlayIndex",range:h},(C,v,b)=>{const z=vx(this.M,v);s.size()<i||z.largestBatchId===u?(s.set(z.getKey(),z),u=z.largestBatchId):b.done()}).next(()=>s)}Xt(e,t){return hh(e).put(function(r,i,s){const[u,h,C]=eq(i,s.mutation.key);return{userId:i,collectionPath:h,documentId:C,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:lh(r.Jt,s.mutation)}}(this.M,this.userId,t))}}function hh(n){return H4(n,"documentOverlays")}class $s{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(R3(e.integerValue));else if("doubleValue"in e){const r=R3(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),$f(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Ds(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?$B(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):_2()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),s2.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function rf1(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function rq(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=rf1(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}$s.fe=new $s;class if1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=rq(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=rq(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class sf1{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class af1{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class dh{constructor(){this.De=new if1,this.Ce=new sf1(this.De),this.xe=new af1(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Zs{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Zs(this.indexId,this.documentKey,this.arrayValue,r)}}function Ks(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=iq(n.arrayValue,e.arrayValue),0!==t?t:(t=iq(n.directionalValue,e.directionalValue),0!==t?t:s2.comparator(n.documentKey,e.documentKey)))}function iq(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class of1{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=tx(e);if(void 0!==t&&!this.Be(t))return!1;const r=Rs(e);let i=0,s=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const u=r[i];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[s++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(s>=this.Me.length||!this.Ue(this.Me[s++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class cf1{constructor(){this.qe=new _x}addToCollectionParentIndex(e,t){return this.qe.add(t),L1.resolve()}getCollectionParents(e,t){return L1.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return L1.resolve()}deleteFieldIndex(e,t){return L1.resolve()}getDocumentsMatchingTarget(e,t){return L1.resolve(null)}getIndexType(e,t){return L1.resolve(0)}getFieldIndexes(e,t){return L1.resolve([])}getNextCollectionGroupToUpdate(e){return L1.resolve(null)}getMinOffset(e,t){return L1.resolve(Q6.min())}updateCollectionGroup(e,t,r){return L1.resolve()}updateIndexEntries(e,t){return L1.resolve()}}class _x{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new a3(ge.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new a3(ge.comparator)).toArray()}}const xy=new Uint8Array(0);class lf1{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new _x,this.Ge=new Ei(r=>Os(r),(r,i)=>Jf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const s={collectionId:r,parent:xt(i)};return sq(e).put(s)}return L1.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[OB(t),""],!1,!0);return sq(e).qt(i).next(s=>{for(const u of s){if(u.collectionId!==t)break;r.push(j5(u.parent))}return r})}addFieldIndex(e,t){const r=Ey(e),i={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var s;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=Ey(e),i=Ty(e),s=Ch(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ch(e);let i=!0;const s=new Map;return L1.forEach(this.Qe(t),u=>this.je(e,u).next(h=>{i&&(i=!!h),s.set(u,h)})).next(()=>{if(i){let u=Re();const h=[];return L1.forEach(s,(C,v)=>{var b;Q1("IndexedDbIndexManager",`Using index ${b=C,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map($1=>`${$1.fieldPath}:${$1.kind}`).join(",")}`} to execute ${Os(t)}`);const z=function($1,J1){const v2=tx(J1);if(void 0===v2)return null;for(const E2 of _y($1,v2.fieldPath))switch(E2.op){case"array-contains-any":return E2.value.arrayValue.values||[];case"array-contains":return[E2.value]}return null}(v,C),S=function($1,J1){const v2=new Map;for(const E2 of Rs(J1))for(const te of _y($1,E2.fieldPath))switch(te.op){case"==":case"in":v2.set(E2.fieldPath.canonicalString(),te.value);break;case"not-in":case"!=":return v2.set(E2.fieldPath.canonicalString(),te.value),Array.from(v2.values())}return null}(v,C),E=function($1,J1){const v2=[];let E2=!0;for(const te of Rs(J1)){const Je=0===te.kind?tj($1,te.fieldPath,$1.startAt):nj($1,te.fieldPath,$1.startAt);v2.push(Je.value),E2&&(E2=Je.inclusive)}return new xi(v2,E2)}(v,C),I=function($1,J1){const v2=[];let E2=!0;for(const te of Rs(J1)){const Je=0===te.kind?nj($1,te.fieldPath,$1.endAt):tj($1,te.fieldPath,$1.endAt);v2.push(Je.value),E2&&(E2=Je.inclusive)}return new xi(v2,E2)}(v,C),K=this.We(C,v,E),o1=this.We(C,v,I),R1=this.ze(C,v,S),U1=this.He(C.indexId,z,K,E.inclusive,o1,I.inclusive,R1);return L1.forEach(U1,$1=>r.Gt($1,t.limit).next(J1=>{J1.forEach(v2=>{const E2=s2.fromSegments(v2.documentKey);u.has(E2)||(u=u.add(E2),h.push(E2))})}))}).next(()=>h)}return L1.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,s,u,h){const C=(null!=t?t.length:1)*Math.max(r.length,s.length),v=C/(null!=t?t.length:1),b=[];for(let z=0;z<C;++z){const S=t?this.Je(t[z/v]):xy,E=this.Ye(e,S,r[z%v],i),I=this.Xe(e,S,s[z%v],u),K=h.map(o1=>this.Ye(e,S,o1,!0));b.push(...this.createRange(E,I,K))}return b}Ye(e,t,r,i){const s=new Zs(e,s2.empty(),t,r);return i?s:s.ke()}Xe(e,t,r,i){const s=new Zs(e,s2.empty(),t,r);return i?s.ke():s}je(e,t){const r=new of1(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let u=null;for(const h of s)r.$e(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;return L1.forEach(this.Qe(t),i=>this.je(e,i).next(s=>{s?0!==r&&s.fields.length<function(u){let h=new a3(u4.comparator),C=!1;for(const v of u.filters){const b=v;b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?C=!0:h=h.add(b.field))}for(const v of u.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(C?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new dh;for(const i of Rs(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const u=r.Ne(i.kind);$s.fe.Zt(s,u)}return r.Se()}Je(e){const t=new dh;return $s.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new dh;return $s.fe.Zt(Ps(this.databaseId,t),r.Ne(function(i){const s=Rs(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new dh);let s=0;for(const u of Rs(e)){const h=r[s++];for(const C of i)if(this.en(t,u.fieldPath)&&Kf(h))i=this.nn(i,u,h);else{const v=C.Ne(u.kind);$s.fe.Zt(h,v)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],s=[];for(const u of r.arrayValue.values||[])for(const h of i){const C=new dh;C.seed(h.Se()),$s.fe.Zt(u,C.Ne(t.kind)),s.push(C)}return s}en(e,t){return!!e.filters.find(r=>r instanceof G4&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ey(e),i=Ty(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(s=>{const u=[];return L1.forEach(s,h=>i.get([h.indexId,this.uid]).next(C=>{u.push(function(v,b){const z=b?new Qf(b.sequenceNumber,new Q6(Ws(b.readTime),new s2(j5(b.documentKey)),b.largestBatchId)):Qf.empty(),S=v.fields.map(([E,I])=>new gy(u4.fromServerFormat(E),I));return new my(v.indexId,v.collectionGroup,S,z)}(h,C))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:ee(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Ey(e),s=Ty(e);return this.rn(e).next(u=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>L1.forEach(h,C=>{return s.put({indexId:C.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:Gs((S=r).readTime),documentKey:xt(S.documentKey.path),largestBatchId:S.largestBatchId});var S})))}updateIndexEntries(e,t){const r=new Map;return L1.forEach(t,(i,s)=>{const u=r.get(i.collectionGroup);return(u?L1.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),L1.forEach(h,C=>this.on(e,i,C).next(v=>{const b=this.un(s,C);return v.isEqual(b)?L1.resolve():this.an(e,s,C,v,b)}))))})}cn(e,t,r,i){return Ch(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Ch(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Ch(e);let s=new a3(Ks);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(u,h)=>{s=s.add(new Zs(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}un(e,t){let r=new a3(Ks);const i=this.Ze(t,e);if(null==i)return r;const s=tx(t);if(null!=s){const u=e.data.field(s.fieldPath);if(Kf(u))for(const h of u.arrayValue.values||[])r=r.add(new Zs(t.indexId,e.key,this.Je(h),i))}else r=r.add(new Zs(t.indexId,e.key,xy,i));return r}an(e,t,r,i,s){Q1("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,C,v,b,z){const S=h.getIterator(),E=C.getIterator();let I=I7(S),K=I7(E);for(;I||K;){let o1=!1,R1=!1;if(I&&K){const U1=v(I,K);U1<0?R1=!0:U1>0&&(o1=!0)}else null!=I?R1=!0:o1=!0;o1?(b(K),K=I7(E)):R1?(z(I),I=I7(S)):(I=I7(S),K=I7(E))}}(i,s,Ks,h=>{u.push(this.cn(e,t,r,h))},h=>{u.push(this.hn(e,t,r,h))}),L1.waitFor(u)}rn(e){let t=1;return Ty(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Ks(u,h)).filter((u,h,C)=>!h||0!==Ks(u,C[h-1]));const i=[];i.push(e);for(const u of r){const h=Ks(u,e),C=Ks(u,t);if(0===h)i[0]=e.ke();else if(h>0&&C<0)i.push(u),i.push(u.ke());else if(C>0)break}i.push(t);const s=[];for(let u=0;u<i.length;u+=2)s.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,xy,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,xy,[]]));return s}getMinOffset(e,t){let r;return L1.forEach(this.Qe(t),i=>this.je(e,i).next(s=>{s?(!r||JB(s.indexState.offset,r)<0)&&(r=s.indexState.offset):r=Q6.min()})).next(()=>r)}}function sq(n){return H4(n,"collectionParents")}function Ch(n){return H4(n,"indexEntries")}function Ey(n){return H4(n,"indexConfiguration")}function Ty(n){return H4(n,"indexState")}const aq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class en{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function oq(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let h=0;const C=r.Wt({range:u},(b,z,S)=>(h++,S.delete()));s.push(C.next(()=>{q2(1===h)}));const v=[];for(const b of t.mutations){const z=qj(e,b.key.path,t.batchId);s.push(i.delete(z)),v.push(b.key)}return L1.waitFor(s).next(()=>v)}function Ay(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _2();e=n.noDocument}return JSON.stringify(e).length}en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);class Mx{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){q2(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Mx(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ai(e).Wt({index:"userMutationsIndex",range:r},(i,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=B7(e),u=Ai(e);return u.add({}).next(h=>{q2("number"==typeof h);const C=new Cx(h,t,r,i),v=function(S,E,I){const K=I.baseMutations.map(R1=>lh(S.Jt,R1)),o1=I.mutations.map(R1=>lh(S.Jt,R1));return{userId:E,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:K,mutations:o1}}(this.M,this.userId,C),b=[];let z=new a3((S,E)=>ee(S.canonicalString(),E.canonicalString()));for(const S of i){const E=qj(this.userId,S.key.path,h);z=z.add(S.key.path.popLast()),b.push(u.put(v)),b.push(s.put(E,ku1))}return z.forEach(S=>{b.push(this.indexManager.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(()=>{this.ln[h]=C.keys()}),L1.waitFor(b).next(()=>C)})}lookupMutationBatch(e,t){return Ai(e).get(t).next(r=>r?(q2(r.userId===this.userId),U7(this.M,r)):null)}fn(e,t){return this.ln[t]?L1.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ai(e).Wt({index:"userMutationsIndex",range:i},(u,h,C)=>{h.userId===this.userId&&(q2(h.batchId>=r),s=U7(this.M,h)),C.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ai(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,s,u)=>{r=s.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ai(e).qt("userMutationsIndex",t).next(r=>r.map(i=>U7(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Vy(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return B7(e).Wt({range:i},(u,h,C)=>{const[v,b,z]=u,S=j5(b);if(v===this.userId&&t.path.isEqual(S))return Ai(e).get(z).next(E=>{if(!E)throw _2();q2(E.userId===this.userId),s.push(U7(this.M,E))});C.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new a3(ee);const i=[];return t.forEach(s=>{const u=Vy(this.userId,s.path),h=IDBKeyRange.lowerBound(u),C=B7(e).Wt({range:h},(v,b,z)=>{const[S,E,I]=v,K=j5(E);S===this.userId&&s.path.isEqual(K)?r=r.add(I):z.done()});i.push(C)}),L1.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Vy(this.userId,r),u=IDBKeyRange.lowerBound(s);let h=new a3(ee);return B7(e).Wt({range:u},(C,v,b)=>{const[z,S,E]=C,I=j5(S);z===this.userId&&r.isPrefixOf(I)?I.length===i&&(h=h.add(E)):b.done()}).next(()=>this.dn(e,h))}dn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Ai(e).get(s).next(u=>{if(null===u)throw _2();q2(u.userId===this.userId),r.push(U7(this.M,u))}))}),L1.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return oq(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),L1.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return L1.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return B7(e).Wt({range:r},(s,u,h)=>{if(s[0]===this.userId){const C=j5(s[1]);i.push(C)}else h.done()}).next(()=>{q2(0===i.length)})})}containsKey(e,t){return cq(e,this.userId,t)}wn(e){return lq(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cq(n,e,t){const r=Vy(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let u=!1;return B7(n).Wt({range:s,jt:!0},(h,C,v)=>{const[b,z,S]=h;b===e&&z===i&&(u=!0),v.done()}).next(()=>u)}function Ai(n){return H4(n,"mutations")}function B7(n){return H4(n,"documentMutations")}function lq(n){return H4(n,"mutationQueues")}class Ys{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Ys(0)}static yn(){return new Ys(-1)}}class uf1{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Ys(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>F2.fromTimestamp(new $3(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>j7(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(q2(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return j7(e).Wt((u,h)=>{const C=fh(h);C.sequenceNumber<=t&&null===r.get(C.targetId)&&(i++,s.push(this.removeTargetData(e,C)))}).next(()=>L1.waitFor(s)).next(()=>i)}forEachTarget(e,t){return j7(e).Wt((r,i)=>{const s=fh(i);t(s)})}pn(e){return uq(e).get("targetGlobalKey").next(t=>(q2(null!==t),t))}In(e,t){return uq(e).put("targetGlobalKey",t)}Tn(e,t){return j7(e).put(Xj(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Os(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return j7(e).Wt({range:i,index:"queryTargetsIndex"},(u,h,C)=>{const v=fh(h);Jf(t,v.target)&&(s=v,C.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Ii(e);return t.forEach(u=>{const h=xt(u.path);i.push(s.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),L1.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ii(e);return L1.forEach(t,s=>{const u=xt(s.path);return L1.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Ii(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ii(e);let s=Re();return i.Wt({range:r,jt:!0},(u,h,C)=>{const v=j5(u[1]),b=new s2(v);s=s.add(b)}).next(()=>s)}containsKey(e,t){const r=xt(t.path),i=IDBKeyRange.bound([r],[OB(r)],!1,!0);let s=0;return Ii(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([u,h],C,v)=>{0!==u&&(s++,v.done())}).next(()=>s>0)}Et(e,t){return j7(e).get(t).next(r=>r?fh(r):null)}}function j7(n){return H4(n,"targets")}function uq(n){return H4(n,"targetGlobal")}function Ii(n){return H4(n,"targetDocuments")}function Qs(n){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,w1.Z)(function*(n){if(n.code!==_1.FAILED_PRECONDITION||n.message!==$j)throw n;Q1("LocalStore","Unexpectedly lost primary lease")}),Lx.apply(this,arguments)}function fq([n,e],[t,r]){const i=ee(n,t);return 0===i?ee(e,r):i}class ff1{constructor(e){this.An=e,this.buffer=new a3(fq),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();fq(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hf1{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Q1("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,w1.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){js(i)?Q1("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Qs(i)}yield t.Sn(e)}))}}class df1{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return L1.resolve(zn.A);const r=new ff1(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Q1("LruGarbageCollector","Garbage collection skipped; disabled"),L1.resolve(aq)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q1("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aq):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,s,u,h,C,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(z=>(z>this.params.maximumSequenceNumbersToCollect?(Q1("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${z}`),i=this.params.maximumSequenceNumbersToCollect):i=z,u=Date.now(),this.nthSequenceNumber(e,i))).next(z=>(r=z,h=Date.now(),this.removeTargets(e,r,t))).next(z=>(s=z,C=Date.now(),this.removeOrphanedDocuments(e,r))).next(z=>(v=Date.now(),YH()<=G6.in.DEBUG&&Q1("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-b}ms\n\tDetermined least recently used ${i} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(C-h)+`ms\n\tRemoved ${z} documents in `+(v-C)+`ms\nTotal Duration: ${v-b}ms`),L1.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:z})))}}class Cf1{constructor(e,t){this.db=e,this.garbageCollector=new df1(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return Iy(e,r)}removeReference(e,t,r){return Iy(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Iy(e,t)}On(e,t){return function(r,i){let s=!1;return lq(r).zt(u=>cq(r,u,i).next(h=>(h&&(s=!0),L1.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Mn(e,(u,h)=>{if(h<=t){const C=this.On(e,u).next(v=>{if(!v)return s++,r.getEntry(e,u).next(()=>(r.removeEntry(u,F2.min()),Ii(e).delete([0,xt(u.path)])))});i.push(C)}}).next(()=>L1.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Iy(e,t)}Mn(e,t){const r=Ii(e);let i,s=zn.A;return r.Wt({index:"documentTargetsIndex"},([u,h],{path:C,sequenceNumber:v})=>{0===u?(s!==zn.A&&t(new s2(j5(i)),s),s=v,i=C):s=zn.A}).next(()=>{s!==zn.A&&t(new s2(j5(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Iy(n,e){return Ii(n).put((r=n.currentSequenceNumber,{targetId:0,path:xt(e.path),sequenceNumber:r}));var r}class hq{constructor(){this.changes=new Ei(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,l3.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?L1.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pf1{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Js(e).put(r)}removeEntry(e,t,r){return Js(e).delete(function(i,s){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Hy(s),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=l3.newInvalidDocument(t);return Js(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(ph(t))},(i,s)=>{r=this.$n(t,s)}).next(()=>r)}Bn(e,t){let r={size:0,document:l3.newInvalidDocument(t)};return Js(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(ph(t))},(i,s)=>{r={document:this.$n(t,s),size:Ay(s)}}).next(()=>r)}getEntries(e,t){let r=u6();return this.Ln(e,t,(i,s)=>{const u=this.$n(i,s);r=r.insert(i,u)}).next(()=>r)}Un(e,t){let r=u6(),i=new Z3(s2.comparator);return this.Ln(e,t,(s,u)=>{const h=this.$n(s,u);r=r.insert(s,h),i=i.insert(s,Ay(u))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return L1.resolve();let i=new a3(pq);t.forEach(C=>i=i.add(C));const s=IDBKeyRange.bound(ph(i.first()),ph(i.last())),u=i.getIterator();let h=u.getNext();return Js(e).Wt({index:"documentKeyIndex",range:s},(C,v,b)=>{const z=s2.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&pq(h,z)<0;)r(h,null),h=u.getNext();h&&h.isEqual(z)&&(r(h,v),h=u.hasNext()?u.getNext():null),h?b.Ut(ph(h)):b.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Hy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Js(e).qt(IDBKeyRange.bound(i,s,!0)).next(u=>{let h=u6();for(const C of u){const v=this.$n(s2.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(e,t,r,i){let s=u6();const u=Cq(t,r),h=Cq(t,Q6.max());return Js(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(C,v,b)=>{const z=this.$n(s2.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(z.key,z),s.size===i&&b.done()}).next(()=>s)}newChangeBuffer(e){return new mf1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return dq(e).get("remoteDocumentGlobalKey").next(t=>(q2(!!t),t))}Fn(e,t){return dq(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function tf1(n,e){let t;if(e.document)t=kj(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=s2.fromSegments(e.noDocument.path),i=Ws(e.noDocument.readTime);t=l3.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _2();{const r=s2.fromSegments(e.unknownDocument.path),i=Ws(e.unknownDocument.version);t=l3.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new $3(r[0],r[1]);return F2.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(F2.min()))return r}return l3.newInvalidDocument(e)}}class mf1 extends hq{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Ei(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new a3((s,u)=>ee(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.Gn.get(s);if(t.push(this.Kn.removeEntry(e,s,h.readTime)),u.isValidDocument()){const C=Jj(this.Kn.M,u);i=i.add(s.path.popLast()),r+=Ay(C)-h.size,t.push(this.Kn.addEntry(e,s,C))}else if(r-=h.size,this.trackRemovals){const C=Jj(this.Kn.M,u.convertToNoDocument(F2.min()));t.push(this.Kn.addEntry(e,s,C))}}),i.forEach(s=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Kn.updateMetadata(e,r)),L1.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((s,u)=>{this.Gn.set(s,{size:u,readTime:r.get(s).readTime})}),r))}}function dq(n){return H4(n,"remoteDocumentGlobal")}function Js(n){return H4(n,"remoteDocumentsV14")}function ph(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Cq(n,e){const t=e.documentKey.path.toArray();return[n,Hy(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pq(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=ee(t[s],r[s]),i)return i;return i=ee(t.length,r.length),i||(i=ee(t[t.length-2],r[r.length-2]),i||ee(t[t.length-1],r[r.length-1]))}class gf1{constructor(e){this.M=e}kt(e,t,r,i){const s=new Sy("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jj,{unique:!0}),h.createObjectStore("documentMutations"),mq(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=L1.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),mq(e)),u=u.next(()=>function(h){const C=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:F2.min().toTimestamp(),targetCount:0};return C.put("targetGlobalKey",v)}(s))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(h,C){return C.store("mutations").qt().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jj,{unique:!0});const b=C.store("mutations"),z=v.map(S=>b.put(S));return L1.waitFor(z)})}(e,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Qn(s))),r<6&&i>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.jn(s)))),r<7&&i>=7&&(u=u.next(()=>this.Wn(s))),r<8&&i>=8&&(u=u.next(()=>this.zn(e,s))),r<9&&i>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.Hn(s))),r<11&&i>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(h){const C=h.createObjectStore("documentOverlays",{keyPath:Zu1});C.createIndex("collectionPathOverlayIndex",Ku1,{unique:!1}),C.createIndex("collectionGroupOverlayIndex",Yu1,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(h){const C=h.createObjectStore("remoteDocumentsV14",{keyPath:Pu1});C.createIndex("documentKeyIndex",Ru1),C.createIndex("collectionGroupIndex",Ou1)}(e)).next(()=>this.Jn(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:qu1}).createIndex("sequenceNumberIndex",Gu1,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Wu1}).createIndex("documentKeyIndex",$u1,{unique:!1})}(e)})),u}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=Ay(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>L1.forEach(i,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",u).next(h=>L1.forEach(h,C=>{q2(C.userId===s.userId);const v=U7(this.M,C);return oq(e,s.userId,v).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Wt((u,h)=>{const C=new ge(u),v=[0,xt(C)];s.push(t.get(v).next(b=>b?L1.resolve():t.put({targetId:0,path:xt(C),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>L1.waitFor(s))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:ju1});const r=t.store("collectionParents"),i=new _x,s=u=>{if(i.add(u)){const h=u.lastSegment(),C=u.popLast();return r.put({collectionId:h,parent:xt(C)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,h)=>{const C=new ge(u);return s(C.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,h,C],v)=>{const b=j5(h);return s(b.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const s=fh(i),u=Xj(this.M,s);return t.put(u)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((s,u)=>{const h=t.store("remoteDocumentsV14"),C=(v=u,v.document?new s2(ge.fromString(v.document.name).popFirst(5)):v.noDocument?s2.fromSegments(v.noDocument.path):v.unknownDocument?s2.fromSegments(v.unknownDocument.path):_2()).path.toArray();var v;const b={prefixPath:C.slice(0,C.length-2),collectionGroup:C[C.length-2],documentId:C[C.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(b))}).next(()=>L1.waitFor(i))}}function mq(n){n.createObjectStore("targetDocuments",{keyPath:Uu1}).createIndex("documentTargetsIndex",Bu1,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fu1,{unique:!0}),n.createObjectStore("targetGlobal")}const bx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zx{constructor(e,t,r,i,s,u,h,C,v,b,z=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=s,this.window=u,this.document=h,this.Xn=v,this.Zn=b,this.ts=z,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=S=>Promise.resolve(),!zx.vt())throw new F1(_1.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cf1(this,i),this.hs=t+"main",this.M=new Qj(C),this.ls=new J6(this.hs,this.ts,new gf1(this.M)),this.fs=new uf1(this.referenceDelegate,this.M),this.ds=new pf1(this.M),this._s=new nf1,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===b&&n4("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new F1(_1.FAILED_PRECONDITION,bx);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new zn(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,w1.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,w1.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,w1.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ny(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(js(e))return Q1("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Q1("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return mh(e).get("owner").next(t=>L1.resolve(this.Ps(t)))}Vs(e){return Ny(e).delete(this.clientId)}vs(){var e=this;return(0,w1.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=H4(r,"clientMetadata");return i.qt().next(s=>{const u=e.Ds(s,18e5),h=s.filter(C=>-1===u.indexOf(C));return L1.forEach(h,C=>i.delete(C.clientId)).next(()=>h)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?L1.resolve(!0):mh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new F1(_1.FAILED_PRECONDITION,bx);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ny(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Q1("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,w1.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Yj(t,zn.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Ny(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Mx.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new lf1(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return yx.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Q1("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=14===(u=this.ts)?Ju1:13===u?Wj:12===u?Qu1:11===u?Gj:void _2();var u;let h;return this.ls.runTransaction(e,i,s,C=>(h=new Yj(C,this.es?this.es.next():zn.A),"readwrite-primary"===t?this.Es(h).next(v=>!!v||this.As(h)).next(v=>{if(!v)throw n4(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new F1(_1.FAILED_PRECONDITION,$j);return r(h)}).next(v=>this.bs(h).next(()=>v)):this.$s(h).next(()=>r(h)))).then(C=>(h.raiseOnCommittedEvent(),C))}$s(e){return mh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new F1(_1.FAILED_PRECONDITION,bx)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mh(e).put("owner",t)}static vt(){return J6.vt()}Rs(e){const t=mh(e);return t.get("owner").next(r=>this.Ps(r)?(Q1("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):L1.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(n4(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,D.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Q1("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return n4("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){n4("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mh(n){return H4(n,"owner")}function Ny(n){return H4(n,"clientMetadata")}function wx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class vf1{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return s2.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):ix(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new s2(t)).next(r=>{let i=lx();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let s=lx();return this.indexManager.getCollectionParents(e,i).next(u=>L1.forEach(u,h=>{const C=(v=t,b=h.child(i),new G8(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,b;return this.zs(e,C,r).next(v=>{v.forEach((b,z)=>{s=s.insert(b,z)})})}).next(()=>s))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const u of s)for(const h of u.mutations){const C=h.key;let v=i.get(C);null==v&&(v=l3.newInvalidDocument(C),i=i.insert(C,v)),ox(h,v,u.localWriteTime),v.isFoundDocument()||(i=i.remove(C))}}).next(()=>(i.forEach((s,u)=>{ax(t,u)||(i=i.remove(s))}),i))}}class Vx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Re(),i=Re();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vx(e,t.fromCache,r,i)}}class gq{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(s=>s||this.ei(e,t,i,r)).next(s=>s||this.ni(e,t))}ti(e,t){return L1.resolve(null)}ei(e,t,r,i){return function ou1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(F2.min())?this.ni(e,t):this.Zs.Ks(e,r).next(s=>{const u=this.si(t,s);return this.ii(t,u,r,i)?this.ni(e,t):(YH()<=G6.in.DEBUG&&Q1("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sx(t)),this.ri(e,u,t,QB(i,-1)))})}si(e,t){let r=new a3(uj(e));return t.forEach((i,s)=>{ax(e,s)&&(r=r.add(s))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,t){return YH()<=G6.in.DEBUG&&Q1("QueryEngine","Using full collection scan to execute query:",sx(t)),this.Zs.Qs(e,t,Q6.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class yf1{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new Z3(ee),this.ai=new Ei(s=>Os(s),Jf),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new vf1(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function vq(n,e,t,r){return new yf1(n,e,t,r)}function yq(n,e){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,w1.Z)(function*(n,e){const t=u2(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(s=>(i=s,t.li(e),t.Bs.getAllMutationBatches(r))).next(s=>{const u=[],h=[];let C=Re();for(const v of i){u.push(v.batchId);for(const b of v.mutations)C=C.add(b.key)}for(const v of s){h.push(v.batchId);for(const b of v.mutations)C=C.add(b.key)}return t.fi.Ks(r,C).next(v=>({di:v,removedBatchIds:u,addedBatchIds:h}))})})}),Sx.apply(this,arguments)}function _f1(n,e){const t=u2(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.hi.newChangeBuffer({trackRemovals:!0});return function(u,h,C,v){const b=C.batch,z=b.keys();let S=L1.resolve();return z.forEach(E=>{S=S.next(()=>v.getEntry(h,E)).next(I=>{const K=C.docVersions.get(E);q2(null!==K),I.version.compareTo(K)<0&&(b.applyToRemoteDocument(I,C),I.isValidDocument()&&(I.setReadTime(C.commitVersion),v.addEntry(I)))})}),S.next(()=>u.Bs.removeMutationBatch(h,b))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function _q(n){const e=u2(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Mf1(n,e){const t=u2(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const h=[];e.targetChanges.forEach((v,b)=>{const z=i.get(b);if(!z)return;h.push(t.fs.removeMatchingKeys(s,v.removedDocuments,b).next(()=>t.fs.addMatchingKeys(s,v.addedDocuments,b)));let S=z.withSequenceNumber(s.currentSequenceNumber);var E,I,K;e.targetMismatches.has(b)?S=S.withResumeToken(f4.EMPTY_BYTE_STRING,F2.min()).withLastLimboFreeSnapshotVersion(F2.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,r)),i=i.insert(b,S),I=S,K=v,(0===(E=z).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0)&&h.push(t.fs.updateTargetData(s,S))});let C=u6();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,v))}),h.push(Mq(s,u,e.documentUpdates).next(v=>{C=v})),!r.isEqual(F2.min())){const v=t.fs.getLastRemoteSnapshotVersion(s).next(b=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(v)}return L1.waitFor(h).next(()=>u.apply(s)).next(()=>t.fi.Gs(s,C)).next(()=>C)}).then(s=>(t.ui=i,s))}function Mq(n,e,t){let r=Re();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let s=u6();return t.forEach((u,h)=>{const C=i.get(u);h.isNoDocument()&&h.version.isEqual(F2.min())?(e.removeEntry(u,h.readTime),s=s.insert(u,h)):!C.isValidDocument()||h.version.compareTo(C.version)>0||0===h.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(h),s=s.insert(u,h)):Q1("LocalStore","Ignoring outdated watch update for ",u,". Current version:",C.version," Watch version:",h.version)}),s})}function Lf1(n,e){const t=u2(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function q7(n,e){const t=u2(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(s=>s?(i=s,L1.resolve(i)):t.fs.allocateTargetId(r).next(u=>(i=new Ti(e,u,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function G7(n,e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,w1.Z)(function*(n,e,t){const r=u2(n),i=r.ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!js(u))throw u;Q1("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),Hx.apply(this,arguments)}function Dy(n,e,t){const r=u2(n);let i=F2.min(),s=Re();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,C,v){const b=u2(h),z=b.ai.get(v);return void 0!==z?L1.resolve(b.ui.get(z)):b.fs.getTargetData(C,v)}(r,u,l6(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(u,h.targetId).next(C=>{s=C})}).next(()=>r.oi.Qs(u,e,t?i:F2.min(),t?s:Re())).next(h=>(zq(r,lj(e),h),{documents:h,_i:s})))}function Lq(n,e){const t=u2(n),r=u2(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.Et(s,e).next(u=>u?u.target:null))}function bq(n,e){const t=u2(n),r=t.ci.get(e)||F2.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,QB(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(zq(t,e,i),i))}function zq(n,e,t){let r=F2.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ci.set(e,r)}function xx(){return xx=(0,w1.Z)(function*(n,e,t,r){const i=u2(n);let s=Re(),u=u6();for(const v of t){const b=e.wi(v.metadata.name);v.document&&(s=s.add(b));const z=e.mi(v);z.setReadTime(e.gi(v.metadata.readTime)),u=u.insert(b,z)}const h=i.hi.newChangeBuffer({trackRemovals:!0}),C=yield q7(i,(v=r,l6(D7(ge.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>Mq(v,h,u).next(b=>(h.apply(v),b)).next(b=>i.fs.removeMatchingKeysForTargetId(v,C.targetId).next(()=>i.fs.addMatchingKeys(v,s,C.targetId)).next(()=>i.fi.Gs(v,b)).next(()=>b)))}),xx.apply(this,arguments)}function zf1(n,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,w1.Z)(function*(n,e,t=Re()){const r=yield q7(n,l6(gx(e.bundledQuery))),i=u2(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const u=S4(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i._s.saveNamedQuery(s,e);const h=r.withResumeToken(f4.EMPTY_BYTE_STRING,u);return i.ui=i.ui.insert(h.targetId,h),i.fs.updateTargetData(s,h).next(()=>i.fs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.fs.addMatchingKeys(s,t,r.targetId)).next(()=>i._s.saveNamedQuery(s,e))})}),Ex.apply(this,arguments)}class wf1{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return L1.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:S4(r.createTime)}),L1.resolve()}getNamedQuery(e,t){return L1.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:gx(r.bundledQuery),readTime:S4(r.readTime)}),L1.resolve();var r}}class Vf1{constructor(){this.overlays=new Z3(s2.comparator),this.Ii=new Map}getOverlay(e,t){return L1.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Xt(e,t,s)}),L1.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),L1.resolve()}getOverlaysForCollection(e,t,r){const i=rh(),s=t.length+1,u=new s2(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const C=h.getNext().value,v=C.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&C.largestBatchId>r&&i.set(C.getKey(),C)}return L1.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Z3((v,b)=>v-b);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let b=s.get(v.largestBatchId);null===b&&(b=rh(),s=s.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const h=rh(),C=s.getIterator();for(;C.hasNext()&&(C.getNext().value.forEach((v,b)=>h.set(v,b)),!(h.size()>=i)););return L1.resolve(h)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const u=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new mx(t,r));let s=this.Ii.get(t);void 0===s&&(s=Re(),this.Ii.set(t,s)),this.Ii.set(t,s.add(r.key))}}class Tx{constructor(){this.Ti=new a3(x4.Ei),this.Ai=new a3(x4.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new x4(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new x4(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new s2(new ge([])),r=new x4(t,e),i=new x4(t,e+1),s=[];return this.Ai.forEachInRange([r,i],u=>{this.Pi(u),s.push(u.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new s2(new ge([])),r=new x4(t,e),i=new x4(t,e+1);let s=Re();return this.Ai.forEachInRange([r,i],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new x4(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class x4{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return s2.comparator(e.key,t.key)||ee(e.Ci,t.Ci)}static Ri(e,t){return ee(e.Ci,t.Ci)||s2.comparator(e.key,t.key)}}class Sf1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new a3(x4.Ei)}checkEmpty(e){return L1.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const s=this.xi;this.xi++;const u=new Cx(s,t,r,i);this.Bs.push(u);for(const h of i)this.Ni=this.Ni.add(new x4(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return L1.resolve(u)}lookupMutationBatch(e,t){return L1.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),s=i<0?0:i;return L1.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return L1.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return L1.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new x4(t,0),i=new x4(t,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],u=>{const h=this.ki(u.Ci);s.push(h)}),L1.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new a3(ee);return t.forEach(i=>{const s=new x4(i,0),u=new x4(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,u],h=>{r=r.add(h.Ci)})}),L1.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;s2.isDocumentKey(s)||(s=s.child(""));const u=new x4(new s2(s),0);let h=new a3(ee);return this.Ni.forEachWhile(C=>{const v=C.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(h=h.add(C.Ci)),!0)},u),L1.resolve(this.Oi(h))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){q2(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return L1.forEach(t.mutations,i=>{const s=new x4(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new x4(t,0),i=this.Ni.firstAfterOrEqual(r);return L1.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return L1.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Hf1{constructor(e){this.$i=e,this.docs=new Z3(s2.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,u=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return L1.resolve(r?r.document.mutableCopy():l3.newInvalidDocument(t))}getEntries(e,t){let r=u6();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():l3.newInvalidDocument(i))}),L1.resolve(r)}getAllFromCollection(e,t,r){let i=u6();const s=new s2(t.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:h,value:{document:C}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||JB(Yl1(C),r)<=0||(i=i.insert(C.key,C.mutableCopy()))}return L1.resolve(i)}getAllFromCollectionGroup(e,t,r,i){_2()}Bi(e,t){return L1.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xf1(this)}getSize(e){return L1.resolve(this.size)}}class xf1 extends hq{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),L1.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Ef1{constructor(e){this.persistence=e,this.Li=new Ei(t=>Os(t),Jf),this.lastRemoteSnapshotVersion=F2.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Tx,this.targetCount=0,this.Ki=Ys.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),L1.resolve()}getLastRemoteSnapshotVersion(e){return L1.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L1.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),L1.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),L1.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Ys(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,L1.resolve()}updateTargetData(e,t){return this.Tn(t),L1.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,L1.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Li.forEach((u,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Li.delete(u),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),L1.waitFor(s).next(()=>i)}getTargetCount(e){return L1.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return L1.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),L1.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(u=>{s.push(i.markPotentiallyOrphaned(e,u))}),L1.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),L1.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return L1.resolve(r)}containsKey(e,t){return L1.resolve(this.qi.containsKey(t))}}class Tf1{constructor(e,t){this.Gi={},this.overlays={},this.es=new zn(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Ef1(this),this.indexManager=new cf1,this.ds=new Hf1(r=>this.referenceDelegate.Qi(r)),this.M=new Qj(t),this._s=new wf1(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vf1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new Sf1(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Q1("MemoryPersistence","Starting transaction:",e);const i=new Af1(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,t){return L1.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class Af1 extends Zj{constructor(e){super(),this.currentSequenceNumber=e}}class Ax{constructor(e){this.persistence=e,this.Hi=new Tx,this.Ji=null}static Yi(e){return new Ax(e)}get Xi(){if(this.Ji)return this.Ji;throw _2()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),L1.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),L1.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),L1.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L1.forEach(this.Xi,r=>{const i=s2.fromPath(r);return this.Zi(e,i).next(s=>{s||t.removeEntry(i,F2.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return L1.or([()=>L1.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function wq(n,e){return`firestore_clients_${n}_${e}`}function Vq(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ix(n,e){return`firestore_targets_${n}_${e}`}class ky{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let s,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(s=new F1(i.error.code,i.error.message))),u?new ky(e,t,i.state,s):(n4("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new F1(r.error.code,r.error.message))),s?new gh(e,r.state,i):(n4("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Py{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=zy();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=jB(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return i?new Py(e,s):(n4("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Nx{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Nx(t.clientId,t.onlineState):(n4("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Dx{constructor(){this.activeTargetIds=zy()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kx{constructor(e,t,r,i,s){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Z3(ee),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.hr=wq(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new Dx),this.dr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,w1.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const s=e.getItem(wq(e.persistenceKey,i));if(s){const u=Py.tr(i,s);u&&(e.ar=e.ar.insert(u.clientId,u))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ix(this.persistenceKey,e));if(r){const i=gh.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ix(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Q1("SharedClientState","READ",e,t),t}setItem(e,t){Q1("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Q1("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Q1("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void n4("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,w1.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(s){let u=zn.A;if(null!=s)try{const h=JSON.parse(s);q2("number"==typeof h),u=h}catch(h){n4("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(r.newValue);i!==zn.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Fr(s)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new ky(this.currentUser,e,t,r),s=Vq(this.persistenceKey,this.currentUser,e);this.setItem(s,i.er())}Ar(e){const t=Vq(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=Ix(this.persistenceKey,e),s=new gh(e,t,r);this.setItem(i,s.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return Py.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return ky.tr(new j4(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return gh.tr(i,t)}pr(e){return Nx.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,w1.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Q1("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),s=this.Tr(r),u=[],h=[];return s.forEach(C=>{i.has(C)||u.push(C)}),i.forEach(C=>{s.has(C)||h.push(C)}),this.syncEngine.Lr(u,h).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=zy();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Sq{constructor(){this.Ur=new Dx,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Dx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class If1{Kr(e){}shutdown(){}}class Hq{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Q1("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Q1("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Nf1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Df1{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class kf1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,s){const u=this.ho(e,t);Q1("RestConnection","Sending: ",u,r);const h={};return this.lo(h,i,s),this.fo(e,u,h,r).then(C=>(Q1("RestConnection","Received: ",C),C),C=>{throw jf("RestConnection",`${e} failed with error: `,C,"url: ",u,"request:",r),C})}_o(e,t,r,i,s){return this.co(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+x7,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.uo}/v1/${t}:${Nf1[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,u)=>{const h=new Nl1;h.listenOnce(Tl1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case KH.NO_ERROR:const v=h.getResponseJson();Q1("Connection","XHR received:",JSON.stringify(v)),s(v);break;case KH.TIMEOUT:Q1("Connection",'RPC "'+e+'" timed out'),u(new F1(_1.DEADLINE_EXCEEDED,"Request time out"));break;case KH.HTTP_ERROR:const b=h.getStatus();if(Q1("Connection",'RPC "'+e+'" failed with status:',b,"response text:",h.getResponseText()),b>0){const z=h.getResponseJson().error;if(z&&z.status&&z.message){const S=function(E){const I=E.toLowerCase().replace(/_/g,"-");return Object.values(_1).indexOf(I)>=0?I:_1.UNKNOWN}(z.status);u(new F1(S,z.message))}else u(new F1(_1.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new F1(_1.UNAVAILABLE,"Connection failed."));break;default:_2()}}finally{Q1("Connection",'RPC "'+e+'" completed.')}});const C=JSON.stringify(i);h.send(t,"POST",C,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=xl1(),u=El1(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Il1({})),this.lo(h.initMessageHeaders,t,r),(0,D.uI)()||(0,D.b$)()||(0,D.d)()||(0,D.w1)()||(0,D.Mn)()||(0,D.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const C=i.join("");Q1("Connection","Creating WebChannel: "+C,h);const v=s.createWebChannel(C,h);let b=!1,z=!1;const S=new Df1({Jr:I=>{z?Q1("Connection","Not sending because WebChannel is closed:",I):(b||(Q1("Connection","Opening WebChannel transport."),v.open(),b=!0),Q1("Connection","WebChannel sending:",I),v.send(I))},Yr:()=>v.close()}),E=(I,K,o1)=>{I.listen(K,R1=>{try{o1(R1)}catch(U1){setTimeout(()=>{throw U1},0)}})};return E(v,dy.EventType.OPEN,()=>{z||Q1("Connection","WebChannel transport opened.")}),E(v,dy.EventType.CLOSE,()=>{z||(z=!0,Q1("Connection","WebChannel transport closed"),S.ro())}),E(v,dy.EventType.ERROR,I=>{z||(z=!0,jf("Connection","WebChannel transport errored:",I),S.ro(new F1(_1.UNAVAILABLE,"The operation could not be completed")))}),E(v,dy.EventType.MESSAGE,I=>{var K;if(!z){const o1=I.data[0];q2(!!o1);const R1=o1,U1=R1.error||(null===(K=R1[0])||void 0===K?void 0:K.error);if(U1){Q1("Connection","WebChannel received error:",U1);const $1=U1.status;let J1=function(E2){const te=i4[E2];if(void 0!==te)return wj(te)}($1),v2=U1.message;void 0===J1&&(J1=_1.INTERNAL,v2="Unknown error status: "+$1+" with message "+U1.message),z=!0,S.ro(new F1(J1,v2)),v.close()}else Q1("Connection","WebChannel received:",o1),S.oo(o1)}}),E(u,Al1.STAT_EVENT,I=>{I.stat===NB.PROXY?Q1("Connection","Detected buffering proxy"):I.stat===NB.NOPROXY&&Q1("Connection","Detected no buffering proxy")}),setTimeout(()=>{S.io()},0),S}}function xq(){return"undefined"!=typeof window?window:null}function Ry(){return"undefined"!=typeof document?document:null}function vh(n){return new zu1(n,!0)}class Px{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Q1("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Eq{constructor(e,t,r,i,s,u,h,C){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=C,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Px(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,w1.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,w1.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,w1.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===_1.RESOURCE_EXHAUSTED?(n4(t.toString()),n4("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===_1.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new F1(_1.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,w1.Z)(function*(){e.state=0,e.start()}))}jo(e){return Q1("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Q1("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pf1 extends Eq{constructor(e,t,r,i,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.M=s}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Su1(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(C=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:_2(),i=e.targetChange.targetIds||[],s=function(C,v){return C.N?(q2(void 0===v||"string"==typeof v),f4.fromBase64String(v||"")):(q2(void 0===v||v instanceof Uint8Array),f4.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(C){const v=void 0===C.code?_1.UNKNOWN:wj(C.code);return new F1(v,C.message||"")}(u);t=new Sj(r,i,s,h||null)}else if("documentChange"in e){const r=e.documentChange,i=B5(n,r.document.name),s=S4(r.document.updateTime),u=new st({mapValue:{fields:r.document.fields}}),h=l3.newFoundDocument(i,s,u);t=new wy(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,i=B5(n,r.document),s=r.readTime?S4(r.readTime):F2.min(),u=l3.newNoDocument(i,s);t=new wy([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=B5(n,r.document);t=new wy([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return _2();{const r=e.filter,s=new pu1(r.count||0);t=new Vj(r.targetId,s)}}var C;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return F2.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?F2.min():s.readTime?S4(s.readTime):F2.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=ch(this.M),t.addTarget=function(i,s){let u;const h=s.target;return u=yy(h)?{documents:Pj(i,h)}:{query:Rj(i,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=Tj(i,s.resumeToken):s.snapshotVersion.compareTo(F2.min())>0&&(u.readTime=ah(i,s.snapshotVersion.toTimestamp())),u}(this.M,e);const r=function xu1(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _2()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=ch(this.M),t.removeTarget=e,this.Lo(t)}}class Rf1 extends Eq{constructor(e,t,r,i,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(q2(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Hu1(n,e){return n&&n.length>0?(q2(void 0!==e),n.map(t=>function(r,i){let s=S4(r.updateTime?r.updateTime:i);return s.isEqual(F2.min())&&(s=S4(i)),new hu1(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=S4(e.commitTime);return this.listener.tu(r,t)}return q2(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=ch(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>lh(this.M,r))};this.Lo(t)}}class Of1 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new F1(_1.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F1(_1.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F1(_1.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class Ff1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(n4(t),this.uu=!1):Q1("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Uf1{constructor(e,t,r,i,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(h=>{r.enqueueAndForget((0,w1.Z)(function*(){var C;Ni(u)&&(Q1("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,w1.Z)(function*(v){const b=u2(v);b.wu.add(4),yield W7(b),b.yu.set("Unknown"),b.wu.delete(4),yield yh(b)}),function(v){return C.apply(this,arguments)})(u))}))}),this.yu=new Ff1(r,i)}}function yh(n){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,w1.Z)(function*(n){if(Ni(n))for(const e of n.mu)yield e(!0)}),Rx.apply(this,arguments)}function W7(n){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,w1.Z)(function*(n){for(const e of n.mu)yield e(!1)}),Ox.apply(this,arguments)}function Oy(n,e){const t=u2(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),Bx(t)?Ux(t):Z7(t).Mo()&&Fx(t,e))}function _h(n,e){const t=u2(n),r=Z7(t);t._u.delete(e),r.Mo()&&Tq(t,e),0===t._u.size&&(r.Mo()?r.$o():Ni(t)&&t.yu.set("Unknown"))}function Fx(n,e){n.pu.Z(e.targetId),Z7(n).Ho(e)}function Tq(n,e){n.pu.Z(e),Z7(n).Jo(e)}function Ux(n){n.pu=new Mu1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Z7(n).start(),n.yu.au()}function Bx(n){return Ni(n)&&!Z7(n).ko()&&n._u.size>0}function Ni(n){return 0===u2(n).wu.size}function Aq(n){n.pu=void 0}function Bf1(n){return jx.apply(this,arguments)}function jx(){return jx=(0,w1.Z)(function*(n){n._u.forEach((e,t)=>{Fx(n,e)})}),jx.apply(this,arguments)}function jf1(n,e){return qx.apply(this,arguments)}function qx(){return qx=(0,w1.Z)(function*(n,e){Aq(n),Bx(n)?(n.yu.lu(e),Ux(n)):n.yu.set("Unknown")}),qx.apply(this,arguments)}function qf1(n,e,t){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,w1.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Sj&&2===e.state&&e.cause)try{yield(r=(0,w1.Z)(function*(i,s){const u=s.cause;for(const h of s.targetIds)i._u.has(h)&&(yield i.remoteSyncer.rejectListen(h,u),i._u.delete(h),i.pu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Q1("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Fy(n,r)}else if(e instanceof wy?n.pu.ut(e):e instanceof Vj?n.pu._t(e):n.pu.ht(e),!t.isEqual(F2.min()))try{const r=yield _q(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const u=i.pu.yt(s);return u.targetChanges.forEach((h,C)=>{if(h.resumeToken.approximateByteSize()>0){const v=i._u.get(C);v&&i._u.set(C,v.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const C=i._u.get(h);if(!C)return;i._u.set(h,C.withResumeToken(f4.EMPTY_BYTE_STRING,C.snapshotVersion)),Tq(i,h);const v=new Ti(C.target,h,1,C.sequenceNumber);Fx(i,v)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Q1("RemoteStore","Failed to raise snapshot:",r),yield Fy(n,r)}var r}),Gx.apply(this,arguments)}function Fy(n,e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,w1.Z)(function*(n,e,t){if(!js(e))throw e;n.wu.add(1),yield W7(n),n.yu.set("Offline"),t||(t=()=>_q(n.localStore)),n.asyncQueue.enqueueRetryable((0,w1.Z)(function*(){Q1("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield yh(n)}))}),Wx.apply(this,arguments)}function Iq(n,e){return e().catch(t=>Fy(n,t,e))}function $7(n){return $x.apply(this,arguments)}function $x(){return $x=(0,w1.Z)(function*(n){const e=u2(n),t=Di(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Gf1(e);)try{const i=yield Lf1(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,Wf1(e,i)}catch(i){yield Fy(e,i)}Nq(e)&&Dq(e)}),$x.apply(this,arguments)}function Gf1(n){return Ni(n)&&n.du.length<10}function Wf1(n,e){n.du.push(e);const t=Di(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function Nq(n){return Ni(n)&&!Di(n).ko()&&n.du.length>0}function Dq(n){Di(n).start()}function $f1(n){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,w1.Z)(function*(n){Di(n).nu()}),Zx.apply(this,arguments)}function Zf1(n){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,w1.Z)(function*(n){const e=Di(n);for(const t of n.du)e.Zo(t.mutations)}),Kx.apply(this,arguments)}function Kf1(n,e,t){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,w1.Z)(function*(n,e,t){const r=n.du.shift(),i=px.from(r,e,t);yield Iq(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield $7(n)}),Yx.apply(this,arguments)}function Yf1(n,e){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,w1.Z)(function*(n,e){var t;e&&Di(n).Xo&&(yield(t=(0,w1.Z)(function*(r,i){if(zj(s=i.code)&&s!==_1.ABORTED){const u=r.du.shift();Di(r).Fo(),yield Iq(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield $7(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),Nq(n)&&Dq(n)}),Qx.apply(this,arguments)}function kq(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,w1.Z)(function*(n,e){const t=u2(n);t.asyncQueue.verifyOperationInProgress(),Q1("RemoteStore","RemoteStore received new credentials");const r=Ni(t);t.wu.add(3),yield W7(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield yh(t)}),Jx.apply(this,arguments)}function Xx(n,e){return eE.apply(this,arguments)}function eE(){return eE=(0,w1.Z)(function*(n,e){const t=u2(n);e?(t.wu.delete(2),yield yh(t)):e||(t.wu.add(2),yield W7(t),t.yu.set("Unknown"))}),eE.apply(this,arguments)}function Z7(n){return n.Iu||(n.Iu=function(e,t,r){const i=u2(e);return i.iu(),new Pf1(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:Bf1.bind(null,n),eo:jf1.bind(null,n),zo:qf1.bind(null,n)}),n.mu.push(function(){var e=(0,w1.Z)(function*(t){t?(n.Iu.Fo(),Bx(n)?Ux(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Aq(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Di(n){return n.Tu||(n.Tu=function(e,t,r){const i=u2(e);return i.iu(),new Rf1(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:$f1.bind(null,n),eo:Yf1.bind(null,n),eu:Zf1.bind(null,n),tu:Kf1.bind(null,n)}),n.mu.push(function(){var e=(0,w1.Z)(function*(t){t?(n.Tu.Fo(),yield $7(n)):(yield n.Tu.stop(),n.du.length>0&&(Q1("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class tE{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new V4,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,s){const u=Date.now()+r,h=new tE(e,t,u,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F1(_1.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function K7(n,e){if(n4("AsyncQueue",`${e}: ${n}`),js(n))return new F1(_1.UNAVAILABLE,`${e}: ${n}`);throw n}class Y7{constructor(e){this.comparator=e?(t,r)=>e(t,r)||s2.comparator(t.key,r.key):(t,r)=>s2.comparator(t.key,r.key),this.keyedMap=lx(),this.sortedSet=new Z3(this.comparator)}static emptySet(e){return new Y7(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Y7)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Y7;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Pq{constructor(){this.Eu=new Z3(s2.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):_2():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Q7{constructor(e,t,r,i,s,u,h,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=C}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(u=>{s.push({type:0,doc:u})}),new Q7(e,t,Y7.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Qf1{constructor(){this.Ru=void 0,this.listeners=[]}}class Jf1{constructor(){this.queries=new Ei(e=>cj(e),Xf),this.onlineState="Unknown",this.bu=new Set}}function nE(n,e){return rE.apply(this,arguments)}function rE(){return rE=(0,w1.Z)(function*(n,e){const t=u2(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Qf1),i)try{s.Ru=yield t.onListen(r)}catch(u){const h=K7(u,`Initialization of query '${sx(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.Pu(t.onlineState),s.Ru&&e.Vu(s.Ru)&&aE(t)}),rE.apply(this,arguments)}function iE(n,e){return sE.apply(this,arguments)}function sE(){return sE=(0,w1.Z)(function*(n,e){const t=u2(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),sE.apply(this,arguments)}function Xf1(n,e){const t=u2(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const h of u.listeners)h.Vu(i)&&(r=!0);u.Ru=i}}r&&aE(t)}function eh1(n,e,t){const r=u2(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function aE(n){n.bu.forEach(e=>{e.next()})}class oE{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Q7(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Q7.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class th1{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class Rq{constructor(e){this.M=e}wi(e){return B5(this.M,e)}mi(e){return e.metadata.exists?kj(this.M,e.document,!1):l3.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return S4(e)}}class nh1{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Oq(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=ge.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new Rq(this.M);for(const i of e)if(i.metadata.queries){const s=r.wi(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Re()).add(s);t.set(u,h)}}return t}complete(){var e=this;return(0,w1.Z)(function*(){const t=yield function bf1(n,e,t,r){return xx.apply(this,arguments)}(e.localStore,new Rq(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield zf1(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Oq(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Fq{constructor(e){this.key=e}}class Uq{constructor(e){this.key=e}}class Bq{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Re(),this.mutatedKeys=Re(),this.Gu=uj(e),this.Qu=new Y7(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new Pq,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const C="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,z)=>{const S=i.get(b),E=ax(this.query,z)?z:null,I=!!S&&this.mutatedKeys.has(S.key),K=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let o1=!1;S&&E?S.data.isEqual(E.data)?I!==K&&(r.track({type:3,doc:E}),o1=!0):this.Hu(S,E)||(r.track({type:2,doc:E}),o1=!0,(C&&this.Gu(E,C)>0||v&&this.Gu(E,v)<0)&&(h=!0)):!S&&E?(r.track({type:0,doc:E}),o1=!0):S&&!E&&(r.track({type:1,doc:S}),o1=!0,(C||v)&&(h=!0)),o1&&(E?(u=u.add(E),s=K?s.add(b):s.delete(b)):(u=u.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const b="F"===this.query.limitType?u.last():u.first();u=u.delete(b.key),s=s.delete(b.key),r.track({type:1,doc:b})}return{Qu:u,zu:r,ii:h,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((v,b)=>function(z,S){const E=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _2()}};return E(z)-E(S)}(v.type,b.type)||this.Gu(v.doc,b.doc)),this.Ju(r);const u=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,C=h!==this.qu;return this.qu=h,0!==s.length||C?{snapshot:new Q7(this.query,e.Qu,i,s,e.mutatedKeys,0===h,C,!1),Xu:u}:{Xu:u}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Pq,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Re(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new Uq(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Fq(r))}),t}ta(e){this.Uu=e._i,this.Ku=Re();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Q7.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class rh1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ih1{constructor(e){this.key=e,this.na=!1}}class sh1{constructor(e,t,r,i,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.sa={},this.ia=new Ei(h=>cj(h),Xf),this.ra=new Map,this.oa=new Set,this.ua=new Z3(s2.comparator),this.aa=new Map,this.ca=new Tx,this.ha={},this.la=new Map,this.fa=Ys.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function ah1(n,e){return cE.apply(this,arguments)}function cE(){return cE=(0,w1.Z)(function*(n,e){const t=TE(n);let r,i;const s=t.ia.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const u=yield q7(t.localStore,l6(e));t.isPrimaryClient&&Oy(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield lE(t,e,r,"current"===h)}return i}),cE.apply(this,arguments)}function lE(n,e,t,r){return uE.apply(this,arguments)}function uE(){return uE=(0,w1.Z)(function*(n,e,t,r){n._a=(b,z,S)=>{return(E=(0,w1.Z)(function*(I,K,o1,R1){let U1=K.view.Wu(o1);U1.ii&&(U1=yield Dy(I.localStore,K.query,!1).then(({documents:v2})=>K.view.Wu(v2,U1)));const $1=R1&&R1.targetChanges.get(K.targetId),J1=K.view.applyChanges(U1,I.isPrimaryClient,$1);return _E(I,K.targetId,J1.Xu),J1.snapshot}),function(I,K,o1,R1){return E.apply(this,arguments)})(n,b,z,S);var E};const i=yield Dy(n.localStore,e,!0),s=new Bq(e,i._i),u=s.Wu(i.documents),h=sh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),C=s.applyChanges(u,n.isPrimaryClient,h);_E(n,t,C.Xu);const v=new rh1(e,t,s);return n.ia.set(e,v),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),C.snapshot}),uE.apply(this,arguments)}function oh1(n,e){return fE.apply(this,arguments)}function fE(){return fE=(0,w1.Z)(function*(n,e){const t=u2(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(s=>!Xf(s,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield G7(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_h(t.remoteStore,r.targetId),J7(t,r.targetId)}).catch(Qs))):(J7(t,r.targetId),yield G7(t.localStore,r.targetId,!0))}),fE.apply(this,arguments)}function hE(){return hE=(0,w1.Z)(function*(n,e,t){const r=AE(n);try{const i=yield function(s,u){const h=u2(s),C=$3.now(),v=u.reduce((z,S)=>z.add(S.key),Re());let b;return h.persistence.runTransaction("Locally write mutations","readwrite",z=>h.fi.Ks(z,v).next(S=>{b=S;const E=[];for(const I of u){const K=Cu1(I,b.get(I.key));null!=K&&E.push(new Bs(I.key,K,YB(K.value.mapValue),r4.exists(!0)))}return h.Bs.addMutationBatch(z,C,E,u)})).then(z=>(z.applyToLocalDocumentSet(b),{batchId:z.batchId,changes:b}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,h){let C=s.ha[s.currentUser.toKey()];C||(C=new Z3(ee)),C=C.insert(u,h),s.ha[s.currentUser.toKey()]=C}(r,i.batchId,t),yield W8(r,i.changes),yield $7(r.remoteStore)}catch(i){const s=K7(i,"Failed to persist write");t.reject(s)}}),hE.apply(this,arguments)}function jq(n,e){return dE.apply(this,arguments)}function dE(){return dE=(0,w1.Z)(function*(n,e){const t=u2(n);try{const r=yield Mf1(t.localStore,e);e.targetChanges.forEach((i,s)=>{const u=t.aa.get(s);u&&(q2(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.na=!0:i.modifiedDocuments.size>0?q2(u.na):i.removedDocuments.size>0&&(q2(u.na),u.na=!1))}),yield W8(t,r,e)}catch(r){yield Qs(r)}}),dE.apply(this,arguments)}function qq(n,e,t){const r=u2(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((s,u)=>{const h=u.view.Pu(e);h.snapshot&&i.push(h.snapshot)}),function(s,u){const h=u2(s);h.onlineState=u;let C=!1;h.queries.forEach((v,b)=>{for(const z of b.listeners)z.Pu(u)&&(C=!0)}),C&&aE(h)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lh1(n,e,t){return CE.apply(this,arguments)}function CE(){return CE=(0,w1.Z)(function*(n,e,t){const r=u2(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),s=i&&i.key;if(s){let u=new Z3(s2.comparator);u=u.insert(s,l3.newNoDocument(s,F2.min()));const h=Re().add(s),C=new ih(F2.min(),new Map,new a3(ee),u,h);yield jq(r,C),r.ua=r.ua.remove(s),r.aa.delete(e),ME(r)}else yield G7(r.localStore,e,!1).then(()=>J7(r,e,t)).catch(Qs)}),CE.apply(this,arguments)}function uh1(n,e){return pE.apply(this,arguments)}function pE(){return pE=(0,w1.Z)(function*(n,e){const t=u2(n),r=e.batch.batchId;try{const i=yield _f1(t.localStore,e);yE(t,r,null),vE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield W8(t,i)}catch(i){yield Qs(i)}}),pE.apply(this,arguments)}function fh1(n,e,t){return mE.apply(this,arguments)}function mE(){return mE=(0,w1.Z)(function*(n,e,t){const r=u2(n);try{const i=yield function(s,u){const h=u2(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let v;return h.Bs.lookupMutationBatch(C,u).next(b=>(q2(null!==b),v=b.keys(),h.Bs.removeMutationBatch(C,b))).next(()=>h.Bs.performConsistencyCheck(C)).next(()=>h.fi.Ks(C,v))})}(r.localStore,e);yE(r,e,t),vE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield W8(r,i)}catch(i){yield Qs(i)}}),mE.apply(this,arguments)}function gE(){return gE=(0,w1.Z)(function*(n,e){const t=u2(n);Ni(t.remoteStore)||Q1("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const u=u2(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.Bs.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=K7(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),gE.apply(this,arguments)}function vE(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function yE(n,e,t){const r=u2(n);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function J7(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||Gq(n,r)})}function Gq(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(_h(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),ME(n))}function _E(n,e,t){for(const r of t)r instanceof Fq?(n.ca.addReference(r.key,e),dh1(n,r)):r instanceof Uq?(Q1("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||Gq(n,r.key)):_2()}function dh1(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Q1("SyncEngine","New document in limbo: "+t),n.oa.add(r),ME(n))}function ME(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new s2(ge.fromString(e)),r=n.fa.next();n.aa.set(r,new ih1(t)),n.ua=n.ua.insert(t,r),Oy(n.remoteStore,new Ti(l6(D7(t.path)),r,2,zn.A))}}function W8(n,e,t){return LE.apply(this,arguments)}function LE(){return LE=(0,w1.Z)(function*(n,e,t){const r=u2(n),i=[],s=[],u=[];var h;r.ia.isEmpty()||(r.ia.forEach((h,C)=>{u.push(r._a(C,e,t).then(v=>{if(v){r.isPrimaryClient&&r.sharedClientState.updateQueryState(C.targetId,v.fromCache?"not-current":"current"),i.push(v);const b=Vx.Ys(C.targetId,v);s.push(b)}}))}),yield Promise.all(u),r.sa.zo(i),yield(h=(0,w1.Z)(function*(C,v){const b=u2(C);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",z=>L1.forEach(v,S=>L1.forEach(S.Hs,E=>b.persistence.referenceDelegate.addReference(z,S.targetId,E)).next(()=>L1.forEach(S.Js,E=>b.persistence.referenceDelegate.removeReference(z,S.targetId,E)))))}catch(z){if(!js(z))throw z;Q1("LocalStore","Failed to update sequence numbers: "+z)}for(const z of v){const S=z.targetId;if(!z.fromCache){const E=b.ui.get(S),K=E.withLastLimboFreeSnapshotVersion(E.snapshotVersion);b.ui=b.ui.insert(S,K)}}}),function(C,v){return h.apply(this,arguments)})(r.localStore,s))}),LE.apply(this,arguments)}function Ch1(n,e){return bE.apply(this,arguments)}function bE(){return bE=(0,w1.Z)(function*(n,e){const t=u2(n);if(!t.currentUser.isEqual(e)){Q1("SyncEngine","User change. New user:",e.toKey());const r=yield yq(t.localStore,e);t.currentUser=e,(i=t).la.forEach(u=>{u.forEach(h=>{h.reject(new F1(_1.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield W8(t,r.di)}var i}),bE.apply(this,arguments)}function ph1(n,e){const t=u2(n),r=t.aa.get(e);if(r&&r.na)return Re().add(r.key);{let i=Re();const s=t.ra.get(e);if(!s)return i;for(const u of s){const h=t.ia.get(u);i=i.unionWith(h.view.ju)}return i}}function mh1(n,e){return zE.apply(this,arguments)}function zE(){return zE=(0,w1.Z)(function*(n,e){const t=u2(n),r=yield Dy(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&_E(t,e.targetId,i.Xu),i}),zE.apply(this,arguments)}function gh1(n,e){return wE.apply(this,arguments)}function wE(){return wE=(0,w1.Z)(function*(n,e){const t=u2(n);return bq(t.localStore,e).then(r=>W8(t,r))}),wE.apply(this,arguments)}function vh1(n,e,t,r){return VE.apply(this,arguments)}function VE(){return VE=(0,w1.Z)(function*(n,e,t,r){const i=u2(n),s=yield function(u,h){const C=u2(u),v=u2(C.Bs);return C.persistence.runTransaction("Lookup mutation documents","readonly",b=>v.fn(b,h).next(z=>z?C.fi.Ks(b,z):L1.resolve(null)))}(i.localStore,e);var h;null!==s?("pending"===t?yield $7(i.remoteStore):"acknowledged"===t||"rejected"===t?(yE(i,e,r||null),vE(i,e),h=e,u2(u2(i.localStore).Bs)._n(h)):_2(),yield W8(i,s)):Q1("SyncEngine","Cannot apply mutation batch with id: "+e)}),VE.apply(this,arguments)}function SE(){return SE=(0,w1.Z)(function*(n,e){const t=u2(n);if(TE(t),AE(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Wq(t,r.toArray());t.da=!0,yield Xx(t.remoteStore,!0);for(const s of i)Oy(t.remoteStore,s)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(J7(t,u),G7(t.localStore,u,!0))),_h(t.remoteStore,u)}),yield i,yield Wq(t,r),function(s){const u=u2(s);u.aa.forEach((h,C)=>{_h(u.remoteStore,C)}),u.ca.Si(),u.aa=new Map,u.ua=new Z3(s2.comparator)}(t),t.da=!1,yield Xx(t.remoteStore,!1)}}),SE.apply(this,arguments)}function Wq(n,e,t){return HE.apply(this,arguments)}function HE(){return HE=(0,w1.Z)(function*(n,e,t){const r=u2(n),i=[],s=[];for(const u of e){let h;const C=r.ra.get(u);if(C&&0!==C.length){h=yield q7(r.localStore,l6(C[0]));for(const v of C){const b=r.ia.get(v),z=yield mh1(r,b);z.snapshot&&s.push(z.snapshot)}}else{const v=yield Lq(r.localStore,u);h=yield q7(r.localStore,v),yield lE(r,$q(v),u,!1)}i.push(h)}return r.sa.zo(s),i}),HE.apply(this,arguments)}function $q(n){return aj(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _h1(n){const e=u2(n);return u2(u2(e.localStore).persistence).Fs()}function Mh1(n,e,t,r){return xE.apply(this,arguments)}function xE(){return xE=(0,w1.Z)(function*(n,e,t,r){const i=u2(n);if(i.da)return void Q1("SyncEngine","Ignoring unexpected query state notification.");const s=i.ra.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const u=yield bq(i.localStore,lj(s[0])),h=ih.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield W8(i,u,h);break}case"rejected":yield G7(i.localStore,e,!0),J7(i,e,r);break;default:_2()}}),xE.apply(this,arguments)}function Lh1(n,e,t){return EE.apply(this,arguments)}function EE(){return EE=(0,w1.Z)(function*(n,e,t){const r=TE(n);if(r.da){for(const i of e){if(r.ra.has(i)){Q1("SyncEngine","Adding an already active target "+i);continue}const s=yield Lq(r.localStore,i),u=yield q7(r.localStore,s);yield lE(r,$q(s),u.targetId,!1),Oy(r.remoteStore,u)}for(const i of t)r.ra.has(i)&&(yield G7(r.localStore,i,!1).then(()=>{_h(r.remoteStore,i),J7(r,i)}).catch(Qs))}}),EE.apply(this,arguments)}function TE(n){const e=u2(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ph1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lh1.bind(null,e),e.sa.zo=Xf1.bind(null,e.eventManager),e.sa.wa=eh1.bind(null,e.eventManager),e}function AE(n){const e=u2(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uh1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fh1.bind(null,e),e}class Zq{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,w1.Z)(function*(){t.M=vh(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return vq(this.persistence,new gq,e.initialUser,this.M)}ya(e){return new Tf1(Ax.Yi,this.M)}ga(e){return new Sq}terminate(){var e=this;return(0,w1.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Kq extends Zq{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,w1.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield AE(r.Ta.syncEngine),yield $7(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return vq(this.persistence,new gq,e.initialUser,this.M)}pa(e){return new hf1(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=wx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new zx(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,xq(),Ry(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Sq}}class zh1 extends Kq{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,w1.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof kx&&(r.sharedClientState.syncEngine={$r:vh1.bind(null,i),Br:Mh1.bind(null,i),Lr:Lh1.bind(null,i),Fs:_h1.bind(null,i),Fr:gh1.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var s=(0,w1.Z)(function*(u){yield function yh1(n,e){return SE.apply(this,arguments)}(r.Ta.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):u||r.gcScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}ga(e){const t=xq();if(!kx.vt(t))throw new F1(_1.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=wx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kx(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class IE{initialize(e,t){var r=this;return(0,w1.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>qq(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ch1.bind(null,r.syncEngine),yield Xx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jf1}createDatastore(e){const t=vh(e.databaseInfo.databaseId),r=new kf1(e.databaseInfo);return new Of1(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=h=>qq(this.syncEngine,h,0),u=Hq.vt()?new Hq:new If1,new Uf1(t,r,i,s,u);var t,r,i,s,u}createSyncEngine(e,t){return function(r,i,s,u,h,C,v){const b=new sh1(r,i,s,u,h,C);return v&&(b.da=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,w1.Z)(function*(t){const r=u2(t);Q1("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield W7(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Yq(n,e=10240){let t=0;return{read:()=>(0,w1.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,w1.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Uy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wh1{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new V4,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,w1.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,w1.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,w1.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const s=yield e.Sa(i);return new th1(JSON.parse(s),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,w1.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,w1.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,w1.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Vh1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,w1.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new F1(_1.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,w1.Z)(function*(s,u){const h=u2(s),C=ch(h.M)+"/documents",v={documents:u.map(E=>oh(h.M,E))},b=yield h._o("BatchGetDocuments",C,v),z=new Map;b.forEach(E=>{const I=function Vu1(n,e){return"found"in e?function(t,r){q2(!!r.found);const i=B5(t,r.found.name),s=S4(r.found.updateTime),u=new st({mapValue:{fields:r.found.fields}});return l3.newFoundDocument(i,s,u)}(n,e):"missing"in e?function(t,r){q2(!!r.missing),q2(!!r.readTime);const i=B5(t,r.missing),s=S4(r.readTime);return l3.newNoDocument(i,s)}(n,e):_2()}(h.M,E);z.set(I.key.toString(),I)});const S=[];return u.forEach(E=>{const I=z.get(E.toString());q2(!!I),S.push(I)}),S}),function(s,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new nh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,w1.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=s2.fromPath(i);e.mutations.push(new cx(s,e.precondition(s)))}),yield(r=(0,w1.Z)(function*(i,s){const u=u2(i),h=ch(u.M)+"/documents",C={writes:s.map(v=>lh(u.M,v))};yield u.co("Commit",h,C)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _2();t=F2.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new F1(_1.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?r4.updateTime(t):r4.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(F2.min()))throw new F1(_1.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return r4.updateTime(t)}return r4.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Sh1{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.xa=r.maxAttempts,this.No=new Px(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,w1.Z)(function*(){const t=new Vh1(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Ma(s)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!Wf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!zj(t)}return!1}}class Hh1{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=j4.UNAUTHENTICATED,this.clientId=RB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,w1.Z)(function*(h){Q1("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Q1("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,w1.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F1(_1.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new V4;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,w1.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=K7(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Qq(n,e){return NE.apply(this,arguments)}function NE(){return NE=(0,w1.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Q1("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,w1.Z)(function*(s){r.isEqual(s)||(yield yq(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),NE.apply(this,arguments)}function Jq(n,e){return DE.apply(this,arguments)}function DE(){return DE=(0,w1.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield kE(n);Q1("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>kq(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>kq(e.remoteStore,s)),n.onlineComponents=e}),DE.apply(this,arguments)}function kE(n){return PE.apply(this,arguments)}function PE(){return PE=(0,w1.Z)(function*(n){return n.offlineComponents||(Q1("FirestoreClient","Using default OfflineComponentProvider"),yield Qq(n,new Zq)),n.offlineComponents}),PE.apply(this,arguments)}function By(n){return RE.apply(this,arguments)}function RE(){return RE=(0,w1.Z)(function*(n){return n.onlineComponents||(Q1("FirestoreClient","Using default OnlineComponentProvider"),yield Jq(n,new IE)),n.onlineComponents}),RE.apply(this,arguments)}function Xq(n){return kE(n).then(e=>e.persistence)}function OE(n){return kE(n).then(e=>e.localStore)}function eG(n){return By(n).then(e=>e.remoteStore)}function FE(n){return By(n).then(e=>e.syncEngine)}function X7(n){return UE.apply(this,arguments)}function UE(){return UE=(0,w1.Z)(function*(n){const e=yield By(n),t=e.eventManager;return t.onListen=ah1.bind(null,e.syncEngine),t.onUnlisten=oh1.bind(null,e.syncEngine),t}),UE.apply(this,arguments)}function tG(n,e,t={}){const r=new V4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return function(i,s,u,h,C){const v=new Uy({next:z=>{s.enqueueAndForget(()=>iE(i,b));const S=z.docs.has(u);!S&&z.fromCache?C.reject(new F1(_1.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&z.fromCache&&h&&"server"===h.source?C.reject(new F1(_1.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(z)},error:z=>C.reject(z)}),b=new oE(D7(u.path),v,{includeMetadataChanges:!0,ku:!0});return nE(i,b)}(yield X7(n),n.asyncQueue,e,t,r)})),r.promise}function nG(n,e,t={}){const r=new V4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return function(i,s,u,h,C){const v=new Uy({next:z=>{s.enqueueAndForget(()=>iE(i,b)),z.fromCache&&"server"===h.source?C.reject(new F1(_1.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(z)},error:z=>C.reject(z)}),b=new oE(u,v,{includeMetadataChanges:!0,ku:!0});return nE(i,b)}(yield X7(n),n.asyncQueue,e,t,r)})),r.promise}const rG=new Map;function BE(n,e,t){if(!t)throw new F1(_1.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iG(n,e,t,r){if(!0===e&&!0===r)throw new F1(_1.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sG(n){if(!s2.isDocumentKey(n))throw new F1(_1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aG(n){if(s2.isDocumentKey(n))throw new F1(_1.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_2()}function me(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new F1(_1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jy(n);throw new F1(_1.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function oG(n,e){if(e<=0)throw new F1(_1.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class cG{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new F1(_1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new F1(_1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,iG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cG({}),this._settingsFrozen=!1,e instanceof q8?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new F1(_1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new q8(i.options.projectId)}(e))}get app(){if(!this._app)throw new F1(_1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new F1(_1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cG(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Pl1;switch(t.type){case"gapi":const r=t.client;return q2(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Ul1(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new F1(_1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rG.get(e);t&&(Q1("ComponentProvider","Removing Datastore"),rG.delete(e),t.terminate())}(this),Promise.resolve()}}class u3{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new q5(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new u3(this.firestore,e,this._key)}}class at{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new at(this.firestore,e,this._query)}}class q5 extends at{constructor(e,t,r){super(e,t,D7(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new u3(this.firestore,null,new s2(e))}withConverter(e){return new q5(this.firestore,e,this._path)}}function lG(n,e,...t){if(n=(0,D.m9)(n),BE("collection","path",e),n instanceof Mh){const r=ge.fromString(e,...t);return aG(r),new q5(n,null,r)}{if(!(n instanceof u3||n instanceof q5))throw new F1(_1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ge.fromString(e,...t));return aG(r),new q5(n.firestore,null,r)}}function qy(n,e,...t){if(n=(0,D.m9)(n),1===arguments.length&&(e=RB.R()),BE("doc","path",e),n instanceof Mh){const r=ge.fromString(e,...t);return sG(r),new u3(n,null,new s2(r))}{if(!(n instanceof u3||n instanceof q5))throw new F1(_1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ge.fromString(e,...t));return sG(r),new u3(n.firestore,n instanceof q5?n.converter:null,new s2(r))}}function uG(n,e){return n=(0,D.m9)(n),e=(0,D.m9)(e),(n instanceof u3||n instanceof q5)&&(e instanceof u3||e instanceof q5)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function fG(n,e){return n=(0,D.m9)(n),e=(0,D.m9)(e),n instanceof at&&e instanceof at&&n.firestore===e.firestore&&Xf(n._query,e._query)&&n.converter===e.converter}class Oh1{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Px(this,"async_queue_retry"),this.Qa=()=>{const t=Ry();t&&Q1("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Ry();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Ry();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new V4;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,w1.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!js(t))throw t;Q1("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,n4("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=tE.createAndSchedule(this,e,t,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&_2()}verifyOperationInProgress(){}Ja(){var e=this;return(0,w1.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function jE(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Fh1{constructor(){this._progressObserver={},this._taskCompletionResolver=new V4,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class y3 extends Mh{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Oh1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||hG(this),this._firestoreClient.terminate()}}function s4(n){return n._firestoreClient||hG(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hG(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $l1(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new Hh1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function dG(n,e,t){const r=new V4;return n.asyncQueue.enqueue((0,w1.Z)(function*(){try{yield Qq(n,t),yield Jq(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(s=i).name?s.code===_1.FAILED_PRECONDITION||s.code===_1.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var s})).then(()=>r.promise)}function CG(n){if(n._initialized||n._terminated)throw new F1(_1.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $8{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new F1(_1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new u4(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class G5{constructor(e){this._byteString=e}static fromBase64String(e){try{return new G5(f4.fromBase64String(e))}catch(t){throw new F1(_1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new G5(f4.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xs{constructor(e){this._methodName=e}}class Gy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new F1(_1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new F1(_1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}const Yh1=/^__.*__$/;class Qh1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new th(e,this.data,t,this.fieldTransforms)}}class pG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _2()}}class Wy{constructor(e,t,r,i,s,u){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new Wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Ky(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(mG(this.ec)&&Yh1.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class Jh1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||vh(e)}lc(e,t,r,i=!1){return new Wy({ec:e,methodName:t,hc:r,path:u4.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ea(n){const e=n._freezeSettings(),t=vh(n._databaseId);return new Jh1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $y(n,e,t,r,i,s={}){const u=n.lc(s.merge||s.mergeFields?2:0,e,t,i);$E("Data must be an object, but it was:",u,r);const h=yG(r,u);let C,v;if(s.merge)C=new T7(u.fieldMask),v=u.fieldTransforms;else if(s.mergeFields){const b=[];for(const z of s.mergeFields){const S=ZE(e,z,t);if(!u.contains(S))throw new F1(_1.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);MG(b,S)||b.push(S)}C=new T7(b),v=u.fieldTransforms.filter(z=>C.covers(z.field))}else C=null,v=u.fieldTransforms;return new Qh1(new st(h),C,v)}class Lh extends Xs{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function gG(n,e,t){return new Wy({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class qE extends Xs{_toFieldTransform(e){return new eh(e.path,new P7)}isEqual(e){return e instanceof qE}}class Xh1 extends Xs{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=gG(this,e,!0),r=this.fc.map(s=>ta(s,t)),i=new Fs(r);return new eh(e.path,i)}isEqual(e){return this===e}}class ed1 extends Xs{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=gG(this,e,!0),r=this.fc.map(s=>ta(s,t)),i=new Us(r);return new eh(e.path,i)}isEqual(e){return this===e}}class td1 extends Xs{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new R7(e.M,dj(e.M,this.dc));return new eh(e.path,t)}isEqual(e){return this===e}}function GE(n,e,t,r){const i=n.lc(1,e,t);$E("Data must be an object, but it was:",i,r);const s=[],u=st.empty();Ns(r,(C,v)=>{const b=Zy(e,C,t);v=(0,D.m9)(v);const z=i.oc(b);if(v instanceof Lh)s.push(b);else{const S=ta(v,z);null!=S&&(s.push(b),u.set(b,S))}});const h=new T7(s);return new pG(u,h,i.fieldTransforms)}function WE(n,e,t,r,i,s){const u=n.lc(1,e,t),h=[ZE(e,r,t)],C=[i];if(s.length%2!=0)throw new F1(_1.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<s.length;S+=2)h.push(ZE(e,s[S])),C.push(s[S+1]);const v=[],b=st.empty();for(let S=h.length-1;S>=0;--S)if(!MG(v,h[S])){const E=h[S];let I=C[S];I=(0,D.m9)(I);const K=u.oc(E);if(I instanceof Lh)v.push(E);else{const o1=ta(I,K);null!=o1&&(v.push(E),b.set(E,o1))}}const z=new T7(v);return new pG(b,z,u.fieldTransforms)}function vG(n,e,t,r=!1){return ta(t,n.lc(r?4:3,e))}function ta(n,e){if(_G(n=(0,D.m9)(n)))return $E("Unsupported field value:",e,n),yG(n,e);if(n instanceof Xs)return function(t,r){if(!mG(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const u of t){let h=ta(u,r.uc(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,D.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dj(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=$3.fromDate(t);return{timestampValue:ah(r.M,i)}}if(t instanceof $3){const i=new $3(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ah(r.M,i)}}if(t instanceof Gy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof G5)return{bytesValue:Tj(r.M,t._byteString)};if(t instanceof u3){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ux(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${jy(t)}`)}(n,e)}function yG(n,e){const t={};return UB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(n,(r,i)=>{const s=ta(i,e.sc(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function _G(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $3||n instanceof Gy||n instanceof G5||n instanceof u3||n instanceof Xs)}function $E(n,e,t){if(!_G(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=jy(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function ZE(n,e,t){if((e=(0,D.m9)(e))instanceof $8)return e._internalPath;if("string"==typeof e)return Zy(n,e);throw Ky("Field path arguments must be of type string or ",n,!1,void 0,t)}const nd1=new RegExp("[~\\*/\\[\\]]");function Zy(n,e,t){if(e.search(nd1)>=0)throw Ky(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $8(...e.split("."))._internalPath}catch(r){throw Ky(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ky(n,e,t,r,i){const s=r&&!r.isEmpty(),u=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let C="";return(s||u)&&(C+=" (found",s&&(C+=` in field ${r}`),u&&(C+=` in document ${i}`),C+=")"),new F1(_1.INVALID_ARGUMENT,h+n+C)}function MG(n,e){return n.some(t=>t.isEqual(e))}class bh{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new u3(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rd1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rd1 extends bh{data(){return super.data()}}function Yy(n,e){return"string"==typeof e?Zy(n,e):e instanceof $8?e._internalPath:e._delegate._internalPath}class na{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z8 extends bh{constructor(e,t,r,i,s,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Yy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class zh extends Z8{data(e={}){return super.data(e)}}class ki{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zh(this._firestore,this._userDataWriter,r.key,r,new na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new F1(_1.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new zh(r._firestore,r._userDataWriter,u.doc.key,u.doc,new na(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const h=new zh(r._firestore,r._userDataWriter,u.doc.key,u.doc,new na(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let C=-1,v=-1;return 0!==u.type&&(C=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),v=s.indexOf(u.doc.key)),{type:id1(u.type),doc:h,oldIndex:C,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function id1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _2()}}function LG(n,e){return n instanceof Z8&&e instanceof Z8?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ki&&e instanceof ki&&n._firestore===e._firestore&&fG(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function bG(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new F1(_1.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wh{}function Pi(n,...e){for(const t of e)n=t._apply(n);return n}class sd1 extends wh{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=ea(e.firestore),r=function(i,s,u,h,C,v,b){let z;if(C.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new F1(_1.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){xG(b,v);const E=[];for(const I of b)E.push(HG(h,i,I));z={arrayValue:{values:E}}}else z=HG(h,i,b)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||xG(b,v),z=vG(u,"where",b,"in"===v||"not-in"===v);const S=G4.create(C,v,z);return function(E,I){if(I.S()){const o1=rx(E);if(null!==o1&&!o1.isEqual(I.field))throw new F1(_1.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o1.toString()}' and '${I.field.toString()}'`);const R1=nx(E);null!==R1&&EG(0,I.field,R1)}const K=function(o1,R1){for(const U1 of o1.filters)if(R1.indexOf(U1.op)>=0)return U1.op;return null}(E,function(o1){switch(o1){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(I.op));if(null!==K)throw new F1(_1.INVALID_ARGUMENT,K===I.op?`Invalid query. You cannot use more than one '${I.op.toString()}' filter.`:`Invalid query. You cannot use '${I.op.toString()}' filters with '${K.toString()}' filters.`)}(i,S),S}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new at(e.firestore,e.converter,function(i,s){const u=i.filters.concat([s]);return new G8(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class od1 extends wh{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new F1(_1.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new F1(_1.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new N7(i,s);return function(h,C){if(null===nx(h)){const v=rx(h);null!==v&&EG(0,v,C.field)}}(r,u),u}(e._query,this._c,this.gc);return new at(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new G8(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class zG extends wh{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new at(e.firestore,e.converter,oj(e._query,this.yc,this.Ic))}}class wG extends wh{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=SG(e,this.type,this.Tc,this.Ec);return new at(e.firestore,e.converter,(i=t,new G8((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class VG extends wh{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=SG(e,this.type,this.Tc,this.Ec);return new at(e.firestore,e.converter,(i=t,new G8((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function SG(n,e,t,r){if(t[0]=(0,D.m9)(t[0]),t[0]instanceof bh)return function(i,s,u,h,C){if(!h)throw new F1(_1.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const b of k7(i))if(b.field.isKeyField())v.push(Ps(s,h.key));else{const z=h.data.field(b.field);if(JH(z))throw new F1(_1.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===z){const S=b.field.canonicalString();throw new F1(_1.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}v.push(z)}return new xi(v,C)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ea(n.firestore);return function(s,u,h,C,v,b){const z=s.explicitOrderBy;if(v.length>z.length)throw new F1(_1.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let E=0;E<v.length;E++){const I=v[E];if(z[E].field.isKeyField()){if("string"!=typeof I)throw new F1(_1.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof I}`);if(!ix(s)&&-1!==I.indexOf("/"))throw new F1(_1.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${C}() must be a plain document ID, but '${I}' contains a slash.`);const K=s.path.child(ge.fromString(I));if(!s2.isDocumentKey(K))throw new F1(_1.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${C}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const o1=new s2(K);S.push(Ps(u,o1))}else{const K=vG(h,C,I);S.push(K)}}return new xi(S,b)}(n._query,n.firestore._databaseId,i,e,t,r)}}function HG(n,e,t){if("string"==typeof(t=(0,D.m9)(t))){if(""===t)throw new F1(_1.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ix(e)&&-1!==t.indexOf("/"))throw new F1(_1.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ge.fromString(t));if(!s2.isDocumentKey(r))throw new F1(_1.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ps(n,new s2(r))}if(t instanceof u3)return Ps(n,t._key);throw new F1(_1.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jy(t)}.`)}function xG(n,e){if(!Array.isArray(n)||0===n.length)throw new F1(_1.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new F1(_1.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function EG(n,e,t){if(!t.isEqual(e))throw new F1(_1.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const pd1={maxAttempts:5};class KE{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return R3(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _2()}}convertObject(e,t){const r={};return Ns(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new Gy(R3(e.latitude),R3(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=BB(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gf(e));default:return null}}convertTimestamp(e){const t=Vi(e);return new $3(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ge.fromString(e);q2(Uj(r));const i=new q8(r.get(1),r.get(3)),s=new s2(r.popFirst(5));return i.isEqual(t)||n4(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Qy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class md1 extends KE{constructor(e){super(),this.firestore=e}convertBytes(e){return new G5(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new u3(this.firestore,null,t)}}class TG{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ea(e)}set(e,t,r){this._verifyNotCommitted();const i=Ri(e,this._firestore),s=Qy(i.converter,t,r),u=$y(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,r4.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Ri(e,this._firestore);let u;return u="string"==typeof(t=(0,D.m9)(t))||t instanceof $8?WE(this._dataReader,"WriteBatch.update",s._key,t,r,i):GE(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,r4.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ri(e,this._firestore);return this._mutations=this._mutations.concat(new nh(t._key,r4.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new F1(_1.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ri(n,e){if((n=(0,D.m9)(n)).firestore!==e)throw new F1(_1.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ra extends KE{constructor(e){super(),this.firestore=e}convertBytes(e){return new G5(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new u3(this.firestore,null,t)}}function AG(n,e,t){n=me(n,u3);const r=me(n.firestore,y3),i=Qy(n.converter,e,t);return e9(r,[$y(ea(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,r4.none())])}function IG(n,e,t,...r){n=me(n,u3);const i=me(n.firestore,y3),s=ea(i);let u;return u="string"==typeof(e=(0,D.m9)(e))||e instanceof $8?WE(s,"updateDoc",n._key,e,t,r):GE(s,"updateDoc",n._key,e),e9(i,[u.toMutation(n._key,r4.exists(!0))])}function NG(n,...e){var t,r,i;n=(0,D.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||jE(e[u])||(s=e[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(jE(e[u])){const z=e[u];e[u]=null===(t=z.next)||void 0===t?void 0:t.bind(z),e[u+1]=null===(r=z.error)||void 0===r?void 0:r.bind(z),e[u+2]=null===(i=z.complete)||void 0===i?void 0:i.bind(z)}let C,v,b;if(n instanceof u3)v=me(n.firestore,y3),b=D7(n._key.path),C={next:z=>{e[u]&&e[u](YE(v,n,z))},error:e[u+1],complete:e[u+2]};else{const z=me(n,at);v=me(z.firestore,y3),b=z._query;const S=new ra(v);C={next:E=>{e[u]&&e[u](new ki(v,S,z,E))},error:e[u+1],complete:e[u+2]},bG(n._query)}return function(z,S,E,I){const K=new Uy(I),o1=new oE(S,K,E);return z.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return nE(yield X7(z),o1)})),()=>{K.Aa(),z.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return iE(yield X7(z),o1)}))}}(s4(v),b,h,C)}function e9(n,e){return function(t,r){const i=new V4;return t.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return function ch1(n,e,t){return hE.apply(this,arguments)}(yield FE(t),r,i)})),i.promise}(s4(n),e)}function YE(n,e,t){const r=t.docs.get(e._key),i=new ra(n);return new Z8(n,i,e._key,r,new na(t.hasPendingWrites,t.fromCache),e.converter)}class Vd1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ea(e)}get(e){const t=Ri(e,this._firestore),r=new md1(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return _2();const s=i[0];if(s.isFoundDocument())return new bh(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new bh(this._firestore,r,t._key,null,t.converter);throw _2()})}set(e,t,r){const i=Ri(e,this._firestore),s=Qy(i.converter,t,r),u=$y(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const s=Ri(e,this._firestore);let u;return u="string"==typeof(t=(0,D.m9)(t))||t instanceof $8?WE(this._dataReader,"Transaction.update",s._key,t,r,i):GE(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,u),this}delete(e){const t=Ri(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ri(e,this._firestore),r=new ra(this._firestore);return super.get(e).then(i=>new Z8(this._firestore,r,t._key,i._document,new na(!1,!1),t.converter))}}function QE(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new F1("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function kG(){if("undefined"==typeof Uint8Array)throw new F1("unimplemented","Uint8Arrays are not available in this environment.")}function PG(){if(!function Gl1(){return"undefined"!=typeof atob}())throw new F1("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){x7=bt.SDK_VERSION,(0,bt._registerComponent)(new q6.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new y3(i,new Ol1(t.getProvider("auth-internal")),new Bl1(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),(0,bt.registerVersion)(DB,"3.4.9",n),(0,bt.registerVersion)(DB,"3.4.9","esm2017")}();class Vh{constructor(e){this._delegate=e}static fromBase64String(e){return PG(),new Vh(G5.fromBase64String(e))}static fromUint8Array(e){return kG(),new Vh(G5.fromUint8Array(e))}toBase64(){return PG(),this._delegate.toBase64()}toUint8Array(){return kG(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JE(n){return function Dd1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class kd1{enableIndexedDbPersistence(e,t){return function Bh1(n,e){CG(n=me(n,y3));const t=s4(n),r=n._freezeSettings(),i=new IE;return dG(t,i,new Kq(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function jh1(n){CG(n=me(n,y3));const e=s4(n),t=n._freezeSettings(),r=new IE;return dG(e,r,new zh1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function qh1(n){if(n._initialized&&!n._terminated)throw new F1(_1.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new V4;return n._queue.enqueueAndForgetEvenWhileRestricted((0,w1.Z)(function*(){try{yield(t=(0,w1.Z)(function*(r){if(!J6.vt())return Promise.resolve();const i=r+"main";yield J6.delete(i)}),function(r){return t.apply(this,arguments)})(wx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class RG{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof q8||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&jf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Ph1(n,e,t,r={}){var i;const s=(n=me(n,Mh))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&jf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,h;if("string"==typeof r.mockUserToken)u=r.mockUserToken,h=j4.MOCK_USER;else{u=(0,D.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new F1(_1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new j4(C)}n._authCredentials=new Rl1(new kB(u,h))}}(this._delegate,e,t,r)}enableNetwork(){return function Wh1(n){return function xh1(n){return n.asyncQueue.enqueue((0,w1.Z)(function*(){const e=yield Xq(n),t=yield eG(n);return e.setNetworkEnabled(!0),function(r){const i=u2(r);return i.wu.delete(0),yh(i)}(t)}))}(s4(n=me(n,y3)))}(this._delegate)}disableNetwork(){return function $h1(n){return function Eh1(n){return n.asyncQueue.enqueue((0,w1.Z)(function*(){const e=yield Xq(n),t=yield eG(n);return e.setNetworkEnabled(!1),(r=(0,w1.Z)(function*(i){const s=u2(i);s.wu.add(0),yield W7(s),s.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(s4(n=me(n,y3)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,iG("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Gh1(n){return function(e){const t=new V4;return e.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return function hh1(n,e){return gE.apply(this,arguments)}(yield FE(e),t)})),t.promise}(s4(n=me(n,y3)))}(this._delegate)}onSnapshotsInSync(e){return function wd1(n,e){return function Ih1(n,e){const t=new Uy(e);return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return r=yield X7(n),i=t,u2(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return r=yield X7(n),i=t,void u2(r).bu.delete(i);var r,i}))}}(s4(n=me(n,y3)),jE(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new F1("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new t9(this,lG(this._delegate,e))}catch(t){throw Et(t,"collection()","Firestore.collection()")}}doc(e){try{return new f6(this,qy(this._delegate,e))}catch(t){throw Et(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Tt(this,function Rh1(n,e){if(n=me(n,Mh),BE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new F1(_1.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new at(n,null,(t=e,new G8(ge.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Et(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Sd1(n,e,t){n=me(n,y3);const r=Object.assign(Object.assign({},pd1),t);return function(i){if(i.maxAttempts<1)throw new F1(_1.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function Nh1(n,e,t){const r=new V4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){const i=yield(s=n,By(s).then(u=>u.datastore));var s;new Sh1(n.asyncQueue,i,t,e,r).run()})),r.promise}(s4(n),i=>e(new Vd1(n,i)),r)}(this._delegate,t=>e(new OG(this,t)))}batch(){return s4(this._delegate),new FG(new TG(this._delegate,e=>e9(this._delegate,e)))}loadBundle(e){return function Zh1(n,e){const t=s4(n=me(n,y3)),r=new Fh1;return function Dh1(n,e,t,r){const i=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,C=function(C,v){if(C instanceof Uint8Array)return Yq(C,v);if(C instanceof ArrayBuffer)return Yq(new Uint8Array(C),v);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new wh1(C,u);var C}(t,vh(e));n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){!function bh1(n,e,t){const r=u2(n);var i;(i=(0,w1.Z)(function*(s,u,h){try{const C=yield u.getMetadata();if(yield function(S,E){const I=u2(S),K=S4(E.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",o1=>I._s.getBundleMetadata(o1,E.id)).then(o1=>!!o1&&o1.createTime.compareTo(K)>=0)}(s.localStore,C))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(S=C).totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}),Promise.resolve(new Set);h._updateProgress(Oq(C));const v=new nh1(C,s.localStore,u.M);let b=yield u.ma();for(;b;){const S=yield v.Fu(b);S&&h._updateProgress(S),b=yield u.ma()}const z=yield v.complete();return yield W8(s,z.Lu,void 0),yield function(S,E){const I=u2(S);return I.persistence.runTransaction("Save bundle","readwrite",K=>I._s.saveBundleMetadata(K,E))}(s.localStore,C),h._completeWith(z.progress),Promise.resolve(z.Bu)}catch(C){return jf("SyncEngine",`Loading bundle failed with ${C}`),h._failWith(C),Promise.resolve(new Set)}var S}),function(s,u,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield FE(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Kh1(n,e){return function kh1(n,e){return n.asyncQueue.enqueue((0,w1.Z)(function*(){return function(t,r){const i=u2(t);return i.persistence.runTransaction("Get named query","readonly",s=>i._s.getNamedQuery(s,r))}(yield OE(n),e)}))}(s4(n=me(n,y3)),e).then(t=>t?new at(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Tt(this,t):null)}}class Jy extends KE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vh(new G5(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return f6.forKey(t,this.firestore,null)}}class OG{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Jy(e)}get(e){const t=sa(e);return this._delegate.get(t).then(r=>new Sh(this._firestore,new Z8(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=sa(e);return r?(QE("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=sa(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=sa(e);return this._delegate.delete(t),this}}class FG{constructor(e){this._delegate=e}set(e,t,r){const i=sa(e);return r?(QE("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=sa(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=sa(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ia{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new zh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hh(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ia.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new ia(e,new Jy(e),t),i.set(t,s)),s}}ia.INSTANCES=new WeakMap;class f6{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jy(e)}static forPath(e,t,r){if(e.length%2!=0)throw new F1("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new f6(t,new u3(t._delegate,r,new s2(e)))}static forKey(e,t,r){return new f6(t,new u3(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new t9(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new t9(this.firestore,lG(this._delegate,e))}catch(t){throw Et(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,D.m9)(e))instanceof u3&&uG(this._delegate,e)}set(e,t){t=QE("DocumentReference.set",t);try{return t?AG(this._delegate,e,t):AG(this._delegate,e)}catch(r){throw Et(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?IG(this._delegate,e):IG(this._delegate,e,t,...r)}catch(i){throw Et(i,"updateDoc()","DocumentReference.update()")}}delete(){return function bd1(n){return e9(me(n.firestore,y3),[new nh(n._key,r4.none())])}(this._delegate)}onSnapshot(...e){const t=UG(e),r=BG(e,i=>new Sh(this.firestore,new Z8(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return NG(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function vd1(n){n=me(n,u3);const e=me(n.firestore,y3),t=s4(e),r=new ra(e);return function Th1(n,e){const t=new V4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return(r=(0,w1.Z)(function*(i,s,u){try{const h=yield function(C,v){const b=u2(C);return b.persistence.runTransaction("read document","readonly",z=>b.fi.Ls(z,v))}(i,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new F1(_1.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const C=K7(h,`Failed to get document '${s} from cache`);u.reject(C)}}),function(i,s,u){return r.apply(this,arguments)})(yield OE(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Z8(e,r,n._key,i,new na(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function yd1(n){n=me(n,u3);const e=me(n.firestore,y3);return tG(s4(e),n._key,{source:"server"}).then(t=>YE(e,n,t))}(this._delegate):function gd1(n){n=me(n,u3);const e=me(n.firestore,y3);return tG(s4(e),n._key).then(t=>YE(e,n,t))}(this._delegate),t.then(r=>new Sh(this.firestore,new Z8(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new f6(this.firestore,this._delegate.withConverter(e?ia.getInstance(this.firestore,e):null))}}function Et(n,e,t){return n.message=n.message.replace(e,t),n}function UG(n){for(const e of n)if("object"==typeof e&&!JE(e))return e;return{}}function BG(n,e){var t,r;let i;return i=JE(n[0])?n[0]:JE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Sh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new f6(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return LG(this._delegate,e._delegate)}}class Hh extends Sh{data(e){const t=this._delegate.data(e);return function kl1(n,e){n||_2()}(void 0!==t),t}}class Tt{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jy(e)}where(e,t,r){try{return new Tt(this.firestore,Pi(this._delegate,function ad1(n,e,t){const r=e,i=Yy("where",n);return new sd1(i,r,t)}(e,t,r)))}catch(i){throw Et(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Tt(this.firestore,Pi(this._delegate,function cd1(n,e="asc"){const t=e,r=Yy("orderBy",n);return new od1(r,t)}(e,t)))}catch(r){throw Et(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Tt(this.firestore,Pi(this._delegate,function ld1(n){return oG("limit",n),new zG("limit",n,"F")}(e)))}catch(t){throw Et(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Tt(this.firestore,Pi(this._delegate,function ud1(n){return oG("limitToLast",n),new zG("limitToLast",n,"L")}(e)))}catch(t){throw Et(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Tt(this.firestore,Pi(this._delegate,function fd1(...n){return new wG("startAt",n,!0)}(...e)))}catch(t){throw Et(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Tt(this.firestore,Pi(this._delegate,function hd1(...n){return new wG("startAfter",n,!1)}(...e)))}catch(t){throw Et(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Tt(this.firestore,Pi(this._delegate,function dd1(...n){return new VG("endBefore",n,!1)}(...e)))}catch(t){throw Et(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Tt(this.firestore,Pi(this._delegate,function Cd1(...n){return new VG("endAt",n,!0)}(...e)))}catch(t){throw Et(t,"endAt()","Query.endAt()")}}isEqual(e){return fG(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Md1(n){n=me(n,at);const e=me(n.firestore,y3),t=s4(e),r=new ra(e);return function Ah1(n,e){const t=new V4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return(r=(0,w1.Z)(function*(i,s,u){try{const h=yield Dy(i,s,!0),C=new Bq(s,h._i),v=C.Wu(h.documents),b=C.applyChanges(v,!1);u.resolve(b.snapshot)}catch(h){const C=K7(h,`Failed to execute query '${s} against cache`);u.reject(C)}}),function(i,s,u){return r.apply(this,arguments)})(yield OE(n),e,t);var r})),t.promise}(t,n._query).then(i=>new ki(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function Ld1(n){n=me(n,at);const e=me(n.firestore,y3),t=s4(e),r=new ra(e);return nG(t,n._query,{source:"server"}).then(i=>new ki(e,r,n,i))}(this._delegate):function _d1(n){n=me(n,at);const e=me(n.firestore,y3),t=s4(e),r=new ra(e);return bG(n._query),nG(t,n._query).then(i=>new ki(e,r,n,i))}(this._delegate),t.then(r=>new XE(this.firestore,new ki(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=UG(e),r=BG(e,i=>new XE(this.firestore,new ki(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return NG(this._delegate,t,r)}withConverter(e){return new Tt(this.firestore,this._delegate.withConverter(e?ia.getInstance(this.firestore,e):null))}}class Rd1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Hh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class XE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Tt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Rd1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Hh(this._firestore,r))})}isEqual(e){return LG(this._delegate,e._delegate)}}class t9 extends Tt{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new f6(this.firestore,e):null}doc(e){try{return new f6(this.firestore,void 0===e?qy(this._delegate):qy(this._delegate,e))}catch(t){throw Et(t,"doc()","CollectionReference.doc()")}}add(e){return function zd1(n,e){const t=me(n.firestore,y3),r=qy(n),i=Qy(n.converter,e);return e9(t,[$y(ea(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,r4.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new f6(this.firestore,t))}isEqual(e){return uG(this._delegate,e._delegate)}withConverter(e){return new t9(this.firestore,this._delegate.withConverter(e?ia.getInstance(this.firestore,e):null))}}function sa(n){return me(n,u3)}class eT{constructor(...e){this._delegate=new $8(...e)}static documentId(){return new eT(u4.keyField().canonicalString())}isEqual(e){return(e=(0,D.m9)(e))instanceof $8&&this._delegate._internalPath.isEqual(e._internalPath)}}class aa{constructor(e){this._delegate=e}static serverTimestamp(){const e=function xd1(){return new qE("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new aa(e)}static delete(){const e=function Hd1(){return new Lh("deleteField")}();return e._methodName="FieldValue.delete",new aa(e)}static arrayUnion(...e){const t=function Ed1(...n){return new Xh1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new aa(t)}static arrayRemove(...e){const t=function Td1(...n){return new ed1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new aa(t)}static increment(e){const t=function Ad1(n){return new td1("increment",n)}(e);return t._methodName="FieldValue.increment",new aa(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Od1={Firestore:RG,GeoPoint:Gy,Timestamp:$3,Blob:Vh,Transaction:OG,WriteBatch:FG,DocumentReference:f6,DocumentSnapshot:Sh,Query:Tt,QueryDocumentSnapshot:Hh,QuerySnapshot:XE,CollectionReference:t9,FieldPath:eT,FieldValue:aa,setLogLevel:function Pd1(n){!function Dl1(n){wi.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function jG(n,e){return function Bd1(n,e=yV.z){return new Ke.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function tT(n,e){return jG(n,e).pipe((0,b2.U)(t=>({payload:t,type:"query"})))}function Xy(n,e){return tT(n,e).pipe(mt(void 0),Uv(),(0,b2.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,h)=>{const C=i.find(b=>b.doc.ref.isEqual(u.ref)),v=null==t?void 0:t.payload.docs.find(b=>b.ref.isEqual(u.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(u.metadata)||!C&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function qG(n,e,t){return Xy(n,t).pipe(J4((r,i)=>function qd1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Gd1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return nT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return nT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),MV(),(0,b2.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function nT(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function GG(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Ud1(n){(function Fd1(n,e){n.INTERNAL.registerComponent(new q6.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Od1)))})(n,(e,t)=>new RG(e,t,new kd1)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(LV.Z);class WG{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Xy(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,b2.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(mt(void 0),Uv(),k4(([r,i])=>i.length>0||!r),(0,b2.U)(([r,i])=>i),re.iC)}auditTrail(e){return this.stateChanges(e).pipe(J4((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=GG(e);return qG(this.query,t,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return tT(this.query,this.afs.schedulers.outsideAngular).pipe((0,b2.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),re.iC)}get(e){return(0,Be.D)(this.query.get(e)).pipe(re.iC)}add(e){return this.ref.add(e)}doc(e){return new $G(this.ref.doc(e),this.afs)}}class $G{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=YG(r,t);return new WG(i,s,this.afs)}snapshotChanges(){return function jd1(n,e){return jG(n,e).pipe(mt(void 0),Uv(),(0,b2.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,b2.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Be.D)(this.ref.get(e)).pipe(re.iC)}}class Wd1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Xy(this.query,this.afs.schedulers.outsideAngular).pipe((0,b2.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),k4(t=>t.length>0),re.iC):Xy(this.query,this.afs.schedulers.outsideAngular).pipe(re.iC)}auditTrail(e){return this.stateChanges(e).pipe(J4((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=GG(e);return qG(this.query,t,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return tT(this.query,this.afs.schedulers.outsideAngular).pipe((0,b2.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),re.iC)}get(e){return(0,Be.D)(this.query.get(e)).pipe(re.iC)}}const ZG=new c.OlP("angularfire2.enableFirestorePersistence"),KG=new c.OlP("angularfire2.firestore.persistenceSettings"),$d1=new c.OlP("angularfire2.firestore.settings"),Zd1=new c.OlP("angularfire2.firestore.use-emulator");function YG(n,e=(t=>t)){return{query:e(n),ref:n}}let QG=(()=>{class n{constructor(t,r,i,s,u,h,C,v,b,z,S,E,I,K,o1,R1,U1){this.schedulers=C;const $1=(0,z3.on)(t,h,r),J1=b;z&&iH($1,h,S,I,K,o1,E,R1),[this.firestore,this.persistenceEnabled$]=(0,z3.cc)(`${$1.name}.firestore`,"AngularFirestore",$1.name,()=>{const v2=h.runOutsideAngular(()=>$1.firestore());if(s&&v2.settings(s),J1&&v2.useEmulator(...J1),i&&!ht(u)){const E2=()=>{try{return(0,Be.D)(v2.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(te){return"undefined"!=typeof console&&console.warn(te),L2(!1)}};return[v2,h.runOutsideAngular(E2)]}return[v2,L2(!1)]},[s,J1,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=YG(i,r),h=this.schedulers.ngZone.run(()=>s);return new WG(h,u,this)}collectionGroup(t,r){const i=r||(u=>u),s=this.firestore.collectionGroup(t);return new Wd1(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new $G(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z3.Dh),c.LFG(z3.xv,8),c.LFG(ZG,8),c.LFG($d1,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(re.HU),c.LFG(KG,8),c.LFG(Zd1,8),c.LFG(Lf,8),c.LFG(JS,8),c.LFG(XS,8),c.LFG(eH,8),c.LFG(tH,8),c.LFG(nH,8),c.LFG(rH,8),c.LFG(Mf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Kd1=(()=>{class n{constructor(){Hs.Z.registerVersion("angularfire",re.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:ZG,useValue:!0},{provide:KG,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[QG]}),n})(),rT=(()=>{class n{constructor(t,r){this.db=t,this.fireDb=r,this.dbPath="visitors",this.visitorStatus=new ps1,this.visitorStatus.status={status:"Failed"},this.status=this.visitorStatus.status,this.visitorsRef=t.list(this.dbPath)}getVisitor(t){return this.db.list("visitors",r=>r.orderByChild("user_ip").equalTo(t))}getAll(){return this.visitorsRef}create(t){return this.visitorsRef.push(t)}update(t,r){return this.visitorsRef.update(t,r)}delete(t){return this.visitorsRef.remove(t)}deleteAll(t){return this.visitorsRef.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zf),c.LFG(QG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class JG{}const K8="*";function Qd1(n,e){return{type:7,name:n,definitions:e,options:{}}}function XG(n,e=null){return{type:4,styles:e,timings:n}}function eW(n,e=null){return{type:2,steps:n,options:e}}function xh(n){return{type:6,styles:n,offset:null}}function iT(n,e,t){return{type:0,name:n,styles:e,options:t}}function tW(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function nW(n){Promise.resolve(null).then(n)}class Eh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){nW(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class rW{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?nW(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++r==s&&this._onDestroy()}),u.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const iW=["toast-component",""];function Jd1(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(t),c.oxw().remove()}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function Xd1(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function eC1(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,Xd1,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function tC1(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function nC1(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function rC1(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}function iC1(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(t),c.oxw().remove()}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function sC1(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function aC1(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,sC1,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function oC1(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function cC1(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function lC1(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}class uC1{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class e_{constructor(e,t,r,i,s,u){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=u,this._onTap=new C3.x,this._onAction=new C3.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const sW={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},aW=new c.OlP("ToastConfig");class hC1{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new C3.x,this._activate=new C3.x,this._manualClose=new C3.x,this._resetTimeout=new C3.x,this._countDuplicate=new C3.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class dC1{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===e_?this._toastPackage:this._parentInjector.get(e,t,r)}}class CC1 extends class fC1{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class pC1{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let mC1=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(l1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gC1=(()=>{class n{constructor(t,r,i,s){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=s,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new CC1(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new pC1(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mC1),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(l1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oa=(()=>{class n{constructor(t,r,i,s,u){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:u}=this.toastrConfig;for(const h of this.toasts){const C=u&&h.title===t;if((!u||C)&&h.message===r)return h.toastRef.onDuplicate(i,s),h}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=r;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const C=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let v=r;r&&s.enableHtml&&(v=this.sanitizer.sanitize(c.q3G.HTML,r));const b=new hC1(C),z=new e_(this.index,s,v,i,t,b),S=new dC1(z,this._injector),E=new uC1(s.toastComponent,S),I=C.attach(E,this.toastrConfig.newestOnTop);b.componentInstance=I.instance;const K={toastId:this.index,title:i||"",message:r||"",toastRef:b,onShown:b.afterActivate(),onHidden:b.afterClosed(),onTap:z.onTap(),onAction:z.onAction(),portal:I};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{K.toastRef.activate()})),this.toasts.push(K),K}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aW),c.LFG(gC1),c.LFG(c.zs3),c.LFG(L6),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vC1=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oa),c.Y36(e_),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(c.d8E("@flyInOut",r.state),c.Tol(r.toastClasses),c.Udp("display",r.displayStyle))},attrs:iW,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(c.YNc(0,Jd1,3,0,"button",0),c.YNc(1,eC1,3,5,"div",1),c.YNc(2,tC1,1,3,"div",2),c.YNc(3,nC1,2,4,"div",3),c.YNc(4,rC1,2,2,"div",4)),2&t&&(c.Q6J("ngIf",r.options.closeButton),c.xp6(1),c.Q6J("ngIf",r.title),c.xp6(1),c.Q6J("ngIf",r.message&&r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.message&&!r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.options.progressBar))},directives:[ke],encapsulation:2,data:{animation:[Qd1("flyInOut",[iT("inactive",xh({opacity:0})),iT("active",xh({opacity:1})),iT("removed",xh({opacity:0})),tW("inactive => active",XG("{{ easeTime }}ms {{ easing }}")),tW("active => removed",XG("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const yC1=Object.assign(Object.assign({},sW),{toastComponent:vC1});let _C1=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:aW,useValue:{default:yC1,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Bt]]}),n})(),MC1=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oa),c.Y36(e_),c.Y36(c.z2F))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(c.Tol(r.toastClasses),c.Udp("display",r.displayStyle))},attrs:iW,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(c.YNc(0,iC1,3,0,"button",0),c.YNc(1,aC1,3,5,"div",1),c.YNc(2,oC1,1,3,"div",2),c.YNc(3,cC1,2,4,"div",3),c.YNc(4,lC1,2,2,"div",4)),2&t&&(c.Q6J("ngIf",r.options.closeButton),c.xp6(1),c.Q6J("ngIf",r.title),c.xp6(1),c.Q6J("ngIf",r.message&&r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.message&&!r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.options.progressBar))},directives:[ke],encapsulation:2}),n})();function oW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function m2(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?oW(Object(t),!0).forEach(function(r){zC1(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oW(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function t_(n){return(t_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function cW(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function zC1(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aT(n,e){return function SC1(n){if(Array.isArray(n))return n}(n)||function xC1(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var u,h,r=[],i=!0,s=!1;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!e||r.length!==e);i=!0);}catch(C){s=!0,h=C}finally{try{!i&&null!=t.return&&t.return()}finally{if(s)throw h}}return r}}(n,e)||lW(n,e)||function TC1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r_(n){return function VC1(n){if(Array.isArray(n))return oT(n)}(n)||function HC1(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||lW(n)||function EC1(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lW(n,e){if(n){if("string"==typeof n)return oT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oT(n,e)}}function oT(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}Object.assign(Object.assign({},sW),{toastComponent:MC1});var uW=function(){},cT={},fW={},hW=null,dW={mark:uW,measure:uW};try{"undefined"!=typeof window&&(cT=window),"undefined"!=typeof document&&(fW=document),"undefined"!=typeof MutationObserver&&(hW=MutationObserver),"undefined"!=typeof performance&&(dW=performance)}catch(n){}var CW=(cT.navigator||{}).userAgent,pW=void 0===CW?"":CW,Oi=cT,f3=fW,mW=hW,i_=dW,Y8=!!f3.documentElement&&!!f3.head&&"function"==typeof f3.addEventListener&&"function"==typeof f3.createElement,gW=~pW.indexOf("MSIE")||~pW.indexOf("Trident/"),Q8="___FONT_AWESOME___",yW="svg-inline--fa",ca="data-fa-i2svg",uT="data-fa-pseudo-element",fT="data-prefix",hT="data-icon",_W="fontawesome-i2svg",DC1=["HTML","HEAD","STYLE","SCRIPT"],MW=function(){try{return!0}catch(n){return!1}}(),dT={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},s_={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},LW={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},kC1={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},PC1=/fa[srltdbk\-\ ]/,bW="fa-layers-text",RC1=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,OC1={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},zW=[1,2,3,4,5,6,7,8,9,10],FC1=zW.concat([11,12,13,14,15,16,17,18,19,20]),UC1=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],BC1=[].concat(r_(Object.keys(s_)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(zW.map(function(n){return"".concat(n,"x")})).concat(FC1.map(function(n){return"w-".concat(n)})),wW=Oi.FontAwesomeConfig||{};f3&&"function"==typeof f3.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=aT(n,2),r=e[1],i=function qC1(n){return""===n||"false"!==n&&("true"===n||n)}(function jC1(n){var e=f3.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(wW[r]=i)});var Ah=m2(m2({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:yW,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),wW);Ah.autoReplaceSvg||(Ah.observeMutations=!1);var R2={};Object.keys(Ah).forEach(function(n){Object.defineProperty(R2,n,{enumerable:!0,set:function(t){Ah[n]=t,a_.forEach(function(r){return r(R2)})},get:function(){return Ah[n]}})}),Oi.FontAwesomeConfig=R2;var a_=[],W5={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ih(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function n9(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function CT(n){return n.classList?n9(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function VW(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o_(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function pT(n){return n.size!==W5.size||n.x!==W5.x||n.y!==W5.y||n.rotate!==W5.rotate||n.flipX||n.flipY}function SW(){var n="fa",e=yW,t=R2.familyPrefix,r=R2.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||r!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),h=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(t,"-")).replace(u,"--".concat(t,"-")).replace(h,".".concat(r))}return i}var HW=!1;function mT(){R2.autoAddCss&&!HW&&(function ZC1(n){if(n&&Y8){var e=f3.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=f3.head.childNodes,r=null,i=t.length-1;i>-1;i--){var s=t[i],u=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=s)}f3.head.insertBefore(e,r)}}(SW()),HW=!0)}var ep1={mixout:function(){return{dom:{css:SW,insertCss:mT}}},hooks:function(){return{beforeDOMElementCreation:function(){mT()},beforeI2svg:function(){mT()}}}},J8=Oi||{};J8[Q8]||(J8[Q8]={}),J8[Q8].styles||(J8[Q8].styles={}),J8[Q8].hooks||(J8[Q8].hooks={}),J8[Q8].shims||(J8[Q8].shims=[]);var X6=J8[Q8],xW=[],c_=!1;function np1(n){!Y8||(c_?setTimeout(n,0):xW.push(n))}function Nh(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,s=void 0===i?[]:i;return"string"==typeof n?VW(n):"<".concat(e," ").concat(function YC1(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(VW(n[t]),'" ')},"").trim()}(r),">").concat(s.map(Nh).join(""),"</").concat(e,">")}function EW(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}Y8&&((c_=(f3.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(f3.readyState))||f3.addEventListener("DOMContentLoaded",function n(){f3.removeEventListener("DOMContentLoaded",n),c_=1,xW.map(function(e){return e()})}));var gT=function(e,t,r,i){var C,v,b,s=Object.keys(e),u=s.length,h=void 0!==i?function(e,t){return function(r,i,s,u){return e.call(t,r,i,s,u)}}(t,i):t;for(void 0===r?(C=1,b=e[s[0]]):(C=0,b=r);C<u;C++)b=h(b,e[v=s[C]],v,e);return b};function vT(n){var e=function ip1(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function TW(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function yT(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,s=TW(e);"function"!=typeof X6.hooks.addPack||i?X6.styles[n]=m2(m2({},X6.styles[n]||{}),s):X6.hooks.addPack(n,TW(e)),"fas"===n&&yT("fa",e)}var Dh=X6.styles,ap1=X6.shims,op1=Object.values(LW),_T=null,AW={},IW={},NW={},DW={},kW={},cp1=Object.keys(dT);function up1(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function lp1(n){return~BC1.indexOf(n)}(i)?null:i}var PW=function(){var e=function(s){return gT(Dh,function(u,h,C){return u[C]=gT(h,s,{}),u},{})};AW=e(function(i,s,u){return s[3]&&(i[s[3]]=u),s[2]&&s[2].filter(function(C){return"number"==typeof C}).forEach(function(C){i[C.toString(16)]=u}),i}),IW=e(function(i,s,u){return i[u]=u,s[2]&&s[2].filter(function(C){return"string"==typeof C}).forEach(function(C){i[C]=u}),i}),kW=e(function(i,s,u){var h=s[2];return i[u]=u,h.forEach(function(C){i[C]=u}),i});var t="far"in Dh||R2.autoFetchSvg,r=gT(ap1,function(i,s){var u=s[0],h=s[1],C=s[2];return"far"===h&&!t&&(h="fas"),"string"==typeof u&&(i.names[u]={prefix:h,iconName:C}),"number"==typeof u&&(i.unicodes[u.toString(16)]={prefix:h,iconName:C}),i},{names:{},unicodes:{}});NW=r.names,DW=r.unicodes,_T=l_(R2.styleDefault)};function MT(n,e){return(AW[n]||{})[e]}function r9(n,e){return(kW[n]||{})[e]}function RW(n){return NW[n]||{prefix:null,iconName:null}}function Ui(){return _T}function l_(n){return s_[n]||s_[dT[n]]||(n in X6.styles?n:null)||null}function u_(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.skipLookups,r=void 0!==t&&t,i=null,s=n.reduce(function(u,h){var C=up1(R2.familyPrefix,h);if(Dh[h]?(h=op1.includes(h)?kC1[h]:h,i=h,u.prefix=h):cp1.indexOf(h)>-1?(i=h,u.prefix=l_(h)):C?u.iconName=C:h!==R2.replacementClass&&u.rest.push(h),!r&&u.prefix&&u.iconName){var v="fa"===i?RW(u.iconName):{},b=r9(u.prefix,u.iconName);v.prefix&&(i=null),u.iconName=v.iconName||b||u.iconName,u.prefix=v.prefix||u.prefix,"far"===u.prefix&&!Dh.far&&Dh.fas&&!R2.autoFetchSvg&&(u.prefix="fas")}return u},{prefix:null,iconName:null,rest:[]});return("fa"===s.prefix||"fa"===i)&&(s.prefix=Ui()||"fas"),s}(function $C1(n){a_.push(n)})(function(n){_T=l_(n.styleDefault)}),PW();var dp1=function(){function n(){(function LC1(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function bC1(n,e,t){e&&cW(n.prototype,e),t&&cW(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var u=i.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(h){t.definitions[h]=m2(m2({},t.definitions[h]||{}),u[h]),yT(h,u[h]);var C=LW[h];C&&yT(C,u[h]),PW()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var u=i[s],h=u.prefix,C=u.iconName,v=u.icon,b=v[2];t[h]||(t[h]={}),b.length>0&&b.forEach(function(z){"string"==typeof z&&(t[h][z]=v)}),t[h][C]=v}),t}}]),n}(),OW=[],i9={},s9={},Cp1=Object.keys(s9);function bT(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var s=i9[n]||[];return s.forEach(function(u){e=u.apply(null,[e].concat(r))}),e}function ua(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=i9[n]||[];i.forEach(function(s){s.apply(null,t)})}function X8(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return s9[n]?s9[n].apply(null,e):void 0}function zT(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||Ui();if(e)return e=r9(t,e)||e,EW(FW.definitions,t,e)||EW(X6.styles,t,e)}var FW=new dp1,gp1={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Y8?(ua("beforeI2svg",e),X8("pseudoElements2svg",e),X8("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===R2.autoReplaceSvg&&(R2.autoReplaceSvg=!0),R2.observeMutations=!0,np1(function(){yp1({autoReplaceSvgRoot:t}),ua("watch",e)})}},wn={noAuto:function(){R2.autoReplaceSvg=!1,R2.observeMutations=!1,ua("noAuto")},config:R2,dom:gp1,parse:{icon:function(e){if(null===e)return null;if("object"===t_(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:r9(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=l_(e[0]);return{prefix:r,iconName:r9(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(R2.familyPrefix,"-"))>-1||e.match(PC1))){var i=u_(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Ui(),iconName:r9(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=Ui();return{prefix:s,iconName:r9(s,e)||e}}}},library:FW,findIconDefinition:zT,toHtml:Nh},yp1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,r=void 0===t?f3:t;(Object.keys(X6.styles).length>0||R2.autoFetchSvg)&&Y8&&R2.autoReplaceSvg&&wn.dom.i2svg({node:r})};function f_(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return Nh(r)})}}),Object.defineProperty(n,"node",{get:function(){if(Y8){var r=f3.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function wT(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,s=n.iconName,u=n.transform,h=n.symbol,C=n.title,v=n.maskId,b=n.titleId,z=n.extra,S=n.watchable,E=void 0!==S&&S,I=r.found?r:t,K=I.width,o1=I.height,R1="fak"===i,U1=[R2.replacementClass,s?"".concat(R2.familyPrefix,"-").concat(s):""].filter(function(o4){return-1===z.classes.indexOf(o4)}).filter(function(o4){return""!==o4||!!o4}).concat(z.classes).join(" "),$1={children:[],attributes:m2(m2({},z.attributes),{},{"data-prefix":i,"data-icon":s,class:U1,role:z.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(K," ").concat(o1)})},J1=R1&&!~z.classes.indexOf("fa-fw")?{width:"".concat(K/o1*16*.0625,"em")}:{};E&&($1.attributes[ca]=""),C&&($1.children.push({tag:"title",attributes:{id:$1.attributes["aria-labelledby"]||"title-".concat(b||Ih())},children:[C]}),delete $1.attributes.title);var v2=m2(m2({},$1),{},{prefix:i,iconName:s,main:t,mask:r,maskId:v,transform:u,symbol:h,styles:m2(m2({},J1),z.styles)}),E2=r.found&&t.found?X8("generateAbstractMask",v2)||{children:[],attributes:{}}:X8("generateAbstractIcon",v2)||{children:[],attributes:{}},Je=E2.attributes;return v2.children=E2.children,v2.attributes=Je,h?function Mp1(n){var t=n.iconName,r=n.children,i=n.attributes,s=n.symbol,u=!0===s?"".concat(n.prefix,"-").concat(R2.familyPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:m2(m2({},i),{},{id:u}),children:r}]}]}(v2):function _p1(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,s=n.styles,u=n.transform;if(pT(u)&&t.found&&!r.found){var v={x:t.width/t.height/2,y:.5};i.style=o_(m2(m2({},s),{},{"transform-origin":"".concat(v.x+u.x/16,"em ").concat(v.y+u.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(v2)}function UW(n){var e=n.content,t=n.width,r=n.height,i=n.transform,s=n.title,u=n.extra,h=n.watchable,C=void 0!==h&&h,v=m2(m2(m2({},u.attributes),s?{title:s}:{}),{},{class:u.classes.join(" ")});C&&(v[ca]="");var b=m2({},u.styles);pT(i)&&(b.transform=function JC1(n){var e=n.transform,t=n.width,i=n.height,s=void 0===i?16:i,u=n.startCentered,h=void 0!==u&&u,C="";return C+=h&&gW?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-s/2,"em) "):h?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(C+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:t,height:r}),b["-webkit-transform"]=b.transform);var z=o_(b);z.length>0&&(v.style=z);var S=[];return S.push({tag:"span",attributes:v,children:[e]}),s&&S.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),S}function Lp1(n){var e=n.content,t=n.title,r=n.extra,i=m2(m2(m2({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),s=o_(r.styles);s.length>0&&(i.style=s);var u=[];return u.push({tag:"span",attributes:i,children:[e]}),t&&u.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),u}var VT=X6.styles;function ST(n){var e=n[0],t=n[1],s=aT(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(R2.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(R2.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(R2.familyPrefix,"-").concat("primary"),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var bp1={found:!1,width:512,height:512};function HT(n,e){var t=e;return"fa"===e&&null!==R2.styleDefault&&(e=Ui()),new Promise(function(r,i){if(X8("missingIconAbstract"),"fa"===t){var u=RW(n)||{};n=u.iconName||n,e=u.prefix||e}if(n&&e&&VT[e]&&VT[e][n])return r(ST(VT[e][n]));(function zp1(n,e){!MW&&!R2.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(m2(m2({},bp1),{},{icon:R2.showMissingIcons&&n&&X8("missingIconAbstract")||{}}))})}var BW=function(){},xT=R2.measurePerformance&&i_&&i_.mark&&i_.measure?i_:{mark:BW,measure:BW},kh='FA "6.1.1"',ET_begin=function(e){return xT.mark("".concat(kh," ").concat(e," begins")),function(){return function(e){xT.mark("".concat(kh," ").concat(e," ends")),xT.measure("".concat(kh," ").concat(e),"".concat(kh," ").concat(e," begins"),"".concat(kh," ").concat(e," ends"))}(e)}},h_=function(){};function qW(n){return"string"==typeof(n.getAttribute?n.getAttribute(ca):null)}function xp1(n){return f3.createElementNS("http://www.w3.org/2000/svg",n)}function Ep1(n){return f3.createElement(n)}function GW(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,r=void 0===t?"svg"===n.tag?xp1:Ep1:t;if("string"==typeof n)return f3.createTextNode(n);var i=r(n.tag);Object.keys(n.attributes||[]).forEach(function(u){i.setAttribute(u,n.attributes[u])});var s=n.children||[];return s.forEach(function(u){i.appendChild(GW(u,{ceFn:r}))}),i}var d_={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(GW(i),t)}),null===t.getAttribute(ca)&&R2.keepOriginalSource){var r=f3.createComment(function Tp1(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~CT(t).indexOf(R2.replacementClass))return d_.replace(e);var i=new RegExp("".concat(R2.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(h,C){return C===R2.replacementClass||C.match(i)?h.toSvg.push(C):h.toNode.push(C),h},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var u=r.map(function(h){return Nh(h)}).join("\n");t.setAttribute(ca,""),t.innerHTML=u}};function WW(n){n()}function $W(n,e){var t="function"==typeof e?e:h_;if(0===n.length)t();else{var r=WW;"async"===R2.mutateApproach&&(r=Oi.requestAnimationFrame||WW),r(function(){var i=function Hp1(){return!0===R2.autoReplaceSvg?d_.replace:d_[R2.autoReplaceSvg]||d_.replace}(),s=ET_begin("mutate");n.map(i),s(),t()})}}var TT=!1;function ZW(){TT=!0}function AT(){TT=!1}var C_=null;function KW(n){if(mW&&R2.observeMutations){var e=n.treeCallback,t=void 0===e?h_:e,r=n.nodeCallback,i=void 0===r?h_:r,s=n.pseudoElementsCallback,u=void 0===s?h_:s,h=n.observeMutationsRoot,C=void 0===h?f3:h;C_=new mW(function(v){if(!TT){var b=Ui();n9(v).forEach(function(z){if("childList"===z.type&&z.addedNodes.length>0&&!qW(z.addedNodes[0])&&(R2.searchPseudoElements&&u(z.target),t(z.target)),"attributes"===z.type&&z.target.parentNode&&R2.searchPseudoElements&&u(z.target.parentNode),"attributes"===z.type&&qW(z.target)&&~UC1.indexOf(z.attributeName))if("class"===z.attributeName&&function Vp1(n){var e=n.getAttribute?n.getAttribute(fT):null,t=n.getAttribute?n.getAttribute(hT):null;return e&&t}(z.target)){var S=u_(CT(z.target)),I=S.iconName;z.target.setAttribute(fT,S.prefix||b),I&&z.target.setAttribute(hT,I)}else(function Sp1(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(R2.replacementClass)})(z.target)&&i(z.target)})}}),Y8&&C_.observe(C,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Ip1(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var s=i.split(":"),u=s[0],h=s.slice(1);return u&&h.length>0&&(r[u]=h.join(":").trim()),r},{})),t}function Np1(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=u_(CT(n));return i.prefix||(i.prefix=Ui()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function fp1(n,e){return(IW[n]||{})[e]}(i.prefix,n.innerText)||MT(i.prefix,vT(n.innerText))),i}function Dp1(n){var e=n9(n.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return R2.autoA11y&&(t?e["aria-labelledby"]="".concat(R2.replacementClass,"-title-").concat(r||Ih()):(e["aria-hidden"]="true",e.focusable="false")),e}function YW(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=Np1(n),r=t.iconName,i=t.prefix,s=t.rest,u=Dp1(n),h=bT("parseNodeAttributes",{},n),C=e.styleParser?Ip1(n):[];return m2({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:W5,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:C,attributes:u}},h)}var Pp1=X6.styles;function QW(n){var e="nest"===R2.autoReplaceSvg?YW(n,{styleParser:!1}):YW(n);return~e.extra.classes.indexOf(bW)?X8("generateLayersText",n,e):X8("generateSvgReplacementMutation",n,e)}function JW(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Y8)return Promise.resolve();var t=f3.documentElement.classList,r=function(z){return t.add("".concat(_W,"-").concat(z))},i=function(z){return t.remove("".concat(_W,"-").concat(z))},s=Object.keys(R2.autoFetchSvg?dT:Pp1),u=[".".concat(bW,":not([").concat(ca,"])")].concat(s.map(function(b){return".".concat(b,":not([").concat(ca,"])")})).join(", ");if(0===u.length)return Promise.resolve();var h=[];try{h=n9(n.querySelectorAll(u))}catch(b){}if(!(h.length>0))return Promise.resolve();r("pending"),i("complete");var C=ET_begin("onTree"),v=h.reduce(function(b,z){try{var S=QW(z);S&&b.push(S)}catch(E){MW||"MissingIcon"===E.name&&console.error(E)}return b},[]);return new Promise(function(b,z){Promise.all(v).then(function(S){$W(S,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),C(),b()})}).catch(function(S){C(),z(S)})})}function Rp1(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;QW(n).then(function(t){t&&$W([t],e)})}function Op1(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:zT(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:zT(i||{})),n(r,m2(m2({},t),{},{mask:i}))}}var Fp1=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,i=void 0===r?W5:r,s=t.symbol,u=void 0!==s&&s,h=t.mask,C=void 0===h?null:h,v=t.maskId,b=void 0===v?null:v,z=t.title,S=void 0===z?null:z,E=t.titleId,I=void 0===E?null:E,K=t.classes,o1=void 0===K?[]:K,R1=t.attributes,U1=void 0===R1?{}:R1,$1=t.styles,J1=void 0===$1?{}:$1;if(e){var v2=e.prefix,E2=e.iconName,te=e.icon;return f_(m2({type:"icon"},e),function(){return ua("beforeDOMElementCreation",{iconDefinition:e,params:t}),R2.autoA11y&&(S?U1["aria-labelledby"]="".concat(R2.replacementClass,"-title-").concat(I||Ih()):(U1["aria-hidden"]="true",U1.focusable="false")),wT({icons:{main:ST(te),mask:C?ST(C.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v2,iconName:E2,transform:m2(m2({},W5),i),symbol:u,title:S,maskId:b,titleId:I,extra:{attributes:U1,styles:J1,classes:o1}})})}},Up1={mixout:function(){return{icon:Op1(Fp1)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=JW,t.nodeCallback=Rp1,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,s=t.callback;return JW(void 0===r?f3:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,s=r.title,u=r.titleId,h=r.prefix,C=r.transform,v=r.symbol,b=r.mask,z=r.maskId,S=r.extra;return new Promise(function(E,I){Promise.all([HT(i,h),b.iconName?HT(b.iconName,b.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(K){var o1=aT(K,2);E([t,wT({icons:{main:o1[0],mask:o1[1]},prefix:h,iconName:i,transform:C,symbol:v,maskId:z,title:s,titleId:u,extra:S,watchable:!0})])}).catch(I)})},e.generateAbstractIcon=function(t){var v,r=t.children,i=t.attributes,s=t.main,u=t.transform,C=o_(t.styles);return C.length>0&&(i.style=C),pT(u)&&(v=X8("generateAbstractTransformGrouping",{main:s,transform:u,containerWidth:s.width,iconWidth:s.width})),r.push(v||s.icon),{children:r,attributes:i}}}},Bp1={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return f_({type:"layer"},function(){ua("beforeDOMElementCreation",{assembler:t,params:r});var u=[];return t(function(h){Array.isArray(h)?h.map(function(C){u=u.concat(C.abstract)}):u=u.concat(h.abstract)}),[{tag:"span",attributes:{class:["".concat(R2.familyPrefix,"-layers")].concat(r_(s)).join(" ")},children:u}]})}}}},jp1={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,u=r.classes,h=void 0===u?[]:u,C=r.attributes,v=void 0===C?{}:C,b=r.styles,z=void 0===b?{}:b;return f_({type:"counter",content:t},function(){return ua("beforeDOMElementCreation",{content:t,params:r}),Lp1({content:t.toString(),title:s,extra:{attributes:v,styles:z,classes:["".concat(R2.familyPrefix,"-layers-counter")].concat(r_(h))}})})}}}},qp1={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?W5:i,u=r.title,h=void 0===u?null:u,C=r.classes,v=void 0===C?[]:C,b=r.attributes,z=void 0===b?{}:b,S=r.styles,E=void 0===S?{}:S;return f_({type:"text",content:t},function(){return ua("beforeDOMElementCreation",{content:t,params:r}),UW({content:t,transform:m2(m2({},W5),s),title:h,extra:{attributes:z,styles:E,classes:["".concat(R2.familyPrefix,"-layers-text")].concat(r_(v))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,s=r.transform,u=r.extra,h=null,C=null;if(gW){var v=parseInt(getComputedStyle(t).fontSize,10),b=t.getBoundingClientRect();h=b.width/v,C=b.height/v}return R2.autoA11y&&!i&&(u.attributes["aria-hidden"]="true"),Promise.resolve([t,UW({content:t.innerHTML,width:h,height:C,transform:s,title:i,extra:u,watchable:!0})])}}},Gp1=new RegExp('"',"ug"),XW=[1105920,1112319];function e$(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(t))return r();var u=n9(n.children).filter(function(E2){return E2.getAttribute(uT)===e})[0],h=Oi.getComputedStyle(n,e),C=h.getPropertyValue("font-family").match(RC1),v=h.getPropertyValue("font-weight"),b=h.getPropertyValue("content");if(u&&!C)return n.removeChild(u),r();if(C&&"none"!==b&&""!==b){var z=h.getPropertyValue("content"),S=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(C[2])?s_[C[2].toLowerCase()]:OC1[v],E=function Wp1(n){var e=n.replace(Gp1,""),t=function sp1(n,e){var i,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=XW[0]&&t<=XW[1],i=2===e.length&&e[0]===e[1];return{value:vT(i?e[0]:e),isSecondary:r||i}}(z),I=E.value,K=E.isSecondary,o1=C[0].startsWith("FontAwesome"),R1=MT(S,I),U1=R1;if(o1){var $1=function hp1(n){var e=DW[n],t=MT("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(I);$1.iconName&&$1.prefix&&(R1=$1.iconName,S=$1.prefix)}if(!R1||K||u&&u.getAttribute(fT)===S&&u.getAttribute(hT)===U1)r();else{n.setAttribute(t,U1),u&&n.removeChild(u);var J1=function kp1(){return{iconName:null,title:null,titleId:null,prefix:null,transform:W5,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),v2=J1.extra;v2.attributes[uT]=e,HT(R1,S).then(function(E2){var te=wT(m2(m2({},J1),{},{icons:{main:E2,mask:{prefix:null,iconName:null,rest:[]}},prefix:S,iconName:U1,extra:v2,watchable:!0})),Je=f3.createElement("svg");"::before"===e?n.insertBefore(Je,n.firstChild):n.appendChild(Je),Je.outerHTML=te.map(function(o4){return Nh(o4)}).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function $p1(n){return Promise.all([e$(n,"::before"),e$(n,"::after")])}function Zp1(n){return!(n.parentNode===document.head||~DC1.indexOf(n.tagName.toUpperCase())||n.getAttribute(uT)||n.parentNode&&"svg"===n.parentNode.tagName)}function t$(n){if(Y8)return new Promise(function(e,t){var r=n9(n.querySelectorAll("*")).filter(Zp1).map($p1),i=ET_begin("searchPseudoElements");ZW(),Promise.all(r).then(function(){i(),AT(),e()}).catch(function(){i(),AT(),t()})})}var n$=!1,r$=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),u=s[0],h=s.slice(1).join("-");if(u&&"h"===h)return r.flipX=!0,r;if(u&&"v"===h)return r.flipY=!0,r;if(h=parseFloat(h),isNaN(h))return r;switch(u){case"grow":r.size=r.size+h;break;case"shrink":r.size=r.size-h;break;case"left":r.x=r.x-h;break;case"right":r.x=r.x+h;break;case"up":r.y=r.y-h;break;case"down":r.y=r.y+h;break;case"rotate":r.rotate=r.rotate+h}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},IT={x:0,y:0,width:"100%",height:"100%"};function i$(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function Jp1(n){return"g"===n.tag?n.children:[n]}var Xp1={hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),s=i?u_(i.split(" ").map(function(u){return u.trim()})):{prefix:null,iconName:null,rest:[]};return s.prefix||(s.prefix=Ui()),t.mask=s,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var r=t.children,i=t.attributes,s=t.main,u=t.mask,h=t.maskId,b=s.icon,S=u.icon,E=function QC1(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),h="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(u," ").concat(h)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:u.width,iconWidth:s.width}),I={tag:"rect",attributes:m2(m2({},IT),{},{fill:"white"})},K=b.children?{children:b.children.map(i$)}:{},o1={tag:"g",attributes:m2({},E.inner),children:[i$(m2({tag:b.tag,attributes:m2(m2({},b.attributes),E.path)},K))]},R1={tag:"g",attributes:m2({},E.outer),children:[o1]},U1="mask-".concat(h||Ih()),$1="clip-".concat(h||Ih()),J1={tag:"mask",attributes:m2(m2({},IT),{},{id:U1,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[I,R1]},v2={tag:"defs",children:[{tag:"clipPath",attributes:{id:$1},children:Jp1(S)},J1]};return r.push(v2,{tag:"rect",attributes:m2({fill:"currentColor","clip-path":"url(#".concat($1,")"),mask:"url(#".concat(U1,")")},IT)}),{children:r,attributes:i}}}};!function pp1(n,e){var t=e.mixoutsTo;OW=n,i9={},Object.keys(s9).forEach(function(r){-1===Cp1.indexOf(r)&&delete s9[r]}),OW.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(u){"function"==typeof i[u]&&(t[u]=i[u]),"object"===t_(i[u])&&Object.keys(i[u]).forEach(function(h){t[u]||(t[u]={}),t[u][h]=i[u][h]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(u){i9[u]||(i9[u]=[]),i9[u].push(s[u])})}r.provides&&r.provides(s9)})}([ep1,Up1,Bp1,jp1,qp1,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=t$,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;R2.searchPseudoElements&&t$(void 0===r?f3:r)}}},{mixout:function(){return{dom:{unwatch:function(){ZW(),n$=!0}}}},hooks:function(){return{bootstrap:function(){KW(bT("mutationObserverCallbacks",{}))},noAuto:function(){!function Ap1(){!C_||C_.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;n$?AT():KW(bT("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return r$(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=r$(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,u=t.iconWidth,h={transform:"translate(".concat(t.containerWidth/2," 256)")},C="translate(".concat(32*i.x,", ").concat(32*i.y,") "),v="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),b="rotate(".concat(i.rotate," 0 0)"),E={outer:h,inner:{transform:"".concat(C," ").concat(v," ").concat(b)},path:{transform:"translate(".concat(u/2*-1," -256)")}};return{tag:"g",attributes:m2({},E.outer),children:[{tag:"g",attributes:m2({},E.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:m2(m2({},r.icon.attributes),E.path)}]}]}}}},Xp1,{provides:function(e){var t=!1;Oi.matchMedia&&(t=Oi.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:m2(m2({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var u=m2(m2({},s),{},{attributeName:"opacity"}),h={tag:"circle",attributes:m2(m2({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||h.children.push({tag:"animate",attributes:m2(m2({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:m2(m2({},u),{},{values:"1;0;1;1;0;1;"})}),r.push(h),r.push({tag:"path",attributes:m2(m2({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:m2(m2({},u),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:m2(m2({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:m2(m2({},u),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol");return t.symbol=null!==i&&(""===i||i),t}}}}],{mixoutsTo:wn});var rm1=wn.parse,im1=wn.icon;const sm1=["*"],cm1=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let fm1=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hm1=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dm1=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[c.TTD]}),n})(),Cm1=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[c.TTD],ngContentSelectors:sm1,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2}),n})(),e5=(()=>{class n{constructor(t,r,i,s,u){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=s,this.classes=[],null!=u&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=null==this.icon?this.config.fallbackIcon:this.icon,t){const i=this.findIconDefinition(r);if(null!=i){const s=this.buildParams();this.renderIcon(i,s)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);if("icon"in r)return r;const i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return null!=i?i:((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?rm1.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...cm1(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=im1(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(L6),c.Y36(fm1),c.Y36(hm1),c.Y36(dm1,8),c.Y36(Cm1,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(c.Ikx("innerHTML",r.renderedIconHTML,c.oJD),c.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[c.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),s$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function pm1(n,e){1&n&&(c.TgZ(0,"div")(1,"div",42)(2,"p",43),c._uU(3,"Time until special day"),c.qZA(),c._UZ(4,"div",44),c.qZA()())}const mm1=A(788);let gm1=(()=>{class n{constructor(t,r,i){this.datepipe=t,this.visitorService=r,this.toastr=i,this.faUserTie=hR,this.faGraduationCap=R4,this.faAward=So,this.faWrench=HR,this.faBriefcase=PC,this.faCakeCandles=ts,this.todayDate=new Date,this.currentMonth=(new Date).getMonth(),this.datebirthYear=new Date(this.todayDate.getFullYear(),8,1),this.birthMonth=this.datebirthYear.getMonth(),this.currentYear=(new Date).getFullYear(),this.bDay=new Date("9/1/1986"),this.birthYear=this.bDay.getFullYear(),this.myLessAge=0}ngOnInit(){var t=this;return(0,w1.Z)(function*(){new navslide,t.request=yield fetch("https://ipinfo.io/json?token=1509eda3fb61e2"),t.result=yield t.request.json(),t.ipAddress=t.result.ip,t.visitorCountry=t.result.country,t.visitorCity=t.result.city,t.ipToInt=mm1(t.ipAddress).toInt(),t.fetchVisitorIp()})()}fetchVisitorIp(){let t=this.datepipe.transform(new Date,"MMMM d, y");this.visitorService.getVisitor(this.ipToInt).snapshotChanges().pipe((0,b2.U)(r=>r.map(i=>Object.assign({key:i.payload.key},i.payload.val())))).subscribe({next:r=>{this.getSingleVisitor=r,0==this.getSingleVisitor.length?(this.getIpResult=this.ipToInt,console.log("fetch single visitor didnt match - (fetchVisitorIp) - add visitor"),this.addVisitors()):(console.log("fetch single visitor match - (fetchVisitorIp) - get visitor details"),this.passUserKey=this.getSingleVisitor[0].key,this.userDate=this.datepipe.transform(this.getSingleVisitor[0].postedon,"MMMM d, y"),this.passUserVisited=this.getSingleVisitor[0].visited,this.userDate==t?console.log("same date visited: - (fetchVisitorIp) - already counted times of visit"):(console.log("not same date! - (fetchVisitorIp) - update visitor times of visit"),this.getKeyResult=this.passUserKey,this.getVisitedResult=this.passUserVisited,this.update()))}})}update(){this.visitedCount=1,this.sum=parseInt(this.visitedCount)+parseInt(this.getVisitedResult);let t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss"),r={visited:this.sum,postedon:t};this.visitorService.update(this.getKeyResult,r).then(()=>{this.toastr.info("You Visited: "+r.visited+" Times")})}addVisitors(){let t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss");this.visitedCount=1,this.visitorService.create({user_ip:this.getIpResult,country:this.visitorCountry,city:this.visitorCity,visited:this.visitedCount,postedon:t}).then(()=>{this.toastr.success("Welcome Visitor")})}getLessAge(){return this.myLessAge=this.currentYear-this.birthYear,this.myLessAge-1}getMoreAge(){return this.myLessAge=this.currentYear-this.birthYear}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(nn),c.Y36(rT),c.Y36(oa))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-about"]],decls:216,vars:7,consts:[[1,"container","about-container","d-flex","justify-content-end"],[1,"col-md-12","col-lg-8"],[1,"content-right-box","override-content"],[1,"nav","nav-pills","flex-column","flex-sm-row"],["id","about-tab","data-toggle","tab","href","#about","role","tab","aria-controls","about","aria-selected","true",1,"flex-sm-fill","text-sm-center","nav-link","active"],["id","education-tab","data-toggle","tab","href","#education","role","tab","aria-controls","education","aria-selected","false",1,"flex-sm-fill","text-sm-center","nav-link"],["id","skills-tab","data-toggle","tab","href","#skills","role","tab","aria-controls","skills","aria-selected","false",1,"flex-sm-fill","text-sm-center","nav-link"],["id","experience-tab","data-toggle","tab","href","#experience","role","tab","aria-controls","experience","aria-selected","false",1,"flex-sm-fill","text-sm-center","nav-link"],["id","myTabContent",1,"tab-content"],["id","about","role","tabpanel","aria-labelledby","about-tab",1,"tab-pane","fade","show","active"],[1,"content-right-box","content-right-separate"],[1,"header-title"],[3,"icon"],[1,"p_margin"],[1,"row","row-space","d-flex","align-items-center"],[1,"col-lg-5","col-md-5","col-sm-4","col-xs-4","left-info"],[1,"col-lg-6","col-md-6","col-sm-8","col-xs-8","right-infor"],[1,"mr-4"],[1,"col-lg-5","col-md-5","col-sm-4","left-info"],[1,"col-lg-6","col-md-6","col-sm-8","right-infor"],[1,"row","row-space","row-space-bottom","d-flex","align-items-center"],["id","education","role","tabpanel","aria-labelledby","education-tab",1,"tab-pane","fade"],[1,"row","row-break"],[1,"col-md-6"],[1,"education"],[1,"education-level"],[1,"education-level-name"],[1,"school-year","text-right"],[1,"row"],[1,"col-md-12","school-name"],[1,"school-address"],[1,"course"],[1,"text-center"],[1,"col-md-12","school-name","text-center"],["id","skills","role","tabpanel","aria-labelledby","skills-tab",1,"tab-pane","fade"],[1,"skills-box"],[1,"skill-header"],[1,"skill-body"],["id","experience","role","tabpanel","aria-labelledby","experience-tab",1,"tab-pane","fade"],[1,"col-md-12"],[1,"education","expe-box"],[4,"ngIf"],[1,"bg-gradient-2","text-white","shadow","p-3","text-center","mt-3"],[1,"mb-0","font-weight-bold","text-uppercase"],["id","clock-c",1,"countdown","py-2"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"a",4),c._uU(5,"About Me"),c.qZA(),c.TgZ(6,"a",5),c._uU(7,"Education"),c.qZA(),c.TgZ(8,"a",6),c._uU(9,"Skills"),c.qZA(),c.TgZ(10,"a",7),c._uU(11,"Experience"),c.qZA()()(),c.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),c._UZ(16,"fa-icon",12),c._uU(17,"About Me "),c.qZA(),c.TgZ(18,"p",13),c._uU(19," Graduate of Bachelor of Science in Information Technology (BSIT) and currently working as a full stack (front-end and back-end) developer. I do freelance job like creating web designs, converting web design into html, css, php and javascript, making website more interactive. You can check some of my projects that I created and check my skills and experience also. "),c.qZA(),c.TgZ(20,"div",14)(21,"div",15),c._uU(22,"Fullname"),c.qZA(),c.TgZ(23,"div",16)(24,"span",17),c._uU(25,":"),c.qZA(),c._uU(26,"Rick Ryan A. Medillo "),c.qZA()(),c.TgZ(27,"div",14)(28,"div",18),c._uU(29,"Age"),c.qZA(),c.TgZ(30,"div",19)(31,"span",17),c._uU(32,":"),c.qZA(),c._uU(33),c.qZA()(),c.TgZ(34,"div",14)(35,"div",18),c._uU(36,"Birthdate"),c.qZA(),c.TgZ(37,"div",19)(38,"span",17),c._uU(39,":"),c.qZA(),c._uU(40,"September 1, 1986 "),c.qZA()(),c.TgZ(41,"div",14)(42,"div",18),c._uU(43,"Address"),c.qZA(),c.TgZ(44,"div",19)(45,"span",17),c._uU(46,":"),c.qZA(),c._uU(47,"Cebu, Philippines "),c.qZA()(),c.TgZ(48,"div",14)(49,"div",18),c._uU(50,"Mobile Number"),c.qZA(),c.TgZ(51,"div",19)(52,"span",17),c._uU(53,":"),c.qZA(),c._uU(54,"+639611335934 "),c.qZA()(),c.TgZ(55,"div",20)(56,"div",18),c._uU(57,"Email"),c.qZA(),c.TgZ(58,"div",19)(59,"span",17),c._uU(60,":"),c.qZA(),c._uU(61,"rickryan29.rr@gmail.com "),c.qZA()()()(),c.TgZ(62,"div",21)(63,"div",10)(64,"div",22)(65,"div",23)(66,"div",11),c._UZ(67,"fa-icon",12),c._uU(68," Education "),c.qZA(),c.TgZ(69,"div",24)(70,"div",25)(71,"div",26),c._uU(72," Primary Education "),c.qZA(),c.TgZ(73,"div",27)(74,"strong"),c._uU(75,"1993 - 1999"),c.qZA()()(),c.TgZ(76,"div",28)(77,"div",29)(78,"strong"),c._uU(79,"Tungkop Elementary School"),c.qZA()()(),c.TgZ(80,"div",30),c._uU(81,"Tungkop Minglanilla, Cebu"),c.qZA()(),c.TgZ(82,"div",24)(83,"div",25)(84,"div",26),c._uU(85," Secondary Education "),c.qZA(),c.TgZ(86,"div",27)(87,"strong"),c._uU(88,"1999 - 2003"),c.qZA()()(),c.TgZ(89,"div",28)(90,"div",29)(91,"strong"),c._uU(92,"Siena School of Naga"),c.qZA()()(),c.TgZ(93,"div",30),c._uU(94,"City of Naga, Cebu"),c.qZA()(),c.TgZ(95,"div",24)(96,"div",25)(97,"div",26),c._uU(98," Tertiary Education "),c.qZA(),c.TgZ(99,"div",27)(100,"strong"),c._uU(101,"2014 - 2017"),c.qZA()()(),c.TgZ(102,"div",31),c._uU(103,"Bachelor of Science in Information Technology"),c.qZA(),c.TgZ(104,"div",28)(105,"div",29)(106,"strong"),c._uU(107,"St. Cecilia's College - Cebu"),c.qZA()()(),c.TgZ(108,"div",30),c._uU(109,"Poblacion, Ward II, Minglanilla, Cebu"),c.qZA()()(),c.TgZ(110,"div",23)(111,"div",11),c._UZ(112,"fa-icon",12),c._uU(113," Achievements / Awards "),c.qZA(),c.TgZ(114,"div",24)(115,"div",25)(116,"div",32),c._uU(117," Academic Awards (2017) "),c.qZA()(),c.TgZ(118,"div",28)(119,"div",33)(120,"strong"),c._uU(121,"Best in Web Development"),c.qZA()()()(),c.TgZ(122,"div",24)(123,"div",25)(124,"div",32),c._uU(125," Special Awards (2017) "),c.qZA()(),c.TgZ(126,"div",28)(127,"div",33)(128,"strong"),c._uU(129,'Technopreneurship / Capstone Awards - "Online Public Access Catalog"'),c.qZA()()()()()()()(),c.TgZ(130,"div",34)(131,"div",10)(132,"div",11),c._UZ(133,"fa-icon",12),c._uU(134," Skills "),c.qZA(),c.TgZ(135,"div",28)(136,"div",23)(137,"div",35)(138,"div",36),c._uU(139," Graphic and Web Design "),c.qZA(),c.TgZ(140,"div",37),c._uU(141," Creating logo, banners, posters and also Web design layout for websites using photoshop. "),c.qZA()(),c.TgZ(142,"div",35)(143,"div",36),c._uU(144," PHP and Javascript "),c.qZA(),c.TgZ(145,"div",37)(146,"b"),c._uU(147,"PHP"),c.qZA(),c._uU(148," is a server scripting language, and a powerful tool for making dynamic and interactive Web pages. "),c._UZ(149,"br")(150,"br"),c.TgZ(151,"b"),c._uU(152,"JavaScript"),c.qZA(),c._uU(153," a scripting language that enables you to create dynamically updating content, control multimedia, animate images, and pretty much everything else. "),c.qZA()(),c.TgZ(154,"div",35)(155,"div",36),c._uU(156," Angular "),c.qZA(),c.TgZ(157,"div",37),c._uU(158," A development platform for building mobile and desktop web applications using Typescript/JavaScript and other languages. "),c.qZA()()(),c.TgZ(159,"div",23)(160,"div",35)(161,"div",36),c._uU(162," HTML and CSS "),c.qZA(),c.TgZ(163,"div",37)(164,"b"),c._uU(165,"HTML"),c.qZA(),c._uU(166," is the standard markup language for documents designed to be displayed in a web browser. "),c._UZ(167,"br")(168,"br"),c.TgZ(169,"b"),c._uU(170,"CSS"),c.qZA(),c._uU(171," is a style sheet language used for describing the presentation of a document written in a markup language such as HTML. "),c.qZA()(),c.TgZ(172,"div",35)(173,"div",36),c._uU(174," MySQL "),c.qZA(),c.TgZ(175,"div",37),c._uU(176," Database for storing and manipulating data, defining the relationship of each table. "),c.qZA()()()()()(),c.TgZ(177,"div",38)(178,"div",10)(179,"div",11),c._UZ(180,"fa-icon",12),c._uU(181," Experience "),c.qZA(),c.TgZ(182,"div",28)(183,"div",39)(184,"div",40)(185,"div",31),c._uU(186,"Web Developer"),c.qZA(),c.TgZ(187,"div",28)(188,"div",29)(189,"strong"),c._uU(190,"Cenix Web Development Services (June 2017 - February 2020)"),c.qZA()()(),c.TgZ(191,"div",30),c._uU(192,"4/F 82 Vibo Center (BF Building), North Escario Street, Cebu City, Cebu"),c.qZA()()()(),c.TgZ(193,"div",28)(194,"div",23)(195,"div",40)(196,"div",31),c._uU(197,"Web Developer"),c.qZA(),c.TgZ(198,"div",28)(199,"div",29)(200,"strong"),c._uU(201,"Home based / Freelance "),c.qZA()()(),c.TgZ(202,"div",30),c._uU(203,"2016-2017"),c.qZA()()()(),c.TgZ(204,"div",28)(205,"div",39)(206,"div",40)(207,"div",31),c._uU(208,"Graphic Artist (Editing and Retouching) - OJT"),c.qZA(),c.TgZ(209,"div",28)(210,"div",29)(211,"strong"),c._uU(212,"Jomacker Photo Editing (June - Aug 2016)"),c.qZA()()(),c.TgZ(213,"div",30),c._uU(214,"1524 Charity St., Belmont Village, Minglanilla, Cebu"),c.qZA()()()()()()(),c.YNc(215,pm1,5,0,"div",41),c.qZA()()),2&t&&(c.xp6(16),c.Q6J("icon",r.faUserTie),c.xp6(17),c.Oqu(r.currentMonth>=r.birthMonth?r.getMoreAge():r.getLessAge()),c.xp6(34),c.Q6J("icon",r.faGraduationCap),c.xp6(45),c.Q6J("icon",r.faAward),c.xp6(21),c.Q6J("icon",r.faWrench),c.xp6(47),c.Q6J("icon",r.faBriefcase),c.xp6(35),c.Q6J("ngIf",r.currentMonth<=r.birthMonth))},directives:[e5,ke],styles:[".countdown[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700}.bg-gradient-2[_ngcontent-%COMP%]{background:#654ea3;background:linear-gradient(to right,#f2aa4c,#373e44);filter:drop-shadow(3px 2px 3px #00080e)}"]}),n})(),a$=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),fa=(()=>{class n extends a${}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const $5=new c.OlP("NgValueAccessor"),_m1={provide:$5,useExisting:(0,c.Gpc)(()=>a9),multi:!0},Lm1=new c.OlP("CompositionEventMode");let a9=(()=>{class n extends a${constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mm1(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Lm1,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[c._Bn([_m1]),c.qOj]}),n})();function Bi(n){return null==n||0===n.length}function c$(n){return null!=n&&"number"==typeof n.length}const ot=new c.OlP("NgValidators"),ji=new c.OlP("NgAsyncValidators"),bm1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Z5{static min(e){return function l$(n){return e=>{if(Bi(e.value)||Bi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function u$(n){return e=>{if(Bi(e.value)||Bi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function f$(n){return Bi(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function h$(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function d$(n){return Bi(n.value)||bm1.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function C$(n){return e=>Bi(e.value)||!c$(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function p$(n){return e=>c$(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function m$(n){if(!n)return p_;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Bi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return L$(e)}static composeAsync(e){return b$(e)}}function p_(n){return null}function g$(n){return null!=n}function v$(n){const e=(0,c.QGY)(n)?(0,Be.D)(n):n;return(0,c.CqO)(e),e}function y$(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function _$(n,e){return e.map(t=>t(n))}function M$(n){return n.map(e=>function zm1(n){return!n.validate}(e)?e:t=>e.validate(t))}function L$(n){if(!n)return null;const e=n.filter(g$);return 0==e.length?null:function(t){return y$(_$(t,e))}}function NT(n){return null!=n?L$(M$(n)):null}function b$(n){if(!n)return null;const e=n.filter(g$);return 0==e.length?null:function(t){return function vm1(...n){const e=(0,u5.jO)(n),{args:t,keys:r}=je(n),i=new Ke.y(s=>{const{length:u}=t;if(!u)return void s.complete();const h=new Array(u);let C=u,v=u;for(let b=0;b<u;b++){let z=!1;(0,ln.Xf)(t[b]).subscribe((0,We.x)(s,S=>{z||(z=!0,v--),h[b]=S},()=>C--,void 0,()=>{(!C||!z)&&(v||s.next(r?c0(r,h):h),s.complete())}))}});return e?i.pipe(Ia(e)):i}(_$(t,e).map(v$)).pipe((0,b2.U)(y$))}}function DT(n){return null!=n?b$(M$(n)):null}function z$(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function w$(n){return n._rawValidators}function V$(n){return n._rawAsyncValidators}function kT(n){return n?Array.isArray(n)?n:[n]:[]}function m_(n,e){return Array.isArray(n)?n.includes(e):n===e}function S$(n,e){const t=kT(e);return kT(n).forEach(i=>{m_(t,i)||t.push(i)}),t}function H$(n,e){return kT(e).filter(t=>!m_(n,t))}class x${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=NT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class qi extends x${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class At extends x${get formDirective(){return null}get path(){return null}}class E${constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let g_=(()=>{class n extends E${constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qi,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),v_=(()=>{class n extends E${constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(At,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function Ph(n,e){OT(n,e),e.valueAccessor.writeValue(n.value),function Am1(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&A$(n,e)})}(n,e),function Nm1(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Im1(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&A$(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Tm1(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function M_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),b_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function L_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function OT(n,e){const t=w$(n);null!==e.validator?n.setValidators(z$(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=V$(n);null!==e.asyncValidator?n.setAsyncValidators(z$(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();L_(e._rawValidators,i),L_(e._rawAsyncValidators,i)}function b_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=w$(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(u=>u!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=V$(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(u=>u!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return L_(e._rawValidators,r),L_(e._rawAsyncValidators,r),t}function A$(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function FT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function UT(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===a9?t=s:function Pm1(n){return Object.getPrototypeOf(n.constructor)===fa}(s)?r=s:i=s}),i||r||t||null}function BT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Rh="VALID",z_="INVALID",o9="PENDING",Oh="DISABLED";function qT(n){return(w_(n)?n.validators:n)||null}function k$(n){return Array.isArray(n)?NT(n):n||null}function GT(n,e){return(w_(e)?e.asyncValidators:n)||null}function P$(n){return Array.isArray(n)?DT(n):n||null}function w_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const WT=n=>n instanceof Gi,V_=n=>n instanceof S_,R$=n=>n instanceof B$;function O$(n){return WT(n)?n.value:n.getRawValue()}function F$(n,e){const t=V_(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function U$(n,e){V_(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class $T{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=k$(this._rawValidators),this._composedAsyncValidatorFn=P$(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Rh}get invalid(){return this.status===z_}get pending(){return this.status==o9}get disabled(){return this.status===Oh}get enabled(){return this.status!==Oh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=k$(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=P$(e)}addValidators(e){this.setValidators(S$(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(S$(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(H$(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(H$(e,this._rawAsyncValidators))}hasValidator(e){return m_(this._rawValidators,e)}hasAsyncValidator(e){return m_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=o9,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Oh,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Rh,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rh||this.status===o9)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oh:Rh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=o9,this._hasOwnPendingAsyncValidator=!0;const t=v$(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Rm1(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=V_(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:R$(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Oh:this.errors?z_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(o9)?o9:this._anyControlsHaveStatus(z_)?z_:Rh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){w_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Gi extends $T{constructor(e=null,t,r){super(qT(t),GT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),w_(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){BT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){BT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class S_ extends $T{constructor(e,t,r){super(qT(t),GT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){U$(this,e),Object.keys(e).forEach(r=>{F$(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=O$(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class B$ extends $T{constructor(e,t,r){super(qT(t),GT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){U$(this,e),e.forEach((r,i)=>{F$(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>O$(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let H_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Z$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const KT=new c.OlP("NgModelWithFormControlWarning"),Wm1={provide:qi,useExisting:(0,c.Gpc)(()=>YT)};let YT=(()=>{class n extends qi{constructor(t,r,i,s){super(),this._ngModelWarningConfig=s,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=UT(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&M_(r,this,!1),Ph(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}FT(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&M_(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(ot,10),c.Y36(ji,10),c.Y36($5,10),c.Y36(KT,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([Wm1]),c.qOj,c.TTD]}),n})();const $m1={provide:At,useExisting:(0,c.Gpc)(()=>c9)};let c9=(()=>{class n extends At{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(b_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ph(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){M_(t.control||null,t,!1),BT(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function D$(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(M_(r||null,t),WT(i)&&(Ph(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function I$(n,e){OT(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Dm1(n,e){return b_(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){OT(this.form,this),this._oldForm&&b_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ot,10),c.Y36(ji,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([$m1]),c.qOj,c.TTD]}),n})();const Ym1={provide:qi,useExisting:(0,c.Gpc)(()=>Uh)};let Uh=(()=>{class n extends qi{constructor(t,r,i,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=UT(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),FT(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function __(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(At,13),c.Y36(ot,10),c.Y36(ji,10),c.Y36($5,10),c.Y36(KT,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Ym1]),c.qOj,c.TTD]}),n})();const Qm1={provide:$5,useExisting:(0,c.Gpc)(()=>XT),multi:!0};function J$(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let XT=(()=>{class n extends fa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=J$(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Jm1(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Qm1]),c.qOj]}),n})(),eA=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(J$(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(XT,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Xm1={provide:$5,useExisting:(0,c.Gpc)(()=>tA),multi:!0};function X$(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let tA=(()=>{class n extends fa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,u)=>{s._setSelected(i.indexOf(u.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const u=s;for(let h=0;h<u.length;h++){const v=this._getOptionValue(u[h].value);i.push(v)}}else{const u=r.options;for(let h=0;h<u.length;h++){const C=u[h];if(C.selected){const v=this._getOptionValue(C.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function eg1(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Xm1]),c.qOj]}),n})(),nA=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(X$(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(X$(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(tA,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),lZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Z$]]}),n})(),uZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[lZ]}),n})(),iA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:KT,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[lZ]}),n})(),sA=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let h,s=null,u=null;return null!=r&&(function ug1(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(s=null!=r.validators?r.validators:null,u=null!=r.asyncValidators?r.asyncValidators:null,h=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,u=null!=r.asyncValidator?r.asyncValidator:null)),new S_(i,{asyncValidators:u,updateOn:h,validators:s})}control(t,r,i){return new Gi(t,r,i)}array(t,r,i){const s=t.map(u=>this._createControl(u));return new B$(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return WT(t)||V_(t)||R$(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:iA}),n})();var SZ={prefix:"far",iconName:"comment",icon:[512,512,[61669,128489],"f075","M256 32C114.6 32 .0272 125.1 .0272 240c0 47.63 19.91 91.25 52.91 126.2c-14.88 39.5-45.87 72.88-46.37 73.25c-6.625 7-8.375 17.25-4.625 26C5.818 474.2 14.38 480 24 480c61.5 0 109.1-25.75 139.1-46.25C191.1 442.8 223.3 448 256 448c141.4 0 255.1-93.13 255.1-208S397.4 32 256 32zM256.1 400c-26.75 0-53.12-4.125-78.38-12.12l-22.75-7.125l-19.5 13.75c-14.25 10.12-33.88 21.38-57.5 29c7.375-12.12 14.37-25.75 19.88-40.25l10.62-28l-20.62-21.87C69.82 314.1 48.07 282.2 48.07 240c0-88.25 93.25-160 208-160s208 71.75 208 160S370.8 400 256.1 400z"]},x_={prefix:"far",iconName:"comments",icon:[640,512,[61670,128490],"f086","M208 0C322.9 0 416 78.8 416 176C416 273.2 322.9 352 208 352C189.3 352 171.2 349.7 153.9 345.8C123.3 364.8 79.13 384 24.95 384C14.97 384 5.93 378.1 2.018 368.9C-1.896 359.7-.0074 349.1 6.739 341.9C7.26 341.5 29.38 317.4 45.73 285.9C17.18 255.8 0 217.6 0 176C0 78.8 93.13 0 208 0zM164.6 298.1C179.2 302.3 193.8 304 208 304C296.2 304 368 246.6 368 176C368 105.4 296.2 48 208 48C119.8 48 48 105.4 48 176C48 211.2 65.71 237.2 80.57 252.9L104.1 277.8L88.31 308.1C84.74 314.1 80.73 321.9 76.55 328.5C94.26 323.4 111.7 315.5 128.7 304.1L145.4 294.6L164.6 298.1zM441.6 128.2C552 132.4 640 209.5 640 304C640 345.6 622.8 383.8 594.3 413.9C610.6 445.4 632.7 469.5 633.3 469.9C640 477.1 641.9 487.7 637.1 496.9C634.1 506.1 625 512 615 512C560.9 512 516.7 492.8 486.1 473.8C468.8 477.7 450.7 480 432 480C350 480 279.1 439.8 245.2 381.5C262.5 379.2 279.1 375.3 294.9 369.9C322.9 407.1 373.9 432 432 432C446.2 432 460.8 430.3 475.4 426.1L494.6 422.6L511.3 432.1C528.3 443.5 545.7 451.4 563.5 456.5C559.3 449.9 555.3 442.1 551.7 436.1L535.9 405.8L559.4 380.9C574.3 365.3 592 339.2 592 304C592 237.7 528.7 183.1 447.1 176.6L448 176C448 159.5 445.8 143.5 441.6 128.2H441.6z"]},xZ={prefix:"far",iconName:"copy",icon:[512,512,[],"f0c5","M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"]},dA={prefix:"far",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M447.1 0h-384c-35.25 0-64 28.75-64 63.1v287.1c0 35.25 28.75 63.1 64 63.1h96v83.98c0 9.836 11.02 15.55 19.12 9.7l124.9-93.68h144c35.25 0 64-28.75 64-63.1V63.1C511.1 28.75 483.2 0 447.1 0zM464 352c0 8.75-7.25 16-16 16h-160l-80 60v-60H64c-8.75 0-16-7.25-16-16V64c0-8.75 7.25-16 16-16h384c8.75 0 16 7.25 16 16V352z"]},CA={prefix:"far",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M502.6 198.6l-61.25-61.25C435.4 131.4 427.3 128 418.8 128H256C220.7 128 191.1 156.7 192 192l.0065 255.1C192 483.3 220.7 512 256 512h192c35.2 0 64-28.8 64-64l.0098-226.7C512 212.8 508.6 204.6 502.6 198.6zM464 448c0 8.836-7.164 16-16 16h-192c-8.838 0-16-7.164-16-16L240 192.1c0-8.836 7.164-16 16-16h128L384 224c0 17.67 14.33 32 32 32h48.01V448zM317.7 96C310.6 68.45 285.8 48 256 48H215.2C211.3 20.93 188.1 0 160 0C131.9 0 108.7 20.93 104.8 48H64c-35.35 0-64 28.65-64 64V384c0 35.34 28.65 64 64 64h96v-48H64c-8.836 0-16-7.164-16-16V112C48 103.2 55.18 96 64 96h16v16c0 17.67 14.33 32 32 32h61.35C190 115.4 220.6 96 256 96H317.7zM160 72c-8.822 0-16-7.176-16-16s7.178-16 16-16s16 7.176 16 16S168.8 72 160 72z"]},NK={prefix:"far",iconName:"thumbs-up",icon:[512,512,[61575,128077],"f164","M96 191.1H32c-17.67 0-32 14.33-32 31.1v223.1c0 17.67 14.33 31.1 32 31.1h64c17.67 0 32-14.33 32-31.1V223.1C128 206.3 113.7 191.1 96 191.1zM512 227c0-36.89-30.05-66.92-66.97-66.92h-99.86C354.7 135.1 360 113.5 360 100.8c0-33.8-26.2-68.78-70.06-68.78c-46.61 0-59.36 32.44-69.61 58.5c-31.66 80.5-60.33 66.39-60.33 93.47c0 12.84 10.36 23.99 24.02 23.99c5.256 0 10.55-1.721 14.97-5.26c76.76-61.37 57.97-122.7 90.95-122.7c16.08 0 22.06 12.75 22.06 20.79c0 7.404-7.594 39.55-25.55 71.59c-2.046 3.646-3.066 7.686-3.066 11.72c0 13.92 11.43 23.1 24 23.1h137.6C455.5 208.1 464 216.6 464 227c0 9.809-7.766 18.03-17.67 18.71c-12.66 .8593-22.36 11.4-22.36 23.94c0 15.47 11.39 15.95 11.39 28.91c0 25.37-35.03 12.34-35.03 42.15c0 11.22 6.392 13.03 6.392 22.25c0 22.66-29.77 13.76-29.77 40.64c0 4.515 1.11 5.961 1.11 9.456c0 10.45-8.516 18.95-18.97 18.95h-52.53c-25.62 0-51.02-8.466-71.5-23.81l-36.66-27.51c-4.315-3.245-9.37-4.811-14.38-4.811c-13.85 0-24.03 11.38-24.03 24.04c0 7.287 3.312 14.42 9.596 19.13l36.67 27.52C235 468.1 270.6 480 306.6 480h52.53c35.33 0 64.36-27.49 66.8-62.2c17.77-12.23 28.83-32.51 28.83-54.83c0-3.046-.2187-6.107-.6406-9.122c17.84-12.15 29.28-32.58 29.28-55.28c0-5.311-.6406-10.54-1.875-15.64C499.9 270.1 512 250.2 512 227z"]},pA={prefix:"far",iconName:"user",icon:[448,512,[62144,128100],"f007","M272 304h-96C78.8 304 0 382.8 0 480c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32C448 382.8 369.2 304 272 304zM48.99 464C56.89 400.9 110.8 352 176 352h96c65.16 0 119.1 48.95 127 112H48.99zM224 256c70.69 0 128-57.31 128-128c0-70.69-57.31-128-128-128S96 57.31 96 128C96 198.7 153.3 256 224 256zM224 48c44.11 0 80 35.89 80 80c0 44.11-35.89 80-80 80S144 172.1 144 128C144 83.89 179.9 48 224 48z"]};class kK{}class PK{}class er{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof er?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new er;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof er?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class C_1{encodeKey(e){return RK(e)}encodeValue(e){return RK(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const m_1=/%(\d[a-f0-9])/gi,g_1={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function RK(n){return encodeURIComponent(n).replace(m_1,(e,t)=>{var r;return null!==(r=g_1[t])&&void 0!==r?r:e})}function OK(n){return`${n}`}class Wi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new C_1,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function p_1(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[u,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],C=t.get(u)||[];C.push(h),t.set(u,C)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Wi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(OK(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(OK(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class v_1{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function FK(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function UK(n){return"undefined"!=typeof Blob&&n instanceof Blob}function BK(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Bh{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function y_1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new er),this.context||(this.context=new v_1),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new Wi,this.urlWithParams=t}serializeBody(){return null===this.body?null:FK(this.body)||UK(this.body)||BK(this.body)||function __1(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BK(this.body)?null:UK(this.body)?this.body.type||null:FK(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,C=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,b=e.params||this.params;const z=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((S,E)=>S.set(E,e.setHeaders[E]),v)),e.setParams&&(b=Object.keys(e.setParams).reduce((S,E)=>S.set(E,e.setParams[E]),b)),new Bh(r,i,u,{params:b,headers:v,context:z,reportProgress:C,responseType:s,withCredentials:h})}}var a4=(()=>((a4=a4||{})[a4.Sent=0]="Sent",a4[a4.UploadProgress=1]="UploadProgress",a4[a4.ResponseHeader=2]="ResponseHeader",a4[a4.DownloadProgress=3]="DownloadProgress",a4[a4.Response=4]="Response",a4[a4.User=5]="User",a4))();class mA{constructor(e,t=200,r="OK"){this.headers=e.headers||new er,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class gA extends mA{constructor(e={}){super(e),this.type=a4.ResponseHeader}clone(e={}){return new gA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class T_ extends mA{constructor(e={}){super(e),this.type=a4.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new T_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jK extends mA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function vA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let yA=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Bh)s=t;else{let C,v;C=i.headers instanceof er?i.headers:new er(i.headers),i.params&&(v=i.params instanceof Wi?i.params:new Wi({fromObject:i.params})),s=new Bh(t,r,void 0!==i.body?i.body:null,{headers:C,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=L2(s).pipe(S6(C=>this.handler.handle(C)));if(t instanceof Bh||"events"===i.observe)return u;const h=u.pipe(k4(C=>C instanceof T_));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,b2.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return h.pipe((0,b2.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return h.pipe((0,b2.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));default:return h.pipe((0,b2.U)(C=>C.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Wi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,vA(i,r))}post(t,r,i={}){return this.request("POST",t,vA(i,r))}put(t,r,i={}){return this.request("PUT",t,vA(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kK))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class qK{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const GK=new c.OlP("HTTP_INTERCEPTORS");let M_1=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const L_1=/^\)\]\}',?\n/;let WK=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ke.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((E,I)=>i.setRequestHeader(E,I.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const E=t.detectContentTypeHeader();null!==E&&i.setRequestHeader("Content-Type",E)}if(t.responseType){const E=t.responseType.toLowerCase();i.responseType="json"!==E?E:"text"}const s=t.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const E=i.statusText||"OK",I=new er(i.getAllResponseHeaders()),K=function b_1(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new gA({headers:I,status:i.status,statusText:E,url:K}),u},C=()=>{let{headers:E,status:I,statusText:K,url:o1}=h(),R1=null;204!==I&&(R1=void 0===i.response?i.responseText:i.response),0===I&&(I=R1?200:0);let U1=I>=200&&I<300;if("json"===t.responseType&&"string"==typeof R1){const $1=R1;R1=R1.replace(L_1,"");try{R1=""!==R1?JSON.parse(R1):null}catch(J1){R1=$1,U1&&(U1=!1,R1={error:J1,text:R1})}}U1?(r.next(new T_({body:R1,headers:E,status:I,statusText:K,url:o1||void 0})),r.complete()):r.error(new jK({error:R1,headers:E,status:I,statusText:K,url:o1||void 0}))},v=E=>{const{url:I}=h(),K=new jK({error:E,status:i.status||0,statusText:i.statusText||"Unknown Error",url:I||void 0});r.error(K)};let b=!1;const z=E=>{b||(r.next(h()),b=!0);let I={type:a4.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(I.total=E.total),"text"===t.responseType&&!!i.responseText&&(I.partialText=i.responseText),r.next(I)},S=E=>{let I={type:a4.UploadProgress,loaded:E.loaded};E.lengthComputable&&(I.total=E.total),r.next(I)};return i.addEventListener("load",C),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",z),null!==s&&i.upload&&i.upload.addEventListener("progress",S)),i.send(s),r.next({type:a4.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",C),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",z),null!==s&&i.upload&&i.upload.removeEventListener("progress",S)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _A=new c.OlP("XSRF_COOKIE_NAME"),MA=new c.OlP("XSRF_HEADER_NAME");class $K{}let z_1=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(l1),c.LFG(c.Lbi),c.LFG(_A))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),LA=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($K),c.LFG(MA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),w_1=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(GK,[]);this.chain=r.reduceRight((i,s)=>new qK(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(PK),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),V_1=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:LA,useClass:M_1}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:_A,useValue:t.cookieName}:[],t.headerName?{provide:MA,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[LA,{provide:GK,useExisting:LA,multi:!0},{provide:$K,useClass:z_1},{provide:_A,useValue:"XSRF-TOKEN"},{provide:MA,useValue:"X-XSRF-TOKEN"}]}),n})(),S_1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[yA,{provide:kK,useClass:w_1},WK,{provide:PK,useExisting:WK}],imports:[[V_1.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function H_1(n,e){1&n&&(c.TgZ(0,"div",22),c._uU(1," Please provide a name. "),c.qZA())}function x_1(n,e){1&n&&(c.TgZ(0,"div",22),c._uU(1," Please provide a email. "),c.qZA())}function E_1(n,e){1&n&&(c.TgZ(0,"div",22),c._uU(1," Please provide a message. "),c.qZA())}const bA=function(n,e){return{"is-invalid":n,"is-valid":e}};let T_1=(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.http=r,this.toastr=i,this.router=s,this.faMailReply=nV,this.faEnvelope=ds,this.faUser=pA,this.faComments=x_,this.faCommentAlt=dA,this.name=new Gi("",[Z5.required]),this.email=new Gi("",[Z5.required,Z5.email]),this.message=new Gi("",[Z5.required,Z5.maxLength(256)]),this.honeypot=new Gi(""),this.sendmailForm=this.formBuilder.group({name:this.name,email:this.email,message:this.message,honeypot:this.honeypot})}ngOnInit(){new navslide}get f(){return this.sendmailForm.controls}sendEmail(){if("VALID"==this.sendmailForm.status&&""==this.honeypot.value){this.sendmailForm.disable();var t=new FormData;t.append("name",this.sendmailForm.value.name),t.append("email",this.sendmailForm.value.email),t.append("message",this.sendmailForm.value.message),this.http.post("https://script.google.com/macros/s/AKfycbxQZAfHTl_bPjc_4P730SukmK3nKj7dOZTDm8lKYC4hzo8jjegfysy49oNl5l4XbJp33w/exec",t).subscribe({next:r=>{this.getResponse=r,this.getResponse.result?this.toastr.success("Thanks for the message "+this.sendmailForm.value.name+" I'll get back to you soon!","SUCCESS",{timeOut:1500}).onHidden.subscribe(()=>{this.reloadCurrentRoute()}):this.toastr.warning("Oops! Something went wrong... Reload the page and try again.","WARNING",{timeOut:1500}).onHidden.subscribe(()=>{this.reloadCurrentRoute()}),this.sendmailForm.enable(),console.log(r)},error:r=>{}})}}reloadCurrentRoute(){let t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([t])})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(sA),c.Y36(yA),c.Y36(oa),c.Y36(p3))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-contact"]],decls:33,vars:23,consts:[[1,"container","about-container","d-flex","justify-content-end"],[1,"col-md-12","col-lg-8"],[1,"content-right-box"],[1,"header-title"],[3,"icon"],[1,"contact"],["id","gform",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"input-group","mb-3"],[1,"input-group-prepend","override-input-prepend"],[1,"fuser",3,"icon"],["formControlName","name","id","name","name","name","type","text","placeholder","Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"faEnvelope",3,"icon"],["formControlName","email","id","email","name","email","type","text","placeholder","Email",1,"form-control",3,"ngClass"],[1,"col-md-12"],[1,"fcomment",3,"icon"],["formControlName","message","id","message","name","message","placeholder","Message","rows","3",1,"form-control",3,"ngClass"],["type","text",1,"hiddenForm",3,"formControl"],[1,"col-md-12","d-flex","justify-content-end"],["role","button","type","submit",1,"btn","btn-primary","sendEmail",3,"disabled"],[1,"invalid-feedback"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"fa-icon",4),c._uU(5," Contact "),c.qZA(),c.TgZ(6,"div",5)(7,"form",6),c.NdJ("ngSubmit",function(){return r.sendEmail()}),c.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),c._UZ(12,"fa-icon",11),c.qZA(),c._UZ(13,"input",12),c.YNc(14,H_1,2,0,"div",13),c.qZA()(),c.TgZ(15,"div",8)(16,"div",9)(17,"div",10),c._UZ(18,"fa-icon",14),c.qZA(),c._UZ(19,"input",15),c.YNc(20,x_1,2,0,"div",13),c.qZA()(),c.TgZ(21,"div",16)(22,"div",9)(23,"div",10),c._UZ(24,"fa-icon",17),c.qZA(),c.TgZ(25,"textarea",18),c._uU(26,"                                            "),c.qZA(),c.YNc(27,E_1,2,0,"div",13),c.qZA()()(),c._UZ(28,"input",19),c.TgZ(29,"div",20)(30,"button",21),c._UZ(31,"fa-icon",4),c._uU(32," SEND MESSAGE "),c.qZA()()()()()()()),2&t&&(c.xp6(4),c.Q6J("icon",r.faEnvelope),c.xp6(3),c.Q6J("formGroup",r.sendmailForm),c.xp6(5),c.Q6J("icon",r.faUser),c.xp6(1),c.Q6J("ngClass",c.WLB(14,bA,r.f.name.touched&&r.f.name.invalid,r.f.name.untouched&&r.f.name.valid)),c.xp6(1),c.Q6J("ngIf",r.f.name.touched&&r.f.name.invalid),c.xp6(4),c.Q6J("icon",r.faEnvelope),c.xp6(1),c.Q6J("ngClass",c.WLB(17,bA,r.f.email.touched&&r.f.email.invalid,r.f.email.untouched&&r.f.email.valid)),c.xp6(1),c.Q6J("ngIf",r.f.email.touched&&r.f.email.invalid),c.xp6(4),c.Q6J("icon",r.faCommentAlt),c.xp6(1),c.Q6J("ngClass",c.WLB(20,bA,r.f.message.touched&&r.f.message.invalid,r.f.message.untouched&&r.f.message.valid)),c.xp6(2),c.Q6J("ngIf",r.f.message.touched&&r.f.message.invalid),c.xp6(1),c.Q6J("formControl",r.honeypot),c.xp6(2),c.Q6J("disabled",!r.sendmailForm.valid),c.xp6(1),c.Q6J("icon",r.faMailReply))},directives:[e5,H_,v_,c9,a9,g_,Uh,C4,ke,YT],styles:[".hiddenForm[_ngcontent-%COMP%]{display:none}.visibleForm[_ngcontent-%COMP%]{display:block}"]}),n})(),A_1=(()=>{class n{constructor(){this.faImage=eD}ngOnInit(){new navslide}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-gallery"]],decls:20,vars:1,consts:[[1,"container","about-container","d-flex","justify-content-end"],[1,"col-md-12","col-lg-8"],[1,"content-right-box"],[1,"header-title"],[3,"icon"],[1,"row"],[1,"img-gallery"],[1,"col-md-4"],["src","assets/image/gallery/gallery10.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery11.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery12.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery20.JPG","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery21.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery22.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery30.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery31.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery32.jpg","alt","",1,"img-fluid"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"fa-icon",4),c._uU(5," Gallery "),c.qZA(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c._UZ(9,"img",8)(10,"img",9)(11,"img",10),c.qZA(),c.TgZ(12,"div",7),c._UZ(13,"img",11)(14,"img",12)(15,"img",13),c.qZA(),c.TgZ(16,"div",7),c._UZ(17,"img",14)(18,"img",15)(19,"img",16),c.qZA()()()()()()),2&t&&(c.xp6(4),c.Q6J("icon",r.faImage))},directives:[e5],styles:[""]}),n})();class I_1{}let ZK=(()=>{class n{constructor(t){this.db=t,this.dbPath="/testimonials",this.testimonialStatus=new I_1,this.testimonialStatus.status={status:"Failed"},this.status=this.testimonialStatus.status,this.testimonialsRef=t.list(this.dbPath)}getTesti(t){return this.db.list("testimonials",r=>r.orderByChild("key").equalTo(t))}getAll(){return this.db.list("testimonials",t=>t.orderByChild("key"))}create(t){return this.testimonialsRef.push(t)}update(t,r){return this.testimonialsRef.update(t,r)}delete(t){return this.testimonialsRef.remove(t)}deleteAll(t){return this.testimonialsRef.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class N_1{}let D_1=(()=>{class n{constructor(t){this.db=t,this.dbPath="/replies",this.replyStatus=new N_1,this.replyStatus.status={status:"Failed"},this.status=this.replyStatus.status,this.repliesRef=t.list(this.dbPath)}getReply(t){return this.db.list("replies",r=>r.orderByChild("tid").equalTo(t))}getAll(){return this.repliesRef}create(t){return this.repliesRef.push(t)}update(t,r){return this.repliesRef.update(t,r)}delete(t){return this.repliesRef.remove(t)}deleteAll(t){return this.repliesRef.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k_1(n,e){if(1&n){var t=c.EpF();c.TgZ(0,"a",11),c.NdJ("keyup.enter",function(){return c.CHM(t),c.oxw(3),c.MAs(1).previous()})("click",function(){return c.CHM(t),c.oxw(3),c.MAs(1).previous()}),c._uU(1),c.TgZ(2,"span",12),c._uU(3),c.qZA()()}if(2&n){var r=c.oxw(3);c.uIk("aria-label",r.previousLabel+" "+r.screenReaderPageLabel),c.xp6(1),c.hij(" ",r.previousLabel," "),c.xp6(2),c.Oqu(r.screenReaderPageLabel)}}function P_1(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.TgZ(2,"span",12),c._uU(3),c.qZA()()),2&n){var t=c.oxw(3);c.xp6(1),c.hij(" ",t.previousLabel," "),c.xp6(2),c.Oqu(t.screenReaderPageLabel)}}function R_1(n,e){if(1&n&&(c.TgZ(0,"li",8),c.YNc(1,k_1,4,3,"a",9),c.YNc(2,P_1,4,2,"span",10),c.qZA()),2&n){c.oxw(2);var t=c.MAs(1);c.ekj("disabled",t.isFirstPage()),c.xp6(1),c.Q6J("ngIf",1<t.getCurrent()),c.xp6(1),c.Q6J("ngIf",t.isFirstPage())}}function O_1(n,e){if(1&n){var t=c.EpF();c.TgZ(0,"a",11),c.NdJ("keyup.enter",function(){c.CHM(t);var u=c.oxw().$implicit;return c.oxw(2),c.MAs(1).setCurrent(u.value)})("click",function(){c.CHM(t);var u=c.oxw().$implicit;return c.oxw(2),c.MAs(1).setCurrent(u.value)}),c.TgZ(1,"span",12),c._uU(2),c.qZA(),c.TgZ(3,"span"),c._uU(4),c.ALo(5,"number"),c.qZA()()}if(2&n){var r=c.oxw().$implicit,i=c.oxw(2);c.xp6(2),c.hij("",i.screenReaderPageLabel," "),c.xp6(2),c.Oqu("..."===r.label?r.label:c.xi3(5,2,r.label,""))}}function F_1(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"span",12),c._uU(2),c.qZA(),c.TgZ(3,"span"),c._uU(4),c.ALo(5,"number"),c.qZA(),c.BQk()),2&n){var t=c.oxw().$implicit,r=c.oxw(2);c.xp6(2),c.hij("",r.screenReaderCurrentLabel," "),c.xp6(2),c.Oqu("..."===t.label?t.label:c.xi3(5,2,t.label,""))}}function U_1(n,e){if(1&n&&(c.TgZ(0,"li"),c.YNc(1,O_1,6,5,"a",9),c.YNc(2,F_1,6,5,"ng-container",10),c.qZA()),2&n){var t=e.$implicit;c.oxw(2);var r=c.MAs(1);c.ekj("current",r.getCurrent()===t.value)("ellipsis","..."===t.label),c.xp6(1),c.Q6J("ngIf",r.getCurrent()!==t.value),c.xp6(1),c.Q6J("ngIf",r.getCurrent()===t.value)}}function B_1(n,e){if(1&n){var t=c.EpF();c.TgZ(0,"a",11),c.NdJ("keyup.enter",function(){return c.CHM(t),c.oxw(3),c.MAs(1).next()})("click",function(){return c.CHM(t),c.oxw(3),c.MAs(1).next()}),c._uU(1),c.TgZ(2,"span",12),c._uU(3),c.qZA()()}if(2&n){var r=c.oxw(3);c.uIk("aria-label",r.nextLabel+" "+r.screenReaderPageLabel),c.xp6(1),c.hij(" ",r.nextLabel," "),c.xp6(2),c.Oqu(r.screenReaderPageLabel)}}function j_1(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.TgZ(2,"span",12),c._uU(3),c.qZA()()),2&n){var t=c.oxw(3);c.xp6(1),c.hij(" ",t.nextLabel," "),c.xp6(2),c.Oqu(t.screenReaderPageLabel)}}function q_1(n,e){if(1&n&&(c.TgZ(0,"li",13),c.YNc(1,B_1,4,3,"a",9),c.YNc(2,j_1,4,2,"span",10),c.qZA()),2&n){c.oxw(2);var t=c.MAs(1);c.ekj("disabled",t.isLastPage()),c.xp6(1),c.Q6J("ngIf",!t.isLastPage()),c.xp6(1),c.Q6J("ngIf",t.isLastPage())}}function G_1(n,e){if(1&n&&(c.TgZ(0,"ul",3),c.YNc(1,R_1,3,4,"li",4),c.TgZ(2,"li",5),c._uU(3),c.qZA(),c.YNc(4,U_1,3,6,"li",6),c.YNc(5,q_1,3,4,"li",7),c.qZA()),2&n){var t=c.oxw(),r=c.MAs(1);c.ekj("responsive",t.responsive),c.uIk("aria-label",t.screenReaderPaginationLabel),c.xp6(1),c.Q6J("ngIf",t.directionLinks),c.xp6(2),c.AsE(" ",r.getCurrent()," / ",r.getLastPage()," "),c.xp6(1),c.Q6J("ngForOf",r.pages)("ngForTrackBy",t.trackByIndex),c.xp6(1),c.Q6J("ngIf",t.directionLinks)}}var jh=function(){function n(){this.change=new c.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return n.prototype.defaultId=function(){return this.DEFAULT_ID},n.prototype.register=function(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)},n.prototype.updateInstance=function(e){var t=!1;for(var r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],t=!0);return t},n.prototype.getCurrentPage=function(e){if(this.instances[e])return this.instances[e].currentPage},n.prototype.setCurrentPage=function(e,t){if(this.instances[e]){var r=this.instances[e];t<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}},n.prototype.setTotalItems=function(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))},n.prototype.setItemsPerPage=function(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))},n.prototype.getInstance=function(e){return void 0===e&&(e=this.DEFAULT_ID),this.instances[e]?this.clone(this.instances[e]):{}},n.prototype.clone=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n}(),$_1=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},Z_1=Number.MAX_SAFE_INTEGER,zA=function(){function n(e){this.service=e,this.state={}}return n.prototype.transform=function(e,t){if(!(e instanceof Array)){var r=t.id||this.service.defaultId();return this.state[r]?this.state[r].slice:e}var h,C,i=t.totalItems&&t.totalItems!==e.length,s=this.createInstance(e,t),u=s.id,v=s.itemsPerPage,b=this.service.register(s);if(!i&&e instanceof Array){if(this.stateIsIdentical(u,e,h=(s.currentPage-1)*(v=+v||Z_1),C=h+v))return this.state[u].slice;var S=e.slice(h,C);return this.saveState(u,e,S,h,C),this.service.change.emit(u),S}return b&&this.service.change.emit(u),this.saveState(u,e,e,h,C),e},n.prototype.createInstance=function(e,t){return this.checkConfig(t),{id:null!=t.id?t.id:this.service.defaultId(),itemsPerPage:+t.itemsPerPage||0,currentPage:+t.currentPage||1,totalItems:+t.totalItems||e.length}},n.prototype.checkConfig=function(e){var r=["itemsPerPage","currentPage"].filter(function(i){return!(i in e)});if(0<r.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+r.join(", "))},n.prototype.saveState=function(e,t,r,i,s){this.state[e]={collection:t,size:t.length,slice:r,start:i,end:s}},n.prototype.stateIsIdentical=function(e,t,r,i){var s=this.state[e];return!!s&&!(s.size!==t.length||s.start!==r||s.end!==i)&&s.slice.every(function(h,C){return h===t[r+C]})},n=function(n,e,t,r){var u,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var h=n.length-1;h>=0;h--)(u=n[h])&&(s=(i<3?u(s):i>3?u(e,t,s):u(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}([$_1("design:paramtypes",[jh])],n),n.\u0275fac=function(t){return new(t||n)(c.Y36(jh,16))},n.\u0275pipe=c.Yjl({name:"paginate",type:n,pure:!1}),n}(),h6=function(n,e,t,r){var u,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var h=n.length-1;h>=0;h--)(u=n[h])&&(s=(i<3?u(s):i>3?u(e,t,s):u(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},It=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)};function wA(n){return!!n&&"false"!==n}var VA=function(){function n(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new c.vpe,this.pageBoundsCorrection=new c.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(n.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(e){this._directionLinks=wA(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"autoHide",{get:function(){return this._autoHide},set:function(e){this._autoHide=wA(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"responsive",{get:function(){return this._responsive},set:function(e){this._responsive=wA(e)},enumerable:!0,configurable:!0}),n.prototype.trackByIndex=function(e){return e},h6([(0,c.IIB)(),It("design:type",String)],n.prototype,"id",void 0),h6([(0,c.IIB)(),It("design:type",Number)],n.prototype,"maxSize",void 0),h6([(0,c.IIB)(),It("design:type",Boolean),It("design:paramtypes",[Boolean])],n.prototype,"directionLinks",null),h6([(0,c.IIB)(),It("design:type",Boolean),It("design:paramtypes",[Boolean])],n.prototype,"autoHide",null),h6([(0,c.IIB)(),It("design:type",Boolean),It("design:paramtypes",[Boolean])],n.prototype,"responsive",null),h6([(0,c.IIB)(),It("design:type",String)],n.prototype,"previousLabel",void 0),h6([(0,c.IIB)(),It("design:type",String)],n.prototype,"nextLabel",void 0),h6([(0,c.IIB)(),It("design:type",String)],n.prototype,"screenReaderPaginationLabel",void 0),h6([(0,c.IIB)(),It("design:type",String)],n.prototype,"screenReaderPageLabel",void 0),h6([(0,c.IIB)(),It("design:type",String)],n.prototype,"screenReaderCurrentLabel",void 0),h6([(0,c.r_U)(),It("design:type",c.vpe)],n.prototype,"pageChange",void 0),h6([(0,c.r_U)(),It("design:type",c.vpe)],n.prototype,"pageBoundsCorrection",void 0),n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,r){if(1&t&&(c.TgZ(0,"pagination-template",0,1),c.NdJ("pageChange",function(u){return r.pageChange.emit(u)})("pageBoundsCorrection",function(u){return r.pageBoundsCorrection.emit(u)}),c.YNc(2,G_1,6,9,"ul",2),c.qZA()),2&t){var i=c.MAs(1);c.Q6J("id",r.id)("maxSize",r.maxSize),c.xp6(2),c.Q6J("ngIf",!(r.autoHide&&i.pages.length<=1))}},directives:function(){return[K_1,ke,e3]},pipes:function(){return[s8]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),n}(),qh=function(n,e,t,r){var u,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var h=n.length-1;h>=0;h--)(u=n[h])&&(s=(i<3?u(s):i>3?u(e,t,s):u(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Gh=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},K_1=function(){function n(e,t){var r=this;this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new c.vpe,this.pageBoundsCorrection=new c.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(function(i){r.id===i&&(r.updatePageLinks(),r.changeDetectorRef.markForCheck(),r.changeDetectorRef.detectChanges())})}return n.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},n.prototype.ngOnChanges=function(e){this.updatePageLinks()},n.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},n.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},n.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},n.prototype.isFirstPage=function(){return 1===this.getCurrent()},n.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},n.prototype.setCurrent=function(e){this.pageChange.emit(e)},n.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},n.prototype.getLastPage=function(){var e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)},n.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},n.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},n.prototype.updatePageLinks=function(){var e=this,t=this.service.getInstance(this.id),r=this.outOfBoundCorrection(t);r!==t.currentPage?setTimeout(function(){e.pageBoundsCorrection.emit(r),e.pages=e.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,e.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)},n.prototype.outOfBoundCorrection=function(e){var t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage},n.prototype.createPageArray=function(e,t,r,i){i=+i;for(var s=[],u=Math.max(Math.ceil(r/t),1),h=Math.ceil(i/2),C=e<=h,v=u-h<e,b=!C&&!v,z=i<u,S=1;S<=u&&S<=i;){var I=this.calculatePageNumber(S,e,i,u);s.push({label:z&&(2===S&&(b||v)||S===i-1&&(b||C))?"...":I,value:I}),S++}return s},n.prototype.calculatePageNumber=function(e,t,r,i){var s=Math.ceil(r/2);return e===r?i:1===e?e:r<i?i-s<t?i-r+e:s<t?t-s+e:e:e},qh([(0,c.IIB)(),Gh("design:type",String)],n.prototype,"id",void 0),qh([(0,c.IIB)(),Gh("design:type",Number)],n.prototype,"maxSize",void 0),qh([(0,c.r_U)(),Gh("design:type",c.vpe)],n.prototype,"pageChange",void 0),qh([(0,c.r_U)(),Gh("design:type",c.vpe)],n.prototype,"pageBoundsCorrection",void 0),(n=qh([Gh("design:paramtypes",[jh,c.sBO])],n)).\u0275fac=function(t){return new(t||n)(c.Y36(jh),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[c.TTD]}),n}(),Y_1=function(){function n(){}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[jh],imports:[[Bt]]}),n}();let KK=(()=>{class n{transform(t,...r){if(!t)return"a long time ago";let i=(Date.now()-Date.parse(t))/1e3;if(i<10)return"just now";if(i<60)return"a moment ago";const s=[60,60,24,30,12];let h;for(h=0;Math.floor(i/s[h])>0;h++)i/=s[h];const C=Math.floor(i)>1?"s":"";return Math.floor(i)+[" second"," minute"," hour"," day"," month"," year"][h]+C+" ago"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"dateAgo",type:n,pure:!0}),n})();function Q_1(n,e){1&n&&(c.TgZ(0,"div",28),c._uU(1," Please provide a name. "),c.qZA())}function J_1(n,e){1&n&&(c.TgZ(0,"div",28),c._uU(1," Please provide a testimonials. "),c.qZA())}function X_1(n,e){1&n&&(c.TgZ(0,"div",3)(1,"div",6)(2,"ul",29)(3,"li")(4,"div",30)(5,"div",31)(6,"div",32),c._uU(7," No Testimonial Yet! "),c.qZA()()()()()()())}function eM1(n,e){if(1&n&&(c.TgZ(0,"div")(1,"a",51),c._UZ(2,"fa-icon",52),c.TgZ(3,"span",53),c._uU(4),c.qZA()()()),2&n){const t=c.oxw().count,r=c.oxw(2).$implicit,i=c.oxw();c.xp6(1),c.uIk("data-target","#replyToggle"+r.testimony.testimoniKey)("aria-controls","replyToggle"+r.testimony.testimoniKey),c.xp6(1),c.Q6J("icon",i.faComment),c.xp6(2),c.hij(" ",t," ")}}function tM1(n,e){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,eM1,5,4,"div",39),c.qZA()),2&n){const t=e.last;c.xp6(1),c.Q6J("ngIf",t)}}function nM1(n,e){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,tM1,2,1,"div",50),c.ALo(2,"keyvalue"),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.Q6J("ngForOf",c.lcZ(2,1,t.reply))}}function rM1(n,e){1&n&&(c.TgZ(0,"div",28),c._uU(1," Please provide a name. "),c.qZA())}function iM1(n,e){1&n&&(c.TgZ(0,"div",28),c._uU(1," Please provide a reply. "),c.qZA())}function sM1(n,e){if(1&n&&(c.TgZ(0,"div")(1,"ul",54)(2,"li")(3,"div",31)(4,"div",34)(5,"h6",55),c._uU(6),c.qZA(),c.TgZ(7,"span",56),c._uU(8),c.qZA(),c.TgZ(9,"span",37),c._uU(10),c.ALo(11,"dateAgo"),c.qZA()(),c.TgZ(12,"div",32),c._uU(13),c.qZA()()()()()),2&n){const t=e.index,r=c.oxw(2).$implicit;c.xp6(1),c.MGl("id","replyToggle",r.testimony.testimoniKey,""),c.xp6(5),c.Oqu(r.reply[t].name),c.xp6(2),c.Oqu(r.reply[t].country),c.xp6(2),c.hij("",c.lcZ(11,5,r.reply[t].postedon)," "),c.xp6(3),c.hij(" ",r.reply[t].reply," ")}}function aM1(n,e){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,sM1,14,7,"div",50),c.ALo(2,"keyvalue"),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.Q6J("ngForOf",c.lcZ(2,1,t.reply))}}const A_=function(n,e){return{"is-invalid":n,"is-valid":e}};function oM1(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"ul",33)(1,"li")(2,"div",30)(3,"div",31)(4,"div",34)(5,"h6",35),c._uU(6),c.qZA(),c.TgZ(7,"span",36),c._uU(8),c.qZA(),c.TgZ(9,"span",37),c._uU(10),c.ALo(11,"dateAgo"),c.qZA()(),c.TgZ(12,"div",32),c._uU(13),c.TgZ(14,"span",38),c.YNc(15,nM1,3,3,"div",39),c.TgZ(16,"a",40),c.NdJ("click",function(){const s=c.CHM(t).$implicit;return c.oxw().onItemSelector(s.testimony.testimoniKey)}),c._UZ(17,"fa-icon",5),c.qZA()()()()(),c.TgZ(18,"div",3)(19,"div",6)(20,"div",41)(21,"div",42)(22,"form",8),c.NdJ("ngSubmit",function(){return c.CHM(t),c.oxw().addReplies()}),c.TgZ(23,"div",3)(24,"div",6)(25,"div",9)(26,"div",43),c._UZ(27,"fa-icon",11),c.qZA(),c._UZ(28,"input",44),c.YNc(29,rM1,2,0,"div",13),c.qZA()(),c.TgZ(30,"div",6)(31,"div",9)(32,"div",10),c._UZ(33,"fa-icon",14),c.qZA(),c.TgZ(34,"textarea",45),c._uU(35,"                                                        "),c.qZA(),c.YNc(36,iM1,2,0,"div",13),c.qZA()()(),c.TgZ(37,"div",3)(38,"div",46)(39,"div",47)(40,"h5"),c._uU(41,"Reply to "),c.TgZ(42,"span"),c._uU(43),c.qZA(),c._uU(44," 's Post"),c.qZA()()(),c.TgZ(45,"div",48)(46,"div",16)(47,"button",49),c._UZ(48,"fa-icon",5),c._uU(49," Post"),c.qZA()()()()()()()()(),c.YNc(50,aM1,3,3,"div",39),c.qZA()()}if(2&n){const t=e.$implicit,r=c.oxw();c.xp6(6),c.Oqu(t.testimony.name),c.xp6(2),c.Oqu(t.testimony.country),c.xp6(2),c.Oqu(c.lcZ(11,26,t.testimony.postedon)),c.xp6(3),c.hij(" ",t.testimony.testimonials," "),c.xp6(2),c.Q6J("ngIf",t.reply),c.xp6(1),c.uIk("data-target","#replyArea"+t.testimony.testimoniKey)("aria-controls","replyArea"+t.testimony.testimoniKey),c.xp6(1),c.Q6J("icon",r.faMailReply),c.xp6(3),c.MGl("id","replyArea",t.testimony.testimoniKey,""),c.xp6(2),c.Q6J("formGroup",r.replyForm),c.xp6(5),c.Q6J("icon",r.faUser),c.xp6(1),c.MGl("id","name",t.testimony.testimoniKey,"")("name","name",t.testimony.testimoniKey,""),c.Q6J("ngClass",c.WLB(28,A_,r.rF.name.touched&&r.rF.name.invalid,r.rF.name.untouched&&r.rF.name.valid)),c.xp6(1),c.Q6J("ngIf",r.rF.name.touched&&r.rF.name.invalid),c.xp6(4),c.Q6J("icon",r.faCommentAlt),c.xp6(1),c.MGl("id","reply",t.testimony.testimoniKey,"")("name","reply",t.testimony.testimoniKey,""),c.Q6J("ngClass",c.WLB(31,A_,r.rF.reply.touched&&r.rF.reply.invalid,r.rF.reply.untouched&&r.rF.reply.valid)),c.xp6(2),c.Q6J("ngIf",r.rF.reply.touched&&r.rF.reply.invalid),c.xp6(7),c.Oqu(t.testimony.name),c.xp6(4),c.s9C("id",t.testimony.testimoniKey),c.s9C("name",t.testimony.testimoniKey),c.Q6J("disabled",!r.replyForm.valid),c.xp6(1),c.Q6J("icon",r.faCommentDots),c.xp6(2),c.Q6J("ngIf",t.reply)}}function cM1(n,e){if(1&n&&(c.TgZ(0,"option",57),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("ngValue",t),c.xp6(1),c.hij(" ",t," ")}}const lM1=function(n,e,t){return{itemsPerPage:n,currentPage:e,totalItems:t}};let uM1=(()=>{class n{constructor(t,r,i,s,u,h,C){this.testimonialsService=t,this.repliesService=r,this.formBuilder=i,this.router=s,this.ngZone=u,this.datepipe=h,this.toastr=C,this.faComments=x_,this.faComment=SZ,this.faCommentAlt=dA,this.faUser=pA,this.faTimesCircle=Yp,this.faCommentDots=yl,this.faCalendar=ns,this.faLocation=dD,this.faMailReply=nV,this.page=1,this.count=0,this.tableSize=2,this.tableSizes=[2,8,12,16],this.form=this.formBuilder.group({name:["",Z5.required],testimonials:["",Z5.required]}),this.replyForm=this.formBuilder.group({name:["",Z5.required],reply:["",Z5.required]})}onItemSelector(t){this.tIdValue=t,console.log(this.tIdValue)}ngOnInit(){var t=this;return(0,w1.Z)(function*(){new navslide,t.request=yield fetch("https://ipinfo.io/json?token=1509eda3fb61e2"),t.result=yield t.request.json(),t.ipAddress=t.result.ip,t.visitorCountry=t.result.country,t.visitorCity=t.result.city,t.testimonialsData()})()}testimonialsData(){return this.testimonialsService.getAll().snapshotChanges().pipe(Ne(t=>m8(t.map(r=>{const i=r.payload.val(),s=r.payload.key;return this.repliesService.getReply(s).snapshotChanges().pipe((0,b2.U)(u=>{const h=u.map(C=>Object.assign({key:C.payload.key},C.payload.val()));return{testimony:Object.assign({testimoniKey:s},i),reply:Object.assign({},h)}}))})))).subscribe({next:t=>{this.combData=t.reverse()}})}onTableDataChange(t){this.page=t,this.testimonialsData()}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1,this.testimonialsData()}get f(){return this.form.controls}get rF(){return this.replyForm.controls}addTesti(){var t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss");this.testimonialsService.create({name:this.form.value.name,testimonials:this.form.value.testimonials,country:this.visitorCountry,city:this.visitorCity,postedon:t}).then(()=>{this.toastr.success("Testimonial has been Posted!","SUCCESS",{timeOut:1e3}).onHidden.subscribe(()=>{this.form.reset()})})}addReplies(){let t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss");this.repliesService.create({tid:this.tIdValue,name:this.replyForm.value.name,reply:this.replyForm.value.reply,country:this.visitorCountry,city:this.visitorCity,postedon:t}).then(()=>{this.toastr.success("Thank You for your Reply/s!","SUCCESS",{timeOut:1e3}).onHidden.subscribe(()=>{this.replyForm.reset()})})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ZK),c.Y36(D_1),c.Y36(sA),c.Y36(p3),c.Y36(c.R0b),c.Y36(nn),c.Y36(oa))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-testimonial"]],decls:42,vars:26,consts:[[1,"container","about-container","d-flex","justify-content-end"],[1,"col-md-12","col-lg-8"],[1,"content-right-box"],[1,"row"],[1,"header-title"],[3,"icon"],[1,"col-md-12"],[1,"testi-form"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],[1,"input-group-prepend","override-input-prepend"],[1,"fuser",3,"icon"],["formControlName","name","id","name","name","name","type","text","placeholder","Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"fcomment",3,"icon"],["formControlName","testimonials","id","testimonials","name","testimonials","placeholder","Testimonial","rows","3",1,"form-control",3,"ngClass"],[1,"d-flex","justify-content-end","button-post"],["role","button","type","submit",1,"btn","btn-primary","savebtn",3,"disabled"],["class","row",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"row","mt-2"],[1,"col-md-2"],[1,"d-flex","justify-content-start"],[1,"custom-select","select-pagi",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-10"],[1,"d-flex","justify-content-end","pagi-numbers","mt-2"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"invalid-feedback"],["id","comments-list",1,"comments-list"],[1,"comment-main-level"],[1,"comment-box"],[1,"comment-content"],["id","comments-list",1,"comments-list","testi-list"],[1,"comment-head"],[1,"comment-name"],[1,"badge","badge-info","badge-comment","mr-2"],[1,"postedDate"],[1,"reply-icon"],[4,"ngIf"],["href","#","data-toggle","collapse","type","button","aria-expanded","false",3,"click"],[1,"collapse","replyCollapse",3,"id"],[1,"card","card-body"],[1,"input-group-prepend","override-input-prepend","align-middle"],["formControlName","name","type","text","placeholder","Name",1,"form-control",3,"id","name","ngClass"],["formControlName","reply","placeholder","Your Reply","rows","3",1,"form-control",3,"id","name","ngClass"],[1,"col-md-8"],[1,"d-flex","justify-content-start","commentName"],[1,"col-md-4"],["role","button","type","submit",1,"btn","btn-primary","savebtn",3,"id","name","disabled"],[4,"ngFor","ngForOf"],["href","#","data-toggle","collapse","type","button","aria-expanded","false"],[1,"fComment",3,"icon"],[1,"badge","badge-default","ml-1"],[1,"collapse","comments-list","reply-list",3,"id"],[1,"comment-name","replyname"],[1,"badge","badge-info","mr-2"],[3,"ngValue"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c._UZ(5,"fa-icon",5),c._uU(6," Testimonials "),c.qZA()(),c.TgZ(7,"div",3)(8,"div",6)(9,"div",7)(10,"form",8),c.NdJ("ngSubmit",function(){return r.addTesti()}),c.TgZ(11,"div",3)(12,"div",6)(13,"div",9)(14,"div",10),c._UZ(15,"fa-icon",11),c.qZA(),c._UZ(16,"input",12),c.YNc(17,Q_1,2,0,"div",13),c.qZA()(),c.TgZ(18,"div",6)(19,"div",9)(20,"div",10),c._UZ(21,"fa-icon",14),c.qZA(),c.TgZ(22,"textarea",15),c._uU(23,"                                        "),c.qZA(),c.YNc(24,J_1,2,0,"div",13),c.qZA()()(),c.TgZ(25,"div",16)(26,"button",17),c._UZ(27,"fa-icon",5),c._uU(28," Post"),c.qZA()()()()()(),c.YNc(29,X_1,8,0,"div",18),c.TgZ(30,"div",3)(31,"div",6),c.YNc(32,oM1,51,34,"ng-template",19),c.ALo(33,"paginate"),c.qZA()(),c.TgZ(34,"div",20)(35,"div",21)(36,"div",22)(37,"select",23),c.NdJ("change",function(s){return r.onTableSizeChange(s)}),c.YNc(38,cM1,2,2,"option",24),c.qZA()()(),c.TgZ(39,"div",25)(40,"div",26)(41,"pagination-controls",27),c.NdJ("pageChange",function(s){return r.onTableDataChange(s)}),c.qZA()()()()()()()),2&t&&(c.xp6(5),c.Q6J("icon",r.faComments),c.xp6(5),c.Q6J("formGroup",r.form),c.xp6(5),c.Q6J("icon",r.faUser),c.xp6(1),c.Q6J("ngClass",c.WLB(16,A_,r.f.name.touched&&r.f.name.invalid,r.f.name.untouched&&r.f.name.valid)),c.xp6(1),c.Q6J("ngIf",r.f.name.touched&&r.f.name.invalid),c.xp6(4),c.Q6J("icon",r.faCommentAlt),c.xp6(1),c.Q6J("ngClass",c.WLB(19,A_,r.f.testimonials.touched&&r.f.testimonials.invalid,r.f.testimonials.untouched&&r.f.testimonials.valid)),c.xp6(2),c.Q6J("ngIf",r.f.testimonials.touched&&r.f.testimonials.invalid),c.xp6(2),c.Q6J("disabled",!r.form.valid),c.xp6(1),c.Q6J("icon",r.faCommentDots),c.xp6(2),c.Q6J("ngIf",!r.combData),c.xp6(3),c.Q6J("ngForOf",c.xi3(33,13,r.combData,c.kEZ(22,lM1,r.tableSize,r.page,r.count))),c.xp6(6),c.Q6J("ngForOf",r.tableSizes))},directives:[e5,H_,v_,c9,a9,g_,Uh,C4,ke,e3,eA,nA,VA],pipes:[zA,KK,p6],styles:[""]}),n})();class YK{constructor(e,t,r,i){this.title=e,this.name=t,this.image=r,this.link=i}}class $i{constructor(e,t,r){this.link=e,this.image=t,this.alt=r}}function fM1(n,e){if(1&n&&(c.TgZ(0,"div",22)(1,"a",23),c._UZ(2,"img",24),c.qZA()()),2&n){const t=e.$implicit;c.xp6(1),c.s9C("href",t.link,c.LSH),c.xp6(1),c.s9C("src",t.image,c.LSH),c.s9C("alt",t.alt)}}function hM1(n,e){if(1&n&&(c.TgZ(0,"div",25)(1,"div",11)(2,"div",26)(3,"div",27),c._UZ(4,"img",28),c.qZA()(),c.TgZ(5,"div",29)(6,"h3",30),c._uU(7),c.qZA(),c.TgZ(8,"div",31),c._uU(9),c.qZA(),c.TgZ(10,"a",32)(11,"button",33),c._UZ(12,"i",34),c._uU(13," View Project "),c.qZA()()()()()),2&n){const t=e.$implicit;c.xp6(4),c.s9C("src",t.image,c.LSH),c.s9C("alt",t.name),c.xp6(3),c.Oqu(t.title),c.xp6(2),c.Oqu(t.name),c.xp6(1),c.s9C("href",t.link,c.LSH)}}const dM1=function(n,e,t){return{id:"templatePagination",itemsPerPage:n,currentPage:e,totalItems:t}},CM1=function(n,e,t){return{id:"projectPagination",itemsPerPage:n,currentPage:e,totalItems:t}};let pM1=(()=>{class n{constructor(){this.projects=[new YK("Online Public Access Catalog","St. Cecilias College - Cebu Library","assets/image/sccopac-thumb.jpg","https://rickmedillo.000webhostapp.com"),new YK("A Wonder Paradise","Ruvi Cave - Resort","assets/image/ruvi-template-thumb.jpg","https://ruvicave-resort.000webhostapp.com/")],this.templates=[new $i("assets/image/ruvicave-template.jpg","assets/image/ruvicave-template.jpg","Resort Template"),new $i("assets/image/template01.jpg","assets/image/template01.jpg","Dating Site Template 01"),new $i("assets/image/template02.jpg","assets/image/template02.jpg","Dating Site Template 02"),new $i("assets/image/template03.jpg","assets/image/template03.jpg","Dating Site Template 03"),new $i("assets/image/template04.jpg","assets/image/template04.jpg","Dating Site Template 04"),new $i("assets/image/template05.jpg","assets/image/template05.jpg","Dating Site Template 05"),new $i("assets/image/template06.jpg","assets/image/template06.jpg","Dating Site Template 06"),new $i("assets/image/template07.jpg","assets/image/template07.jpg","Dating Site Template 07")],this.page=1,this.count=0,this.tableSize=2,this.tableSizes=[2,8,12,16],this.tempPage=1,this.tempCount=0,this.tempTableSize=6,this.tempTableSizes=[6,8,12,16],this.faLaptop=sD,this.faMarker=bD}ngOnInit(){new navslide}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}onTableDataChangeTemp(t){this.tempPage=t}onTableSizeChangeTemp(t){this.tempTableSize=t.target.value,this.tempPage=1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-work"]],decls:33,vars:18,consts:[[1,"container","about-container","d-flex","justify-content-end"],[1,"col-md-12","col-lg-8"],[1,"content-right-box","override-content"],[1,"nav","nav-pills","flex-column","flex-sm-row"],["id","template-tab","data-toggle","tab","href","#template","role","tab","aria-controls","template","aria-selected","true",1,"flex-sm-fill","text-sm-center","nav-link","active"],["id","project-tab","data-toggle","tab","href","#project","role","tab","aria-controls","project","aria-selected","false",1,"flex-sm-fill","text-sm-center","nav-link"],["id","myTabContent",1,"tab-content"],["id","template","role","tabpanel","aria-labelledby","template-tab",1,"tab-pane","fade","show","active"],[1,"content-right-box","content-right-separate"],[1,"header-title"],[3,"icon"],[1,"row"],[1,"col-md-12"],["id","Gallery"],["class","gallery-item",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","pagi-numbers","mt-4"],["id","templatePagination","previousLabel","Prev","nextLabel","Next",3,"pageChange"],["id","project","role","tabpanel","aria-labelledby","project-tab",1,"tab-pane","fade"],[1,"projects-content"],[1,"row","testi-section"],["class","proj-cont-box left-proj-content",4,"ngFor","ngForOf"],["id","projectPagination","previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"gallery-item"],[3,"href"],[3,"src","alt"],[1,"proj-cont-box","left-proj-content"],[1,"col-sm-12","col-md-4","col-lg-4"],[1,"proj-img"],["alt","Rick Ryan Medillo scc opac",1,"img-fluid",3,"src","alt"],[1,"col-sm-12","col-md-8","col-lg-8"],[1,"sccopac"],[1,"scc-title"],["target","_blank",3,"href"],["name","btn-view","role","button",1,"btn","btn-default","btn-md","btn-view-project"],[1,"fas","fa-eye"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"a",4),c._uU(5,"Templates"),c.qZA(),c.TgZ(6,"a",5),c._uU(7,"Projects"),c.qZA()()(),c.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),c._UZ(12,"fa-icon",10),c._uU(13," Templates "),c.qZA(),c.TgZ(14,"div",11)(15,"div",12)(16,"div",13),c.YNc(17,fM1,3,3,"div",14),c.ALo(18,"paginate"),c.qZA()()(),c.TgZ(19,"div",15)(20,"pagination-controls",16),c.NdJ("pageChange",function(s){return r.onTableDataChangeTemp(s)}),c.qZA()()()(),c.TgZ(21,"div",17)(22,"div",8)(23,"div",9),c._UZ(24,"fa-icon",10),c._uU(25," Projects "),c.qZA(),c.TgZ(26,"div",18)(27,"div",19)(28,"div",12),c.YNc(29,hM1,14,5,"div",20),c.ALo(30,"paginate"),c.qZA()(),c.TgZ(31,"div",15)(32,"pagination-controls",21),c.NdJ("pageChange",function(s){return r.onTableDataChange(s)}),c.qZA()()()()()()()()),2&t&&(c.xp6(12),c.Q6J("icon",r.faMarker),c.xp6(5),c.Q6J("ngForOf",c.xi3(18,4,r.templates,c.kEZ(10,dM1,r.tempTableSize,r.tempPage,r.tempCount))),c.xp6(7),c.Q6J("icon",r.faLaptop),c.xp6(5),c.Q6J("ngForOf",c.xi3(30,7,r.projects,c.kEZ(14,CM1,r.tableSize,r.page,r.count))))},directives:[e5,e3,VA],pipes:[zA],styles:[""]}),n})();function mM1(n,e){if(1&n&&(c.TgZ(0,"option",21),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("ngValue",t),c.xp6(1),c.hij(" ",t," ")}}function gM1(n,e){if(1&n&&(c.TgZ(0,"div",22)(1,"div",23),c._uU(2," IP Address "),c.TgZ(3,"span"),c._uU(4),c.qZA()(),c.TgZ(5,"ul",24)(6,"li",25),c._uU(7,"Country"),c.TgZ(8,"span"),c._uU(9),c.qZA()(),c.TgZ(10,"li",25),c._uU(11,"City"),c.TgZ(12,"span"),c._uU(13),c.qZA()(),c.TgZ(14,"li",25),c._uU(15,"Visited "),c.TgZ(16,"span"),c._uU(17),c.qZA()(),c.TgZ(18,"li",25),c._uU(19,"Date and Time "),c.TgZ(20,"span"),c._uU(21),c.ALo(22,"dateAgo"),c.qZA()()()()),2&n){const t=e.$implicit,r=c.oxw();c.xp6(4),c.hij(" ",r.convertIp(t.user_ip),""),c.xp6(5),c.hij(" ",t.country,""),c.xp6(4),c.hij(" ",t.city,""),c.xp6(4),c.hij(" ",t.visited,""),c.xp6(4),c.hij(" ",c.lcZ(22,5,t.postedon),"")}}function vM1(n,e){1&n&&(c.TgZ(0,"tr")(1,"td",26),c._uU(2,"No Visitors Yet!"),c.qZA()())}function yM1(n,e){if(1&n&&(c.TgZ(0,"tr",27)(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.ALo(11,"dateAgo"),c.qZA()()),2&n){const t=e.$implicit,r=c.oxw();c.xp6(2),c.Oqu(r.convertIp(t.user_ip)),c.xp6(2),c.Oqu(t.country),c.xp6(2),c.Oqu(t.city),c.xp6(2),c.Oqu(t.visited),c.xp6(2),c.Oqu(c.lcZ(11,5,t.postedon))}}const _M1=function(n,e,t){return{id:"mobilePagination",itemsPerPage:n,currentPage:e,totalItems:t}};var MM1=A(788);const LM1=[{path:"",pathMatch:"full",redirectTo:"about"},{path:"about",component:gm1},{path:"contact",component:T_1},{path:"gallery",component:A_1},{path:"testimonials",component:uM1},{path:"works",component:pM1},{path:"visitors",component:(()=>{class n{constructor(t,r){this.datepipe=t,this.visitorService=r,this.faEnvelope=ds,this.page=1,this.count=0,this.tableSize=2,this.tableSizes=[2,8,12,16]}ngOnInit(){this.fetchVisitorsView(),this.fetchVisitorsMobile()}convertIp(t){return MM1(t).toIP()}fetchVisitorsView(){this.visitorService.getAll().snapshotChanges().pipe((0,b2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.visitor=t.reverse(),this.getResult=this.visitor,setTimeout(()=>{$("#datatableexample").DataTable({retrieve:!0,pagingType:"full_numbers",pageLength:5,processing:!0,lengthMenu:[5,10,25]})},1)})}fetchVisitorsMobile(){this.visitorService.getAll().snapshotChanges().pipe((0,b2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.visitor=t.reverse(),this.getResultMobile=this.visitor})}onTableDataChange(t){this.page=t,this.fetchVisitorsMobile()}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1,this.fetchVisitorsMobile()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(nn),c.Y36(rT))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-visitor"]],decls:35,vars:12,consts:[[1,"container","about-container","d-flex","justify-content-end"],[1,"col-md-12","col-lg-8"],[1,"content-right-box"],[1,"header-title"],[3,"icon"],[1,"visitor"],[1,"row"],[1,"col-md-6","visible-phone","d-none"],[1,"d-flex","justify-content-start","bd-highlight","mb-2"],[1,"p-2","bd-highlight"],[1,"custom-select","select-pagi",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-12","visible-phone","d-none"],["ngFor","",3,"ngForOf"],[1,"d-flex","justify-content-center","pagi-numbers","mt-4"],["id","mobilePagination","previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"col-md-12","d-none","d-sm-block","d-sm-none","d-md-block"],["id","datatableexample","cellspacing","0","width","100%",1,"table","table-striped","table-bordered","table-sm","row-border","hover","display"],["scope","col"],[4,"ngIf"],["let","","i","index",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"card"],[1,"card-header"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["colspan","5"],["let","","i","index"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"fa-icon",4),c._uU(5," Visitors "),c.qZA(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"select",10),c.NdJ("change",function(s){return r.onTableSizeChange(s)}),c.YNc(12,mM1,2,2,"option",11),c.qZA()()()(),c.TgZ(13,"div",12),c.YNc(14,gM1,23,7,"ng-template",13),c.ALo(15,"paginate"),c.TgZ(16,"div",14)(17,"pagination-controls",15),c.NdJ("pageChange",function(s){return r.onTableDataChange(s)}),c.qZA()()(),c.TgZ(18,"div",16)(19,"table",17)(20,"thead")(21,"tr")(22,"th",18),c._uU(23,"IP Address"),c.qZA(),c.TgZ(24,"th",18),c._uU(25,"Country"),c.qZA(),c.TgZ(26,"th",18),c._uU(27,"City"),c.qZA(),c.TgZ(28,"th",18),c._uU(29,"Visited"),c.qZA(),c.TgZ(30,"th",18),c._uU(31,"Date"),c.qZA()()(),c.TgZ(32,"tbody"),c.YNc(33,vM1,3,0,"tr",19),c.YNc(34,yM1,12,7,"tr",20),c.qZA()()()()()()()()),2&t&&(c.xp6(4),c.Q6J("icon",r.faEnvelope),c.xp6(8),c.Q6J("ngForOf",r.tableSizes),c.xp6(2),c.Q6J("ngForOf",c.xi3(15,5,r.getResultMobile,c.kEZ(8,_M1,r.tableSize,r.page,r.count))),c.xp6(19),c.Q6J("ngIf",!r.getResult),c.xp6(1),c.Q6J("ngForOf",r.getResult))},directives:[e5,e3,eA,nA,VA,ke],pipes:[zA,KK],styles:[""]}),n})()}];let bM1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[I5.forRoot(LM1)],I5]}),n})(),zM1=(()=>{class n{constructor(){this.faDownload=Dl}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:65,vars:1,consts:[[1,"header-banner"],[1,"container"],[1,"logo-menu","d-none","d-sm-none","d-md-none","d-lg-block"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-6","offset-lg-4"],[1,"wrapper"],[1,"fr1"],["onClick","window.toggle();"],["src","assets/image/hamburger_button.png",1,"img-fluid"],[1,"pos"],[1,"toggledAnother",2,"display","block"],[1,"horizontalMenu3"],["href","#","routerLinkActive","active","routerLink","about"],["href","#","routerLinkActive","active","routerLink","gallery"],["href","#","routerLinkActive","active","routerLink","works"],["href","#","routerLinkActive","active","routerLink","testimonials"],["href","#","routerLinkActive","active","routerLink","contact"],[1,"row","new-nav","d-lg-none"],[1,"col-md-12"],[1,"navbar","navbar-expand-md","navbar-dark","bg-dark"],["href","#","routerLinkActive","active","routerLink","about",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarsExample05","aria-controls","navbarsExample05","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","collapsed"],[1,"navbar-toggler-icon"],["id","navbarsExample05",1,"navbar-collapse","collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item"],["href","#","routerLinkActive","active","routerLink","about",1,"nav-link"],["href","#","routerLinkActive","active","routerLink","gallery",1,"nav-link"],["href","#","routerLinkActive","active","routerLink","works",1,"nav-link"],["href","#","routerLinkActive","active","routerLink","testimonials",1,"nav-link"],["href","#","routerLinkActive","active","routerLink","contact",1,"nav-link"],[1,"container","d-none","d-sm-none","d-md-none","d-lg-block"],[1,"column","row"],[1,"col-md-12","col-lg-8"],[1,"name-position","d-flex","justify-content-end"],[1,"col-md-12","col-lg-6"],[1,"dl-button"],[1,"download-resume"],["role","button","type","submit","onclick","downloadFile('rickryan')",1,"btn","btn-primary","bntdwnld"],[3,"icon"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),c._UZ(8,"img",8),c.qZA(),c._UZ(9,"div",9),c.qZA(),c.TgZ(10,"div",10)(11,"ul",11)(12,"li")(13,"a",12),c._uU(14,"Home"),c.qZA()(),c.TgZ(15,"li")(16,"a",13),c._uU(17,"Gallery"),c.qZA()(),c.TgZ(18,"li")(19,"a",14),c._uU(20,"Projects"),c.qZA()(),c.TgZ(21,"li")(22,"a",15),c._uU(23,"Testimonials"),c.qZA()(),c.TgZ(24,"li")(25,"a",16),c._uU(26,"Contact"),c.qZA()()()()()()()(),c.TgZ(27,"div",17)(28,"div",18)(29,"nav",19)(30,"a",20),c._uU(31,"Rick Ryan Medillo"),c.qZA(),c.TgZ(32,"button",21),c._UZ(33,"span",22),c.qZA(),c.TgZ(34,"div",23)(35,"ul",24)(36,"li",25)(37,"a",26),c._uU(38,"Home"),c.qZA()(),c.TgZ(39,"li",25)(40,"a",27),c._uU(41,"Gallery"),c.qZA()(),c.TgZ(42,"li",25)(43,"a",28),c._uU(44,"Works"),c.qZA()(),c.TgZ(45,"li",25)(46,"a",29),c._uU(47,"Testimonials"),c.qZA()(),c.TgZ(48,"li",25)(49,"a",30),c._uU(50,"Contact"),c.qZA()()()()()()()()(),c.TgZ(51,"div",31)(52,"div",32)(53,"div",33)(54,"div",34)(55,"div",35)(56,"p"),c._uU(57," Web Designer, Front-End and Back-End "),c._UZ(58,"br"),c._uU(59,"Developer. I Design and Build Websites from Scratch. "),c.qZA(),c.TgZ(60,"div",36)(61,"div",37)(62,"button",38),c._UZ(63,"fa-icon",39),c._uU(64,"\xa0\xa0\xa0DOWNLOAD RESUME "),c.qZA()()()()()()()()),2&t&&(c.xp6(63),c.Q6J("icon",r.faDownload))},directives:[Zn,G0,e5],styles:[""]}),n})();class wM1{}let VM1=(()=>{class n{constructor(t){this.db=t,this.dbPath="/likes",this.likeStatus=new wM1,this.likeStatus.status={status:"Failed"},this.status=this.likeStatus.status,this.likesRef=t.list(this.dbPath)}getLike(t){return this.likeRef=this.db.object("/likes/"+t)}getAll(){return this.likesRef}create(t){return this.likesRef.push(t)}update(t,r){return this.likesRef.update(t,r)}delete(t){return this.likesRef.remove(t)}deleteAll(t){return this.likesRef.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SM1=A(788);let HM1=(()=>{class n{constructor(t,r,i,s,u,h){this.likeService=t,this.testimonialsService=r,this.datepipe=i,this.visitorService=s,this.router=u,this.toastr=h,this.faThumbsUp=NK,this.faUsers=CV,this.faComments=x_,this.faDownload=Dl}ngOnInit(){var t=this;return(0,w1.Z)(function*(){new countBirth,t.request=yield fetch("https://ipinfo.io/json?token=1509eda3fb61e2"),t.result=yield t.request.json(),t.ipAddress=t.result.ip,t.visitorCountry=t.result.country,t.visitorCity=t.result.city,t.ipToInt=SM1(t.ipAddress).toInt(),t.fetchLikes(),t.fetchVisitors(),t.fetchTestimonials()})()}fetchTestimonials(){this.testimonialsService.getAll().snapshotChanges().pipe((0,b2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.testimonials=t,this.counttestimonials=t.length})}fetchVisitors(){this.visitorService.getAll().snapshotChanges().pipe((0,b2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.countvisitors=t.length})}fetchLikes(){this.likeService.getAll().snapshotChanges().pipe((0,b2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.likes=t,this.countLikes=t.length,this.likes.forEach(r=>{r.user_ip==this.ipToInt&&(this.visitorIP=r.user_ip)})})}addLike(){let t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss");this.likeService.create({user_ip:this.ipToInt,country:this.visitorCountry,city:this.visitorCity,postedon:t}).then(()=>{this.toastr.info("Thanks for the likes!!")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(VM1),c.Y36(ZK),c.Y36(nn),c.Y36(rT),c.Y36(p3),c.Y36(oa))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-sidebar"]],decls:58,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-4"],[1,"left-box"],["src","assets/image/rick-ryan-profile.jpg",1,"img-fluid"],[1,"view-profile","text-center"],[1,"row","text-center"],[1,"col-sm-12","col-md-12"],[1,"btn","btn-default","btn-md","btn-like",3,"disabled","click"],[3,"icon"],[1,"content-box"],[1,"title"],[1,"content"],[1,"category"],[1,"col-md-7","col-sm-7","col-xs-7"],[1,"category-list"],[1,"col-md-5","col-sm-5","col-xs-5","text-right"],[1,"category-value"],[1,"hr-category"],["routerLinkActive","active","routerLink","visitors"],["routerLinkActive","active","routerLink","testimonials"],[1,"intro-box","d-none"],[1,"dl-button"],[1,"download-resume"],["role","button","type","submit","onclick","downloadFile('rickryan')",1,"btn","btn-primary","bntdwnld"]],template:function(t,r){if(1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"img",4),c.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"button",8),c.NdJ("click",function(){return r.addLike()}),c._UZ(9,"fa-icon",9),c._uU(10,"\xa0\xa0\xa0LIKE ME "),c.qZA()()()(),c.TgZ(11,"div",10)(12,"div",11),c._uU(13," CAREER OBJECTIVE "),c.qZA(),c.TgZ(14,"div",12),c._uU(15," To secure a challenging position in a reputable organization to expand my learnings, knowledge, and skills. "),c.qZA(),c.TgZ(16,"div",13)(17,"div",1)(18,"div",14)(19,"span",15),c._UZ(20,"fa-icon",9),c._uU(21,"\xa0\xa0LIKES "),c.qZA()(),c.TgZ(22,"div",16)(23,"span",17),c._uU(24),c.qZA()()(),c._UZ(25,"hr",18),c.TgZ(26,"div",1)(27,"div",14)(28,"span",15)(29,"a",19),c._UZ(30,"fa-icon",9),c._uU(31,"\xa0\xa0VISITORS"),c.qZA()()(),c.TgZ(32,"div",16)(33,"span",17),c._uU(34),c.qZA()()(),c._UZ(35,"hr",18),c.TgZ(36,"div",1)(37,"div",14)(38,"span",15)(39,"a",20),c._UZ(40,"fa-icon",9),c._uU(41,"\xa0\xa0TESTIMONIAL"),c.qZA()()(),c.TgZ(42,"div",16)(43,"span",17),c._uU(44),c.qZA()()()()()()()()(),c.TgZ(45,"div",0)(46,"div",1)(47,"div",7)(48,"div",21)(49,"p"),c._uU(50," Web Designer, Front-End and Back-End "),c._UZ(51,"br"),c._uU(52,"Developer. I Design and Build Websites from Scratch. "),c.qZA(),c.TgZ(53,"div",22)(54,"div",23)(55,"button",24),c._UZ(56,"fa-icon",9),c._uU(57,"\xa0\xa0\xa0DOWNLOAD RESUME "),c.qZA()()()()()()()),2&t){let i;c.xp6(8),c.Q6J("disabled",null!==(i=r.visitorIP)&&void 0!==i?i:null),c.xp6(1),c.Q6J("icon",r.faThumbsUp),c.xp6(11),c.Q6J("icon",r.faThumbsUp),c.xp6(4),c.Oqu(r.countLikes),c.xp6(6),c.Q6J("icon",r.faUsers),c.xp6(4),c.Oqu(r.countvisitors),c.xp6(6),c.Q6J("icon",r.faComments),c.xp6(4),c.Oqu(r.counttestimonials),c.xp6(12),c.Q6J("icon",r.faDownload)}},directives:[e5,Zn,G0],styles:["button.btn.btn-default.btn-md.btn-like[_ngcontent-%COMP%]:hover:disabled{border:2px solid #eae3d8;color:#eae3d8}"]}),n})();var JK={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M504 256C504 119 393 8 256 8S8 119 8 256c0 123.8 90.69 226.4 209.3 245V327.7h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.3 482.4 504 379.8 504 256z"]},XK={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]};let iE1=(()=>{class n{constructor(){this.faFacebook=JK,this.faLinkedin=XK,this.faEnvelope=ds,this.faMobile=Ug,this.currentYear=(new Date).getFullYear()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:26,vars:5,consts:[[1,"footer-bg"],[1,"container"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-8"],[1,"left-footer"],[1,"col-sm-12","col-md-12","col-lg-4"],[1,"right-footer","text-center"],[3,"icon"],["href","https://www.facebook.com/mudp0et","target","_blank"],["href","https://www.linkedin.com/in/rick-ryan-medillo-7821371a1/","target","_blank"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c._uU(5),c.TgZ(6,"span"),c._uU(7,"Rick Ryan Medillo."),c.qZA(),c._uU(8," All Rights Reserved. "),c.qZA()(),c.TgZ(9,"div",5)(10,"div",6)(11,"h5"),c._uU(12,"CONTACT INFO"),c.qZA(),c.TgZ(13,"p"),c._UZ(14,"fa-icon",7),c._uU(15," Email: rickryan29.rr@gmail.com"),c.qZA(),c.TgZ(16,"p"),c._UZ(17,"fa-icon",7),c._uU(18," Mobile: +639611335934"),c.qZA(),c.TgZ(19,"p"),c._uU(20," Follow me on:\xa0 "),c.TgZ(21,"a",8),c._UZ(22,"fa-icon",7),c.qZA(),c._uU(23,"\xa0\xa0 "),c.TgZ(24,"a",9),c._UZ(25,"fa-icon",7),c.qZA()()()()()()()),2&t&&(c.xp6(5),c.hij(" Copyright \xa9 ",r.currentYear," "),c.xp6(9),c.Q6J("icon",r.faEnvelope),c.xp6(3),c.Q6J("icon",r.faMobile),c.xp6(5),c.Q6J("icon",r.faFacebook),c.xp6(3),c.Q6J("icon",r.faLinkedin))},directives:[e5],styles:[""]}),n})();function sE1(n,e){1&n&&c._UZ(0,"app-header")}function aE1(n,e){1&n&&c._UZ(0,"app-sidebar")}function oE1(n,e){1&n&&c._UZ(0,"app-footer")}let cE1=(()=>{class n{constructor(t,r){this.router=t,this.activatedRoute=r,this.title="Rick Ryan Medillo",this.showHeader=!1,this.showSidebar=!1,this.showFooter=!1}ngOnInit(){this.router.events.subscribe(t=>{var r,i,s;t instanceof y8&&(this.showHeader=!1!==(null===(r=this.activatedRoute.root.firstChild)||void 0===r?void 0:r.snapshot.data.showHeader),this.showSidebar=!1!==(null===(i=this.activatedRoute.root.firstChild)||void 0===i?void 0:i.snapshot.data.showSidebar),this.showFooter=!1!==(null===(s=this.activatedRoute.root.firstChild)||void 0===s?void 0:s.snapshot.data.showFooter))})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(p3),c.Y36(N6))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:3,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(c.YNc(0,sE1,1,0,"app-header",0),c.YNc(1,aE1,1,0,"app-sidebar",0),c._UZ(2,"router-outlet"),c.YNc(3,oE1,1,0,"app-footer",0)),2&t&&(c.Q6J("ngIf",r.showHeader),c.xp6(1),c.Q6J("ngIf",r.showSidebar),c.xp6(2),c.Q6J("ngIf",r.showFooter))},directives:[ke,zM1,HM1,H5,iE1],styles:[""]}),n})();!function(){function n(e,t,r){this.el=e,this.vcr=t,this.renderer=r,this.dtOptions={}}n.prototype.ngOnInit=function(){var e=this;this.dtTrigger?this.dtTrigger.subscribe(function(t){e.displayTable(t)}):this.displayTable(null)},n.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},n.prototype.displayTable=function(e){var t=this;e&&(this.dtOptions=e),this.dtInstance=new Promise(function(r,i){Promise.resolve(t.dtOptions).then(function(s){0===Object.keys(s).length&&0===$("tbody tr",t.el.nativeElement).length?i("Both the table and dtOptions cannot be empty"):setTimeout(function(){var h={rowCallback:function(C,v,b){if(s.columns){var z=s.columns;t.applyNgPipeTransform(C,z),t.applyNgRefTemplate(C,z,v)}s.rowCallback&&s.rowCallback(C,v,b)}};h=Object.assign({},s,h),t.dt=$(t.el.nativeElement).DataTable(h),r(t.dt)})})})},n.prototype.applyNgPipeTransform=function(e,t){t.filter(function(i){return i.ngPipeInstance&&!i.ngTemplateRef}).forEach(function(i){var s=i.ngPipeInstance,u=t.findIndex(function(b){return b.data===i.data}),h=e.childNodes.item(u),C=$(h).text(),v=s.transform(C);$(h).text(v)})},n.prototype.applyNgRefTemplate=function(e,t,r){var i=this;t.filter(function(u){return u.ngTemplateRef&&!u.ngPipeInstance}).forEach(function(u){var h=u.ngTemplateRef,C=h.ref,v=h.context,b=t.findIndex(function(I){return I.data===u.data}),z=e.childNodes.item(b);$(z).html("");var S=Object.assign({},v,null==v?void 0:v.userData,{adtData:r}),E=i.vcr.createEmbeddedView(C,S);i.renderer.appendChild(z,E.rootNodes[0])})},n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}})}();var lE1=function(){function n(){}return n.forRoot=function(){return{ngModule:n}},n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Bt]]}),n}();const de=!1;function aY(n){return new c.vHH(3e3,de)}function jE1(){return"undefined"!=typeof window&&void 0!==window.document}function HA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Zi(n){switch(n.length){case 0:return new Eh;case 1:return n[0];default:return new rW(n)}}function oY(n,e,t,r,i={},s={}){const u=[],h=[];let C=-1,v=null;if(r.forEach(b=>{const z=b.offset,S=z==C,E=S&&v||{};Object.keys(b).forEach(I=>{let K=I,o1=b[I];if("offset"!==I)switch(K=e.normalizePropertyName(K,u),o1){case"!":o1=i[I];break;case K8:o1=s[I];break;default:o1=e.normalizeStyleValue(I,K,o1,u)}E[K]=o1}),S||h.push(E),v=E,C=z}),u.length)throw function AE1(n){return new c.vHH(3502,de)}();return h}function xA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&EA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&EA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&EA(t,"destroy",n)))}}function EA(n,e,t){const r=t.totalTime,s=TA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function TA(n,e,t,r,i="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!u}}function Vn(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function cY(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let AA=(n,e)=>!1,lY=(n,e,t)=>[],uY=null;function IA(n){const e=n.parentNode||n.host;return e===uY?null:e}(HA()||"undefined"!=typeof Element)&&(jE1()?(uY=(()=>document.documentElement)(),AA=(n,e)=>{for(;e;){if(e===n)return!0;e=IA(e)}return!1}):AA=(n,e)=>n.contains(e),lY=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let da=null,fY=!1;function hY(n){da||(da=function GE1(){return"undefined"!=typeof document?document.body:null}()||{},fY=!!da.style&&"WebkitAppearance"in da.style);let e=!0;return da.style&&!function qE1(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in da.style,!e&&fY&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in da.style)),e}const dY=AA,CY=lY;let pY=(()=>{class n{validateStyleProperty(t){return hY(t)}matchesElement(t,r){return!1}containsElement(t,r){return dY(t,r)}getParentElement(t){return IA(t)}query(t,r,i){return CY(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,u,h=[],C){return new Eh(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),NA=(()=>{class n{}return n.NOOP=new pY,n})();const DA="ng-enter",N_="ng-leave",D_="ng-trigger",k_=".ng-trigger",gY="ng-animating",kA=".ng-animating";function Ca(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:PA(parseFloat(e[1]),e[2])}function PA(n,e){return"s"===e?1e3*n:n}function P_(n,e,t){return n.hasOwnProperty("duration")?n:function ZE1(n,e,t){let i,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(aY()),{duration:0,delay:0,easing:""};i=PA(parseFloat(h[1]),h[2]);const C=h[3];null!=C&&(s=PA(parseFloat(C),h[4]));const v=h[5];v&&(u=v)}else i=n;if(!t){let h=!1,C=e.length;i<0&&(e.push(function uE1(){return new c.vHH(3100,de)}()),h=!0),s<0&&(e.push(function fE1(){return new c.vHH(3101,de)}()),h=!0),h&&e.splice(C,0,aY())}return{duration:i,delay:s,easing:u}}(n,e,t)}function l9(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ki(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else l9(n,t);return t}function yY(n,e,t){return t?e+":"+t+";":""}function _Y(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=yY(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=yY(0,QE1(t),n.style[t]));n.setAttribute("style",e)}function K5(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=OA(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),HA()&&_Y(n))}function pa(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=OA(t);n.style[r]=""}),HA()&&_Y(n))}function Wh(n){return Array.isArray(n)?1==n.length?n[0]:eW(n):n}const RA=new RegExp("{{\\s*(.+?)\\s*}}","g");function MY(n){let e=[];if("string"==typeof n){let t;for(;t=RA.exec(n);)e.push(t[1]);RA.lastIndex=0}return e}function R_(n,e,t){const r=n.toString(),i=r.replace(RA,(s,u)=>{let h=e[u];return e.hasOwnProperty(u)||(t.push(function dE1(n){return new c.vHH(3003,de)}()),h=""),h.toString()});return i==r?n:i}function O_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const YE1=/-+([a-z0-9])/g;function OA(n){return n.replace(YE1,(...e)=>e[1].toUpperCase())}function QE1(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Sn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function CE1(n){return new c.vHH(3004,de)}()}}function LY(n,e){return window.getComputedStyle(n)[e]}function rT1(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function iT1(n,e,t){if(":"==n[0]){const C=function sT1(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function HE1(n){return new c.vHH(3016,de)}()),"* => *"}}(n,t);if("function"==typeof C)return void e.push(C);n=C}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function SE1(n){return new c.vHH(3015,de)}()),e;const i=r[1],s=r[2],u=r[3];e.push(bY(i,u));"<"==s[0]&&!("*"==i&&"*"==u)&&e.push(bY(u,i))}(r,t,e)):t.push(n),t}const j_=new Set(["true","1"]),q_=new Set(["false","0"]);function bY(n,e){const t=j_.has(n)||q_.has(n),r=j_.has(e)||q_.has(e);return(i,s)=>{let u="*"==n||n==i,h="*"==e||e==s;return!u&&t&&"boolean"==typeof i&&(u=i?j_.has(n):q_.has(n)),!h&&r&&"boolean"==typeof s&&(h=s?j_.has(e):q_.has(e)),u&&h}}const aT1=new RegExp("s*:selfs*,?","g");function FA(n,e,t,r){return new oT1(n).build(e,t,r)}class oT1{constructor(e){this._driver=e}build(e,t,r){const i=new uT1(t);this._resetContextStyleTimingState(i);const s=Sn(this,Wh(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function mE1(){return new c.vHH(3006,de)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const C=h,v=C.name;v.toString().split(/\s*,\s*/).forEach(b=>{C.name=b,s.push(this.visitState(C,t))}),C.name=v}else if(1==h.type){const C=this.visitTransition(h,t);r+=C.queryCount,i+=C.depCount,u.push(C)}else t.errors.push(function gE1(){return new c.vHH(3007,de)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,u=i||{};r.styles.forEach(h=>{if(G_(h)){const C=h;Object.keys(C).forEach(v=>{MY(C[v]).forEach(b=>{u.hasOwnProperty(b)||s.add(b)})})}}),s.size&&(O_(s.values()),t.errors.push(function vE1(n,e){return new c.vHH(3008,de)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Sn(this,Wh(e.animation),t);return{type:1,matchers:rT1(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ma(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Sn(this,r,t)),options:ma(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(u=>{t.currentTime=r;const h=Sn(this,u,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:s,options:ma(e.options)}}visitAnimate(e,t){const r=function hT1(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return UA(P_(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=UA(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=P_(t,e);return UA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:xh({});if(5==s.type)i=this.visitKeyframes(s,t);else{let u=e.styles,h=!1;if(!u){h=!0;const v={};r.easing&&(v.easing=r.easing),u=xh(v)}t.currentTime+=r.duration+r.delay;const C=this.visitStyle(u,t);C.isEmptyStep=h,i=C}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==K8?r.push(u):t.errors.push(function yE1(n){return new c.vHH(3002,de)}()):r.push(u)}):r.push(e.styles);let i=!1,s=null;return r.forEach(u=>{if(G_(u)){const h=u,C=h.easing;if(C&&(s=C,delete h.easing),!i)for(let v in h)if(h[v].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void t.unsupportedCSSPropertiesFound.add(h);const C=t.collectedStyles[t.currentQuerySelector],v=C[h];let b=!0;v&&(s!=i&&s>=v.startTime&&i<=v.endTime&&(t.errors.push(function _E1(n,e,t,r,i){return new c.vHH(3010,de)}()),b=!1),s=v.startTime),b&&(C[h]={startTime:s,endTime:i}),t.options&&function KE1(n,e,t){const r=e.params||{},i=MY(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function hE1(n){return new c.vHH(3001,de)}())})}(u[h],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ME1(){return new c.vHH(3011,de)}()),r;let s=0;const u=[];let h=!1,C=!1,v=0;const b=e.steps.map(R1=>{const U1=this._makeStyleAst(R1,t);let $1=null!=U1.offset?U1.offset:function fT1(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(G_(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(G_(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(U1.styles),J1=0;return null!=$1&&(s++,J1=U1.offset=$1),C=C||J1<0||J1>1,h=h||J1<v,v=J1,u.push(J1),U1});C&&t.errors.push(function LE1(){return new c.vHH(3012,de)}()),h&&t.errors.push(function bE1(){return new c.vHH(3200,de)}());const z=e.steps.length;let S=0;s>0&&s<z?t.errors.push(function zE1(){return new c.vHH(3202,de)}()):0==s&&(S=1/(z-1));const E=z-1,I=t.currentTime,K=t.currentAnimateTimings,o1=K.duration;return b.forEach((R1,U1)=>{const $1=S>0?U1==E?1:S*U1:u[U1],J1=$1*o1;t.currentTime=I+K.delay+J1,K.duration=J1,this._validateStyleAst(R1,t),R1.offset=$1,r.styles.push(R1)}),r}visitReference(e,t){return{type:8,animation:Sn(this,Wh(e.animation),t),options:ma(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ma(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ma(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function cT1(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(aT1,"")),n=n.replace(/@\*/g,k_).replace(/@\w+/g,t=>k_+"-"+t.substr(1)).replace(/:animating/g,kA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Vn(t.collectedStyles,t.currentQuerySelector,{});const h=Sn(this,Wh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:ma(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function wE1(){return new c.vHH(3013,de)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:P_(e.timings,t.errors,!0);return{type:12,animation:Sn(this,Wh(e.animation),t),timings:r,options:null}}}class uT1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function G_(n){return!Array.isArray(n)&&"object"==typeof n}function ma(n){return n?(n=l9(n)).params&&(n.params=function lT1(n){return n?l9(n):null}(n.params)):n={},n}function UA(n,e,t){return{duration:n,delay:e,easing:t}}function BA(n,e,t,r,i,s,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:u,subTimeline:h}}class W_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const pT1=new RegExp(":enter","g"),gT1=new RegExp(":leave","g");function jA(n,e,t,r,i,s={},u={},h,C,v=[]){return(new vT1).buildKeyframes(n,e,t,r,i,s,u,h,C,v)}class vT1{buildKeyframes(e,t,r,i,s,u,h,C,v,b=[]){v=v||new W_;const z=new qA(e,t,v,i,s,b,[]);z.options=C,z.currentTimeline.setStyles([u],null,z.errors,C),Sn(this,r,z);const S=z.timelines.filter(E=>E.containsAnimation());if(Object.keys(h).length){let E;for(let I=S.length-1;I>=0;I--){const K=S[I];if(K.element===t){E=K;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([h],null,z.errors,C)}return S.length?S.map(E=>E.buildKeyframes()):[BA(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const u=null!=r.duration?Ca(r.duration):null,h=null!=r.delay?Ca(r.delay):null;return 0!==u&&e.forEach(C=>{const v=t.appendInstructionToTimeline(C,u,h);s=Math.max(s,v.duration+v.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Sn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=$_);const u=Ca(s.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Sn(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ca(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),Sn(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return P_(t.params?R_(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(C=>{h.forwardTime((C.offset||0)*s),h.setStyles(C.styles,C.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Ca(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$_);let u=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let C=null;h.forEach((v,b)=>{t.currentQueryIndex=b;const z=t.createSubContext(e.options,v);s&&z.delayNextStep(s),v===t.element&&(C=z.currentTimeline),Sn(this,e.animation,z),z.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,z.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),C&&(t.currentTimeline.mergeTimelineCollectedStyles(C),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),h=u*(t.currentQueryTotal-1);let C=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":C=h-C;break;case"full":C=r.currentStaggerTime}const b=t.currentTimeline;C&&b.delayNextStep(C);const z=b.currentTime;Sn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-z+(i.startTime-r.currentTimeline.startTime)}}const $_={};class qA{constructor(e,t,r,i,s,u,h,C){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new Z_(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ca(r.duration)),null!=r.delay&&(i.delay=Ca(r.delay));const s=r.params;if(s){let u=i.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=R_(s[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new qA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=$_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new yT1(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,u){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(pT1,"."+this._enterClassName)).replace(gT1,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),h.push(...v)}return!s&&0==h.length&&u.push(function VE1(n){return new c.vHH(3014,de)}()),h}}class Z_{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Z_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||K8,this._currentKeyframe[t]=K8}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},u=function _T1(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=K8})):Ki(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const C=R_(u[h],s,r);this._pendingStyles[h]=C,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:K8),this._updateStyle(h,C)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,C)=>{const v=Ki(h,!0);Object.keys(v).forEach(b=>{const z=v[b];"!"==z?e.add(b):z==K8&&t.add(b)}),r||(v.offset=C/this.duration),i.push(v)});const s=e.size?O_(e.values()):[],u=t.size?O_(t.values()):[];if(r){const h=i[0],C=l9(h);h.offset=0,C.offset=1,i=[h,C]}return BA(this.element,i,s,u,this.duration,this.startTime,this.easing,!1)}}class yT1 extends Z_{constructor(e,t,r,i,s,u,h=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=r+t,h=t/u,C=Ki(e[0],!1);C.offset=0,s.push(C);const v=Ki(e[0],!1);v.offset=VY(h),s.push(v);const b=e.length-1;for(let z=1;z<=b;z++){let S=Ki(e[z],!1);S.offset=VY((t+S.offset*r)/u),s.push(S)}r=u,t=0,i="",e=s}return BA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function VY(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class GA{}class MT1 extends GA{normalizePropertyName(e,t){return OA(e)}normalizeStyleValue(e,t,r,i){let s="";const u=r.toString().trim();if(LT1[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function pE1(n,e){return new c.vHH(3005,de)}())}return u+s}}const LT1=(()=>function bT1(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function SY(n,e,t,r,i,s,u,h,C,v,b,z,S){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:u,timelines:h,queriedElements:C,preStyleProps:v,postStyleProps:b,totalTime:z,errors:S}}const WA={};class HY{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function zT1(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],u=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):u}build(e,t,r,i,s,u,h,C,v,b){const z=[],S=this.ast.options&&this.ast.options.params||WA,I=this.buildStyles(r,h&&h.params||WA,z),K=C&&C.params||WA,o1=this.buildStyles(i,K,z),R1=new Set,U1=new Map,$1=new Map,J1="void"===i,v2={params:Object.assign(Object.assign({},S),K)},E2=b?[]:jA(e,t,this.ast.animation,s,u,I,o1,v2,v,z);let te=0;if(E2.forEach(o4=>{te=Math.max(o4.duration+o4.delay,te)}),z.length)return SY(t,this._triggerName,r,i,J1,I,o1,[],[],U1,$1,te,z);E2.forEach(o4=>{const rr=o4.element,NQ=Vn(U1,rr,{});o4.preStyleProps.forEach(va=>NQ[va]=!0);const ed=Vn($1,rr,{});o4.postStyleProps.forEach(va=>ed[va]=!0),rr!==t&&R1.add(rr)});const Je=O_(R1.values());return SY(t,this._triggerName,r,i,J1,I,o1,E2,Je,U1,$1,te)}}class wT1{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=l9(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!=u&&(i[s]=u)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const u=s;Object.keys(u).forEach(h=>{let C=u[h];C.length>1&&(C=R_(C,i,t));const v=this.normalizer.normalizePropertyName(h,t);C=this.normalizer.normalizeStyleValue(h,v,C,t),r[v]=C})}}),r}}class ST1{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new wT1(i.style,i.options&&i.options.params||{},r)}),xY(this.states,"true","1"),xY(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new HY(e,i,this.states))}),this.fallbackTransition=function HT1(n,e,t){return new HY(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function xY(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const xT1=new W_;class ET1{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=FA(this._driver,t,r,[]);if(r.length)throw function IE1(n){return new c.vHH(3503,de)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=oY(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let u;const h=new Map;if(s?(u=jA(this._driver,t,s,DA,N_,{},{},r,xT1,i),u.forEach(b=>{const z=Vn(h,b.element,{});b.postStyleProps.forEach(S=>z[S]=null)})):(i.push(function NE1(){return new c.vHH(3300,de)}()),u=[]),i.length)throw function DE1(n){return new c.vHH(3504,de)}();h.forEach((b,z)=>{Object.keys(b).forEach(S=>{b[S]=this._driver.computeStyle(z,S,K8)})});const v=Zi(u.map(b=>{const z=h.get(b.element);return this._buildPlayer(b,{},z)}));return this._playersById[e]=v,v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function kE1(n){return new c.vHH(3301,de)}();return t}listen(e,t,r,i){const s=TA(t,"","","");return xA(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const EY="ng-animate-queued",$A="ng-animate-disabled",DT1=[],TY={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kT1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},d6="__ng_removed";class ZA{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function FT1(n){return null!=n?n:null}(r?e.value:e),r){const s=l9(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const $h="void",KA=new ZA($h);class PT1{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,C6(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function PE1(n,e){return new c.vHH(3302,de)}();if(null==r||0==r.length)throw function RE1(n){return new c.vHH(3303,de)}();if(!function UT1(n){return"start"==n||"done"==n}(r))throw function OE1(n,e){return new c.vHH(3400,de)}();const s=Vn(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};s.push(u);const h=Vn(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(C6(e,D_),C6(e,D_+"-"+t),h[t]=KA),()=>{this._engine.afterFlush(()=>{const C=s.indexOf(u);C>=0&&s.splice(C,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function FE1(n){return new c.vHH(3401,de)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),u=new YA(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(C6(e,D_),C6(e,D_+"-"+t),this._engine.statesByElement.set(e,h={}));let C=h[t];const v=new ZA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&C&&v.absorbOptions(C.options),h[t]=v,C||(C=KA),v.value!==$h&&C.value===v.value){if(!function qT1(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(C.params,v.params)){const K=[],o1=s.matchStyles(C.value,C.params,K),R1=s.matchStyles(v.value,v.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{pa(e,o1),K5(e,R1)})}return}const S=Vn(this._engine.playersByElement,e,[]);S.forEach(K=>{K.namespaceId==this.id&&K.triggerName==t&&K.queued&&K.destroy()});let E=s.matchTransition(C.value,v.value,e,v.params),I=!1;if(!E){if(!i)return;E=s.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:E,fromState:C,toState:v,player:u,isFallbackTransition:I}),I||(C6(e,EY),u.onStart(()=>{u9(e,EY)})),u.onDone(()=>{let K=this.players.indexOf(u);K>=0&&this.players.splice(K,1);const o1=this._engine.playersByElement.get(e);if(o1){let R1=o1.indexOf(u);R1>=0&&o1.splice(R1,1)}}),this.players.push(u),S.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,k_,!0);r.forEach(i=>{if(i[d6])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const h=[];if(Object.keys(s).forEach(C=>{if(u.set(C,s[C].value),this._triggers[C]){const v=this.trigger(e,C,$h,i);v&&h.push(v)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&Zi(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const u=s.name;if(i.has(u))return;i.add(u);const C=this._triggers[u].fallbackTransition,v=r[u]||KA,b=new ZA($h),z=new YA(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:C,fromState:v,toState:b,player:z,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[d6];(!s||s===TY)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){C6(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==r.triggerName){const C=TA(s,r.triggerName,r.fromState.value,r.toState.value);C._data=e,xA(r.player,h.phase,C,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class RT1{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new PT1(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const C=i.get(h);if(C){const v=r.indexOf(C);r.splice(v+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(r[h].hostElement,t)){r.splice(h+1,0,e),u=!0;break}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const u=r[i[s]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&t.add(h)}}}return t}trigger(e,t,r,i){if(K_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!K_(t))return;const s=t[d6];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),C6(e,$A)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),u9(e,$A))}removeNode(e,t,r,i){if(K_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[d6]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return K_(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,k_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,kA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Zi(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[d6];if(r&&r.setForRemoval){if(e[d6]=TY,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains($A))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)C6(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Zi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function UE1(n){return new c.vHH(3402,de)}()}_flushAnimations(e,t){const r=new W_,i=[],s=new Map,u=[],h=new Map,C=new Map,v=new Map,b=new Set;this.disabledNodes.forEach(z2=>{b.add(z2);const D2=this.driver.query(z2,".ng-animate-queued",!0);for(let B2=0;B2<D2.length;B2++)b.add(D2[B2])});const z=this.bodyNode,S=Array.from(this.statesByElement.keys()),E=NY(S,this.collectedEnterElements),I=new Map;let K=0;E.forEach((z2,D2)=>{const B2=DA+K++;I.set(D2,B2),z2.forEach(Me=>C6(Me,B2))});const o1=[],R1=new Set,U1=new Set;for(let z2=0;z2<this.collectedLeaveElements.length;z2++){const D2=this.collectedLeaveElements[z2],B2=D2[d6];B2&&B2.setForRemoval&&(o1.push(D2),R1.add(D2),B2.hasAnimation?this.driver.query(D2,".ng-star-inserted",!0).forEach(Me=>R1.add(Me)):U1.add(D2))}const $1=new Map,J1=NY(S,Array.from(R1));J1.forEach((z2,D2)=>{const B2=N_+K++;$1.set(D2,B2),z2.forEach(Me=>C6(Me,B2))}),e.push(()=>{E.forEach((z2,D2)=>{const B2=I.get(D2);z2.forEach(Me=>u9(Me,B2))}),J1.forEach((z2,D2)=>{const B2=$1.get(D2);z2.forEach(Me=>u9(Me,B2))}),o1.forEach(z2=>{this.processLeaveNode(z2)})});const v2=[],E2=[];for(let z2=this._namespaceList.length-1;z2>=0;z2--)this._namespaceList[z2].drainQueuedTransitions(t).forEach(B2=>{const Me=B2.player,E4=B2.element;if(v2.push(Me),this.collectedEnterElements.length){const kt=E4[d6];if(kt&&kt.setForMove){if(kt.previousTriggersValues&&kt.previousTriggersValues.has(B2.triggerName)){const ya=kt.previousTriggersValues.get(B2.triggerName),Ji=this.statesByElement.get(B2.element);Ji&&Ji[B2.triggerName]&&(Ji[B2.triggerName].value=ya)}return void Me.destroy()}}const X5=!z||!this.driver.containsElement(z,E4),xn=$1.get(E4),Qi=I.get(E4),V3=this._buildInstruction(B2,r,Qi,xn,X5);if(V3.errors&&V3.errors.length)return void E2.push(V3);if(X5)return Me.onStart(()=>pa(E4,V3.fromStyles)),Me.onDestroy(()=>K5(E4,V3.toStyles)),void i.push(Me);if(B2.isFallbackTransition)return Me.onStart(()=>pa(E4,V3.fromStyles)),Me.onDestroy(()=>K5(E4,V3.toStyles)),void i.push(Me);const PQ=[];V3.timelines.forEach(kt=>{kt.stretchStartingKeyframe=!0,this.disabledNodes.has(kt.element)||PQ.push(kt)}),V3.timelines=PQ,r.append(E4,V3.timelines),u.push({instruction:V3,player:Me,element:E4}),V3.queriedElements.forEach(kt=>Vn(h,kt,[]).push(Me)),V3.preStyleProps.forEach((kt,ya)=>{const Ji=Object.keys(kt);if(Ji.length){let _a=C.get(ya);_a||C.set(ya,_a=new Set),Ji.forEach(CI=>_a.add(CI))}}),V3.postStyleProps.forEach((kt,ya)=>{const Ji=Object.keys(kt);let _a=v.get(ya);_a||v.set(ya,_a=new Set),Ji.forEach(CI=>_a.add(CI))})});if(E2.length){const z2=[];E2.forEach(D2=>{z2.push(function BE1(n,e){return new c.vHH(3505,de)}())}),v2.forEach(D2=>D2.destroy()),this.reportError(z2)}const te=new Map,Je=new Map;u.forEach(z2=>{const D2=z2.element;r.has(D2)&&(Je.set(D2,D2),this._beforeAnimationBuild(z2.player.namespaceId,z2.instruction,te))}),i.forEach(z2=>{const D2=z2.element;this._getPreviousPlayers(D2,!1,z2.namespaceId,z2.triggerName,null).forEach(Me=>{Vn(te,D2,[]).push(Me),Me.destroy()})});const o4=o1.filter(z2=>kY(z2,C,v)),rr=new Map;IY(rr,this.driver,U1,v,K8).forEach(z2=>{kY(z2,C,v)&&o4.push(z2)});const ed=new Map;E.forEach((z2,D2)=>{IY(ed,this.driver,new Set(z2),C,"!")}),o4.forEach(z2=>{const D2=rr.get(z2),B2=ed.get(z2);rr.set(z2,Object.assign(Object.assign({},D2),B2))});const va=[],DQ=[],kQ={};u.forEach(z2=>{const{element:D2,player:B2,instruction:Me}=z2;if(r.has(D2)){if(b.has(D2))return B2.onDestroy(()=>K5(D2,Me.toStyles)),B2.disabled=!0,B2.overrideTotalTime(Me.totalTime),void i.push(B2);let E4=kQ;if(Je.size>1){let xn=D2;const Qi=[];for(;xn=xn.parentNode;){const V3=Je.get(xn);if(V3){E4=V3;break}Qi.push(xn)}Qi.forEach(V3=>Je.set(V3,E4))}const X5=this._buildAnimation(B2.namespaceId,Me,te,s,ed,rr);if(B2.setRealPlayer(X5),E4===kQ)va.push(B2);else{const xn=this.playersByElement.get(E4);xn&&xn.length&&(B2.parentPlayer=Zi(xn)),i.push(B2)}}else pa(D2,Me.fromStyles),B2.onDestroy(()=>K5(D2,Me.toStyles)),DQ.push(B2),b.has(D2)&&i.push(B2)}),DQ.forEach(z2=>{const D2=s.get(z2.element);if(D2&&D2.length){const B2=Zi(D2);z2.setRealPlayer(B2)}}),i.forEach(z2=>{z2.parentPlayer?z2.syncPlayerEvents(z2.parentPlayer):z2.destroy()});for(let z2=0;z2<o1.length;z2++){const D2=o1[z2],B2=D2[d6];if(u9(D2,N_),B2&&B2.hasAnimation)continue;let Me=[];if(h.size){let X5=h.get(D2);X5&&X5.length&&Me.push(...X5);let xn=this.driver.query(D2,kA,!0);for(let Qi=0;Qi<xn.length;Qi++){let V3=h.get(xn[Qi]);V3&&V3.length&&Me.push(...V3)}}const E4=Me.filter(X5=>!X5.destroyed);E4.length?BT1(this,D2,E4):this.processLeaveNode(D2)}return o1.length=0,va.forEach(z2=>{this.players.push(z2),z2.onDone(()=>{z2.destroy();const D2=this.players.indexOf(z2);this.players.splice(D2,1)}),z2.play()}),va}elementContainsData(e,t){let r=!1;const i=t[d6];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const C=!s||s==$h;h.forEach(v=>{v.queued||!C&&v.triggerName!=i||u.push(v)})}}return(r||i)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(e,t,r){const s=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const C of t.timelines){const v=C.element,b=v!==s,z=Vn(r,v,[]);this._getPreviousPlayers(v,b,u,h,t.toState).forEach(E=>{const I=E.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),E.destroy(),z.push(E)})}pa(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,u){const h=t.triggerName,C=t.element,v=[],b=new Set,z=new Set,S=t.timelines.map(I=>{const K=I.element;b.add(K);const o1=K[d6];if(o1&&o1.removedBeforeQueried)return new Eh(I.duration,I.delay);const R1=K!==C,U1=function jT1(n){const e=[];return DY(n,e),e}((r.get(K)||DT1).map(te=>te.getRealPlayer())).filter(te=>!!te.element&&te.element===K),$1=s.get(K),J1=u.get(K),v2=oY(0,this._normalizer,0,I.keyframes,$1,J1),E2=this._buildPlayer(I,v2,U1);if(I.subTimeline&&i&&z.add(K),R1){const te=new YA(e,h,K);te.setRealPlayer(E2),v.push(te)}return E2});v.forEach(I=>{Vn(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>function OT1(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,I.element,I))}),b.forEach(I=>C6(I,gY));const E=Zi(S);return E.onDestroy(()=>{b.forEach(I=>u9(I,gY)),K5(C,t.toStyles)}),z.forEach(I=>{Vn(i,I,[]).push(E)}),E}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Eh(e.duration,e.delay)}}class YA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Eh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>xA(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Vn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function K_(n){return n&&1===n.nodeType}function AY(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function IY(n,e,t,r,i){const s=[];t.forEach(C=>s.push(AY(C)));const u=[];r.forEach((C,v)=>{const b={};C.forEach(z=>{const S=b[z]=e.computeStyle(v,z,i);(!S||0==S.length)&&(v[d6]=kT1,u.push(v))}),n.set(v,b)});let h=0;return t.forEach(C=>AY(C,s[h++])),u}function NY(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),s=new Map;function u(h){if(!h)return 1;let C=s.get(h);if(C)return C;const v=h.parentNode;return C=t.has(v)?v:i.has(v)?1:u(v),s.set(h,C),C}return e.forEach(h=>{const C=u(h);1!==C&&t.get(C).push(h)}),t}function C6(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function u9(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function BT1(n,e,t){Zi(t).onDone(()=>n.processLeaveNode(e))}function DY(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof rW?DY(r.players,e):e.push(r)}}function kY(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Y_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new RT1(e,t,r),this._timelineEngine=new ET1(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const u=e+"-"+i;let h=this._triggerCache[u];if(!h){const C=[],b=FA(this._driver,s,C,[]);if(C.length)throw function TE1(n,e){return new c.vHH(3404,de)}();h=function VT1(n,e,t){return new ST1(n,e,t)}(i,b,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,u]=cY(r);this._timelineEngine.command(s,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[u,h]=cY(r);return this._timelineEngine.listen(u,t,h,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let WT1=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&K5(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(K5(this._element,this._initialStyles),this._endStyles&&(K5(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pa(this._element,this._endStyles),this._endStyles=null),K5(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function QA(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];$T1(i)&&(e=e||{},e[i]=n[i])}return e}function $T1(n){return"display"===n||"position"===n}class PY{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:LY(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ZT1{validateStyleProperty(e){return hY(e)}matchesElement(e,t){return!1}containsElement(e,t){return dY(e,t)}getParentElement(e){return IA(e)}query(e,t,r){return CY(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,u=[]){const C={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(C.easing=s);const v={},b=u.filter(S=>S instanceof PY);(function JE1(n,e){return 0===n||0===e})(r,i)&&b.forEach(S=>{let E=S.currentSnapshot;Object.keys(E).forEach(I=>v[I]=E[I])}),t=function XE1(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],u=[];if(r.forEach(h=>{s.hasOwnProperty(h)||u.push(h),s[h]=t[h]}),u.length)for(var i=1;i<e.length;i++){let h=e[i];u.forEach(function(C){h[C]=LY(n,C)})}}return e}(e,t=t.map(S=>Ki(S,!1)),v);const z=function GT1(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=QA(e[0]),e.length>1&&(r=QA(e[e.length-1]))):e&&(t=QA(e)),t||r?new WT1(n,t,r):null}(e,t);return new PY(e,t,C,z)}}let KT1=(()=>{class n extends JG{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?eW(t):t;return RY(this._renderer,null,r,"register",[i]),new YT1(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(l1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class YT1 extends class Yd1{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new QT1(this._id,e,t||{},this._renderer)}}class QT1{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return RY(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function RY(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const OY="@.disabled";let JT1=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,u)=>{const h=null==u?void 0:u.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let b=this._rendererCache.get(s);return b||(b=new FY("",s,this.engine),this._rendererCache.set(s,b)),b}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const C=b=>{Array.isArray(b)?b.forEach(C):this.engine.registerTrigger(u,h,t,b.name,b)};return r.data.animation.forEach(C),new XT1(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Y_),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class FY{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==OY?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class XT1 extends FY{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==OY?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function eA1(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),u="";return"@"!=s.charAt(0)&&([s,u]=function tA1(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let nA1=(()=>{class n extends Y_{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(l1),c.LFG(NA),c.LFG(GA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const UY=new c.OlP("AnimationModuleType"),BY=[{provide:JG,useClass:KT1},{provide:GA,useFactory:function rA1(){return new MT1}},{provide:Y_,useClass:nA1},{provide:c.FYo,useFactory:function iA1(n,e,t){return new JT1(n,e,t)},deps:[Ie,Y_,c.R0b]}],jY=[{provide:NA,useFactory:()=>new ZT1},{provide:UY,useValue:"BrowserAnimations"},...BY],sA1=[{provide:NA,useClass:pY},{provide:UY,useValue:"NoopAnimations"},...BY];let aA1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?sA1:jY}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:jY,imports:[a5]}),n})();const qY="firebasestorage.googleapis.com",GY="storageBucket";class O3 extends D.ZR{constructor(e,t){super(JA(e),`Firebase Storage: ${t} (${JA(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,O3.prototype)}_codeEquals(e){return JA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function JA(n){return"storage/"+n}function XA(){return new O3("unknown","An unknown error occurred, please check the error payload for server response.")}function WY(){return new O3("canceled","User canceled the upload/download.")}function $Y(){return new O3("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function f9(n){return new O3("invalid-argument",n)}function ZY(){return new O3("app-deleted","The Firebase app was deleted.")}function KY(n){return new O3("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zh(n,e){return new O3("invalid-format","String does not match format '"+n+"': "+e)}function Kh(n){throw new O3("internal-error","Internal error: "+n)}class ct{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ct.makeFromUrl(e,t)}catch(i){return new ct(e,"")}if(""===r.path)return r;throw function gA1(n){return new O3("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(J1){J1.path_=decodeURIComponent(J1.path)}const z=t.replace(/[.]/g,"\\."),$1=[{regex:h,indices:{bucket:1,path:3},postModify:function s(J1){"/"===J1.path.charAt(J1.path.length-1)&&(J1.path_=J1.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${z}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===qY?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let J1=0;J1<$1.length;J1++){const v2=$1[J1],E2=v2.regex.exec(e);if(E2){let Je=E2[v2.indices.path];Je||(Je=""),r=new ct(E2[v2.indices.bucket],Je),v2.postModify(r);break}}if(null==r)throw function mA1(n){return new O3("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class MA1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function J_(n){return"string"==typeof n||n instanceof String}function YY(n){return eI()&&n instanceof Blob}function eI(){return"undefined"!=typeof Blob}function tI(n,e,t,r){if(r<e)throw f9(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw f9(`Invalid value for '${n}'. Expected ${t} or less.`)}function tr(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function QY(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Yi=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Yi||(Yi={})),Yi))();class SA1{constructor(e,t,r,i,s,u,h,C,v,b,z){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=C,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,E)=>{this.resolve_=S,this.reject_=E,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const C=this.callback_(h,h.getResponse());!function zA1(n){return void 0!==n}(C)?s():s(C)}catch(C){u(C)}else if(null!==h){const C=XA();C.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,C):C)}else u(i.canceled?this.appDelete_?ZY():WY():function pA1(){return new O3("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new X_(!1,null,!0)):this.backoffId_=function LA1(n,e,t){let r=1,i=null,s=null,u=!1,h=0;function C(){return 2===h}let v=!1;function b(...o1){v||(v=!0,e.apply(null,o1))}function z(o1){i=setTimeout(()=>{i=null,n(E,C())},o1)}function S(){s&&clearTimeout(s)}function E(o1,...R1){if(v)return void S();if(o1)return S(),void b.call(null,o1,...R1);if(C()||u)return S(),void b.call(null,o1,...R1);let $1;r<64&&(r*=2),1===h?(h=2,$1=0):$1=1e3*(r+Math.random()),z($1)}let I=!1;function K(o1){I||(I=!0,S(),!v&&(null!==i?(o1||(h=2),clearTimeout(i),z(0)):o1||(h=1)))}return z(0),s=setTimeout(()=>{u=!0,K(!0)},t),K}((r,i)=>{if(i)return void r(!1,new X_(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const h=s.getErrorCode()===Yi.NO_ERROR,C=s.getStatus();if(!h||this.isRetryStatusCode_(C)){const b=s.getErrorCode()===Yi.ABORT;return void r(!1,new X_(!1,null,b))}const v=-1!==this.successCodes_.indexOf(C);r(!0,new X_(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function bA1(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||s}}class X_{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function NA1(...n){const e=function IA1(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(eI())return new Blob(n);throw new O3("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class nI{constructor(e,t){this.data=e,this.contentType=t||null}}function rI(n,e){switch(n){case Hn.RAW:return new nI(JY(e));case Hn.BASE64:case Hn.BASE64URL:return new nI(XY(n,e));case Hn.DATA_URL:return new nI(function RA1(n){const e=new eQ(n);return e.base64?XY(Hn.BASE64,e.rest):function PA1(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Zh(Hn.DATA_URL,"Malformed data URL.")}return JY(e)}(e.rest)}(e),function OA1(n){return new eQ(n).contentType}(e))}throw XA()}function JY(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function XY(n,e){switch(n){case Hn.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Zh(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Hn.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Zh(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function kA1(n){return atob(n)}(e)}catch(i){throw Zh(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class eQ{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Zh(Hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function FA1(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Y5{constructor(e,t){let r=0,i="";YY(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(YY(this.data_)){const i=function DA1(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Y5(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Y5(r,!0)}}static getBlob(...e){if(eI()){const t=e.map(r=>r instanceof Y5?r.data_:r);return new Y5(NA1.apply(null,t))}{const t=e.map(u=>J_(u)?rI(Hn.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)i[s++]=u[h]}),new Y5(i,!0)}}uploadData(){return this.data_}}function iI(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function VA1(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function tQ(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function jA1(n,e){return e}class Nt{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||jA1}}let eM=null;function Yh(){if(eM)return eM;const n=[];n.push(new Nt("bucket")),n.push(new Nt("generation")),n.push(new Nt("metageneration")),n.push(new Nt("name","fullPath",!0));const t=new Nt("name");t.xform=function e(s,u){return function qA1(n){return!J_(n)||n.length<2?n:tQ(n)}(u)},n.push(t);const i=new Nt("size");return i.xform=function r(s,u){return void 0!==u?Number(u):u},n.push(i),n.push(new Nt("timeCreated")),n.push(new Nt("updated")),n.push(new Nt("md5Hash",null,!0)),n.push(new Nt("cacheControl",null,!0)),n.push(new Nt("contentDisposition",null,!0)),n.push(new Nt("contentEncoding",null,!0)),n.push(new Nt("contentLanguage",null,!0)),n.push(new Nt("contentType",null,!0)),n.push(new Nt("metadata","customMetadata",!0)),eM=n,eM}function nQ(n,e,t){const r=iI(e);return null===r?null:function WA1(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const u=t[s];r[u.local]=u.xform(r,e[u.server])}return function GA1(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ct(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function sI(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const rQ="prefixes";class Q5{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function J5(n){if(!n)throw XA()}function tM(n,e){return function t(r,i){const s=nQ(n,i,e);return J5(null!==s),s}}function h9(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function dA1(){return new O3("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function hA1(){return new O3("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function fA1(n){return new O3("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function CA1(n){return new O3("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function Qh(n){const e=h9(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function uA1(n){return new O3("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function sQ(n,e,t){const i=tr(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Q5(i,"GET",tM(n,t),u);return h.errorHandler=Qh(e),h}function JA1(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const h=tr(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,b=new Q5(h,"GET",function YA1(n,e){return function t(r,i){const s=function KA1(n,e,t){const r=iI(t);return null===r?null:function ZA1(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[rQ])for(const i of t[rQ]){const s=i.replace(/\/$/,""),u=n._makeStorageReference(new ct(e,s));r.prefixes.push(u)}if(t.items)for(const i of t.items){const s=n._makeStorageReference(new ct(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return J5(null!==s),s}}(n,e.bucket),v);return b.urlParams=s,b.errorHandler=h9(e),b}function oQ(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function nI1(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class nM{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function aI(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){J5(!1)}return J5(!!t&&-1!==(e||["active"]).indexOf(t)),t}const aI1={STATE_CHANGED:"state_changed"},Dt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function oI(n){switch(n){case"running":case"pausing":case"canceling":return Dt.RUNNING;case"paused":return Dt.PAUSED;case"success":return Dt.SUCCESS;case"canceled":return Dt.CANCELED;default:return Dt.ERROR}}class oI1{constructor(e,t,r){if(function wA1(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function d9(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class lI1 extends class cI1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Kh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kh("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Kh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function t5(){return new lI1}class fQ{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Yh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function rI1(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),u=oQ(e,r,i),h={name:u.fullPath},C=tr(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},z=sI(u,t),I=new Q5(C,"POST",function E(K){let o1;aI(K);try{o1=K.getResponseHeader("X-Goog-Upload-URL")}catch(R1){J5(!1)}return J5(J_(o1)),o1},n.maxUploadRetryTime);return I.urlParams=h,I.headers=b,I.body=z,I.errorHandler=h9(e),I}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,t5,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function iI1(n,e,t,r){const C=new Q5(t,"POST",function s(v){const b=aI(v,["active","final"]);let z=null;try{z=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch(E){J5(!1)}z||J5(!1);const S=Number(z);return J5(!isNaN(S)),new nM(S,r.size(),"final"===b)},n.maxUploadRetryTime);return C.headers={"X-Goog-Upload-Command":"query"},C.errorHandler=h9(e),C}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,t5,t,r);this._request=s,s.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new nM(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let u;try{u=function sI1(n,e,t,r,i,s,u,h){const C=new nM(0,0);if(u?(C.current=u.current,C.total=u.total):(C.current=0,C.total=r.size()),r.size()!==C.total)throw function yA1(){return new O3("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=C.total-C.current;let b=v;i>0&&(b=Math.min(b,i));const z=C.current,I={"X-Goog-Upload-Command":b===v?"upload, finalize":"upload","X-Goog-Upload-Offset":`${C.current}`},K=r.slice(z,z+b);if(null===K)throw $Y();const $1=new Q5(t,"POST",function o1(J1,v2){const E2=aI(J1,["active","final"]),te=C.current+b,Je=r.size();let o4;return o4="final"===E2?tM(e,s)(J1,v2):null,new nM(te,Je,"final"===E2,o4)},e.maxUploadRetryTime);return $1.headers=I,$1.body=K.uploadData(),$1.progressCallback=h||null,$1.errorHandler=h9(n),$1}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(C){return this._error=C,void this._transition("error")}const h=this._ref.storage._makeRequest(u,t5,i,s);this._request=h,h.getPromise().then(C=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(C.current),C.finalized?(this._metadata=C.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=sQ(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,t5,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function cQ(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},C=function h(){let $1="";for(let J1=0;J1<2;J1++)$1+=Math.random().toString().slice(2);return $1}();u["Content-Type"]="multipart/related; boundary="+C;const v=oQ(e,r,i),b=sI(v,t),E=Y5.getBlob("--"+C+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+C+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+C+"--");if(null===E)throw $Y();const I={name:v.fullPath},K=tr(s,n.host,n._protocol),R1=n.maxUploadRetryTime,U1=new Q5(K,"POST",tM(n,t),R1);return U1.urlParams=I,U1.headers=u,U1.body=E.uploadData(),U1.errorHandler=h9(e),U1}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,t5,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=WY(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=oI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new oI1(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(oI(this._state)){case Dt.SUCCESS:d9(this._resolve.bind(null,this.snapshot))();break;case Dt.CANCELED:case Dt.ERROR:d9(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(oI(this._state)){case Dt.RUNNING:case Dt.PAUSED:e.next&&d9(e.next.bind(e,this.snapshot))();break;case Dt.SUCCESS:e.complete&&d9(e.complete.bind(e))();break;default:e.error&&d9(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ga{constructor(e,t){this._service=e,this._location=t instanceof ct?t:ct.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ga(e,t)}get root(){const e=new ct(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tQ(this._location.path)}get storage(){return this._service}get parent(){const e=function UA1(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ct(this._location.bucket,e);return new ga(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw KY(e)}}function dQ(n,e,t){return cI.apply(this,arguments)}function cI(){return cI=(0,w1.Z)(function*(n,e,t){const i=yield CQ(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield dQ(n,e,i.nextPageToken))}),cI.apply(this,arguments)}function CQ(n,e){null!=e&&"number"==typeof e.maxResults&&tI("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=JA1(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,t5)}function MI1(n){n._throwIfRoot("getDownloadURL");const e=function XA1(n,e,t){const i=tr(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Q5(i,"GET",function QA1(n,e){return function t(r,i){const s=nQ(n,i,e);return J5(null!==s),function $A1(n,e,t,r){const i=iI(e);if(null===i||!J_(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(v=>{const z=n.fullPath;return tr("/b/"+u(n.bucket)+"/o/"+u(z),t,r)+QY({alt:"media",token:v})})[0]}(s,i,n.host,n._protocol)}}(n,t),u);return h.errorHandler=Qh(e),h}(n.storage,n._location,Yh());return n.storage.makeRequestWithTokens(e,t5).then(t=>{if(null===t)throw function _A1(){return new O3("no-download-url","The given file does not have any download URLs.")}();return t})}function pQ(n,e){const t=function BA1(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ct(n._location.bucket,t);return new ga(n.storage,r)}function mQ(n,e){if(n instanceof lI){const t=n;if(null==t._bucket)throw function vA1(){return new O3("no-default-bucket","No default bucket found. Did you set the '"+GY+"' property when initializing the app?")}();const r=new ga(t,t._bucket);return null!=e?mQ(r,e):r}return void 0!==e?pQ(n,e):n}function wI1(n,e){if(e&&function bI1(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof lI)return function zI1(n,e){return new ga(n,e)}(n,e);throw f9("To use ref(service, url), the first argument must be a Storage instance.")}return mQ(n,e)}function gQ(n,e){const t=null==e?void 0:e[GY];return null==t?null:ct.makeFromBucketSpec(t,n)}class lI{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=qY,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ct.makeFromBucketSpec(i,this._host):gQ(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ct.makeFromBucketSpec(this._url,e):gQ(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,w1.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,w1.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ga(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new MA1(ZY());{const s=function AA1(n,e,t,r,i,s){const u=QY(n.urlParams),h=n.url+u,C=Object.assign({},n.headers);return function EA1(n,e){e&&(n["X-Firebase-GMPID"]=e)}(C,e),function HA1(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(C,t),function xA1(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(C,s),function TA1(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(C,r),new SA1(h,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return(0,w1.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const vQ="@firebase/storage";function MQ(n,e){return wI1(n=(0,D.m9)(n),e)}function kI1(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new lI(t,r,i,e,bt.SDK_VERSION)}!function PI1(){(0,bt._registerComponent)(new q6.wA("storage",kI1,"PUBLIC").setMultipleInstances(!0)),(0,bt.registerVersion)(vQ,"0.9.6",""),(0,bt.registerVersion)(vQ,"0.9.6","esm2017")}();class rM{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class LQ{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new rM(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new rM(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?u=>t(new rM(u,this,this._ref)):{next:t.next?u=>t.next(new rM(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class bQ{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new nr(e,this._service))}get items(){return this._delegate.items.map(e=>new nr(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class nr{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function NI1(n,e){return pQ(n,e)}(this._delegate,e);return new nr(t,this.storage)}get root(){return new nr(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new nr(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new LQ(function SI1(n,e,t){return function mI1(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new fQ(n,new Y5(e),t)}(n=(0,D.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Hn.RAW,r){this._throwIfRoot("putString");const i=rI(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new LQ(new fQ(this._delegate,new Y5(i.data,!0),s),this)}listAll(){return function TI1(n){return function vI1(n){const e={prefixes:[],items:[]};return dQ(n,e).then(()=>e)}(n=(0,D.m9)(n))}(this._delegate).then(e=>new bQ(e,this.storage))}list(e){return function EI1(n,e){return CQ(n=(0,D.m9)(n),e)}(this._delegate,e||void 0).then(t=>new bQ(t,this.storage))}getMetadata(){return function HI1(n){return function yI1(n){n._throwIfRoot("getMetadata");const e=sQ(n.storage,n._location,Yh());return n.storage.makeRequestWithTokens(e,t5)}(n=(0,D.m9)(n))}(this._delegate)}updateMetadata(e){return function xI1(n,e){return function _I1(n,e){n._throwIfRoot("updateMetadata");const t=function eI1(n,e,t,r){const s=tr(e.fullServerUrl(),n.host,n._protocol),h=sI(t,r),v=n.maxOperationRetryTime,b=new Q5(s,"PATCH",tM(n,r),v);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=h,b.errorHandler=Qh(e),b}(n.storage,n._location,e,Yh());return n.storage.makeRequestWithTokens(t,t5)}(n=(0,D.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function AI1(n){return MI1(n=(0,D.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function II1(n){return function LI1(n){n._throwIfRoot("deleteObject");const e=function tI1(n,e){const r=tr(e.fullServerUrl(),n.host,n._protocol),h=new Q5(r,"DELETE",function u(C,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Qh(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,t5)}(n=(0,D.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw KY(e)}}class zQ{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(wQ(e))throw f9("ref() expected a child path but got a URL, use refFromURL instead.");return new nr(MQ(this._delegate,e),this)}refFromURL(e){if(!wQ(e))throw f9("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ct.makeFromUrl(e,this._delegate.host)}catch(t){throw f9("refFromUrl() expected a valid full URL but got an invalid one.")}return new nr(MQ(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function DI1(n,e,t,r={}){!function VI1(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,D.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function wQ(n){return/^[A-Za-z]+:\/\//.test(n)}function UI1(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new zQ(t,r)}function VQ(n){const e=function jI1(n){return new Ke.y(e=>{const t=u=>e.next(u);t(n.snapshot);const s=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){s()}}).pipe(function oA1(n,e=yV.z){return(0,D3.e)((t,r)=>{let i=null,s=null,u=null;const h=()=>{if(i){i.unsubscribe(),i=null;const v=s;s=null,r.next(v)}};function C(){const v=u+n,b=e.now();if(b<v)return i=this.schedule(void 0,v-b),void r.add(i);h()}t.subscribe((0,We.x)(r,v=>{s=v,u=e.now(),i||(i=e.schedule(C,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,b2.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function iM(n){return{getDownloadURL:()=>L2(void 0).pipe(re.fc,Ne(()=>n.getDownloadURL()),re.iC),getMetadata:()=>L2(void 0).pipe(re.fc,Ne(()=>n.getMetadata()),re.iC),delete:()=>(0,Be.D)(n.delete()),child:e=>iM(n.child(e)),updateMetadata:e=>(0,Be.D)(n.updateMetadata(e)),put:(e,t)=>VQ(n.put(e,t)),putString:(e,t,r)=>VQ(n.putString(e,t,r)),list:e=>(0,Be.D)(n.list(e)),listAll:()=>(0,Be.D)(n.listAll())}}!function BI1(n){const e={TaskState:Dt,TaskEvent:aI1,StringFormat:Hn,Storage:zQ,Reference:nr};n.INTERNAL.registerComponent(new q6.wA("storage-compat",UI1,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(LV.Z);const qI1=new c.OlP("angularfire2.storageBucket"),GI1=new c.OlP("angularfire2.storage.maxUploadRetryTime"),WI1=new c.OlP("angularfire2.storage.maxOperationRetryTime"),$I1=new c.OlP("angularfire2.storage.use-emulator");let ZI1=(()=>{class n{constructor(t,r,i,s,u,h,C,v,b,z){const S=(0,z3.on)(t,u,r);this.storage=(0,z3.cc)(`${S.name}.storage.${i}`,"AngularFireStorage",S.name,()=>{const E=u.runOutsideAngular(()=>S.storage(i||void 0)),I=b;return I&&E.useEmulator(...I),C&&E.setMaxUploadRetryTime(C),v&&E.setMaxOperationRetryTime(v),E},[C,v])}ref(t){return iM(this.storage.ref(t))}refFromURL(t){return iM(this.storage.refFromURL(t))}upload(t,r,i){return iM(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z3.Dh),c.LFG(z3.xv,8),c.LFG(qI1,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(re.HU),c.LFG(GI1,8),c.LFG(WI1,8),c.LFG($I1,8),c.LFG(Mf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KI1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),YI1=(()=>{class n{constructor(){Hs.Z.registerVersion("angularfire",re.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ZI1],imports:[KI1]}),n})();var SQ=A(655),QI1=A(7982);const xQ="firebase_screen_id",fI="outlet",Jh="screen_class",EQ="screen_name";let uN1=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const hI={},fN1=n=>{const e=[n[Jh],n[fI]].join("#");if(hI.hasOwnProperty(e))return hI[e];{const t=uN1++;return hI[e]=t,t}},gN1=new c.OlP("angularfire2.analytics.analyticsCollectionEnabled"),vN1=new c.OlP("angularfire2.analytics.appVersion"),yN1=new c.OlP("angularfire2.analytics.appName"),_N1=new c.OlP("angularfire2.analytics.debugMode"),MN1=new c.OlP("angularfire2.analytics.config"),sM="dataLayer";let Xh=(()=>{class n{constructor(t,r,i,s,u,h,C,v,b){if(this.analyticsInitialized=new Promise(()=>{}),function q3(n){return n===Z4}(C)){window[sM]=window[sM]||[];const S=(...K)=>"config"===K[0]&&"firebase"===K[2].origin&&(this.measurementId=K[1],!0),E=K=>{window.gtag=(...o1)=>{K&&K(...o1),"event"===o1[0]&&o1[2].send_to===this.measurementId&&(s&&(o1[2].app_name=s),i&&(o1[2].app_version=i)),u&&"undefined"!=typeof console&&console.info(...o1),function(...R1){window[sM].push(arguments)}(...o1)}};window[sM].some(S)?(this.analyticsInitialized=Promise.resolve(),E()):this.analyticsInitialized=new Promise(K=>{E((...o1)=>{S(...o1)&&K()})}),h&&this.updateConfig(h),u&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const z=L2(void 0).pipe((0,gf.Q)(b.outsideAngular),Ne(QI1.Gb),Ne(S=>S?v.runOutsideAngular(()=>A.e(643).then(A.bind(A,8643))):d5.E),(0,b2.U)(()=>(0,z3.cc)("analytics","AngularFireAnalytics",t.name,()=>{const S=t.analytics();return!1===r&&S.setAnalyticsCollectionEnabled(!1),S},[t,r,h,u])),IS({bufferSize:1,refCount:!1}));return(0,z3.pX)(this,z,v)}updateConfig(t){return(0,SQ.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z3.Ot),c.LFG(gN1,8),c.LFG(vN1,8),c.LFG(yN1,8),c.LFG(_N1,8),c.LFG(MN1,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(re.HU))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),AQ=(()=>{class n{constructor(t,r,i,s){if(this.disposables=[],Hs.Z.registerVersion("angularfire",re.q4.full,"compat-user-tracking"),ht(r))this.initialized=Promise.resolve();else{let u;this.initialized=s.runOutsideAngular(()=>new Promise(h=>u=h)),this.disposables=[i.authState.subscribe(h=>{t.setUserId(null==h?void 0:h.uid),u()}),i.credential.subscribe(h=>{if(h){const C=h.user.isAnonymous?"anonymous":h.additionalUserInfo.providerId;h.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:C}),t.logEvent("login",{method:C})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xh),c.LFG(c.Lbi),c.LFG(Lf),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),HN1=(()=>{class n{constructor(t,r,i,s,u,h){if(Hs.Z.registerVersion("angularfire",re.q4.full,"compat-screen-tracking"),!r||!t)return this;u.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(k4(i=>i instanceof Un)).pipe(Ne(i=>{var s;const h=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,E=>E.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",C=n.routerState.root.children.map(E=>E).find(E=>E.outlet===i.snapshot.outlet);if(!C)return L2(null);let v=C;for(;v.firstChild;)v=v.firstChild;const b=v.pathFromRoot.map(E=>{var I;return null===(I=E.routeConfig)||void 0===I?void 0:I.path}).filter(E=>E).join("/")||"/",z={[EQ]:b,page_path:`/${h}`,firebase_event_origin:"auto",firebase_screen:b,[fI]:i.snapshot.outlet};e&&(z.page_title=e.getTitle());let S=C.component;if(S){if(S===Dr){let E=i.snapshot;for(;E.firstChild;)E=E.firstChild;S=E.component}}else S=i.snapshot.component;if("string"==typeof S)return L2(Object.assign(Object.assign({},z),{[Jh]:S}));if(S){const E=t.resolveComponentFactory(S);return L2(Object.assign(Object.assign({},z),{[Jh]:E.selector}))}return L2(null)}),k4(i=>!!i),(0,b2.U)(i=>Object.assign({firebase_screen_class:i[Jh],[xQ]:fN1(i)},i)),function JI1(n,e,t,r){return(0,D3.e)((i,s)=>{let u;e&&"function"!=typeof e?({duration:t,element:u,connector:r}=e):u=e;const h=new Map,C=I=>{h.forEach(I),I(s)},v=I=>C(K=>K.error(I));let b=0,z=!1;const S=new We.Q(s,I=>{try{const K=n(I);let o1=h.get(K);if(!o1){h.set(K,o1=r?r():new C3.x);const R1=function E(I,K){const o1=new Ke.y(R1=>{b++;const U1=K.subscribe(R1);return()=>{U1.unsubscribe(),0==--b&&z&&S.unsubscribe()}});return o1.key=I,o1}(K,o1);if(s.next(R1),t){const U1=(0,We.x)(o1,()=>{o1.complete(),null==U1||U1.unsubscribe()},void 0,void 0,()=>h.delete(K));S.add((0,ln.Xf)(t(R1)).subscribe(U1))}}o1.next(u?u(I):I)}catch(K){v(K)}},()=>C(I=>I.complete()),v,()=>h.clear(),()=>(z=!0,0===b));i.subscribe(S)})}(i=>i[fI]),(0,n3.z)(i=>i.pipe(MV((s,u)=>JSON.stringify(s)===JSON.stringify(u)),mt(void 0),Uv(),(0,b2.U)(([s,u])=>s?Object.assign({firebase_previous_class:s[Jh],firebase_previous_screen:s[EQ],firebase_previous_id:s[xQ]},u):u)))))(r,i,s).pipe(Ne(C=>(0,SQ.mG)(this,void 0,void 0,function*(){return h&&(yield h.initialized),yield t.logEvent("screen_view",C)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xh),c.LFG(p3,8),c.LFG(o5,8),c.LFG(c._Vd),c.LFG(c.R0b),c.LFG(AQ,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),xN1=(()=>{class n{constructor(t,r,i){Hs.Z.registerVersion("angularfire",re.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xh),c.LFG(HN1,8),c.LFG(AQ,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Xh]}),n})();const IQ_firebaseConfig={apiKey:"AIzaSyAC1b-XIKuTK9W12RTqynckEL_erWODNCU",authDomain:"rickryanmedillo-7e31a.firebaseapp.com",databaseURL:"https://rickryanmedillo-7e31a-default-rtdb.firebaseio.com",projectId:"rickryanmedillo-7e31a",storageBucket:"rickryanmedillo-7e31a.appspot.com",messagingSenderId:"798061190719",appId:"1:798061190719:web:e8dc1c89aabb2b3fe9628a",measurementId:"G-3P2QXQHE9J"};let EN1=(()=>{class n{constructor(){this.faAlignJustify=wd,this.faDashboard=Zw,this.faUsers=CV,this.faEye=$l,this.faThumbsUp=RP,this.faPen=WD,this.faFile=a7,this.faBolt=kc}ngOnInit(){new toggleNav}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-admin"]],decls:68,vars:11,consts:[[1,"wrapper"],["id","sidebar"],[1,"sidebar-header"],[1,"list-unstyled","components"],[1,"text-center"],[3,"ngClass"],["href","#","routerLinkActive","null","routerLink","dashboard"],["home",""],[1,"fcomment","mr-2",3,"icon"],["href","#","routerLinkActive","active","routerLink","user-list"],["users",""],["href","#","routerLinkActive","active","routerLink","dashboard"],["href","#pageSubmenu","data-toggle","collapse","aria-expanded","false",1,"dropdown-toggle"],["id","pageSubmenu",1,"collapse","list-unstyled"],["href","#","routerLinkActive","active","routerLink","whitespace-remover"],["whitespace",""],[1,"list-unstyled","logout"],["href","#","routerLinkActive","active","routerLink","/about","target","_blank",1,"article"],["id","content"],[1,"navbar","navbar-expand-lg","navbar-light","bg-custom"],[1,"container-fluid"],["type","button","id","sidebarCollapse",1,"navbar-btn"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"btn","btn-warning","d-inline-block","d-lg-none","ml-auto"],[1,"fcomment",3,"icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"nav","navbar-nav","ml-auto"],[1,"nav-item","active"],["href","#",1,"nav-link"],[1,"nav-item"]],template:function(t,r){if(1&t&&(c.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"h3"),c._uU(4,"Bootstrap Sidebar"),c.qZA()(),c.TgZ(5,"ul",3)(6,"p",4),c._uU(7,"Dummy Heading"),c.qZA(),c.TgZ(8,"li",5)(9,"a",6,7),c._UZ(11,"fa-icon",8),c._uU(12,"Home"),c.qZA()(),c.TgZ(13,"li",5)(14,"a",9,10),c._UZ(16,"fa-icon",8),c._uU(17,"Users"),c.qZA()(),c.TgZ(18,"li")(19,"a",11),c._UZ(20,"fa-icon",8),c._uU(21,"Visitors"),c.qZA()(),c.TgZ(22,"li")(23,"a",11),c._UZ(24,"fa-icon",8),c._uU(25,"Likes"),c.qZA()(),c.TgZ(26,"li")(27,"a",11),c._UZ(28,"fa-icon",8),c._uU(29,"Reviews"),c.qZA()(),c.TgZ(30,"li")(31,"a",12),c._UZ(32,"fa-icon",8),c._uU(33,"Others"),c.qZA(),c.TgZ(34,"ul",13)(35,"li",5)(36,"a",14,15),c._UZ(38,"fa-icon",8),c._uU(39,"Whitespace Remover"),c.qZA()()()()(),c.TgZ(40,"ul",16)(41,"li")(42,"a",17),c._uU(43,"View Website"),c.qZA()()()(),c.TgZ(44,"div",18)(45,"nav",19)(46,"div",20)(47,"button",21),c._UZ(48,"span")(49,"span")(50,"span"),c.qZA(),c.TgZ(51,"button",22),c._UZ(52,"fa-icon",23),c.qZA(),c.TgZ(53,"div",24)(54,"ul",25)(55,"li",26)(56,"a",27),c._uU(57,"Page"),c.qZA()(),c.TgZ(58,"li",28)(59,"a",27),c._uU(60,"Page"),c.qZA()(),c.TgZ(61,"li",28)(62,"a",27),c._uU(63,"Page"),c.qZA()(),c.TgZ(64,"li",28)(65,"a",27),c._uU(66,"Page"),c.qZA()()()()()(),c._UZ(67,"router-outlet"),c.qZA()()),2&t){const i=c.MAs(10),s=c.MAs(15),u=c.MAs(37);c.xp6(8),c.Q6J("ngClass",i.classList.contains("active")?"active":"null"),c.xp6(3),c.Q6J("icon",r.faDashboard),c.xp6(2),c.Q6J("ngClass",s.classList.contains("active")?"active":"null"),c.xp6(3),c.Q6J("icon",r.faUsers),c.xp6(4),c.Q6J("icon",r.faEye),c.xp6(4),c.Q6J("icon",r.faThumbsUp),c.xp6(4),c.Q6J("icon",r.faPen),c.xp6(4),c.Q6J("icon",r.faFile),c.xp6(3),c.Q6J("ngClass",u.classList.contains("active")?"active":"null"),c.xp6(3),c.Q6J("icon",r.faBolt),c.xp6(14),c.Q6J("icon",r.faAlignJustify)}},directives:[C4,Zn,G0,e5,H5],styles:["body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background:#fafafa}p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:1.1em;font-weight:300;line-height:1.7em;color:#999}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:inherit;text-decoration:none;transition:all .3s}.navbar[_ngcontent-%COMP%]{padding:15px 10px;background:#fff;border:none;border-radius:0;margin-bottom:40px;box-shadow:1px 1px 3px #0000001a}.navbar-btn[_ngcontent-%COMP%]{box-shadow:none;outline:none!important;border:none}.line[_ngcontent-%COMP%]{width:100%;height:1px;border-bottom:1px dashed #ddd;margin:40px 0}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:stretch;perspective:1500px;height:100%!important}#sidebar[_ngcontent-%COMP%]{min-width:250px;max-width:250px;background:#f2aa4c;color:#fff;transition:all .6s cubic-bezier(.945,.02,.27,.665);transform-origin:bottom left;min-height:100%!important}#sidebar.active[_ngcontent-%COMP%]{margin-left:-250px;transform:rotateY(100deg)}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background:#eb972b}#sidebar[_ngcontent-%COMP%]   ul.components[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid #eae3d8}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding:10px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:500;padding:10px;font-size:1.1em;display:block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#373e44;background:#fff}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], a[aria-expanded=true][_ngcontent-%COMP%]{background:#eb972b}a[data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]:after{display:block;position:absolute;top:50%;right:20px;transform:translateY(-50%)}ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em!important;padding-left:30px!important;background:#eb972b}ul.logout[_ngcontent-%COMP%]{padding:20px}ul.logout[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;font-size:.9em!important;display:block;border-radius:5px;margin-bottom:5px}a.article[_ngcontent-%COMP%]{background:#eae3d8!important;color:#373e44!important;font-weight:600}a.article[_ngcontent-%COMP%]:hover{background:#373e44!important;color:#eae3d8!important;font-weight:600}nav.navbar.navbar-expand-lg.navbar-light.bg-custom[_ngcontent-%COMP%]{background-color:#373e44}div#navbarSupportedContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#eae3d8}div#navbarSupportedContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f2aa4c}button.btn.btn-warning.d-inline-block.d-lg-none.ml-auto[_ngcontent-%COMP%]{color:#373e44;background-color:#eae3d8;border-color:#eae3d8}#content[_ngcontent-%COMP%]{width:100%;padding:20px;min-height:100vh;transition:all .3s}#sidebarCollapse[_ngcontent-%COMP%]{width:40px;height:40px;background:#373e44;cursor:pointer}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:80%;height:2px;margin:0 auto;display:block;background:#eae3d8;transition:all .8s cubic-bezier(.81,-.33,.345,1.375);transition-delay:.2s}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{transform:rotate(45deg) translate(2px,2px)}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){opacity:0}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{transform:rotate(-45deg) translate(1px,-1px)}#sidebarCollapse.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:none;opacity:1;margin:5px auto}@media (max-width: 768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px;transform:rotateY(90deg)}#sidebar.active[_ngcontent-%COMP%]{margin-left:0;transform:none}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type, #sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2), #sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{transform:none;opacity:1;margin:5px auto}#sidebarCollapse.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 auto}#sidebarCollapse.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{transform:rotate(45deg) translate(2px,2px)}#sidebarCollapse.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){opacity:0}#sidebarCollapse.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{transform:rotate(-45deg) translate(1px,-1px)}}"]}),n})(),TN1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],decls:21,vars:0,consts:[[1,"line"]],template:function(t,r){1&t&&(c.TgZ(0,"h2"),c._uU(1,"Collapsible Sidebar Using Bootstrap 4"),c.qZA(),c.TgZ(2,"p"),c._uU(3,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),c.qZA(),c.TgZ(4,"p"),c._uU(5,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),c.qZA(),c._UZ(6,"div",0),c.TgZ(7,"h2"),c._uU(8,"Lorem Ipsum Dolor"),c.qZA(),c.TgZ(9,"p"),c._uU(10,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),c.qZA(),c._UZ(11,"div",0),c.TgZ(12,"h2"),c._uU(13,"Lorem Ipsum Dolor"),c.qZA(),c.TgZ(14,"p"),c._uU(15,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),c.qZA(),c._UZ(16,"div",0),c.TgZ(17,"h3"),c._uU(18,"Lorem Ipsum Dolor"),c.qZA(),c.TgZ(19,"p"),c._uU(20,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),c.qZA())},styles:[".line[_ngcontent-%COMP%]{width:100%;height:1px;border-bottom:1px solid #ddd;margin:40px 0}p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:1.1em;font-weight:300;line-height:1.7em;color:#999}"]}),n})(),AN1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user-create"]],decls:3,vars:0,consts:[["fxLayout","row","fxLayoutAlign","space-between"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"p"),c._uU(2,"user-create works!"),c.qZA()())},styles:[""]}),n})(),IN1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user-detail"]],decls:3,vars:0,consts:[["fxLayout","row","fxLayoutAlign","space-between"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"p"),c._uU(2,"user-detail works!"),c.qZA()())},styles:[""]}),n})(),NN1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user-list"]],decls:3,vars:0,consts:[["fxLayout","row","fxLayoutAlign","space-between"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"p"),c._uU(2,"user-list works!"),c.qZA()())},styles:[""]}),n})(),DN1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:2,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"login works!"),c.qZA())},styles:[""]}),n})(),kN1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-registration"]],decls:2,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"registration works!"),c.qZA())},styles:[""]}),n})();function PN1(n,e){1&n&&(c.TgZ(0,"div",14),c._uU(1," Please provide a text. "),c.qZA())}function RN1(n,e){if(1&n&&(c.TgZ(0,"div",1)(1,"div",0)(2,"div",4)(3,"div",15),c._UZ(4,"p",16,17),c.qZA()(),c.TgZ(6,"div",9)(7,"button",18),c._UZ(8,"fa-icon",11),c._uU(9," Copy Text "),c.qZA()()()()),2&n){const t=c.oxw();c.xp6(4),c.Q6J("innerHTML",t.whitespaceValue,c.oJD),c.xp6(3),c.Q6J("disabled",!t.whitespaceForm.valid),c.xp6(1),c.Q6J("icon",t.faCopy)}}const ON1=function(n,e){return{"is-invalid":n,"is-valid":e}},FN1=[{path:"admin",component:EN1,data:{showHeader:!1,showSidebar:!1,showFooter:!1},children:[{path:"dashboard",component:TN1},{path:"user-create",component:AN1},{path:"user-detail",component:IN1},{path:"user-list",component:NN1},{path:"signin",component:DN1},{path:"signup",component:kN1},{path:"whitespace-remover",component:(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.http=r,this.toastr=i,this.router=s,this.faHardDrive=Yw,this.faPaste=CA,this.faCopy=xZ,this.whitespace=new Gi("",Z5.required),this.whitespaceForm=this.formBuilder.group({whitespace:this.whitespace})}ngOnInit(){return(0,w1.Z)(function*(){new autosize})()}get f(){return this.whitespaceForm.controls}whitespaceCheck(){this.whitespaceValue=this.whitespaceForm.value.whitespace.replace(/&nbsp;/g," ")}reloadCurrentRoute(){let t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([t])})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(sA),c.Y36(yA),c.Y36(oa),c.Y36(p3))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-whitespace"]],decls:19,vars:10,consts:[[1,"row"],[1,"col-md-12","col-lg-6"],[1,"whitespace-form"],["id","gform",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"mb-3"],["formControlName","whitespace","id","whitespace","name","whitespace","placeholder","Enter your text",1,"form-control",3,"ngClass"],["txtVal",""],["class","invalid-feedback",4,"ngIf"],[1,"col-md-12","d-flex","justify-content-end"],["role","button","type","submit",1,"btn","btn-info","checkWhiteSpace","mr-3"],[3,"icon"],["role","button","type","submit",1,"btn","btn-primary","checkWhiteSpace",3,"disabled"],["class","col-md-12 col-lg-6",4,"ngIf"],[1,"invalid-feedback"],[1,"formatResult"],["id","copyResult",3,"innerHTML"],["copyResult",""],["onclick","copyToClipboard('copyResult')","role","button","type","submit",1,"btn","btn-primary","checkWhiteSpace",3,"disabled"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),c.NdJ("ngSubmit",function(){return r.whitespaceCheck()}),c.TgZ(4,"div",0)(5,"div",4)(6,"div",5)(7,"textarea",6,7),c._uU(9,"                                        "),c.qZA(),c.YNc(10,PN1,2,0,"div",8),c.qZA()(),c.TgZ(11,"div",9)(12,"button",10),c._UZ(13,"fa-icon",11),c._uU(14," Paste Text "),c.qZA(),c.TgZ(15,"button",12),c._UZ(16,"fa-icon",11),c._uU(17," Format Text "),c.qZA()()()()()(),c.YNc(18,RN1,10,3,"div",13),c.qZA()),2&t&&(c.xp6(3),c.Q6J("formGroup",r.whitespaceForm),c.xp6(4),c.Q6J("ngClass",c.WLB(7,ON1,r.f.whitespace.touched&&r.f.whitespace.invalid,r.f.whitespace.untouched&&r.f.whitespace.valid)),c.xp6(3),c.Q6J("ngIf",r.f.whitespace.touched&&r.f.whitespace.invalid),c.xp6(3),c.Q6J("icon",r.faPaste),c.xp6(2),c.Q6J("disabled",!r.whitespaceForm.valid),c.xp6(1),c.Q6J("icon",r.faHardDrive),c.xp6(2),c.Q6J("ngIf",r.whitespaceValue))},directives:[H_,v_,c9,a9,g_,Uh,C4,ke,e5],styles:[".hiddenForm[_ngcontent-%COMP%]{display:none}.visibleForm[_ngcontent-%COMP%]{display:block}textarea[_ngcontent-%COMP%]{resize:horizontal;overflow:hidden;border-left:10px solid #f2aa4c}button.btn.btn-primary.checkWhiteSpace[_ngcontent-%COMP%]:disabled{background-color:#dc3545;border-color:#dc3545}.paddingRemove[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.marginNegative[_ngcontent-%COMP%]{margin-right:-15px;margin-left:-15px}textarea#whitespace[_ngcontent-%COMP%]{border-radius:0}.formatResult[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:16px;overflow:auto;width:100%;line-height:1.45;color:#fff;background-color:#484f58;border-left:10px solid #f2aa4c}"]}),n})()}]}];let UN1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[I5.forChild(FN1)],I5]}),n})(),BN1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Bt,s$,UN1,uZ,iA]]}),n})(),jN1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[cE1]}),n.\u0275inj=c.cJS({providers:[nn],imports:[[a5,I5.forRoot([]),bM1,s$,S_1,uZ,iA,Y_1,lE1,aA1,z3.hO.initializeApp(IQ_firebaseConfig),xN1,dc1,Kd1,YI1,Sc1,BN1,_C1.forRoot({preventDuplicates:!0})]]}),n})();(0,c.G48)(),r0().bootstrapModule(jN1).catch(n=>console.error(n))},7982:(a2,z1,A)=>{A.d(z1,{Gb:()=>c.Gb});var c=A(579)},5867:(a2,z1,A)=>{A.d(z1,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=A(9681);(0,c.registerVersion)("firebase","9.8.1","app")},127:(a2,z1,A)=>{A.d(z1,{Z:()=>c.Z});var c=A(3942);c.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(a2,z1,A)=>{A.r(z1);var c=A(5861),e1=A(3942),R=A(2090),f1=A(9681),p1=A(655),b1=A(1877),l1=A(4859);const O1=function j1(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},G1=function V1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},g1=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),c2=new b1.Yd("@firebase/auth");function t2(y,...p){c2.logLevel<=b1.in.ERROR&&c2.error(`Auth (${f1.SDK_VERSION}): ${y}`,...p)}function A1(y,...p){throw B1(y,...p)}function H1(y,...p){return B1(y,...p)}function x1(y,p,g){const M=Object.assign(Object.assign({},G1()),{[p]:g});return new R.LL("auth","Firebase",M).create(p,{appName:y.name})}function X1(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&A1(y,"argument-error"),x1(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function B1(y,...p){if("string"!=typeof y){const g=p[0],M=[...p.slice(1)];return M[0]&&(M[0].appName=y.name),y._errorFactory.create(g,...M)}return g1.create(y,...p)}function q(y,p,...g){if(!y)throw B1(p,...g)}function U(y){const p="INTERNAL ASSERTION FAILED: "+y;throw t2(p),new Error(p)}function t1(y,p){y||U(p)}const d1=new Map;function c1(y){t1(y instanceof Function,"Expected a class definition");let p=d1.get(y);return p?(t1(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,d1.set(y,p),p)}function M2(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function k2(){return"http:"===xe()||"https:"===xe()}function xe(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Le{constructor(p,g){this.shortDelay=p,this.longDelay=g,t1(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function o2(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(k2()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ce(y,p){t1(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class S3{static initialize(p,g,M){this.fetchImpl=p,g&&(this.headersImpl=g),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void U("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void U("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void U("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},H3=new Le(3e4,6e4);function O2(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function P2(y,p,g,M){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,c.Z)(function*(y,p,g,M,V={}){return T4(y,V,(0,c.Z)(function*(){let T={},X={};M&&("GET"===p?X=M:T={body:JSON.stringify(M)});const M1=(0,R.xO)(Object.assign({key:y.config.apiKey},X)).slice(1),Y1=yield y._getAdditionalHeaders();return Y1["Content-Type"]="application/json",y.languageCode&&(Y1["X-Firebase-Locale"]=y.languageCode),S3.fetch()(F3(y,y.config.apiHost,g,M1),Object.assign({method:p,headers:Y1,referrerPolicy:"no-referrer"},T))}))})).apply(this,arguments)}function T4(y,p,g){return o3.apply(this,arguments)}function o3(){return(o3=(0,c.Z)(function*(y,p,g){y._canInitEmulator=!1;const M=Object.assign(Object.assign({},ie),p);try{const V=new M3(y),T=yield Promise.race([g(),V.promise]);V.clearNetworkTimeout();const X=yield T.json();if("needConfirmation"in X)throw h3(y,"account-exists-with-different-credential",X);if(T.ok&&!("errorMessage"in X))return X;{const M1=T.ok?X.errorMessage:X.error.message,[Y1,l2]=M1.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Y1)throw h3(y,"credential-already-in-use",X);if("EMAIL_EXISTS"===Y1)throw h3(y,"email-already-in-use",X);const A2=M[Y1]||Y1.toLowerCase().replace(/[_\s]+/g,"-");if(l2)throw x1(y,A2,l2);A1(y,A2)}}catch(V){if(V instanceof R.ZR)throw V;A1(y,"network-request-failed")}})).apply(this,arguments)}function be(y,p,g,M){return _3.apply(this,arguments)}function _3(){return(_3=(0,c.Z)(function*(y,p,g,M,V={}){const T=yield P2(y,p,g,M,V);return"mfaPendingCredential"in T&&A1(y,"multi-factor-auth-required",{_serverResponse:T}),T})).apply(this,arguments)}function F3(y,p,g,M){const V=`${p}${g}?${M}`;return y.config.emulator?Ce(y.config,V):`${y.config.apiScheme}://${V}`}class M3{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,M)=>{this.timer=setTimeout(()=>M(H1(this.auth,"network-request-failed")),H3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function h3(y,p,g){const M={appName:y.name};g.email&&(M.email=g.email),g.phoneNumber&&(M.phoneNumber=g.phoneNumber);const V=H1(y,p,M);return V.customData._tokenResponse=g,V}function L3(){return(L3=(0,c.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function he(y,p){return De.apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function K3(y,p){return x3.apply(this,arguments)}function x3(){return(x3=(0,c.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function $e(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function c4(){return(c4=(0,c.Z)(function*(y,p=!1){const g=(0,R.m9)(y),M=yield g.getIdToken(p),V=h2(M);q(V&&V.exp&&V.auth_time&&V.iat,g.auth,"internal-error");const T="object"==typeof V.firebase?V.firebase:void 0,X=null==T?void 0:T.sign_in_provider;return{claims:V,token:M,authTime:$e(Z2(V.auth_time)),issuedAtTime:$e(Z2(V.iat)),expirationTime:$e(Z2(V.exp)),signInProvider:X||null,signInSecondFactor:(null==T?void 0:T.sign_in_second_factor)||null}})).apply(this,arguments)}function Z2(y){return 1e3*Number(y)}function h2(y){const[p,g,M]=y.split(".");if(void 0===p||void 0===g||void 0===M)return t2("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,R.tV)(g);return V?JSON.parse(V):(t2("Failed to decode base64 JWT payload"),null)}catch(V){return t2("Caught error parsing JWT payload as JSON",V),null}}function ye(y,p){return Y3.apply(this,arguments)}function Y3(){return(Y3=(0,c.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(M){throw M instanceof R.ZR&&G2(M)&&y.auth.currentUser===y&&(yield y.auth.signOut()),M}})).apply(this,arguments)}function G2({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Q3{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const V=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const M=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),M)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Xe{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=$e(this.lastLoginAt),this.creationTime=$e(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ze(y){return O.apply(this,arguments)}function O(){return(O=(0,c.Z)(function*(y){var p;const g=y.auth,M=yield y.getIdToken(),V=yield ye(y,K3(g,{idToken:M}));q(null==V?void 0:V.users.length,g,"internal-error");const T=V.users[0];y._notifyReloadListener(T);const X=(null===(p=T.providerUserInfo)||void 0===p?void 0:p.length)?B(T.providerUserInfo):[],M1=T1(y.providerData,X),A2=!!y.isAnonymous&&!(y.email&&T.passwordHash||(null==M1?void 0:M1.length)),H2={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:M1,metadata:new Xe(T.createdAt,T.lastLoginAt),isAnonymous:A2};Object.assign(y,H2)})).apply(this,arguments)}function Q(){return(Q=(0,c.Z)(function*(y){const p=(0,R.m9)(y);yield Ze(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function T1(y,p){return[...y.filter(M=>!p.some(V=>V.providerId===M.providerId)),...p]}function B(y){return y.map(p=>{var{providerId:g}=p,M=(0,p1._T)(p,["providerId"]);return{providerId:g,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function j(){return(j=(0,c.Z)(function*(y,p){const g=yield T4(y,{},(0,c.Z)(function*(){const M=(0,R.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:V,apiKey:T}=y.config,X=F3(y,V,"/v1/token",`key=${T}`),M1=yield y._getAdditionalHeaders();return M1["Content-Type"]="application/x-www-form-urlencoded",S3.fetch()(X,{method:"POST",headers:M1,body:M})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class s1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){q(p.idToken,"internal-error"),q(void 0!==p.idToken,"internal-error"),q(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function y2(y){const p=h2(y);return q(p,"internal-error"),q(void 0!==p.exp,"internal-error"),q(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var M=this;return(0,c.Z)(function*(){return q(!M.accessToken||M.refreshToken,p,"user-token-expired"),g||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(p,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var M=this;return(0,c.Z)(function*(){const{accessToken:V,refreshToken:T,expiresIn:X}=yield function n1(y,p){return j.apply(this,arguments)}(p,g);M.updateTokensAndExpiration(V,T,Number(X))})()}updateTokensAndExpiration(p,g,M){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(p,g){const{refreshToken:M,accessToken:V,expirationTime:T}=g,X=new s1;return M&&(q("string"==typeof M,"internal-error",{appName:p}),X.refreshToken=M),V&&(q("string"==typeof V,"internal-error",{appName:p}),X.accessToken=V),T&&(q("number"==typeof T,"internal-error",{appName:p}),X.expirationTime=T),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new s1,this.toJSON())}_performRefresh(){return U("not implemented")}}function y1(y,p){q("string"==typeof y||void 0===y,"internal-error",{appName:p})}class D1{constructor(p){var{uid:g,auth:M,stsTokenManager:V}=p,T=(0,p1._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=M,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=T.displayName||null,this.email=T.email||null,this.emailVerified=T.emailVerified||!1,this.phoneNumber=T.phoneNumber||null,this.photoURL=T.photoURL||null,this.isAnonymous=T.isAnonymous||!1,this.tenantId=T.tenantId||null,this.providerData=T.providerData?[...T.providerData]:[],this.metadata=new Xe(T.createdAt||void 0,T.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,c.Z)(function*(){const M=yield ye(g,g.stsTokenManager.getToken(g.auth,p));return q(M,g.auth,"internal-error"),g.accessToken!==M&&(g.accessToken=M,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),M})()}getIdTokenResult(p){return function E3(y){return c4.apply(this,arguments)}(this,p)}reload(){return function Y(y){return Q.apply(this,arguments)}(this)}_assign(p){this!==p&&(q(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new D1(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var M=this;return(0,c.Z)(function*(){let V=!1;p.idToken&&p.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(p),V=!0),g&&(yield Ze(M)),yield M.auth._persistUserIfCurrent(M),V&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var p=this;return(0,c.Z)(function*(){const g=yield p.getIdToken();return yield ye(p,function V2(y,p){return L3.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var M,V,T,X,M1,Y1,l2,A2;const H2=null!==(M=g.displayName)&&void 0!==M?M:void 0,Ye=null!==(V=g.email)&&void 0!==V?V:void 0,y4=null!==(T=g.phoneNumber)&&void 0!==T?T:void 0,T8=null!==(X=g.photoURL)&&void 0!==X?X:void 0,W9=null!==(M1=g.tenantId)&&void 0!==M1?M1:void 0,$n=null!==(Y1=g._redirectEventId)&&void 0!==Y1?Y1:void 0,Or=null!==(l2=g.createdAt)&&void 0!==l2?l2:void 0,Fr=null!==(A2=g.lastLoginAt)&&void 0!==A2?A2:void 0,{uid:U0,emailVerified:Ur,isAnonymous:p3,providerData:B0,stsTokenManager:j0}=g;q(U0&&j0,p,"internal-error");const q0=s1.fromJSON(this.name,j0);q("string"==typeof U0,p,"internal-error"),y1(H2,p.name),y1(Ye,p.name),q("boolean"==typeof Ur,p,"internal-error"),q("boolean"==typeof p3,p,"internal-error"),y1(y4,p.name),y1(T8,p.name),y1(W9,p.name),y1($n,p.name),y1(Or,p.name),y1(Fr,p.name);const Zn=new D1({uid:U0,auth:p,email:Ye,emailVerified:Ur,displayName:H2,isAnonymous:p3,photoURL:T8,phoneNumber:y4,tenantId:W9,stsTokenManager:q0,createdAt:Or,lastLoginAt:Fr});return B0&&Array.isArray(B0)&&(Zn.providerData=B0.map(A5=>Object.assign({},A5))),$n&&(Zn._redirectEventId=$n),Zn}static _fromIdTokenResponse(p,g,M=!1){return(0,c.Z)(function*(){const V=new s1;V.updateFromServerResponse(g);const T=new D1({uid:g.localId,auth:p,stsTokenManager:V,isAnonymous:M});return yield Ze(T),T})()}}const q1=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,M){var V=this;return(0,c.Z)(function*(){V.storage[g]=M})()}_get(g){var M=this;return(0,c.Z)(function*(){const V=M.storage[g];return void 0===V?null:V})()}_remove(g){var M=this;return(0,c.Z)(function*(){delete M.storage[g]})()}_addListener(g,M){}_removeListener(g,M){}}return y.type="NONE",y})();function p2(y,p,g){return`firebase:${y}:${p}:${g}`}class I2{constructor(p,g,M){this.persistence=p,this.auth=g,this.userKey=M;const{config:V,name:T}=this.auth;this.fullUserKey=p2(this.userKey,V.apiKey,T),this.fullPersistenceKey=p2("persistence",V.apiKey,T),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?D1._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,c.Z)(function*(){if(g.persistence===p)return;const M=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,M?g.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,M="authUser"){return(0,c.Z)(function*(){if(!g.length)return new I2(c1(q1),p,M);const V=(yield Promise.all(g.map(function(){var l2=(0,c.Z)(function*(A2){if(yield A2._isAvailable())return A2});return function(A2){return l2.apply(this,arguments)}}()))).filter(l2=>l2);let T=V[0]||c1(q1);const X=p2(M,p.config.apiKey,p.name);let M1=null;for(const l2 of g)try{const A2=yield l2._get(X);if(A2){const H2=D1._fromJSON(p,A2);l2!==T&&(M1=H2),T=l2;break}}catch(A2){}const Y1=V.filter(l2=>l2._shouldAllowMigration);return T._shouldAllowMigration&&Y1.length?(T=Y1[0],M1&&(yield T._set(X,M1.toJSON())),yield Promise.all(g.map(function(){var l2=(0,c.Z)(function*(A2){if(A2!==T)try{yield A2._remove(X)}catch(H2){}});return function(A2){return l2.apply(this,arguments)}}())),new I2(T,p,M)):new I2(T,p,M)})()}}function pe(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(_e(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(se(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(A4(p))return"Blackberry";if(Ge(p))return"Webos";if(U3(p))return"Safari";if((p.includes("chrome/")||h4(p))&&!p.includes("edge/"))return"Chrome";if(Ee(p))return"Android";{const M=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function se(y=(0,R.z$)()){return/firefox\//i.test(y)}function U3(y=(0,R.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function h4(y=(0,R.z$)()){return/crios\//i.test(y)}function _e(y=(0,R.z$)()){return/iemobile/i.test(y)}function Ee(y=(0,R.z$)()){return/android/i.test(y)}function A4(y=(0,R.z$)()){return/blackberry/i.test(y)}function Ge(y=(0,R.z$)()){return/webos/i.test(y)}function T3(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)}function d4(y=(0,R.z$)()){return T3(y)||Ee(y)||Ge(y)||A4(y)||/windows phone/i.test(y)||_e(y)}function Pt(y,p=[]){let g;switch(y){case"Browser":g=pe((0,R.z$)());break;case"Worker":g=`${pe((0,R.z$)())}-${y}`;break;default:g=y}const M=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${f1.SDK_VERSION}/${M}`}class B3{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const M=T=>new Promise((X,M1)=>{try{X(p(T))}catch(Y1){M1(Y1)}});M.onAbort=g,this.queue.push(M);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===p)return;const M=[];try{for(const V of g.queue)yield V(p),V.onAbort&&M.push(V.onAbort)}catch(V){M.reverse();for(const T of M)try{T()}catch(X){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:V.message})}})()}}class n2{constructor(p,g,M){this.app=p,this.heartbeatServiceProvider=g,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h1(this),this.idTokenSubscription=new h1(this),this.beforeStateQueue=new B3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,g){var M=this;return g&&(this._popupRedirectResolver=c1(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var V,T;if(!M._deleted&&(M.persistenceManager=yield I2.create(M,p),!M._deleted)){if(null===(V=M._popupRedirectResolver)||void 0===V?void 0:V._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch(X){}yield M.initializeCurrentUser(g),M.lastNotifiedUid=(null===(T=M.currentUser)||void 0===T?void 0:T.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,c.Z)(function*(){var M;const V=yield g.assertedPersistence.getCurrentUser();let T=V,X=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const M1=null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId,Y1=null==T?void 0:T._redirectEventId,l2=yield g.tryRedirectSignIn(p);(!M1||M1===Y1)&&(null==l2?void 0:l2.user)&&(T=l2.user,X=!0)}if(!T)return g.directlySetCurrentUser(null);if(!T._redirectEventId){if(X)try{yield g.beforeStateQueue.runMiddleware(T)}catch(M1){T=V,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(M1))}return T?g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)}return q(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)})()}tryRedirectSignIn(p){var g=this;return(0,c.Z)(function*(){let M=null;try{M=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(V){yield g._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,c.Z)(function*(){try{yield Ze(p)}catch(M){if("auth/network-request-failed"!==M.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function w2(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,c.Z)(function*(){const M=p?(0,R.m9)(p):null;return M&&q(M.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(M&&M._clone(g))})()}_updateCurrentUser(p,g=!1){var M=this;return(0,c.Z)(function*(){if(!M._deleted)return p&&q(M.tenantId===p.tenantId,M,"tenant-id-mismatch"),g||(yield M.beforeStateQueue.runMiddleware(p)),M.queue((0,c.Z)(function*(){yield M.directlySetCurrentUser(p),M.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(c1(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new R.LL("auth","Firebase",p())}onAuthStateChanged(p,g,M){return this.registerStateListener(this.authStateSubscription,p,g,M)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,M){return this.registerStateListener(this.idTokenSubscription,p,g,M)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var M=this;return(0,c.Z)(function*(){const V=yield M.getOrInitRedirectPersistenceManager(g);return null===p?V.removeCurrentUser():V.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const M=p&&c1(p)||g._popupRedirectResolver;q(M,g,"argument-error"),g.redirectPersistenceManager=yield I2.create(g,[c1(M._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,c.Z)(function*(){var M,V;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(M=g._currentUser)||void 0===M?void 0:M._redirectEventId)===p?g._currentUser:(null===(V=g.redirectUser)||void 0===V?void 0:V._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,c.Z)(function*(){if(p===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,M,V){if(this._deleted)return()=>{};const T="function"==typeof g?g:g.next.bind(g),X=this._isInitialized?Promise.resolve():this._initializationPromise;return q(X,this,"internal-error"),X.then(()=>T(this.currentUser)),"function"==typeof g?p.addObserver(g,M,V):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Pt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var g;const M={"X-Client-Version":p.clientVersion};p.app.options.appId&&(M["X-Firebase-gmpid"]=p.app.options.appId);const V=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return V&&(M["X-Firebase-Client"]=V),M})()}}function F(y){return(0,R.m9)(y)}class h1{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function d2(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Y2(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class ze{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return U("not implemented")}_getIdTokenResponse(p){return U("not implemented")}_linkToIdToken(p,g){return U("not implemented")}_getReauthenticationResolver(p){return U("not implemented")}}function j3(y,p){return S2.apply(this,arguments)}function S2(){return(S2=(0,c.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:resetPassword",O2(y,p))})).apply(this,arguments)}function Rt(y,p){return C4.apply(this,arguments)}function C4(){return(C4=(0,c.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function n5(y,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:update",O2(y,p))})).apply(this,arguments)}function Ft(){return(Ft=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithPassword",O2(y,p))})).apply(this,arguments)}function ut(y,p){return ke.apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:sendOobCode",O2(y,p))})).apply(this,arguments)}function we(y,p){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(y,p){return ut(y,p)})).apply(this,arguments)}function e8(y,p){return A3.apply(this,arguments)}function A3(){return(A3=(0,c.Z)(function*(y,p){return ut(y,p)})).apply(this,arguments)}function p4(y,p){return tn.apply(this,arguments)}function tn(){return(tn=(0,c.Z)(function*(y,p){return ut(y,p)})).apply(this,arguments)}function t8(y,p){return ft.apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(y,p){return ut(y,p)})).apply(this,arguments)}function n8(){return(n8=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithEmailLink",O2(y,p))})).apply(this,arguments)}function r8(){return(r8=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithEmailLink",O2(y,p))})).apply(this,arguments)}class I3 extends ze{constructor(p,g,M,V=null){super("password",M),this._email=p,this._password=g,this._tenantId=V}static _fromEmailAndPassword(p,g){return new I3(p,g,"password")}static _fromEmailAndCode(p,g,M=null){return new I3(p,g,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function e3(y,p){return Ft.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function N4(y,p){return n8.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:A1(p,"internal-error")}})()}_linkToIdToken(p,g){var M=this;return(0,c.Z)(function*(){switch(M.signInMethod){case"password":return Rt(p,{idToken:g,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function ir(y,p){return r8.apply(this,arguments)}(p,{idToken:g,email:M._email,oobCode:M._password});default:A1(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ut(y,p){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithIdp",O2(y,p))})).apply(this,arguments)}class W4 extends ze{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new W4(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):A1("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:V}=g,T=(0,p1._T)(g,["providerId","signInMethod"]);if(!M||!V)return null;const X=new W4(M,V);return X.idToken=T.idToken||void 0,X.accessToken=T.accessToken||void 0,X.secret=T.secret,X.nonce=T.nonce,X.pendingToken=T.pendingToken||null,X}_getIdTokenResponse(p){return Ut(p,this.buildRequest())}_linkToIdToken(p,g){const M=this.buildRequest();return M.idToken=g,Ut(p,M)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Ut(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,R.xO)(g)}return p}}function ar(y,p){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:sendVerificationCode",O2(y,p))})).apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithPhoneNumber",O2(y,p))})).apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(y,p){const g=yield be(y,"POST","/v1/accounts:signInWithPhoneNumber",O2(y,p));if(g.temporaryProof)throw h3(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const nn={USER_NOT_FOUND:"user-not-found"};function e0(){return(e0=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithPhoneNumber",O2(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),nn)})).apply(this,arguments)}class An extends ze{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new An({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new An({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function cr(y,p){return lr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function C9(y,p){return Xi.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function p9(y,p){return e0.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:M,verificationCode:V}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:M,code:V}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:M,phoneNumber:V,temporaryProof:T}=p;return M||g||V||T?new An({verificationId:g,verificationCode:M,phoneNumber:V,temporaryProof:T}):null}}class p6{constructor(p){var g,M,V,T,X,M1;const Y1=(0,R.zd)((0,R.pd)(p)),l2=null!==(g=Y1.apiKey)&&void 0!==g?g:null,A2=null!==(M=Y1.oobCode)&&void 0!==M?M:null,H2=function ur(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Y1.mode)&&void 0!==V?V:null);q(l2&&A2&&H2,"argument-error"),this.apiKey=l2,this.operation=H2,this.code=A2,this.continueUrl=null!==(T=Y1.continueUrl)&&void 0!==T?T:null,this.languageCode=null!==(X=Y1.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(M1=Y1.tenantId)&&void 0!==M1?M1:null}static parseLink(p){const g=function i8(y){const p=(0,R.zd)((0,R.pd)(y)).link,g=p?(0,R.zd)((0,R.pd)(p)).deep_link_id:null,M=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(M?(0,R.zd)((0,R.pd)(M)).link:null)||M||g||p||y}(p);try{return new p6(g)}catch(M){return null}}}let s8=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,M){return I3._fromEmailAndPassword(g,M)}static credentialWithLink(g,M){const V=p6.parseLink(M);return q(V,"argument-error"),I3._fromEmailAndCode(g,V.code,V.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class J3{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class In extends J3{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class $4 extends In{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return q("providerId"in g&&"signInMethod"in g,"argument-error"),W4._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return q(p.idToken||p.accessToken,"argument-error"),W4._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return $4.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return $4.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:M,oauthTokenSecret:V,pendingToken:T,nonce:X,providerId:M1}=p;if(!M&&!V&&!g&&!T||!M1)return null;try{return new $4(M1)._credential({idToken:g,accessToken:M,nonce:X,pendingToken:T})}catch(Y1){return null}}}let Nn=(()=>{class y extends In{constructor(){super("facebook.com")}static credential(g){return W4._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(M){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),fr=(()=>{class y extends In{constructor(){super("google.com"),this.addScope("profile")}static credential(g,M){return W4._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:M})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:M,oauthAccessToken:V}=g;if(!M&&!V)return null;try{return y.credential(M,V)}catch(T){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),t0=(()=>{class y extends In{constructor(){super("github.com")}static credential(g){return W4._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(M){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Z4 extends ze{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Ut(p,this.buildRequest())}_linkToIdToken(p,g){const M=this.buildRequest();return M.idToken=g,Ut(p,M)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Ut(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:V,pendingToken:T}=g;return M&&V&&T&&M===V?new Z4(M,T):null}static _create(p,g){return new Z4(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class jt extends J3{constructor(p){q(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return jt.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return jt.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Z4.fromJSON(p);return q(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:M}=p;if(!g||!M)return null;try{return Z4._create(M,g)}catch(V){return null}}}let r5=(()=>{class y extends In{constructor(){super("twitter.com")}static credential(g,M){return W4._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:M})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:M,oauthTokenSecret:V}=g;if(!M||!V)return null;try{return y.credential(M,V)}catch(T){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function q3(y,p){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signUp",O2(y,p))})).apply(this,arguments)}class K4{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,M,V=!1){return(0,c.Z)(function*(){const T=yield D1._fromIdTokenResponse(p,M,V),X=hr(M);return new K4({user:T,providerId:X,_tokenResponse:M,operationType:g})})()}static _forOperation(p,g,M){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(M,!0);const V=hr(M);return new K4({user:p,providerId:V,_tokenResponse:M,operationType:g})})()}}function hr(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function o8(){return(o8=(0,c.Z)(function*(y){var p;const g=F(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new K4({user:g.currentUser,providerId:null,operationType:"signIn"});const M=yield q3(g,{returnSecureToken:!0}),V=yield K4._fromIdTokenResponse(g,"signIn",M,!0);return yield g._updateCurrentUser(V.user),V})).apply(this,arguments)}class Dn extends R.ZR{constructor(p,g,M,V){var T;super(g.code,g.message),this.operationType=M,this.user=V,Object.setPrototypeOf(this,Dn.prototype),this.customData={appName:p.name,tenantId:null!==(T=p.tenantId)&&void 0!==T?T:void 0,_serverResponse:g.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(p,g,M,V){return new Dn(p,g,M,V)}}function qt(y,p,g,M){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(T=>{throw"auth/multi-factor-auth-required"===T.code?Dn._fromErrorAndOperation(y,T,p,M):T})}function m6(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Te(){return(Te=(0,c.Z)(function*(y,p){const g=(0,R.m9)(y);yield ae(!0,g,p);const{providerUserInfo:M}=yield he(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),V=m6(M||[]);return g.providerData=g.providerData.filter(T=>V.has(T.providerId)),V.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Y4(y,p){return g6.apply(this,arguments)}function g6(){return(g6=(0,c.Z)(function*(y,p,g=!1){const M=yield ye(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return K4._forOperation(y,"link",M)})).apply(this,arguments)}function ae(y,p,g){return c8.apply(this,arguments)}function c8(){return(c8=(0,c.Z)(function*(y,p,g){yield Ze(p);const V=!1===y?"provider-already-linked":"no-such-provider";q(m6(p.providerData).has(g)===y,p.auth,V)})).apply(this,arguments)}function l8(y,p){return rn.apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(y,p,g=!1){const{auth:M}=y,V="reauthenticate";try{const T=yield ye(y,qt(M,V,p,y),g);q(T.idToken,M,"internal-error");const X=h2(T.idToken);q(X,M,"internal-error");const{sub:M1}=X;return q(y.uid===M1,M,"user-mismatch"),K4._forOperation(y,V,T)}catch(T){throw"auth/user-not-found"===(null==T?void 0:T.code)&&A1(M,"user-mismatch"),T}})).apply(this,arguments)}function X3(y,p){return u8.apply(this,arguments)}function u8(){return(u8=(0,c.Z)(function*(y,p,g=!1){const M="signIn",V=yield qt(y,M,p),T=yield K4._fromIdTokenResponse(y,M,V);return g||(yield y._updateCurrentUser(T.user)),T})).apply(this,arguments)}function v6(y,p){return k.apply(this,arguments)}function k(){return(k=(0,c.Z)(function*(y,p){return X3(F(y),p)})).apply(this,arguments)}function N(y,p){return J.apply(this,arguments)}function J(){return(J=(0,c.Z)(function*(y,p){const g=(0,R.m9)(y);return yield ae(!1,g,p.providerId),Y4(g,p)})).apply(this,arguments)}function C1(y,p){return W1.apply(this,arguments)}function W1(){return(W1=(0,c.Z)(function*(y,p){return l8((0,R.m9)(y),p)})).apply(this,arguments)}function e2(y,p){return T2.apply(this,arguments)}function T2(){return(T2=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithCustomToken",O2(y,p))})).apply(this,arguments)}function f2(){return(f2=(0,c.Z)(function*(y,p){const g=F(y),M=yield e2(g,{token:p,returnSecureToken:!0}),V=yield K4._fromIdTokenResponse(g,"signIn",M);return yield g._updateCurrentUser(V.user),V})).apply(this,arguments)}class Ae{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ve._fromServerResponse(p,g):A1(p,"internal-error")}}class Ve extends Ae{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ve(g)}}function j2(y,p,g){var M;q((null===(M=g.url)||void 0===M?void 0:M.length)>0,y,"invalid-continue-uri"),q(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(q(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(q(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function D4(){return(D4=(0,c.Z)(function*(y,p,g){const M=(0,R.m9)(y),V={requestType:"PASSWORD_RESET",email:p};g&&j2(M,V,g),yield e8(M,V)})).apply(this,arguments)}function y6(){return(y6=(0,c.Z)(function*(y,p,g){yield j3((0,R.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function U2(){return(U2=(0,c.Z)(function*(y,p){yield n5((0,R.m9)(y),{oobCode:p})})).apply(this,arguments)}function an(y,p){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,c.Z)(function*(y,p){const g=(0,R.m9)(y),M=yield j3(g,{oobCode:p}),V=M.requestType;switch(q(V,g,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(M.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(M.mfaInfo,g,"internal-error");default:q(M.email,g,"internal-error")}let T=null;return M.mfaInfo&&(T=Ae._fromServerResponse(F(g),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:T},operation:V}})).apply(this,arguments)}function _6(){return(_6=(0,c.Z)(function*(y,p){const{data:g}=yield an((0,R.m9)(y),p);return g.email})).apply(this,arguments)}function f8(){return(f8=(0,c.Z)(function*(y,p,g){const M=F(y),V=yield q3(M,{returnSecureToken:!0,email:p,password:g}),T=yield K4._fromIdTokenResponse(M,"signIn",V);return yield M._updateCurrentUser(T.user),T})).apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(y,p,g){const M=(0,R.m9)(y),V={requestType:"EMAIL_SIGNIN",email:p};q(g.handleCodeInApp,M,"argument-error"),g&&j2(M,V,g),yield p4(M,V)})).apply(this,arguments)}function N3(){return(N3=(0,c.Z)(function*(y,p,g){const M=(0,R.m9)(y),V=s8.credentialWithLink(p,g||M2());return q(V._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),v6(M,V)})).apply(this,arguments)}function on(y,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:createAuthUri",O2(y,p))})).apply(this,arguments)}function Ct(){return(Ct=(0,c.Z)(function*(y,p){const M={identifier:p,continueUri:k2()?M2():"http://localhost"},{signinMethods:V}=yield on((0,R.m9)(y),M);return V||[]})).apply(this,arguments)}function vr(){return(vr=(0,c.Z)(function*(y,p){const g=(0,R.m9)(y),V={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&j2(g.auth,V,p);const{email:T}=yield we(g.auth,V);T!==y.email&&(yield y.reload())})).apply(this,arguments)}function r0(){return(r0=(0,c.Z)(function*(y,p,g){const M=(0,R.m9)(y),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&j2(M.auth,T,g);const{email:X}=yield t8(M.auth,T);X!==y.email&&(yield y.reload())})).apply(this,arguments)}function s0(y,p){return a5.apply(this,arguments)}function a5(){return(a5=(0,c.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function h8(){return(h8=(0,c.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const M=(0,R.m9)(y),T={idToken:yield M.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},X=yield ye(M,s0(M.auth,T));M.displayName=X.displayName||null,M.photoURL=X.photoUrl||null;const M1=M.providerData.find(({providerId:Y1})=>"password"===Y1);M1&&(M1.displayName=M.displayName,M1.photoURL=M.photoURL),yield M._updateTokensIfNecessary(X)})).apply(this,arguments)}function o5(y,p,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,c.Z)(function*(y,p,g){const{auth:M}=y,T={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(T.email=p),g&&(T.password=g);const X=yield ye(y,Rt(M,T));yield y._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class c5{constructor(p,g,M={}){this.isNewUser=p,this.providerId=g,this.profile=M}}class Va extends c5{constructor(p,g,M,V){super(p,g,M),this.username=V}}class d8 extends c5{constructor(p,g){super(p,"facebook.com",g)}}class kn extends Va{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class _9 extends c5{constructor(p,g){super(p,"google.com",g)}}class l4 extends Va{constructor(p,g,M){super(p,"twitter.com",g,M)}}function Gt(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function wa(y){var p,g;if(!y)return null;const{providerId:M}=y,V=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},T=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!M&&(null==y?void 0:y.idToken)){const X=null===(g=null===(p=h2(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(X)return new c5(T,"anonymous"!==X&&"custom"!==X?X:null)}if(!M)return null;switch(M){case"facebook.com":return new d8(T,V);case"github.com":return new kn(T,V);case"google.com":return new _9(T,V);case"twitter.com":return new l4(T,V,y.screenName||null);case"custom":case"anonymous":return new c5(T,null);default:return new c5(T,M,V)}}(g)}class cn{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new cn("enroll",p)}static _fromMfaPendingCredential(p){return new cn("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,M;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return cn._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(M=p.multiFactorSession)||void 0===M?void 0:M.idToken)return cn._fromIdtoken(p.multiFactorSession.idToken)}return null}}class p8{constructor(p,g,M){this.session=p,this.hints=g,this.signInResolver=M}static _fromError(p,g){const M=F(p),V=g.customData._serverResponse,T=(V.mfaInfo||[]).map(M1=>Ae._fromServerResponse(M,M1));q(V.mfaPendingCredential,M,"internal-error");const X=cn._fromMfaPendingCredential(V.mfaPendingCredential);return new p8(X,T,function(){var M1=(0,c.Z)(function*(Y1){const l2=yield Y1._process(M,X);delete V.mfaInfo,delete V.mfaPendingCredential;const A2=Object.assign(Object.assign({},V),{idToken:l2.idToken,refreshToken:l2.refreshToken});switch(g.operationType){case"signIn":const H2=yield K4._fromIdTokenResponse(M,g.operationType,A2);return yield M._updateCurrentUser(H2.user),H2;case"reauthenticate":return q(g.user,M,"internal-error"),K4._forOperation(g.user,g.operationType,A2);default:A1(M,"internal-error")}});return function(Y1){return M1.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,c.Z)(function*(){return g.signInResolver(p)})()}}function sd(y,p){return P2(y,"POST","/v2/accounts/mfaEnrollment:start",O2(y,p))}class Ha{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(M=>Ae._fromServerResponse(p.auth,M)))})}static _fromUser(p){return new Ha(p)}getSession(){var p=this;return(0,c.Z)(function*(){return cn._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var M=this;return(0,c.Z)(function*(){const V=p,T=yield M.getSession(),X=yield ye(M.user,V._process(M.user.auth,T,g));return yield M.user._updateTokensIfNecessary(X),M.user.reload()})()}unenroll(p){var g=this;return(0,c.Z)(function*(){const M="string"==typeof p?p:p.uid,V=yield g.user.getIdToken(),T=yield ye(g.user,function _r(y,p){return P2(y,"POST","/v2/accounts/mfaEnrollment:withdraw",O2(y,p))}(g.user.auth,{idToken:V,mfaEnrollmentId:M}));g.enrolledFactors=g.enrolledFactors.filter(({uid:X})=>X!==M),yield g.user._updateTokensIfNecessary(T);try{yield g.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const xa=new WeakMap,l5="__sak";class a0{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(l5,"1"),this.storage.removeItem(l5),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const C3=(()=>{class y extends a0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,M)=>this.onStorageEvent(g,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ad(){const y=(0,R.z$)();return U3(y)||T3(y)}()&&function d3(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=d4(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const M of Object.keys(this.listeners)){const V=this.storage.getItem(M),T=this.localCache[M];V!==T&&g(M,T,V)}}onStorageEvent(g,M=!1){if(!g.key)return void this.forAllChangedKeys((M1,Y1,l2)=>{this.notifyListeners(M1,l2)});const V=g.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const M1=this.storage.getItem(V);if(g.newValue!==M1)null!==g.newValue?this.storage.setItem(V,g.newValue):this.storage.removeItem(V);else if(this.localCache[V]===g.newValue&&!M)return}const T=()=>{const M1=this.storage.getItem(V);!M&&this.localCache[V]===M1||this.notifyListeners(V,M1)},X=this.storage.getItem(V);!function I4(){return(0,R.w1)()&&10===document.documentMode}()||X===g.newValue||g.newValue===g.oldValue?T():setTimeout(T,10)}notifyListeners(g,M){this.localCache[g]=M;const V=this.listeners[g];if(V)for(const T of Array.from(V))T(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,M,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:M,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,M){var V=()=>super._set,T=this;return(0,c.Z)(function*(){yield V().call(T,g,M),T.localCache[g]=JSON.stringify(M)})()}_get(g){var M=()=>super._get,V=this;return(0,c.Z)(function*(){const T=yield M().call(V,g);return V.localCache[g]=JSON.stringify(T),T})()}_remove(g){var M=()=>super._remove,V=this;return(0,c.Z)(function*(){yield M().call(V,g),delete V.localCache[g]})()}}return y.type="LOCAL",y})(),Ke=(()=>{class y extends a0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,M){}_removeListener(g,M){}}return y.type="SESSION",y})();let Ta=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const M=this.receivers.find(T=>T.isListeningto(g));if(M)return M;const V=new y(g);return this.receivers.push(V),V}isListeningto(g){return this.eventTarget===g}handleEvent(g){var M=this;return(0,c.Z)(function*(){const V=g,{eventId:T,eventType:X,data:M1}=V.data,Y1=M.handlersMap[X];if(!(null==Y1?void 0:Y1.size))return;V.ports[0].postMessage({status:"ack",eventId:T,eventType:X});const l2=Array.from(Y1).map(function(){var H2=(0,c.Z)(function*(Ye){return Ye(V.origin,M1)});return function(Ye){return H2.apply(this,arguments)}}()),A2=yield function Ea(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(M){return{fulfilled:!1,reason:M}}});return function(g){return p.apply(this,arguments)}}()))}(l2);V.ports[0].postMessage({status:"done",eventId:T,eventType:X,response:A2})})()}_subscribe(g,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(M)}_unsubscribe(g,M){this.handlersMap[g]&&M&&this.handlersMap[g].delete(M),(!M||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Wt(y="",p=10){let g="";for(let M=0;M<p;M++)g+=Math.floor(10*Math.random());return y+g}class L9{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,M=50){var V=this;return(0,c.Z)(function*(){const T="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let X,M1;return new Promise((Y1,l2)=>{const A2=Wt("",20);T.port1.start();const H2=setTimeout(()=>{l2(new Error("unsupported_event"))},M);M1={messageChannel:T,onMessage(Ye){const y4=Ye;if(y4.data.eventId===A2)switch(y4.data.status){case"ack":clearTimeout(H2),X=setTimeout(()=>{l2(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Y1(y4.data.response);break;default:clearTimeout(H2),clearTimeout(X),l2(new Error("invalid_response"))}}},V.handlers.add(M1),T.port1.addEventListener("message",M1.onMessage),V.target.postMessage({eventType:p,eventId:A2,data:g},[T.port2])}).finally(()=>{M1&&V.removeMessageHandler(M1)})})()}}function je(){return window}function pt(){return void 0!==je().WorkerGlobalScope&&"function"==typeof je().importScripts}function Mr(){return(Mr=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const c0="firebaseLocalStorageDb",f5="firebaseLocalStorage",m8="fbase_key";class Pn{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Rn(y,p){return y.transaction([f5],p?"readwrite":"readonly").objectStore(f5)}function b6(){const y=indexedDB.open(c0,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const M=y.result;try{M.createObjectStore(f5,{keyPath:m8})}catch(V){g(V)}}),y.addEventListener("success",(0,c.Z)(function*(){const M=y.result;M.objectStoreNames.contains(f5)?p(M):(M.close(),yield function l0(){const y=indexedDB.deleteDatabase(c0);return new Pn(y).toPromise()}(),p(yield b6()))}))})}function u0(y,p,g){return z6.apply(this,arguments)}function z6(){return(z6=(0,c.Z)(function*(y,p,g){const M=Rn(y,!0).put({[m8]:p,value:g});return new Pn(M).toPromise()})).apply(this,arguments)}function f0(){return(f0=(0,c.Z)(function*(y,p){const g=Rn(y,!1).get(p),M=yield new Pn(g).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Lr(y,p){const g=Rn(y,!0).delete(p);return new Pn(g).toPromise()}const On=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield b6()),g.db})()}_withRetries(g){var M=this;return(0,c.Z)(function*(){let V=0;for(;;)try{const T=yield M._openDb();return yield g(T)}catch(T){if(V++>3)throw T;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return pt()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Ta._getInstance(function Ia(){return pt()?self:null}()),g.receiver._subscribe("keyChanged",function(){var M=(0,c.Z)(function*(V,T){return{keyProcessed:(yield g._poll()).includes(T.key)}});return function(V,T){return M.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var M=(0,c.Z)(function*(V,T){return["keyChanged"]});return function(V,T){return M.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var M,V;if(g.activeServiceWorker=yield function b2(){return Mr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new L9(g.activeServiceWorker);const T=yield g.sender._send("ping",{},800);!T||(null===(M=T[0])||void 0===M?void 0:M.fulfilled)&&(null===(V=T[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var M=this;return(0,c.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Aa(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:g},M.serviceWorkerReceiverAvailable?800:50)}catch(V){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield b6();return yield u0(g,l5,"1"),yield Lr(g,l5),!0}catch(g){}return!1})()}_withPendingWrite(g){var M=this;return(0,c.Z)(function*(){M.pendingWrites++;try{yield g()}finally{M.pendingWrites--}})()}_set(g,M){var V=this;return(0,c.Z)(function*(){return V._withPendingWrite((0,c.Z)(function*(){return yield V._withRetries(T=>u0(T,g,M)),V.localCache[g]=M,V.notifyServiceWorker(g)}))})()}_get(g){var M=this;return(0,c.Z)(function*(){const V=yield M._withRetries(T=>function g8(y,p){return f0.apply(this,arguments)}(T,g));return M.localCache[g]=V,V})()}_remove(g){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(V=>Lr(V,g)),delete M.localCache[g],M.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const M=yield g._withRetries(X=>{const M1=Rn(X,!1).getAll();return new Pn(M1).toPromise()});if(!M)return[];if(0!==g.pendingWrites)return[];const V=[],T=new Set;for(const{fbase_key:X,value:M1}of M)T.add(X),JSON.stringify(g.localCache[X])!==JSON.stringify(M1)&&(g.notifyListeners(X,M1),V.push(X));for(const X of Object.keys(g.localCache))g.localCache[X]&&!T.has(X)&&(g.notifyListeners(X,null),V.push(X));return V})()}notifyListeners(g,M){this.localCache[g]=M;const V=this.listeners[g];if(V)for(const T of Array.from(V))T(M)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function D3(y,p){return P2(y,"POST","/v2/accounts/mfaSignIn:start",O2(y,p))}function Ne(){return(Ne=(0,c.Z)(function*(y){return(yield P2(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mt(y){return new Promise((p,g)=>{const M=document.createElement("script");M.setAttribute("src",y),M.onload=p,M.onerror=V=>{const T=H1("internal-error");T.customData=V,g(T)},M.type="text/javascript",M.charset="UTF-8",function v8(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(M)})}function V6(y){return`__${y}${Math.floor(1e6*Math.random())}`}const P4=1e12;class n3{constructor(p){this.auth=p,this.counter=P4,this._widgets=new Map}render(p,g){const M=this.counter;return this._widgets.set(M,new S6(p,this.auth.name,g||{})),this.counter++,M}reset(p){var g;const M=p||P4;null===(g=this._widgets.get(M))||void 0===g||g.delete(),this._widgets.delete(M)}getResponse(p){var g;return(null===(g=this._widgets.get(p||P4))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,c.Z)(function*(){var M;return null===(M=g._widgets.get(p||P4))||void 0===M||M.execute(),""})()}}class S6{constructor(p,g,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof p?document.getElementById(p):p;q(V,"argument-error",{appName:g}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function h0(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<y;M++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(M){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(M){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qe=V6("rcb"),b9=new Le(3e4,6e4);class od{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!je().grecaptcha}load(p,g=""){return q(function C5(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(je().grecaptcha):new Promise((M,V)=>{const T=je().setTimeout(()=>{V(H1(p,"network-request-failed"))},b9.get());je()[qe]=()=>{je().clearTimeout(T),delete je()[qe];const M1=je().grecaptcha;if(!M1)return void V(H1(p,"internal-error"));const Y1=M1.render;M1.render=(l2,A2)=>{const H2=Y1(l2,A2);return this.counter++,H2},this.hostLanguage=g,M(M1)},mt(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:qe,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(T),V(H1(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!je().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class X4{load(p){return(0,c.Z)(function*(){return new n3(p)})()}clearedOneInstance(){}}const w9="recaptcha",Fn={theme:"light",type:"image"};class H6{constructor(p,g=Object.assign({},Fn),M){this.parameters=g,this.type=w9,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=F(M),this.isInvisible="invisible"===this.parameters.size,q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof p?document.getElementById(p):p;q(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new X4:new od,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),M=p.getAssertedRecaptcha();return M.getResponse(g)||new Promise(T=>{const X=M1=>{!M1||(p.tokenChangeListeners.delete(X),T(M1))};p.tokenChangeListeners.add(X),p.isInvisible&&M.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(M=>M(g)),"function"==typeof p)p(g);else if("string"==typeof p){const M=je()[p];"function"==typeof M&&M(g)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const M=document.createElement("div");g.appendChild(M),g=M}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){q(k2()&&!pt(),p.auth,"internal-error"),yield function y8(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Na(y){return Ne.apply(this,arguments)}(p.auth);q(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class r3{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=An._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function x6(){return(x6=(0,c.Z)(function*(y,p,g){const M=F(y),V=yield p5(M,p,(0,R.m9)(g));return new r3(V,T=>v6(M,T))})).apply(this,arguments)}function C0(){return(C0=(0,c.Z)(function*(y,p,g){const M=(0,R.m9)(y);yield ae(!1,M,"phone");const V=yield p5(M.auth,p,(0,R.m9)(g));return new r3(V,T=>N(M,T))})).apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(y,p,g){const M=(0,R.m9)(y),V=yield p5(M.auth,p,(0,R.m9)(g));return new r3(V,T=>C1(M,T))})).apply(this,arguments)}function p5(y,p,g){return E6.apply(this,arguments)}function E6(){return(E6=(0,c.Z)(function*(y,p,g){var M;const V=yield g.verify();try{let T;if(q("string"==typeof V,y,"argument-error"),q(g.type===w9,y,"argument-error"),T="string"==typeof p?{phoneNumber:p}:p,"session"in T){const X=T.session;if("phoneNumber"in T)return q("enroll"===X.type,y,"internal-error"),(yield sd(y,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{q("signin"===X.type,y,"internal-error");const M1=(null===(M=T.multiFactorHint)||void 0===M?void 0:M.uid)||T.multiFactorUid;return q(M1,y,"missing-multi-factor-info"),(yield D3(y,{mfaPendingCredential:X.credential,mfaEnrollmentId:M1,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield ar(y,{phoneNumber:T.phoneNumber,recaptchaToken:V});return X}}finally{g._reset()}})).apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(y,p){yield Y4((0,R.m9)(y),p)})).apply(this,arguments)}let M8=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=F(g)}verifyPhoneNumber(g,M){return p5(this.auth,g,(0,R.m9)(M))}static credential(g,M){return An._fromVerification(g,M)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:M,temporaryProof:V}=g;return M&&V?An._fromTokenResponse(M,V):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Un(y,p){return p?c1(p):(q(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class p0 extends ze{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ut(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Ut(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Ut(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function ne(y){return X3(y.auth,new p0(y),y.bypassAuthState)}function Da(y){const{auth:p,user:g}=y;return q(g,p,"internal-error"),l8(g,new p0(y),y.bypassAuthState)}function k3(y){return m5.apply(this,arguments)}function m5(){return(m5=(0,c.Z)(function*(y){const{auth:p,user:g}=y;return q(g,p,"internal-error"),Y4(g,new p0(y),y.bypassAuthState)})).apply(this,arguments)}class un{constructor(p,g,M,V,T=!1){this.auth=p,this.resolver=M,this.user=V,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,c.Z)(function*(M,V){p.pendingPromise={resolve:M,reject:V};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(T){p.reject(T)}});return function(M,V){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,c.Z)(function*(){const{urlResponse:M,sessionId:V,postBody:T,tenantId:X,error:M1,type:Y1}=p;if(M1)return void g.reject(M1);const l2={auth:g.auth,requestUri:M,sessionId:V,tenantId:X||void 0,postBody:T||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Y1)(l2))}catch(A2){g.reject(A2)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ne;case"linkViaPopup":case"linkViaRedirect":return k3;case"reauthViaPopup":case"reauthViaRedirect":return Da;default:A1(this.auth,"internal-error")}}resolve(p){t1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){t1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ld=new Le(2e3,1e4);function m0(){return(m0=(0,c.Z)(function*(y,p,g){const M=F(y);X1(y,p,J3);const V=Un(M,g);return new g0(M,"signInViaPopup",p,V).executeNotNull()})).apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(y,p,g){const M=(0,R.m9)(y);X1(M.auth,p,J3);const V=Un(M.auth,g);return new g0(M.auth,"reauthViaPopup",p,V,M).executeNotNull()})).apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(y,p,g){const M=(0,R.m9)(y);X1(M.auth,p,J3);const V=Un(M.auth,g);return new g0(M.auth,"linkViaPopup",p,V,M).executeNotNull()})).apply(this,arguments)}let g0=(()=>{class y extends un{constructor(g,M,V,T,X){super(g,M,T,X),this.provider=V,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const M=yield g.execute();return q(M,g.auth,"internal-error"),M})()}onExecution(){var g=this;return(0,c.Z)(function*(){t1(1===g.filter.length,"Popup operations only handle one event");const M=Wt();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],M),g.authWindow.associatedEvent=M,g.resolver._originValidation(g.auth).catch(V=>{g.reject(V)}),g.resolver._isIframeWebStorageSupported(g.auth,V=>{V||g.reject(H1(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(H1(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var M,V;this.pollId=(null===(V=null===(M=this.authWindow)||void 0===M?void 0:M.window)||void 0===V?void 0:V.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(H1(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ld.get())};g()}}return y.currentPopupAction=null,y})();const G3=new Map;class ud extends un{constructor(p,g,M=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,M),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,c.Z)(function*(){let M=G3.get(g.auth._key());if(!M){try{const T=(yield function L8(y,p){return g5.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;M=()=>Promise.resolve(T)}catch(V){M=()=>Promise.reject(V)}G3.set(g.auth._key(),M)}return g.bypassAuthState||G3.set(g.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,M=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(M,p);if("unknown"!==p.type){if(p.eventId){const V=yield M.auth._redirectUserForId(p.eventId);if(V)return M.user=V,g().call(M,p);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function g5(){return(g5=(0,c.Z)(function*(y,p){const g=_0(p),M=Vr(y);if(!(yield M._isAvailable()))return!1;const V="true"===(yield M._get(g));return yield M._remove(g),V})).apply(this,arguments)}function T6(y,p){return v0.apply(this,arguments)}function v0(){return(v0=(0,c.Z)(function*(y,p){return Vr(y)._set(_0(p),"true")})).apply(this,arguments)}function y0(y,p){G3.set(y._key(),p)}function Vr(y){return c1(y._redirectPersistence)}function _0(y){return p2("pendingRedirect",y.config.apiKey,y.name)}function X2(){return(X2=(0,c.Z)(function*(y,p,g){const M=F(y);X1(y,p,J3);const V=Un(M,g);return yield T6(V,M),V._openRedirect(M,p,"signInViaRedirect")})).apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(y,p,g){const M=(0,R.m9)(y);X1(M.auth,p,J3);const V=Un(M.auth,g);yield T6(V,M.auth);const T=yield _5(M);return V._openRedirect(M.auth,p,"reauthViaRedirect",T)})).apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(y,p,g){const M=(0,R.m9)(y);X1(M.auth,p,J3);const V=Un(M.auth,g);yield ae(!1,M,p.providerId),yield T6(V,M.auth);const T=yield _5(M);return V._openRedirect(M.auth,p,"linkViaRedirect",T)})).apply(this,arguments)}function y5(){return(y5=(0,c.Z)(function*(y,p){return yield F(y)._initializationPromise,gt(y,p,!1)})).apply(this,arguments)}function gt(y,p){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(y,p,g=!1){const M=F(y),V=Un(M,p),X=yield new ud(M,V,g).execute();return X&&!g&&(delete X.user._redirectEventId,yield M._persistUserIfCurrent(X.user),yield M._setRedirectUser(null,p)),X})).apply(this,arguments)}function _5(y){return A6.apply(this,arguments)}function A6(){return(A6=(0,c.Z)(function*(y){const p=Wt(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class M5{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(p,M)&&(g=!0,this.sendToConsumer(p,M),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Fa(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L5(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var M;if(p.error&&!L5(p)){const V=(null===(M=p.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";g.onError(H1(this.auth,V))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const M=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&M}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(b8(p))}saveEventToCache(p){this.cachedEventUids.add(b8(p)),this.lastProcessedEventTime=Date.now()}}function b8(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function L5({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Ua(y){return b0.apply(this,arguments)}function b0(){return(b0=(0,c.Z)(function*(y,p={}){return P2(y,"GET","/v1/projects",p)})).apply(this,arguments)}const hn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z8=/^https?/;function Ba(){return(Ba=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Ua(y);for(const g of p)try{if(ja(g))return}catch(M){}A1(y,"unauthorized-domain")})).apply(this,arguments)}function ja(y){const p=M2(),{protocol:g,hostname:M}=new URL(p);if(y.startsWith("chrome-extension://")){const X=new URL(y);return""===X.hostname&&""===M?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&X.hostname===M}if(!z8.test(g))return!1;if(hn.test(y))return M===y;const V=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(M)}const H9=new Le(3e4,6e4);function qa(){const y=je().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let b5=null;function dn(y){return b5=b5||function z0(y){return new Promise((p,g)=>{var M,V,T;function X(){qa(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{qa(),g(H1(y,"network-request-failed"))},timeout:H9.get()})}if(null===(V=null===(M=je().gapi)||void 0===M?void 0:M.iframes)||void 0===V?void 0:V.Iframe)p(gapi.iframes.getContext());else{if(!(null===(T=je().gapi)||void 0===T?void 0:T.load)){const M1=V6("iframefcb");return je()[M1]=()=>{gapi.load?X():g(H1(y,"network-request-failed"))},mt(`https://apis.google.com/js/api.js?onload=${M1}`).catch(Y1=>g(Y1))}X()}}).catch(p=>{throw b5=null,p})}(y),b5}const Cn=new Le(5e3,15e3),x9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E9(y){const p=y.config;q(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Ce(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,M={apiKey:p.apiKey,appName:y.name,v:f1.SDK_VERSION},V=N6.get(y.config.apiHost);V&&(M.eid=V);const T=y._getFrameworks();return T.length&&(M.fw=T.join(",")),`${g}?${(0,R.xO)(M).slice(1)}`}function Gn(){return Gn=(0,c.Z)(function*(y){const p=yield dn(y),g=je().gapi;return q(g,y,"internal-error"),p.open({where:document.body,url:E9(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x9,dontclear:!0},M=>new Promise(function(){var V=(0,c.Z)(function*(T,X){yield M.restyle({setHideOnLeave:!1});const M1=H1(y,"network-request-failed"),Y1=je().setTimeout(()=>{X(M1)},Cn.get());function l2(){je().clearTimeout(Y1),T(M)}M.ping(l2).then(l2,()=>{X(M1)})});return function(T,X){return V.apply(this,arguments)}}()))}),Gn.apply(this,arguments)}const w0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ga{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function vt(y,p,g,M,V,T){q(y.config.authDomain,y,"auth-domain-config-required"),q(y.config.apiKey,y,"invalid-api-key");const X={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:M,v:f1.SDK_VERSION,eventId:V};if(p instanceof J3){p.setDefaultLanguage(y.languageCode),X.providerId=p.providerId||"",(0,R.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Y1,l2]of Object.entries(T||{}))X[Y1]=l2}if(p instanceof In){const Y1=p.getScopes().filter(l2=>""!==l2);Y1.length>0&&(X.scopes=Y1.join(","))}y.tenantId&&(X.tid=y.tenantId);const M1=X;for(const Y1 of Object.keys(M1))void 0===M1[Y1]&&delete M1[Y1];return`${function z5({config:y}){return y.emulator?Ce(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(M1).slice(1)}`}const V8="webStorageSupport";class S8 extends class I9{constructor(p){this.factorId=p}_process(p,g,M){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,M);case"signin":return this._finalizeSignIn(p,g.credential);default:return U("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new S8(p)}_finalizeEnroll(p,g,M){return function M6(y,p){return P2(y,"POST","/v2/accounts/mfaEnrollment:finalize",O2(y,p))}(p,{idToken:g,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function w6(y,p){return P2(y,"POST","/v2/accounts/mfaSignIn:finalize",O2(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $a=(()=>{class y{constructor(){}static assertion(g){return S8._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Za="@firebase/auth";class Ya{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(M=>{var V;p((null===(V=M)||void 0===V?void 0:V.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yt(){return window}function D6(){return(D6=(0,c.Z)(function*(y,p,g){var M;const{BuildInfo:V}=yt();t1(p.sessionId,"AuthEvent did not contain a session ID");const T=yield E0(p.sessionId),X={};return T3()?X.ibi=V.packageName:Ee()?X.apn=V.packageName:A1(y,"operation-not-supported-in-this-environment"),V.displayName&&(X.appDisplayName=V.displayName),X.sessionId=T,vt(y,g,p.type,void 0,null!==(M=p.eventId)&&void 0!==M?M:void 0,X)})).apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(y){const{BuildInfo:p}=yt(),g={};T3()?g.iosBundleId=p.packageName:Ee()?g.androidPackageName=p.packageName:A1(y,"operation-not-supported-in-this-environment"),yield Ua(y,g)})).apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(y,p,g){const{cordova:M}=yt();let V=()=>{};try{yield new Promise((T,X)=>{let M1=null;function Y1(){var H2;T();const Ye=null===(H2=M.plugins.browsertab)||void 0===H2?void 0:H2.close;"function"==typeof Ye&&Ye(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function l2(){M1||(M1=window.setTimeout(()=>{X(H1(y,"redirect-cancelled-by-user"))},2e3))}function A2(){"visible"===(null==document?void 0:document.visibilityState)&&l2()}p.addPassiveListener(Y1),document.addEventListener("resume",l2,!1),Ee()&&document.addEventListener("visibilitychange",A2,!1),V=()=>{p.removePassiveListener(Y1),document.removeEventListener("resume",l2,!1),document.removeEventListener("visibilitychange",A2,!1),M1&&window.clearTimeout(M1)}})}finally{V()}})).apply(this,arguments)}function E0(y){return H8.apply(this,arguments)}function H8(){return(H8=(0,c.Z)(function*(y){const p=T0(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function T0(y){if(t1(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let M=0;M<y.length;M++)g[M]=y.charCodeAt(M);return g}!function fd(y){(0,f1._registerComponent)(new l1.wA("auth",(p,{options:g})=>{const M=p.getProvider("app").getImmediate(),V=p.getProvider("heartbeat"),{apiKey:T,authDomain:X}=M.options;return((M1,Y1)=>{q(T&&!T.includes(":"),"invalid-api-key",{appName:M1.name}),q(!(null==X?void 0:X.includes(":")),"argument-error",{appName:M1.name});const l2={apiKey:T,authDomain:X,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pt(y)},A2=new n2(M1,Y1,l2);return function u1(y,p){const g=(null==p?void 0:p.persistence)||[],M=(Array.isArray(g)?g:[g]).map(c1);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(M,null==p?void 0:p.popupRedirectResolver)}(A2,g),A2})(M,V)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,M)=>{p.getProvider("auth-internal").initialize()})),(0,f1._registerComponent)(new l1.wA("auth-internal",p=>{const g=F(p.getProvider("auth").getImmediate());return new Ya(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,f1.registerVersion)(Za,"0.20.1",function Tr(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,f1.registerVersion)(Za,"0.20.1","esm2017")}("Browser");class Nr extends M5{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function S5(y){return H5.apply(this,arguments)}function H5(){return(H5=(0,c.Z)(function*(y){const p=yield P6()._get(kr(y));return p&&(yield P6()._remove(kr(y))),p})).apply(this,arguments)}function Dr(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const M=Math.floor(Math.random()*p.length);y.push(p.charAt(M))}return y.join("")}function P6(){return c1(C3)}function kr(y){return p2("authEvent",y.config.apiKey,y.name)}function oe(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,R.zd)(g.join("?"))}function E5(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:H1("no-auth-event")}}function R6(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function to(y=(0,R.z$)()){return!("file:"!==R6()&&"ionic:"!==R6()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function k0(){try{const y=self.localStorage,p=Wt();if(y)return y.setItem(p,"1"),y.removeItem(p),!function D0(y=(0,R.z$)()){return function e4(){return(0,R.w1)()&&11===(null==document?void 0:document.documentMode)}()||function O6(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch(y){return P3()&&(0,R.hl)()}return!1}function P3(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function F6(){return(function F9(){return"http:"===R6()||"https:"===R6()}()||(0,R.ru)()||to())&&!function Wn(){return(0,R.b$)()||(0,R.UG)()}()&&k0()&&!P3()}function Pr(){return to()&&"undefined"!=typeof document}function x8(){return(x8=(0,c.Z)(function*(){return!!Pr()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const m4={LOCAL:"local",NONE:"none",SESSION:"session"},gn=q,ro="persistence";function T5(y){return P0.apply(this,arguments)}function P0(){return(P0=(0,c.Z)(function*(y){yield y._initializationPromise;const p=so(),g=p2(ro,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function so(){var y;try{return(null===(y=function no(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const B9=q;class g4{constructor(){this.browserResolver=c1(class Wa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ke,this._completeRedirectFn=gt,this._overrideRedirectResult=y0}_openPopup(p,g,M,V){var T=this;return(0,c.Z)(function*(){var X;t1(null===(X=T.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const M1=vt(p,g,M,M2(),V);return function w8(y,p,g,M=500,V=600){const T=Math.max((window.screen.availHeight-V)/2,0).toString(),X=Math.max((window.screen.availWidth-M)/2,0).toString();let M1="";const Y1=Object.assign(Object.assign({},w0),{width:M.toString(),height:V.toString(),top:T,left:X}),l2=(0,R.z$)().toLowerCase();g&&(M1=h4(l2)?"_blank":g),se(l2)&&(p=p||"http://localhost",Y1.scrollbars="yes");const A2=Object.entries(Y1).reduce((Ye,[y4,T8])=>`${Ye}${y4}=${T8},`,"");if(function lt(y=(0,R.z$)()){var p;return T3(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(l2)&&"_self"!==M1)return function T9(y,p){const g=document.createElement("a");g.href=y,g.target=p;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(M)}(p||"",M1),new Ga(null);const H2=window.open(p||"",M1,A2);q(H2,y,"popup-blocked");try{H2.focus()}catch(Ye){}return new Ga(H2)}(p,M1,Wt())})()}_openRedirect(p,g,M,V){var T=this;return(0,c.Z)(function*(){return yield T._originValidation(p),function o0(y){je().location.href=y}(vt(p,g,M,M2(),V)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:V,promise:T}=this.eventManagers[g];return V?Promise.resolve(V):(t1(T,"If manager is not set, promise should be"),T)}const M=this.initAndGetManager(p);return this.eventManagers[g]={promise:M},M.catch(()=>{delete this.eventManagers[g]}),M}initAndGetManager(p){var g=this;return(0,c.Z)(function*(){const M=yield function xr(y){return Gn.apply(this,arguments)}(p),V=new M5(p);return M.register("authEvent",T=>(q(null==T?void 0:T.authEvent,p,"invalid-auth-event"),{status:V.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:V},g.iframes[p._key()]=M,V})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(V8,{type:V8},V=>{var T;const X=null===(T=null==V?void 0:V[0])||void 0===T?void 0:T[V8];void 0!==X&&g(!!X),A1(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function S9(y){return Ba.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return d4()||U3()||T3()}}),this.cordovaResolver=c1(class eo{constructor(){this._redirectPersistence=Ke,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gt,this._overrideRedirectResult=y0}_initialize(p){var g=this;return(0,c.Z)(function*(){const M=p._key();let V=g.eventManagers.get(M);return V||(V=new Nr(p),g.eventManagers.set(M,V),g.attachCallbackListeners(p,V)),V})()}_openPopup(p){A1(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,M,V){var T=this;return(0,c.Z)(function*(){!function w5(y){var p,g,M,V,T,X,M1,Y1,l2,A2;const H2=yt();q("function"==typeof(null===(p=null==H2?void 0:H2.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(void 0!==(null===(g=null==H2?void 0:H2.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(T=null===(V=null===(M=null==H2?void 0:H2.cordova)||void 0===M?void 0:M.plugins)||void 0===V?void 0:V.browsertab)||void 0===T?void 0:T.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Y1=null===(M1=null===(X=null==H2?void 0:H2.cordova)||void 0===X?void 0:X.plugins)||void 0===M1?void 0:M1.browsertab)||void 0===Y1?void 0:Y1.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(A2=null===(l2=null==H2?void 0:H2.cordova)||void 0===l2?void 0:l2.InAppBrowser)||void 0===A2?void 0:A2.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const X=yield T._initialize(p);yield X.initialized(),X.resetRedirect(),function Ra(){G3.clear()}(),yield T._originValidation(p);const M1=function V5(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Dr(),postBody:null,tenantId:y.tenantId,error:H1(y,"no-auth-event")}}(p,M,V);yield function N9(y,p){return P6()._set(kr(y),p)}(p,M1);const Y1=yield function _t(y,p,g){return D6.apply(this,arguments)}(p,M1,g),l2=yield function Ir(y){const{cordova:p}=yt();return new Promise(g=>{p.plugins.browsertab.isAvailable(M=>{let V=null;M?p.plugins.browsertab.openUrl(y):V=p.InAppBrowser.open(y,function En(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(V)})})}(Y1);return function k6(y,p,g){return Xa.apply(this,arguments)}(p,X,l2)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ja(y){return Ar.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:M,handleOpenURL:V,BuildInfo:T}=yt(),X=setTimeout((0,c.Z)(function*(){yield S5(p),g.onEvent(E5())}),500),M1=function(){var A2=(0,c.Z)(function*(H2){clearTimeout(X);const Ye=yield S5(p);let y4=null;Ye&&(null==H2?void 0:H2.url)&&(y4=function D9(y,p){var g,M;const V=function I0(y){const p=oe(y),g=p.link?decodeURIComponent(p.link):void 0,M=oe(g).link,V=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return oe(V).link||V||M||g||y}(p);if(V.includes("/__/auth/callback")){const T=oe(V),X=T.firebaseError?function A0(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(T.firebaseError)):null,M1=null===(M=null===(g=null==X?void 0:X.code)||void 0===g?void 0:g.split("auth/"))||void 0===M?void 0:M[1],Y1=M1?H1(M1):null;return Y1?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Y1,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:V,postBody:null}}return null}(Ye,H2.url)),g.onEvent(y4||E5())});return function(Ye){return A2.apply(this,arguments)}}();void 0!==M&&"function"==typeof M.subscribe&&M.subscribe(null,M1);const Y1=V,l2=`${T.packageName.toLowerCase()}://`;yt().handleOpenURL=function(){var A2=(0,c.Z)(function*(H2){if(H2.toLowerCase().startsWith(l2)&&M1({url:H2}),"function"==typeof Y1)try{Y1(H2)}catch(Ye){console.error(Ye)}});return function(H2){return A2.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ke,this._completeRedirectFn=gt,this._overrideRedirectResult=y0}_initialize(p){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,M,V){var T=this;return(0,c.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openPopup(p,g,M,V)})()}_openRedirect(p,g,M,V){var T=this;return(0,c.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openRedirect(p,g,M,V)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Pr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return B9(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const g=yield function U9(){return x8.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function ao(y){return y.unwrap()}function Rr(y){return oo(y)}function oo(y){const{_tokenResponse:p}=y instanceof R.ZR?y.customData:y;if(!p)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return M8.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let M;switch(g){case"google.com":M=fr;break;case"facebook.com":M=Nn;break;case"github.com":M=t0;break;case"twitter.com":M=r5;break;default:const{oauthIdToken:V,oauthAccessToken:T,oauthTokenSecret:X,pendingToken:M1,nonce:Y1}=p;return T||X||V||M1?M1?g.startsWith("saml.")?Z4._create(g,M1):W4._fromParams({providerId:g,signInMethod:g,pendingToken:M1,idToken:V,accessToken:T}):new $4(g).credential({idToken:V,accessToken:T,rawNonce:Y1}):null}return y instanceof R.ZR?M.credentialFromError(y):M.credentialFromResult(y)}function v4(y,p){return p.catch(g=>{throw g instanceof R.ZR&&function q9(y,p){var g;const M=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new co(y,function M9(y,p){var g;const M=(0,R.m9)(y),V=p;return q(p.customData.operationType,M,"argument-error"),q(null===(g=V.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,M,"argument-error"),p8._fromError(M,V)}(y,p));else if(M){const V=oo(p),T=p;V&&(T.credential=V,T.tenantId=M.tenantId||void 0,T.email=M.email||void 0,T.phoneNumber=M.phoneNumber||void 0)}}(y,g),g}).then(g=>{const V=g.user;return{operationType:g.operationType,credential:Rr(g),additionalUserInfo:Gt(g),user:Zt.getOrCreate(V)}})}function R0(y,p){return O0.apply(this,arguments)}function O0(){return(O0=(0,c.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:M=>v4(y,g.confirm(M))}})).apply(this,arguments)}class co{constructor(p,g){this.resolver=g,this.auth=function j9(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return v4(ao(this.auth),this.resolver.resolveSignIn(p))}}class Zt{constructor(p){this._delegate=p,this.multiFactor=function L6(y){const p=(0,R.m9)(y);return xa.has(p)||xa.set(p,Ha._fromUser(p)),xa.get(p)}(p)}static getOrCreate(p){return Zt.USER_MAP.has(p)||Zt.USER_MAP.set(p,new Zt(p)),Zt.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,c.Z)(function*(){return v4(g.auth,N(g._delegate,p))})()}linkWithPhoneNumber(p,g){var M=this;return(0,c.Z)(function*(){return R0(M.auth,function cd(y,p,g){return C0.apply(this,arguments)}(M._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,c.Z)(function*(){return v4(g.auth,function Pa(y,p,g){return wr.apply(this,arguments)}(g._delegate,p,g4))})()}linkWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield T5(F(g.auth)),function M0(y,p,g){return function v5(y,p,g){return Sr.apply(this,arguments)}(y,p,g)}(g._delegate,p,g4)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,c.Z)(function*(){return v4(g.auth,C1(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return R0(this.auth,function et(y,p,g){return tt.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return v4(this.auth,function $t(y,p,g){return zr.apply(this,arguments)}(this._delegate,p,g4))}reauthenticateWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield T5(F(g.auth)),function c3(y,p,g){return function Oa(y,p,g){return fn.apply(this,arguments)}(y,p,g)}(g._delegate,p,g4)})()}sendEmailVerification(p){return function g9(y,p){return vr.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,c.Z)(function*(){return yield function m9(y,p){return Te.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function nd(y,p){return o5((0,R.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function za(y,p){return o5((0,R.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function _8(y,p){return br.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function y9(y,p){return h8.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function v9(y,p,g){return r0.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zt.USER_MAP=new WeakMap;const E8=q;let lo=(()=>{class y{constructor(g,M){if(this.app=g,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=g.options;E8(V,"invalid-api-key",{appName:g.name}),E8(V,"invalid-api-key",{appName:g.name});const T="undefined"!=typeof window?g4:void 0;this._delegate=M.initialize({options:{persistence:G9(V,g.name),popupRedirectResolver:T}}),this._delegate._updateErrorMap(O1),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,M){!function P1(y,p,g){const M=F(y);q(M._canInitEmulator,M,"emulator-config-failed"),q(/^https?:\/\//.test(p),M,"invalid-emulator-scheme");const V=!!(null==g?void 0:g.disableWarnings),T=d2(p),{host:X,port:M1}=function W2(y){const p=d2(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const M=g[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(M);if(V){const T=V[1];return{host:T,port:Y2(M.substr(T.length+1))}}{const[T,X]=M.split(":");return{host:T,port:Y2(X)}}}(p);M.config.emulator={url:`${T}//${X}${null===M1?"":`:${M1}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:X,port:M1,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Q2(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,M)}applyActionCode(g){return function N1(y,p){return U2.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return an(this._delegate,g)}confirmPasswordReset(g,M){return function i5(y,p,g){return y6.apply(this,arguments)}(this._delegate,g,M)}createUserWithEmailAndPassword(g,M){var V=this;return(0,c.Z)(function*(){return v4(V._delegate,function dt(y,p,g){return f8.apply(this,arguments)}(V._delegate,g,M))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function s5(y,p){return Ct.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function pr(y,p){const g=p6.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){E8(F6(),g._delegate,"operation-not-supported-in-this-environment");const M=yield function V9(y,p){return y5.apply(this,arguments)}(g._delegate,g4);return M?v4(g._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function k9(y,p){F(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,M,V){const{next:T,error:X,complete:M1}=uo(g,M,V);return this._delegate.onAuthStateChanged(T,X,M1)}onIdTokenChanged(g,M,V){const{next:T,error:X,complete:M1}=uo(g,M,V);return this._delegate.onIdTokenChanged(T,X,M1)}sendSignInLinkToEmail(g,M){return function td(y,p,g){return Cr.apply(this,arguments)}(this._delegate,g,M)}sendPasswordResetEmail(g,M){return function sn(y,p,g){return D4.apply(this,arguments)}(this._delegate,g,M||void 0)}setPersistence(g){var M=this;return(0,c.Z)(function*(){let V;switch(function io(y,p){gn(Object.values(m4).includes(p),y,"invalid-persistence-type"),(0,R.b$)()?gn(p!==m4.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?gn(p===m4.NONE,y,"unsupported-persistence-type"):P3()?gn(p===m4.NONE||p===m4.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):gn(p===m4.NONE||k0(),y,"unsupported-persistence-type")}(M._delegate,g),g){case m4.SESSION:V=Ke;break;case m4.LOCAL:V=(yield c1(On)._isAvailable())?On:C3;break;case m4.NONE:V=q1;break;default:return A1("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return v4(this._delegate,function ba(y){return o8.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return v4(this._delegate,v6(this._delegate,g))}signInWithCustomToken(g){return v4(this._delegate,function Ue(y,p){return f2.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,M){return v4(this._delegate,function n0(y,p,g){return v6((0,R.m9)(y),s8.credential(p,g))}(this._delegate,g,M))}signInWithEmailLink(g,M){return v4(this._delegate,function mr(y,p,g){return N3.apply(this,arguments)}(this._delegate,g,M))}signInWithPhoneNumber(g,M){return R0(this._delegate,function d0(y,p,g){return x6.apply(this,arguments)}(this._delegate,g,M))}signInWithPopup(g){var M=this;return(0,c.Z)(function*(){return E8(F6(),M._delegate,"operation-not-supported-in-this-environment"),v4(M._delegate,function ka(y,p,g){return m0.apply(this,arguments)}(M._delegate,g,g4))})()}signInWithRedirect(g){var M=this;return(0,c.Z)(function*(){return E8(F6(),M._delegate,"operation-not-supported-in-this-environment"),yield T5(M._delegate),function Bn(y,p,g){return function jn(y,p,g){return X2.apply(this,arguments)}(y,p,g)}(M._delegate,g,g4)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function dr(y,p){return _6.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=m4,y})();function uo(y,p,g){let M=y;"function"!=typeof y&&({next:M,error:p,complete:g}=y);const V=M;return{next:X=>V(X&&Zt.getOrCreate(X)),error:p,complete:g}}function G9(y,p){const g=function U6(y,p){const g=so();if(!g)return[];const M=p2(ro,y,p);switch(g.getItem(M)){case m4.NONE:return[q1];case m4.LOCAL:return[On,Ke];case m4.SESSION:return[Ke];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(On)&&g.push(On),"undefined"!=typeof window)for(const M of[C3,Ke])g.includes(M)||g.push(M);return g.includes(q1)||g.push(q1),g}class F0{constructor(){this.providerId="phone",this._delegate=new M8(ao(e1.Z.auth()))}static credential(p,g){return M8.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}F0.PHONE_SIGN_IN_METHOD=M8.PHONE_SIGN_IN_METHOD,F0.PROVIDER_ID=M8.PROVIDER_ID;const fo=q;class dd{constructor(p,g,M=e1.Z.app()){var V;fo(null===(V=M.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new H6(p,g,M.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Mt(y){y.INTERNAL.registerComponent(new l1.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),M=p.getProvider("auth");return new lo(g,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:s8,FacebookAuthProvider:Nn,GithubAuthProvider:t0,GoogleAuthProvider:fr,OAuthProvider:$4,SAMLAuthProvider:jt,PhoneAuthProvider:F0,PhoneMultiFactorGenerator:$a,RecaptchaVerifier:dd,TwitterAuthProvider:r5,Auth:lo,AuthCredential:ze,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.14")}(e1.Z)},788:a2=>{const z1=/\b((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/;a2.exports=function(R){return{toInt:()=>function A(e1){if(!e1)throw new Error("E_UNDEFINED_IP");if(!z1.test(e1))throw new Error("E_INVALID_IP");return e1.split(".").map((R,f1,p1)=>parseInt(R)*Math.pow(256,p1.length-f1-1)).reduce((R,f1)=>R+f1)}(R),toIP:()=>function c(e1){if(!e1)throw new Error("E_UNDEFINED_INTEGER");const R=/\d+/.exec(e1);if(!R)throw new Error("E_INTEGER_NOT_FOUND");return[(e1=R[0])>>24&255,e1>>16&255,e1>>8&255,255&e1].join(".")}(R)}}},8306:(a2,z1,A)=>{A.d(z1,{y:()=>W});var c=A(930),e1=A(727),R=A(8822),f1=A(4671);var l1=A(2416),m1=A(576),v1=A(2806);let W=(()=>{class V1{constructor(G1){G1&&(this._subscribe=G1)}lift(G1){const g1=new V1;return g1.source=this,g1.operator=G1,g1}subscribe(G1,g1,S1){const c2=function j1(V1){return V1&&V1 instanceof c.Lv||function a1(V1){return V1&&(0,m1.m)(V1.next)&&(0,m1.m)(V1.error)&&(0,m1.m)(V1.complete)}(V1)&&(0,e1.Nn)(V1)}(G1)?G1:new c.Hp(G1,g1,S1);return(0,v1.x)(()=>{const{operator:t2,source:A1}=this;c2.add(t2?t2.call(c2,A1):A1?this._subscribe(c2):this._trySubscribe(c2))}),c2}_trySubscribe(G1){try{return this._subscribe(G1)}catch(g1){G1.error(g1)}}forEach(G1,g1){return new(g1=G(g1))((S1,c2)=>{const t2=new c.Hp({next:A1=>{try{G1(A1)}catch(H1){c2(H1),t2.unsubscribe()}},error:c2,complete:S1});this.subscribe(t2)})}_subscribe(G1){var g1;return null===(g1=this.source)||void 0===g1?void 0:g1.subscribe(G1)}[R.L](){return this}pipe(...G1){return function b1(V1){return 0===V1.length?f1.y:1===V1.length?V1[0]:function(G1){return V1.reduce((g1,S1)=>S1(g1),G1)}}(G1)(this)}toPromise(G1){return new(G1=G(G1))((g1,S1)=>{let c2;this.subscribe(t2=>c2=t2,t2=>S1(t2),()=>g1(c2))})}}return V1.create=O1=>new V1(O1),V1})();function G(V1){var O1;return null!==(O1=null!=V1?V1:l1.v.Promise)&&void 0!==O1?O1:Promise}},7579:(a2,z1,A)=>{A.d(z1,{x:()=>l1});var c=A(8306),e1=A(727);const f1=(0,A(3888).d)(v1=>function(){v1(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var p1=A(8737),b1=A(2806);let l1=(()=>{class v1 extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const a1=new m1(this,this);return a1.operator=G,a1}_throwIfClosed(){if(this.closed)throw new f1}next(G){(0,b1.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const a1=this.observers.slice();for(const j1 of a1)j1.next(G)}})}error(G){(0,b1.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:a1}=this;for(;a1.length;)a1.shift().error(G)}})}complete(){(0,b1.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:a1,isStopped:j1,observers:V1}=this;return a1||j1?e1.Lc:(V1.push(G),new e1.w0(()=>(0,p1.P)(V1,G)))}_checkFinalizedStatuses(G){const{hasError:a1,thrownError:j1,isStopped:V1}=this;a1?G.error(j1):V1&&G.complete()}asObservable(){const G=new c.y;return G.source=this,G}}return v1.create=(W,G)=>new m1(W,G),v1})();class m1 extends l1{constructor(W,G){super(),this.destination=W,this.source=G}next(W){var G,a1;null===(a1=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===a1||a1.call(G,W)}error(W){var G,a1;null===(a1=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===a1||a1.call(G,W)}complete(){var W,G;null===(G=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===G||G.call(W)}_subscribe(W){var G,a1;return null!==(a1=null===(G=this.source)||void 0===G?void 0:G.subscribe(W))&&void 0!==a1?a1:e1.Lc}}},930:(a2,z1,A)=>{A.d(z1,{Hp:()=>G1,Lv:()=>a1});var c=A(576),e1=A(727),R=A(2416),f1=A(7849),p1=A(5032);const b1=v1("C",void 0,void 0);function v1(A1,H1,x1){return{kind:A1,value:H1,error:x1}}var W=A(3410),G=A(2806);class a1 extends e1.w0{constructor(H1){super(),this.isStopped=!1,H1?(this.destination=H1,(0,e1.Nn)(H1)&&H1.add(this)):this.destination=t2}static create(H1,x1,X1){return new G1(H1,x1,X1)}next(H1){this.isStopped?c2(function m1(A1){return v1("N",A1,void 0)}(H1),this):this._next(H1)}error(H1){this.isStopped?c2(function l1(A1){return v1("E",void 0,A1)}(H1),this):(this.isStopped=!0,this._error(H1))}complete(){this.isStopped?c2(b1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(H1){this.destination.next(H1)}_error(H1){try{this.destination.error(H1)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const j1=Function.prototype.bind;function V1(A1,H1){return j1.call(A1,H1)}class O1{constructor(H1){this.partialObserver=H1}next(H1){const{partialObserver:x1}=this;if(x1.next)try{x1.next(H1)}catch(X1){g1(X1)}}error(H1){const{partialObserver:x1}=this;if(x1.error)try{x1.error(H1)}catch(X1){g1(X1)}else g1(H1)}complete(){const{partialObserver:H1}=this;if(H1.complete)try{H1.complete()}catch(x1){g1(x1)}}}class G1 extends a1{constructor(H1,x1,X1){let B1;if(super(),(0,c.m)(H1)||!H1)B1={next:null!=H1?H1:void 0,error:null!=x1?x1:void 0,complete:null!=X1?X1:void 0};else{let q;this&&R.v.useDeprecatedNextContext?(q=Object.create(H1),q.unsubscribe=()=>this.unsubscribe(),B1={next:H1.next&&V1(H1.next,q),error:H1.error&&V1(H1.error,q),complete:H1.complete&&V1(H1.complete,q)}):B1=H1}this.destination=new O1(B1)}}function g1(A1){R.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(A1):(0,f1.h)(A1)}function c2(A1,H1){const{onStoppedNotification:x1}=R.v;x1&&W.z.setTimeout(()=>x1(A1,H1))}const t2={closed:!0,next:p1.Z,error:function S1(A1){throw A1},complete:p1.Z}},727:(a2,z1,A)=>{A.d(z1,{Lc:()=>b1,w0:()=>p1,Nn:()=>l1});var c=A(576);const R=(0,A(3888).d)(v1=>function(G){v1(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((a1,j1)=>`${j1+1}) ${a1.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var f1=A(8737);class p1{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const V1 of G)V1.remove(this);else G.remove(this);const{initialTeardown:a1}=this;if((0,c.m)(a1))try{a1()}catch(V1){W=V1 instanceof R?V1.errors:[V1]}const{_teardowns:j1}=this;if(j1){this._teardowns=null;for(const V1 of j1)try{m1(V1)}catch(O1){W=null!=W?W:[],O1 instanceof R?W=[...W,...O1.errors]:W.push(O1)}}if(W)throw new R(W)}}add(W){var G;if(W&&W!==this)if(this.closed)m1(W);else{if(W instanceof p1){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._teardowns=null!==(G=this._teardowns)&&void 0!==G?G:[]).push(W)}}_hasParent(W){const{_parentage:G}=this;return G===W||Array.isArray(G)&&G.includes(W)}_addParent(W){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(W),G):G?[G,W]:W}_removeParent(W){const{_parentage:G}=this;G===W?this._parentage=null:Array.isArray(G)&&(0,f1.P)(G,W)}remove(W){const{_teardowns:G}=this;G&&(0,f1.P)(G,W),W instanceof p1&&W._removeParent(this)}}p1.EMPTY=(()=>{const v1=new p1;return v1.closed=!0,v1})();const b1=p1.EMPTY;function l1(v1){return v1 instanceof p1||v1&&"closed"in v1&&(0,c.m)(v1.remove)&&(0,c.m)(v1.add)&&(0,c.m)(v1.unsubscribe)}function m1(v1){(0,c.m)(v1)?v1():v1.unsubscribe()}},2416:(a2,z1,A)=>{A.d(z1,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(a2,z1,A)=>{A.d(z1,{E:()=>e1});const e1=new(A(8306).y)(p1=>p1.complete())},8996:(a2,z1,A)=>{A.d(z1,{D:()=>H1});var c=A(8421),e1=A(5363),R=A(9468),b1=A(8306),m1=A(2202),v1=A(576),W=A(9672);function a1(x1,X1){if(!x1)throw new Error("Iterable cannot be null");return new b1.y(B1=>{(0,W.f)(B1,X1,()=>{const q=x1[Symbol.asyncIterator]();(0,W.f)(B1,X1,()=>{q.next().then(U=>{U.done?B1.complete():B1.next(U.value)})},0,!0)})})}var j1=A(3670),V1=A(8239),O1=A(1144),G1=A(6495),g1=A(2206),S1=A(4532),c2=A(3260);function H1(x1,X1){return X1?function A1(x1,X1){if(null!=x1){if((0,j1.c)(x1))return function f1(x1,X1){return(0,c.Xf)(x1).pipe((0,R.R)(X1),(0,e1.Q)(X1))}(x1,X1);if((0,O1.z)(x1))return function l1(x1,X1){return new b1.y(B1=>{let q=0;return X1.schedule(function(){q===x1.length?B1.complete():(B1.next(x1[q++]),B1.closed||this.schedule())})})}(x1,X1);if((0,V1.t)(x1))return function p1(x1,X1){return(0,c.Xf)(x1).pipe((0,R.R)(X1),(0,e1.Q)(X1))}(x1,X1);if((0,g1.D)(x1))return a1(x1,X1);if((0,G1.T)(x1))return function G(x1,X1){return new b1.y(B1=>{let q;return(0,W.f)(B1,X1,()=>{q=x1[m1.h](),(0,W.f)(B1,X1,()=>{let U,t1;try{({value:U,done:t1}=q.next())}catch(d1){return void B1.error(d1)}t1?B1.complete():B1.next(U)},0,!0)}),()=>(0,v1.m)(null==q?void 0:q.return)&&q.return()})}(x1,X1);if((0,c2.L)(x1))return function t2(x1,X1){return a1((0,c2.Q)(x1),X1)}(x1,X1)}throw(0,S1.z)(x1)}(x1,X1):(0,c.Xf)(x1)}},8421:(a2,z1,A)=>{A.d(z1,{Xf:()=>j1});var c=A(655),e1=A(1144),R=A(8239),f1=A(8306),p1=A(3670),b1=A(2206),l1=A(4532),m1=A(6495),v1=A(3260),W=A(576),G=A(7849),a1=A(8822);function j1(A1){if(A1 instanceof f1.y)return A1;if(null!=A1){if((0,p1.c)(A1))return function V1(A1){return new f1.y(H1=>{const x1=A1[a1.L]();if((0,W.m)(x1.subscribe))return x1.subscribe(H1);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(A1);if((0,e1.z)(A1))return function O1(A1){return new f1.y(H1=>{for(let x1=0;x1<A1.length&&!H1.closed;x1++)H1.next(A1[x1]);H1.complete()})}(A1);if((0,R.t)(A1))return function G1(A1){return new f1.y(H1=>{A1.then(x1=>{H1.closed||(H1.next(x1),H1.complete())},x1=>H1.error(x1)).then(null,G.h)})}(A1);if((0,b1.D)(A1))return S1(A1);if((0,m1.T)(A1))return function g1(A1){return new f1.y(H1=>{for(const x1 of A1)if(H1.next(x1),H1.closed)return;H1.complete()})}(A1);if((0,v1.L)(A1))return function c2(A1){return S1((0,v1.Q)(A1))}(A1)}throw(0,l1.z)(A1)}function S1(A1){return new f1.y(H1=>{(function t2(A1,H1){var x1,X1,B1,q;return(0,c.mG)(this,void 0,void 0,function*(){try{for(x1=(0,c.KL)(A1);!(X1=yield x1.next()).done;)if(H1.next(X1.value),H1.closed)return}catch(U){B1={error:U}}finally{try{X1&&!X1.done&&(q=x1.return)&&(yield q.call(x1))}finally{if(B1)throw B1.error}}H1.complete()})})(A1,H1).catch(x1=>H1.error(x1))})}},6451:(a2,z1,A)=>{A.d(z1,{T:()=>b1});var c=A(8189),e1=A(8421),R=A(515),f1=A(7669),p1=A(8996);function b1(...l1){const m1=(0,f1.yG)(l1),v1=(0,f1._6)(l1,1/0),W=l1;return W.length?1===W.length?(0,e1.Xf)(W[0]):(0,c.J)(v1)((0,p1.D)(W,m1)):R.E}},5403:(a2,z1,A)=>{A.d(z1,{Q:()=>R,x:()=>e1});var c=A(930);function e1(f1,p1,b1,l1,m1){return new R(f1,p1,b1,l1,m1)}class R extends c.Lv{constructor(p1,b1,l1,m1,v1,W){super(p1),this.onFinalize=v1,this.shouldUnsubscribe=W,this._next=b1?function(G){try{b1(G)}catch(a1){p1.error(a1)}}:super._next,this._error=m1?function(G){try{m1(G)}catch(a1){p1.error(a1)}finally{this.unsubscribe()}}:super._error,this._complete=l1?function(){try{l1()}catch(G){p1.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var p1;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:b1}=this;super.unsubscribe(),!b1&&(null===(p1=this.onFinalize)||void 0===p1||p1.call(this))}}}},4004:(a2,z1,A)=>{A.d(z1,{U:()=>R});var c=A(4482),e1=A(5403);function R(f1,p1){return(0,c.e)((b1,l1)=>{let m1=0;b1.subscribe((0,e1.x)(l1,v1=>{l1.next(f1.call(p1,v1,m1++))}))})}},8189:(a2,z1,A)=>{A.d(z1,{J:()=>R});var c=A(5577),e1=A(4671);function R(f1=1/0){return(0,c.z)(e1.y,f1)}},5577:(a2,z1,A)=>{A.d(z1,{z:()=>m1});var c=A(4004),e1=A(8421),R=A(4482),f1=A(9672),p1=A(5403),l1=A(576);function m1(v1,W,G=1/0){return(0,l1.m)(W)?m1((a1,j1)=>(0,c.U)((V1,O1)=>W(a1,V1,j1,O1))((0,e1.Xf)(v1(a1,j1))),G):("number"==typeof W&&(G=W),(0,R.e)((a1,j1)=>function b1(v1,W,G,a1,j1,V1,O1,G1){const g1=[];let S1=0,c2=0,t2=!1;const A1=()=>{t2&&!g1.length&&!S1&&W.complete()},H1=X1=>S1<a1?x1(X1):g1.push(X1),x1=X1=>{V1&&W.next(X1),S1++;let B1=!1;(0,e1.Xf)(G(X1,c2++)).subscribe((0,p1.x)(W,q=>{null==j1||j1(q),V1?H1(q):W.next(q)},()=>{B1=!0},void 0,()=>{if(B1)try{for(S1--;g1.length&&S1<a1;){const q=g1.shift();O1?(0,f1.f)(W,O1,()=>x1(q)):x1(q)}A1()}catch(q){W.error(q)}}))};return v1.subscribe((0,p1.x)(W,H1,()=>{t2=!0,A1()})),()=>{null==G1||G1()}}(a1,j1,v1,G)))}},5363:(a2,z1,A)=>{A.d(z1,{Q:()=>f1});var c=A(9672),e1=A(4482),R=A(5403);function f1(p1,b1=0){return(0,e1.e)((l1,m1)=>{l1.subscribe((0,R.x)(m1,v1=>(0,c.f)(m1,p1,()=>m1.next(v1),b1),()=>(0,c.f)(m1,p1,()=>m1.complete(),b1),v1=>(0,c.f)(m1,p1,()=>m1.error(v1),b1)))})}},3099:(a2,z1,A)=>{A.d(z1,{B:()=>b1});var c=A(8996),e1=A(5698),R=A(7579),f1=A(930),p1=A(4482);function b1(m1={}){const{connector:v1=(()=>new R.x),resetOnError:W=!0,resetOnComplete:G=!0,resetOnRefCountZero:a1=!0}=m1;return j1=>{let V1=null,O1=null,G1=null,g1=0,S1=!1,c2=!1;const t2=()=>{null==O1||O1.unsubscribe(),O1=null},A1=()=>{t2(),V1=G1=null,S1=c2=!1},H1=()=>{const x1=V1;A1(),null==x1||x1.unsubscribe()};return(0,p1.e)((x1,X1)=>{g1++,!c2&&!S1&&t2();const B1=G1=null!=G1?G1:v1();X1.add(()=>{g1--,0===g1&&!c2&&!S1&&(O1=l1(H1,a1))}),B1.subscribe(X1),V1||(V1=new f1.Hp({next:q=>B1.next(q),error:q=>{c2=!0,t2(),O1=l1(A1,W,q),B1.error(q)},complete:()=>{S1=!0,t2(),O1=l1(A1,G),B1.complete()}}),(0,c.D)(x1).subscribe(V1))})(j1)}}function l1(m1,v1,...W){return!0===v1?(m1(),null):!1===v1?null:v1(...W).pipe((0,e1.q)(1)).subscribe(()=>m1())}},9468:(a2,z1,A)=>{A.d(z1,{R:()=>e1});var c=A(4482);function e1(R,f1=0){return(0,c.e)((p1,b1)=>{b1.add(R.schedule(()=>p1.subscribe(b1),f1))})}},5698:(a2,z1,A)=>{A.d(z1,{q:()=>f1});var c=A(515),e1=A(4482),R=A(5403);function f1(p1){return p1<=0?()=>c.E:(0,e1.e)((b1,l1)=>{let m1=0;b1.subscribe((0,R.x)(l1,v1=>{++m1<=p1&&(l1.next(v1),p1<=m1&&l1.complete())}))})}},8505:(a2,z1,A)=>{A.d(z1,{b:()=>p1});var c=A(576),e1=A(4482),R=A(5403),f1=A(4671);function p1(b1,l1,m1){const v1=(0,c.m)(b1)||l1||m1?{next:b1,error:l1,complete:m1}:b1;return v1?(0,e1.e)((W,G)=>{var a1;null===(a1=v1.subscribe)||void 0===a1||a1.call(v1);let j1=!0;W.subscribe((0,R.x)(G,V1=>{var O1;null===(O1=v1.next)||void 0===O1||O1.call(v1,V1),G.next(V1)},()=>{var V1;j1=!1,null===(V1=v1.complete)||void 0===V1||V1.call(v1),G.complete()},V1=>{var O1;j1=!1,null===(O1=v1.error)||void 0===O1||O1.call(v1,V1),G.error(V1)},()=>{var V1,O1;j1&&(null===(V1=v1.unsubscribe)||void 0===V1||V1.call(v1)),null===(O1=v1.finalize)||void 0===O1||O1.call(v1)}))}):f1.y}},4408:(a2,z1,A)=>{A.d(z1,{o:()=>p1});var c=A(727);class e1 extends c.w0{constructor(l1,m1){super()}schedule(l1,m1=0){return this}}const R={setInterval(...b1){const{delegate:l1}=R;return((null==l1?void 0:l1.setInterval)||setInterval)(...b1)},clearInterval(b1){const{delegate:l1}=R;return((null==l1?void 0:l1.clearInterval)||clearInterval)(b1)},delegate:void 0};var f1=A(8737);class p1 extends e1{constructor(l1,m1){super(l1,m1),this.scheduler=l1,this.work=m1,this.pending=!1}schedule(l1,m1=0){if(this.closed)return this;this.state=l1;const v1=this.id,W=this.scheduler;return null!=v1&&(this.id=this.recycleAsyncId(W,v1,m1)),this.pending=!0,this.delay=m1,this.id=this.id||this.requestAsyncId(W,this.id,m1),this}requestAsyncId(l1,m1,v1=0){return R.setInterval(l1.flush.bind(l1,this),v1)}recycleAsyncId(l1,m1,v1=0){if(null!=v1&&this.delay===v1&&!1===this.pending)return m1;R.clearInterval(m1)}execute(l1,m1){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const v1=this._execute(l1,m1);if(v1)return v1;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(l1,m1){let W,v1=!1;try{this.work(l1)}catch(G){v1=!0,W=G||new Error("Scheduled action threw falsy error")}if(v1)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:l1,scheduler:m1}=this,{actions:v1}=m1;this.work=this.state=this.scheduler=null,this.pending=!1,(0,f1.P)(v1,this),null!=l1&&(this.id=this.recycleAsyncId(m1,l1,null)),this.delay=null,super.unsubscribe()}}}},7565:(a2,z1,A)=>{A.d(z1,{v:()=>R});var c=A(6063);class e1{constructor(p1,b1=e1.now){this.schedulerActionCtor=p1,this.now=b1}schedule(p1,b1=0,l1){return new this.schedulerActionCtor(this,p1).schedule(l1,b1)}}e1.now=c.l.now;class R extends e1{constructor(p1,b1=e1.now){super(p1,b1),this.actions=[],this._active=!1,this._scheduled=void 0}flush(p1){const{actions:b1}=this;if(this._active)return void b1.push(p1);let l1;this._active=!0;do{if(l1=p1.execute(p1.state,p1.delay))break}while(p1=b1.shift());if(this._active=!1,l1){for(;p1=b1.shift();)p1.unsubscribe();throw l1}}}},4986:(a2,z1,A)=>{A.d(z1,{z:()=>R});var c=A(4408);const R=new(A(7565).v)(c.o)},6063:(a2,z1,A)=>{A.d(z1,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(a2,z1,A)=>{A.d(z1,{z:()=>c});const c={setTimeout(...e1){const{delegate:R}=c;return((null==R?void 0:R.setTimeout)||setTimeout)(...e1)},clearTimeout(e1){const{delegate:R}=c;return((null==R?void 0:R.clearTimeout)||clearTimeout)(e1)},delegate:void 0}},2202:(a2,z1,A)=>{A.d(z1,{h:()=>e1});const e1=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(a2,z1,A)=>{A.d(z1,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(a2,z1,A)=>{A.d(z1,{_6:()=>b1,jO:()=>f1,yG:()=>p1});var c=A(576);function R(l1){return l1[l1.length-1]}function f1(l1){return(0,c.m)(R(l1))?l1.pop():void 0}function p1(l1){return function e1(l1){return l1&&(0,c.m)(l1.schedule)}(R(l1))?l1.pop():void 0}function b1(l1,m1){return"number"==typeof R(l1)?l1.pop():m1}},8737:(a2,z1,A)=>{function c(e1,R){if(e1){const f1=e1.indexOf(R);0<=f1&&e1.splice(f1,1)}}A.d(z1,{P:()=>c})},3888:(a2,z1,A)=>{function c(e1){const f1=e1(p1=>{Error.call(p1),p1.stack=(new Error).stack});return f1.prototype=Object.create(Error.prototype),f1.prototype.constructor=f1,f1}A.d(z1,{d:()=>c})},2806:(a2,z1,A)=>{A.d(z1,{O:()=>f1,x:()=>R});var c=A(2416);let e1=null;function R(p1){if(c.v.useDeprecatedSynchronousErrorHandling){const b1=!e1;if(b1&&(e1={errorThrown:!1,error:null}),p1(),b1){const{errorThrown:l1,error:m1}=e1;if(e1=null,l1)throw m1}}else p1()}function f1(p1){c.v.useDeprecatedSynchronousErrorHandling&&e1&&(e1.errorThrown=!0,e1.error=p1)}},9672:(a2,z1,A)=>{function c(e1,R,f1,p1=0,b1=!1){const l1=R.schedule(function(){f1(),b1?e1.add(this.schedule(null,p1)):this.unsubscribe()},p1);if(e1.add(l1),!b1)return l1}A.d(z1,{f:()=>c})},4671:(a2,z1,A)=>{function c(e1){return e1}A.d(z1,{y:()=>c})},1144:(a2,z1,A)=>{A.d(z1,{z:()=>c});const c=e1=>e1&&"number"==typeof e1.length&&"function"!=typeof e1},2206:(a2,z1,A)=>{A.d(z1,{D:()=>e1});var c=A(576);function e1(R){return Symbol.asyncIterator&&(0,c.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(a2,z1,A)=>{function c(e1){return"function"==typeof e1}A.d(z1,{m:()=>c})},3670:(a2,z1,A)=>{A.d(z1,{c:()=>R});var c=A(8822),e1=A(576);function R(f1){return(0,e1.m)(f1[c.L])}},6495:(a2,z1,A)=>{A.d(z1,{T:()=>R});var c=A(2202),e1=A(576);function R(f1){return(0,e1.m)(null==f1?void 0:f1[c.h])}},8239:(a2,z1,A)=>{A.d(z1,{t:()=>e1});var c=A(576);function e1(R){return(0,c.m)(null==R?void 0:R.then)}},3260:(a2,z1,A)=>{A.d(z1,{L:()=>f1,Q:()=>R});var c=A(655),e1=A(576);function R(p1){return(0,c.FC)(this,arguments,function*(){const l1=p1.getReader();try{for(;;){const{value:m1,done:v1}=yield(0,c.qq)(l1.read());if(v1)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(m1)}}finally{l1.releaseLock()}})}function f1(p1){return(0,e1.m)(null==p1?void 0:p1.getReader)}},4482:(a2,z1,A)=>{A.d(z1,{A:()=>e1,e:()=>R});var c=A(576);function e1(f1){return(0,c.m)(null==f1?void 0:f1.lift)}function R(f1){return p1=>{if(e1(p1))return p1.lift(function(b1){try{return f1(b1,this)}catch(l1){this.error(l1)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(a2,z1,A)=>{function c(){}A.d(z1,{Z:()=>c})},7849:(a2,z1,A)=>{A.d(z1,{h:()=>R});var c=A(2416),e1=A(3410);function R(f1){e1.z.setTimeout(()=>{const{onUnhandledError:p1}=c.v;if(!p1)throw f1;p1(f1)})}},4532:(a2,z1,A)=>{function c(e1){return new TypeError(`You provided ${null!==e1&&"object"==typeof e1?"an invalid object":`'${e1}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(z1,{z:()=>c})},655:(a2,z1,A)=>{function f1(U,t1){var d1={};for(var c1 in U)Object.prototype.hasOwnProperty.call(U,c1)&&t1.indexOf(c1)<0&&(d1[c1]=U[c1]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var I1=0;for(c1=Object.getOwnPropertySymbols(U);I1<c1.length;I1++)t1.indexOf(c1[I1])<0&&Object.prototype.propertyIsEnumerable.call(U,c1[I1])&&(d1[c1[I1]]=U[c1[I1]])}return d1}function m1(U,t1,d1,c1){return new(d1||(d1=Promise))(function(u1,M2){function k2(w2){try{o2(c1.next(w2))}catch(Le){M2(Le)}}function xe(w2){try{o2(c1.throw(w2))}catch(Le){M2(Le)}}function o2(w2){w2.done?u1(w2.value):function I1(u1){return u1 instanceof d1?u1:new d1(function(M2){M2(u1)})}(w2.value).then(k2,xe)}o2((c1=c1.apply(U,t1||[])).next())})}function g1(U){return this instanceof g1?(this.v=U,this):new g1(U)}function S1(U,t1,d1){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I1,c1=d1.apply(U,t1||[]),u1=[];return I1={},M2("next"),M2("throw"),M2("return"),I1[Symbol.asyncIterator]=function(){return this},I1;function M2(Ce){c1[Ce]&&(I1[Ce]=function(S3){return new Promise(function(ie,H3){u1.push([Ce,S3,ie,H3])>1||k2(Ce,S3)})})}function k2(Ce,S3){try{!function xe(Ce){Ce.value instanceof g1?Promise.resolve(Ce.value.v).then(o2,w2):Le(u1[0][2],Ce)}(c1[Ce](S3))}catch(ie){Le(u1[0][3],ie)}}function o2(Ce){k2("next",Ce)}function w2(Ce){k2("throw",Ce)}function Le(Ce,S3){Ce(S3),u1.shift(),u1.length&&k2(u1[0][0],u1[0][1])}}function t2(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d1,t1=U[Symbol.asyncIterator];return t1?t1.call(U):(U=function a1(U){var t1="function"==typeof Symbol&&Symbol.iterator,d1=t1&&U[t1],c1=0;if(d1)return d1.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&c1>=U.length&&(U=void 0),{value:U&&U[c1++],done:!U}}};throw new TypeError(t1?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),d1={},c1("next"),c1("throw"),c1("return"),d1[Symbol.asyncIterator]=function(){return this},d1);function c1(u1){d1[u1]=U[u1]&&function(M2){return new Promise(function(k2,xe){!function I1(u1,M2,k2,xe){Promise.resolve(xe).then(function(o2){u1({value:o2,done:k2})},M2)}(k2,xe,(M2=U[u1](M2)).done,M2.value)})}}}A.d(z1,{FC:()=>S1,KL:()=>t2,_T:()=>f1,mG:()=>m1,qq:()=>g1})},5e3:(a2,z1,A)=>{A.d(z1,{$8M:()=>v8,$Z:()=>ts,AFp:()=>lu,ALo:()=>Om,AaK:()=>m1,AsE:()=>cl,BQk:()=>ko,CHM:()=>an,CRH:()=>Km,CZH:()=>cu,CqO:()=>KC,EJc:()=>hw,EiD:()=>kr,EpF:()=>$c,F$t:()=>Xc,F4k:()=>Kc,FYo:()=>Vm,FiY:()=>qn,G48:()=>Ew,GfV:()=>Hm,Gpc:()=>G,Hsn:()=>XC,IIB:()=>ow,Ikx:()=>Cl,JOm:()=>V,JVY:()=>V8,L6k:()=>Wa,LAX:()=>I9,LFG:()=>c3,LSH:()=>x5,Lbi:()=>uw,MAs:()=>NC,MGl:()=>Ro,NdJ:()=>Yc,OlP:()=>qe,Oqu:()=>ol,PXZ:()=>bw,Q6J:()=>qc,QGY:()=>Zc,Qsj:()=>vz,R0b:()=>Mn,RDi:()=>qt,Rgc:()=>fi,SBq:()=>ls,Sil:()=>Cw,Suo:()=>Zm,TTD:()=>$4,TgZ:()=>ns,Tol:()=>il,Udp:()=>rl,VLi:()=>Mw,WLB:()=>Im,X6Q:()=>xw,XFs:()=>V2,Xpm:()=>y1,Y36:()=>es,YKP:()=>Tl,YNc:()=>IC,Yjl:()=>h4,Yz7:()=>ie,ZZ4:()=>Su,_Bn:()=>_m,_UZ:()=>Wc,_Vd:()=>Ko,_c5:()=>Ww,_uU:()=>Mp,aQg:()=>Hu,c2e:()=>pg,cJS:()=>O2,cg1:()=>jo,d8E:()=>Bo,dDg:()=>Mg,deG:()=>b9,dqk:()=>G2,eBb:()=>H0,eFA:()=>wg,ekj:()=>Oo,g9A:()=>fu,h0i:()=>li,hGG:()=>$w,hij:()=>Uo,iGM:()=>$l,ifc:()=>Z2,ip1:()=>ou,kEZ:()=>kl,kL8:()=>pl,kYT:()=>pe,lG2:()=>U3,lcZ:()=>Fm,mCW:()=>yt,n5z:()=>Na,oAB:()=>I2,oJD:()=>N0,oxw:()=>Jc,pB0:()=>S8,q3G:()=>oe,q4F:()=>xm,qLn:()=>Rr,qOj:()=>Pc,qZA:()=>No,qzn:()=>vt,r_U:()=>dg,s9C:()=>Po,sBO:()=>Eg,sIi:()=>X0,s_b:()=>Jo,soG:()=>s7,tBr:()=>gt,tb:()=>hu,tp0:()=>A6,uIk:()=>To,vHH:()=>O1,vpe:()=>r6,wAp:()=>N2,xi3:()=>Pl,xp6:()=>Sd,yhl:()=>z5,ynx:()=>Do,z2F:()=>gu,z3N:()=>mn,zSh:()=>xc,zs3:()=>Jn});var c=A(7579),e1=A(727),R=A(8306),f1=A(6451),p1=A(3099);function b1(a){for(let o in a)if(a[o]===b1)return o;throw Error("Could not find renamed property on target object.")}function l1(a,o){for(const l in o)o.hasOwnProperty(l)&&!a.hasOwnProperty(l)&&(a[l]=o[l])}function m1(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(m1).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const o=a.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function v1(a,o){return null==a||""===a?null===o?"":o:null==o||""===o?a:a+" "+o}const W=b1({__forward_ref__:b1});function G(a){return a.__forward_ref__=G,a.toString=function(){return m1(this())},a}function a1(a){return j1(a)?a():a}function j1(a){return"function"==typeof a&&a.hasOwnProperty(W)&&a.__forward_ref__===G}class O1 extends Error{constructor(o,l){super(function G1(a,o){return`NG0${Math.abs(a)}${o?": "+o:""}`}(o,l)),this.code=o}}function g1(a){return"string"==typeof a?a:null==a?"":String(a)}function S1(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():g1(a)}function H1(a,o){const l=o?` in ${o}`:"";throw new O1(-201,`No provider for ${S1(a)} found${l}`)}function o2(a,o){null==a&&function w2(a,o,l,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${l} ${f} ${o} <=Actual]`))}(o,a,null,"!=")}function ie(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function O2(a){return{providers:a.providers||[],imports:a.imports||[]}}function P2(a){return Oe(a,_3)||Oe(a,M3)}function Oe(a,o){return a.hasOwnProperty(o)?a[o]:null}function be(a){return a&&(a.hasOwnProperty(F3)||a.hasOwnProperty(h3))?a[F3]:null}const _3=b1({\u0275prov:b1}),F3=b1({\u0275inj:b1}),M3=b1({ngInjectableDef:b1}),h3=b1({ngInjectorDef:b1});var V2=(()=>((V2=V2||{})[V2.Default=0]="Default",V2[V2.Host=1]="Host",V2[V2.Self=2]="Self",V2[V2.SkipSelf=4]="SkipSelf",V2[V2.Optional=8]="Optional",V2))();let L3;function De(a){const o=L3;return L3=a,o}function K3(a,o,l){const f=P2(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:l&V2.Optional?null:void 0!==o?o:void H1(m1(a),"Injector")}function $e(a){return{toString:a}.toString()}var Fe=(()=>((Fe=Fe||{})[Fe.OnPush=0]="OnPush",Fe[Fe.Default=1]="Default",Fe))(),Z2=(()=>{return(a=Z2||(Z2={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Z2;var a})();const h2="undefined"!=typeof globalThis&&globalThis,y2="undefined"!=typeof window&&window,ye="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G2=h2||"undefined"!=typeof global&&global||y2||ye,Ze={},O=[],Y=b1({\u0275cmp:b1}),Q=b1({\u0275dir:b1}),T1=b1({\u0275pipe:b1}),B=b1({\u0275mod:b1}),n1=b1({\u0275fac:b1}),j=b1({__NG_ELEMENT_ID__:b1});let s1=0;function y1(a){return $e(()=>{const l={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Fe.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||O,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Z2.Emulated,id:"c",styles:a.styles||O,_:null,setInput:null,schemas:a.schemas||null,tView:null},d=a.directives,m=a.features,_=a.pipes;return f.id+=s1++,f.inputs=se(a.inputs,l),f.outputs=se(a.outputs),m&&m.forEach(L=>L(f)),f.directiveDefs=d?()=>("function"==typeof d?d():d).map(Z1):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(q1):null,f})}function Z1(a){return _e(a)||function Ee(a){return a[Q]||null}(a)}function q1(a){return function A4(a){return a[T1]||null}(a)}const p2={};function I2(a){return $e(()=>{const o={type:a.type,bootstrap:a.bootstrap||O,declarations:a.declarations||O,imports:a.imports||O,exports:a.exports||O,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(p2[a.id]=a.type),o})}function pe(a,o){return $e(()=>{const l=Ge(a,!0);l.declarations=o.declarations||O,l.imports=o.imports||O,l.exports=o.exports||O})}function se(a,o){if(null==a)return Ze;const l={};for(const f in a)if(a.hasOwnProperty(f)){let d=a[f],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),l[d]=f,o&&(o[d]=m)}return l}const U3=y1;function h4(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function _e(a){return a[Y]||null}function Ge(a,o){const l=a[B]||null;if(!l&&!0===o)throw new Error(`Type ${m1(a)} does not have '\u0275mod' property.`);return l}function A3(a){return Array.isArray(a)&&"object"==typeof a[1]}function p4(a){return Array.isArray(a)&&!0===a[1]}function tn(a){return 0!=(8&a.flags)}function t8(a){return 2==(2&a.flags)}function ft(a){return 1==(1&a.flags)}function N4(a){return null!==a.template}function n8(a){return 0!=(512&a[2])}function J3(a,o){return a.hasOwnProperty(n1)?a[n1]:null}class In{constructor(o,l,f){this.previousValue=o,this.currentValue=l,this.firstChange=f}isFirstChange(){return this.firstChange}}function $4(){return Nn}function Nn(a){return a.type.prototype.ngOnChanges&&(a.setInput=t0),fr}function fr(){const a=Z4(this),o=null==a?void 0:a.current;if(o){const l=a.previous;if(l===Ze)a.previous=o;else for(let f in o)l[f]=o[f];a.current=null,this.ngOnChanges(o)}}function t0(a,o,l,f){const d=Z4(a)||function a8(a,o){return a[Bt]=o}(a,{previous:Ze,current:null}),m=d.current||(d.current={}),_=d.previous,L=this.declaredInputs[l],w=_[L];m[L]=new In(w&&w.currentValue,o,_===Ze),a[f]=o}$4.ngInherit=!0;const Bt="__ngSimpleChanges__";function Z4(a){return a[Bt]||null}let Dn;function qt(a){Dn=a}function m6(){return void 0!==Dn?Dn:"undefined"!=typeof document?document:void 0}function Te(a){return!!a.listen}const Y4={createRenderer:(a,o)=>m6()};function ae(a){for(;Array.isArray(a);)a=a[0];return a}function rn(a,o){return ae(o[a])}function X3(a,o){return ae(o[a.index])}function v6(a,o){return a.data[o]}function k(a,o){return a[o]}function N(a,o){const l=o[a];return A3(l)?l:l[0]}function J(a){return 4==(4&a[2])}function C1(a){return 128==(128&a[2])}function e2(a,o){return null==o?null:a[o]}function T2(a){a[18]=0}function Ue(a,o){a[5]+=o;let l=a,f=a[3];for(;null!==f&&(1===o&&1===l[5]||-1===o&&0===l[5]);)f[5]+=o,l=f,f=f[3]}const f2={lFrame:wa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function D4(){return f2.bindingsEnabled}function N1(){return f2.lFrame.lView}function U2(){return f2.lFrame.tView}function an(a){return f2.lFrame.contextLView=a,a[8]}function Ie(){let a=dr();for(;null!==a&&64===a.type;)a=a.parent;return a}function dr(){return f2.lFrame.currentTNode}function dt(a,o){const l=f2.lFrame;l.currentTNode=a,l.isParent=o}function f8(){return f2.lFrame.isParent}function n0(){f2.lFrame.isParent=!1}function pr(){return f2.isInCheckNoChangesMode}function mr(a){f2.isInCheckNoChangesMode=a}function N3(){const a=f2.lFrame;let o=a.bindingRootIndex;return-1===o&&(o=a.bindingRootIndex=a.tView.bindingStartIndex),o}function s5(){return f2.lFrame.bindingIndex++}function Ct(a){const o=f2.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+a,l}function v9(a,o){const l=f2.lFrame;l.bindingIndex=l.bindingRootIndex=a,s0(o)}function s0(a){f2.lFrame.currentDirectiveIndex=a}function a5(a){const o=f2.lFrame.currentDirectiveIndex;return-1===o?null:a[o]}function y9(){return f2.lFrame.currentQueryIndex}function h8(a){f2.lFrame.currentQueryIndex=a}function nd(a){const o=a[1];return 2===o.type?o.declTNode:1===o.type?a[6]:null}function za(a,o,l){if(l&V2.SkipSelf){let d=o,m=a;for(;!(d=d.parent,null!==d||l&V2.Host||(d=nd(m),null===d||(m=m[15],10&d.type))););if(null===d)return!1;o=d,a=m}const f=f2.lFrame=yr();return f.currentTNode=o,f.lView=a,!0}function o5(a){const o=yr(),l=a[1];f2.lFrame=o,o.currentTNode=l.firstChild,o.lView=a,o.tView=l,o.contextLView=a,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function yr(){const a=f2.lFrame,o=null===a?null:a.child;return null===o?wa(a):o}function wa(a){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=o),o}function c5(){const a=f2.lFrame;return f2.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Va=c5;function d8(){const a=c5();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function l4(){return f2.lFrame.selectedIndex}function Gt(a){f2.lFrame.selectedIndex=a}function t3(){const a=f2.lFrame;return v6(a.tView,a.selectedIndex)}function Sa(a,o){for(let l=o.directiveStart,f=o.directiveEnd;l<f;l++){const m=a.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:L,ngAfterViewInit:w,ngAfterViewChecked:H,ngOnDestroy:x}=m;_&&(a.contentHooks||(a.contentHooks=[])).push(-l,_),L&&((a.contentHooks||(a.contentHooks=[])).push(l,L),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(l,L)),w&&(a.viewHooks||(a.viewHooks=[])).push(-l,w),H&&((a.viewHooks||(a.viewHooks=[])).push(l,H),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(l,H)),null!=x&&(a.destroyHooks||(a.destroyHooks=[])).push(l,x)}}function C8(a,o,l){M9(a,o,3,l)}function cn(a,o,l,f){(3&a[2])===l&&M9(a,o,l,f)}function p8(a,o){let l=a[2];(3&l)===o&&(l&=2047,l+=1,a[2]=l)}function M9(a,o,l,f){const m=null!=f?f:-1,_=o.length-1;let L=0;for(let w=void 0!==f?65535&a[18]:0;w<_;w++)if("number"==typeof o[w+1]){if(L=o[w],null!=f&&L>=f)break}else o[w]<0&&(a[18]+=65536),(L<m||-1==m)&&(sd(a,l,o,w),a[18]=(4294901760&a[18])+w+2),w++}function sd(a,o,l,f){const d=l[f]<0,m=l[f+1],L=a[d?-l[f]:l[f]];if(d){if(a[2]>>11<a[18]>>16&&(3&a[2])===o){a[2]+=2048;try{m.call(L)}finally{}}}else try{m.call(L)}finally{}}class _r{constructor(o,l,f){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=f}}function L2(a,o,l){const f=Te(a);let d=0;for(;d<l.length;){const m=l[d];if("number"==typeof m){if(0!==m)break;d++;const _=l[d++],L=l[d++],w=l[d++];f?a.setAttribute(o,L,w,_):o.setAttributeNS(_,L,w)}else{const _=m,L=l[++d];Q4(_)?f&&a.setProperty(o,_,L):f?a.setAttribute(o,_,L):o.setAttribute(_,L),d++}}return d}function C3(a){return 3===a||4===a||6===a}function Q4(a){return 64===a.charCodeAt(0)}function Ke(a,o){if(null!==o&&0!==o.length)if(null===a||0===a.length)a=o.slice();else{let l=-1;for(let f=0;f<o.length;f++){const d=o[f];"number"==typeof d?l=d:0===l||Ea(a,l,d,null,-1===l||2===l?o[++f]:null)}}return a}function Ea(a,o,l,f,d){let m=0,_=a.length;if(-1===o)_=-1;else for(;m<a.length;){const L=a[m++];if("number"==typeof L){if(L===o){_=-1;break}if(L>o){_=m-1;break}}}for(;m<a.length;){const L=a[m];if("number"==typeof L)break;if(L===l){if(null===f)return void(null!==d&&(a[m+1]=d));if(f===a[m+1])return void(a[m+2]=d)}m++,null!==f&&m++,null!==d&&m++}-1!==_&&(a.splice(_,0,o),m=_+1),a.splice(m++,0,l),null!==f&&a.splice(m++,0,f),null!==d&&a.splice(m++,0,d)}function Ta(a){return-1!==a}function Wt(a){return 32767&a}function je(a,o){let l=function L9(a){return a>>16}(a),f=o;for(;l>0;)f=f[15],l--;return f}let o0=!0;function pt(a){const o=o0;return o0=a,o}let Ia=0;function We(a,o){const l=m8(a,o);if(-1!==l)return l;const f=o[1];f.firstCreatePass&&(a.injectorIndex=o.length,f5(f.data,a),f5(o,null),f5(f.blueprint,null));const d=Pn(a,o),m=a.injectorIndex;if(Ta(d)){const _=Wt(d),L=je(d,o),w=L[1].data;for(let H=0;H<8;H++)o[m+H]=L[_+H]|w[_+H]}return o[m+8]=d,m}function f5(a,o){a.push(0,0,0,0,0,0,0,0,o)}function m8(a,o){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===o[a.injectorIndex+8]?-1:a.injectorIndex}function Pn(a,o){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let l=0,f=null,d=o;for(;null!==d;){const m=d[1],_=m.type;if(f=2===_?m.declTNode:1===_?d[6]:null,null===f)return-1;if(l++,d=d[15],-1!==f.injectorIndex)return f.injectorIndex|l<<16}return-1}function Rn(a,o,l){!function c0(a,o,l){let f;"string"==typeof l?f=l.charCodeAt(0)||0:l.hasOwnProperty(j)&&(f=l[j]),null==f&&(f=l[j]=Ia++);const d=255&f;o.data[a+(d>>5)]|=1<<d}(a,o,l)}function b6(a,o,l){if(l&V2.Optional)return a;H1(o,"NodeInjector")}function u0(a,o,l,f){if(l&V2.Optional&&void 0===f&&(f=null),0==(l&(V2.Self|V2.Host))){const d=a[9],m=De(void 0);try{return d?d.get(o,f,l&V2.Optional):K3(o,f,l&V2.Optional)}finally{De(m)}}return b6(f,o,l)}function z6(a,o,l,f=V2.Default,d){if(null!==a){const m=function d5(a){if("string"==typeof a)return a.charCodeAt(0)||0;const o=a.hasOwnProperty(j)?a[j]:void 0;return"number"==typeof o?o>=0?255&o:f0:o}(l);if("function"==typeof m){if(!za(o,a,f))return f&V2.Host?b6(d,l,f):u0(o,l,f,d);try{const _=m(f);if(null!=_||f&V2.Optional)return _;H1(l)}finally{Va()}}else if("number"==typeof m){let _=null,L=m8(a,o),w=-1,H=f&V2.Host?o[16][6]:null;for((-1===L||f&V2.SkipSelf)&&(w=-1===L?Pn(a,o):o[L+8],-1!==w&&D3(f,!1)?(_=o[1],L=Wt(w),o=je(w,o)):L=-1);-1!==L;){const x=o[1];if(On(m,L,x.data)){const P=Lr(L,o,l,_,f,H);if(P!==g8)return P}w=o[L+8],-1!==w&&D3(f,o[1].data[L+8]===H)&&On(m,L,o)?(_=x,L=Wt(w),o=je(w,o)):L=-1}}}return u0(o,l,f,d)}const g8={};function f0(){return new w6(Ie(),N1())}function Lr(a,o,l,f,d,m){const _=o[1],L=_.data[a+8],x=ln(L,_,l,null==f?t8(L)&&o0:f!=_&&0!=(3&L.type),d&V2.Host&&m===L);return null!==x?h5(o,_,x,L):g8}function ln(a,o,l,f,d){const m=a.providerIndexes,_=o.data,L=1048575&m,w=a.directiveStart,x=m>>20,Z=d?L+x:a.directiveEnd;for(let r1=f?L:L+x;r1<Z;r1++){const E1=_[r1];if(r1<w&&l===E1||r1>=w&&E1.type===l)return r1}if(d){const r1=_[w];if(r1&&N4(r1)&&r1.type===l)return w}return null}function h5(a,o,l,f){let d=a[l];const m=o.data;if(function Ha(a){return a instanceof _r}(d)){const _=d;_.resolving&&function c2(a,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${a}`:"";throw new O1(-200,`Circular dependency in DI detected for ${a}${l}`)}(S1(m[l]));const L=pt(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?De(_.injectImpl):null;za(a,f,V2.Default);try{d=a[l]=_.factory(void 0,m,a,f),o.firstCreatePass&&l>=f.directiveStart&&function id(a,o,l){const{ngOnChanges:f,ngOnInit:d,ngDoCheck:m}=o.type.prototype;if(f){const _=Nn(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(a,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,_)}d&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-a,d),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(a,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,m))}(l,m[l],o)}finally{null!==w&&De(w),pt(L),_.resolving=!1,Va()}}return d}function On(a,o,l){return!!(l[o+(a>>5)]&1<<a)}function D3(a,o){return!(a&V2.Self||a&V2.Host&&o)}class w6{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,f){return z6(this._tNode,this._lView,o,f,l)}}function Na(a){return $e(()=>{const o=a.prototype.constructor,l=o[n1]||Ne(o),f=Object.prototype;let d=Object.getPrototypeOf(a.prototype).constructor;for(;d&&d!==f;){const m=d[n1]||Ne(d);if(m&&m!==l)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function Ne(a){return j1(a)?()=>{const o=Ne(a1(a));return o&&o()}:J3(a)}function v8(a){return function l0(a,o){if("class"===o)return a.classes;if("style"===o)return a.styles;const l=a.attrs;if(l){const f=l.length;let d=0;for(;d<f;){const m=l[d];if(C3(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<f&&"string"==typeof l[d];)d++;else{if(m===o)return l[d+1];d+=2}}}return null}(Ie(),a)}const V6="__parameters__",J4="__prop__metadata__";function P4(a){return function(...l){if(a){const f=a(...l);for(const d in f)this[d]=f[d]}}}function n3(a,o,l){return $e(()=>{const f=P4(o);function d(...m){if(this instanceof d)return f.apply(this,m),this;const _=new d(...m);return L.annotation=_,L;function L(w,H,x){const P=w.hasOwnProperty(V6)?w[V6]:Object.defineProperty(w,V6,{value:[]})[V6];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(_),w}}return l&&(d.prototype=Object.create(l.prototype)),d.prototype.ngMetadataName=a,d.annotationCls=d,d})}function S6(a,o,l,f){return $e(()=>{const d=P4(o);function m(..._){if(this instanceof m)return d.apply(this,_),this;const L=new m(..._);return function w(H,x){const P=H.constructor,Z=P.hasOwnProperty(J4)?P[J4]:Object.defineProperty(P,J4,{value:{}})[J4];Z[x]=Z.hasOwnProperty(x)&&Z[x]||[],Z[x].unshift(L),f&&f(H,x,..._)}}return l&&(m.prototype=Object.create(l.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class qe{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=ie({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const b9=new qe("AnalyzeForEntryComponents");function et(a,o){void 0===o&&(o=a);for(let l=0;l<a.length;l++){let f=a[l];Array.isArray(f)?(o===a&&(o=a.slice(0,l)),et(f,o)):o!==a&&o.push(f)}return o}function tt(a,o){a.forEach(l=>Array.isArray(l)?tt(l,o):o(l))}function p5(a,o,l){o>=a.length?a.push(l):a.splice(o,0,l)}function E6(a,o){return o>=a.length-1?a.pop():a.splice(o,1)[0]}function _8(a,o){const l=[];for(let f=0;f<a;f++)l.push(o);return l}function k3(a,o,l){let f=un(a,o);return f>=0?a[1|f]=l:(f=~f,function Un(a,o,l,f){let d=a.length;if(d==o)a.push(l,f);else if(1===d)a.push(f,a[0]),a[0]=l;else{for(d--,a.push(a[d-1],a[d]);d>o;)a[d]=a[d-2],d--;a[o]=l,a[o+1]=f}}(a,f,o,l)),f}function m5(a,o){const l=un(a,o);if(l>=0)return a[1|l]}function un(a,o){return function ka(a,o,l){let f=0,d=a.length>>l;for(;d!==f;){const m=f+(d-f>>1),_=a[m<<l];if(o===_)return m<<l;_>o?d=m:f=m+1}return~(d<<l)}(a,o,1)}const L8={},g5="__NG_DI_FLAG__",T6="ngTempTokenPath",Ra=/\n/gm,Vr="__source",_0=b1({provide:String,useValue:b1});let Bn;function jn(a){const o=Bn;return Bn=a,o}function X2(a,o=V2.Default){if(void 0===Bn)throw new O1(203,"");return null===Bn?K3(a,void 0,o):Bn.get(a,o&V2.Optional?null:void 0,o)}function c3(a,o=V2.Default){return(function he(){return L3}()||X2)(a1(a),o)}const fn=c3;function M0(a){const o=[];for(let l=0;l<a.length;l++){const f=a1(a[l]);if(Array.isArray(f)){if(0===f.length)throw new O1(900,"");let d,m=V2.Default;for(let _=0;_<f.length;_++){const L=f[_],w=Sr(L);"number"==typeof w?-1===w?d=L.token:m|=w:d=L}o.push(c3(d,m))}else o.push(c3(f))}return o}function v5(a,o){return a[g5]=o,a.prototype[g5]=o,a}function Sr(a){return a[g5]}const gt=v5(n3("Inject",a=>({token:a})),-1),qn=v5(n3("Optional"),8),A6=v5(n3("SkipSelf"),4);let Cn,xr;function I6(a){var o;return(null===(o=function Hr(){if(void 0===Cn&&(Cn=null,G2.trustedTypes))try{Cn=G2.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Cn}())||void 0===o?void 0:o.createHTML(a))||a}function w0(a){var o;return(null===(o=function Gn(){if(void 0===xr&&(xr=null,G2.trustedTypes))try{xr=G2.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return xr}())||void 0===o?void 0:o.createHTML(a))||a}class pn{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class S0 extends pn{getTypeName(){return"HTML"}}class Ga extends pn{getTypeName(){return"Style"}}class w8 extends pn{getTypeName(){return"Script"}}class T9 extends pn{getTypeName(){return"URL"}}class A9 extends pn{getTypeName(){return"ResourceURL"}}function mn(a){return a instanceof pn?a.changingThisBreaksApplicationSecurity:a}function vt(a,o){const l=z5(a);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function z5(a){return a instanceof pn&&a.getTypeName()||null}function V8(a){return new S0(a)}function Wa(a){return new Ga(a)}function H0(a){return new w8(a)}function I9(a){return new T9(a)}function S8(a){return new A9(a)}class Za{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(I6(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Ka{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const f=this.inertDocument.createElement("body");l.appendChild(f)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=I6(o),l;const f=this.inertDocument.createElement("body");return f.innerHTML=I6(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(o){const l=o.attributes;for(let d=l.length-1;0<d;d--){const _=l.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let f=o.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Tr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qa=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function yt(a){return(a=String(a)).match(Tr)||a.match(Qa)?a:"unsafe:"+a}function _t(a){const o={};for(const l of a.split(","))o[l]=!0;return o}function D6(...a){const o={};for(const l of a)for(const f in l)l.hasOwnProperty(f)&&(o[f]=!0);return o}const Ja=_t("area,br,col,hr,img,wbr"),Ar=_t("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ir=_t("rp,rt"),E0=D6(Ja,D6(Ar,_t("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),D6(Ir,_t("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),D6(Ir,Ar)),H8=_t("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),T0=_t("srcset"),V5=D6(H8,T0,_t("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_t("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),N9=_t("script,style,template");class S5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,f=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?f=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,f&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let d=this.checkClobberedElement(l,l.nextSibling);if(d){l=d;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!E0.hasOwnProperty(l))return this.sanitizedSomething=!0,!N9.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const f=o.attributes;for(let d=0;d<f.length;d++){const m=f.item(d),_=m.name,L=_.toLowerCase();if(!V5.hasOwnProperty(L)){this.sanitizedSomething=!0;continue}let w=m.value;H8[L]&&(w=yt(w)),T0[L]&&(a=w,w=(a=String(a)).split(",").map(o=>yt(o.trim())).join(", ")),this.buf.push(" ",_,'="',Dr(w),'"')}var a;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();E0.hasOwnProperty(l)&&!Ja.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Dr(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const H5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,D9=/([^\#-~ |!])/g;function Dr(a){return a.replace(/&/g,"&amp;").replace(H5,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(D9,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let P6;function kr(a,o){let l=null;try{P6=P6||function $a(a){const o=new Ka(a);return function Ya(){try{return!!(new window.DOMParser).parseFromString(I6(""),"text/html")}catch(a){return!1}}()?new Za(o):o}(a);let f=o?String(o):"";l=P6.getInertBodyElement(f);let d=5,m=f;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,f=m,m=l.innerHTML,l=P6.getInertBodyElement(f)}while(f!==m);return I6((new S5).sanitizeChildren(A0(l)||l))}finally{if(l){const f=A0(l)||l;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function A0(a){return"content"in a&&function I0(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var oe=(()=>((oe=oe||{})[oe.NONE=0]="NONE",oe[oe.HTML=1]="HTML",oe[oe.STYLE=2]="STYLE",oe[oe.SCRIPT=3]="SCRIPT",oe[oe.URL=4]="URL",oe[oe.RESOURCE_URL=5]="RESOURCE_URL",oe))();function N0(a){const o=Wn();return o?w0(o.sanitize(oe.HTML,a)||""):vt(a,"HTML")?w0(mn(a)):kr(m6(),g1(a))}function x5(a){const o=Wn();return o?o.sanitize(oe.URL,a)||"":vt(a,"URL")?mn(a):yt(g1(a))}function Wn(){const a=N1();return a&&a[12]}const k0="__ngContext__";function P3(a,o){a[k0]=o}function Pr(a){const o=function F6(a){return a[k0]||null}(a);return o?Array.isArray(o)?o:o.lView:null}function g4(a){return a.ngOriginalError}function j9(a,...o){a.error(...o)}class Rr{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),f=function ao(a){return a&&a.ngErrorLogger||j9}(o);f(this._console,"ERROR",o),l&&f(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&g4(o);for(;l&&g4(l);)l=g4(l);return l||null}}const G9=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G2))();function Mt(a){return a instanceof Function?a():a}var V=(()=>((V=V||{})[V.Important=1]="Important",V[V.DashCase=2]="DashCase",V))();function X(a,o){return undefined(a,o)}function l2(a){const o=a[3];return p4(o)?o[3]:o}function Ye(a){return T8(a[13])}function y4(a){return T8(a[4])}function T8(a){for(;null!==a&&!p4(a);)a=a[4];return a}function $n(a,o,l,f,d){if(null!=f){let m,_=!1;p4(f)?m=f:A3(f)&&(_=!0,f=f[0]);const L=ae(f);0===a&&null!==l?null==d?Y9(o,l,L):Lt(o,l,L,d||null,!0):1===a&&null!==l?Lt(o,l,L,d||null,!0):2===a?function ec(a,o,l){const f=I5(a,o);f&&function fM(a,o,l,f){Te(a)?a.removeChild(o,l,f):o.removeChild(l)}(a,f,o,l)}(o,L,_):3===a&&o.destroyNode(L),null!=m&&function CM(a,o,l,f,d){const m=l[7];m!==ae(l)&&$n(o,a,f,m,d);for(let L=10;L<l.length;L++){const w=l[L];po(w[1],w,a,o,f,m)}}(o,a,m,l,d)}}function Ur(a,o,l){if(Te(a))return a.createElement(o,l);{const f=null!==l?function o8(a){const o=a.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===f?a.createElement(o):a.createElementNS(f,o)}}function G0(a,o){const l=a[9],f=l.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Ue(d,-1)),l.splice(f,1)}function $9(a,o){if(a.length<=10)return;const l=10+o,f=a[l];if(f){const d=f[17];null!==d&&d!==a&&G0(d,f),o>0&&(a[l-1][4]=f[4]);const m=E6(a,10+o);!function p3(a,o){po(a,o,o[11],2,null,null),o[0]=null,o[6]=null}(f[1],f);const _=m[19];null!==_&&_.detachView(m[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function Z9(a,o){if(!(256&o[2])){const l=o[11];Te(l)&&l.destroyNode&&po(a,o,l,3,null,null),function q0(a){let o=a[13];if(!o)return K9(a[1],a);for(;o;){let l=null;if(A3(o))l=o[13];else{const f=o[10];f&&(l=f)}if(!l){for(;o&&!o[4]&&o!==a;)A3(o)&&K9(o[1],o),o=o[3];null===o&&(o=a),A3(o)&&K9(o[1],o),l=o&&o[4]}o=l}}(o)}}function K9(a,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function pd(a,o){let l;if(null!=a&&null!=(l=a.destroyHooks))for(let f=0;f<l.length;f+=2){const d=o[l[f]];if(!(d instanceof _r)){const m=l[f+1];if(Array.isArray(m))for(let _=0;_<m.length;_+=2){const L=d[m[_]],w=m[_+1];try{w.call(L)}finally{}}else try{m.call(d)}finally{}}}}(a,o),function Cd(a,o){const l=a.cleanup,f=o[7];let d=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const _=l[m+1],L="function"==typeof _?_(o):ae(o[_]),w=f[d=l[m+2]],H=l[m+3];"boolean"==typeof H?L.removeEventListener(l[m],w,H):H>=0?f[d=H]():f[d=-H].unsubscribe(),m+=2}else{const _=f[d=l[m+1]];l[m].call(_)}if(null!==f){for(let m=d+1;m<f.length;m++)f[m]();o[7]=null}}(a,o),1===o[1].type&&Te(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&p4(o[3])){l!==o[3]&&G0(l,o);const f=o[19];null!==f&&f.detachView(a)}}}function ho(a,o,l){return function uM(a,o,l){let f=o;for(;null!==f&&40&f.type;)f=(o=f).parent;if(null===f)return l[0];if(2&f.flags){const d=a.data[f.directiveStart].encapsulation;if(d===Z2.None||d===Z2.Emulated)return null}return X3(f,l)}(a,o.parent,l)}function Lt(a,o,l,f,d){Te(a)?a.insertBefore(o,l,f,d):o.insertBefore(l,f,d)}function Y9(a,o,l){Te(a)?a.appendChild(o,l):o.appendChild(l)}function md(a,o,l,f,d){null!==f?Lt(a,o,l,f,d):Y9(a,o,l)}function I5(a,o){return Te(a)?a.parentNode(o):o.parentNode}function gd(a,o,l){return Q9(a,o,l)}let Q9=function vd(a,o,l){return 40&a.type?X3(a,l):null};function Co(a,o,l,f){const d=ho(a,f,o),m=o[11],L=gd(f.parent||o[6],f,o);if(null!=d)if(Array.isArray(l))for(let w=0;w<l.length;w++)md(m,d,l[w],L,!1);else md(m,d,l,L,!1)}function Br(a,o){if(null!==o){const l=o.type;if(3&l)return X3(o,a);if(4&l)return X9(-1,a[o.index]);if(8&l){const f=o.child;if(null!==f)return Br(a,f);{const d=a[o.index];return p4(d)?X9(-1,d):ae(d)}}if(32&l)return X(o,a)()||ae(a[o.index]);{const f=_d(a,o);return null!==f?Array.isArray(f)?f[0]:Br(l2(a[16]),f):Br(a,o.next)}}return null}function _d(a,o){return null!==o?a[16][6].projection[o.projection]:null}function X9(a,o){const l=10+a+1;if(l<o.length){const f=o[l],d=f[1].firstChild;if(null!==d)return Br(f,d)}return o[7]}function tc(a,o,l,f,d,m,_){for(;null!=l;){const L=f[l.index],w=l.type;if(_&&0===o&&(L&&P3(ae(L),f),l.flags|=4),64!=(64&l.flags))if(8&w)tc(a,o,l.child,f,d,m,!1),$n(o,a,d,L,m);else if(32&w){const H=X(l,f);let x;for(;x=H();)$n(o,a,d,x,m);$n(o,a,d,L,m)}else 16&w?dM(a,o,f,l,d,m):$n(o,a,d,L,m);l=_?l.projectionNext:l.next}}function po(a,o,l,f,d,m){tc(l,f,a.firstChild,o,d,m,!1)}function dM(a,o,l,f,d,m){const _=l[16],w=_[6].projection[f.projection];if(Array.isArray(w))for(let H=0;H<w.length;H++)$n(o,a,d,w[H],m);else tc(a,o,w,_[3],d,m,!0)}function Md(a,o,l){Te(a)?a.setAttribute(o,"style",l):o.style.cssText=l}function nc(a,o,l){Te(a)?""===l?a.removeAttribute(o,"class"):a.setAttribute(o,"class",l):o.className=l}function Ld(a,o,l){let f=a.length;for(;;){const d=a.indexOf(o,l);if(-1===d)return d;if(0===d||a.charCodeAt(d-1)<=32){const m=o.length;if(d+m===f||a.charCodeAt(d+m)<=32)return d}l=d+1}}const bd="ng-template";function mM(a,o,l){let f=0;for(;f<a.length;){let d=a[f++];if(l&&"class"===d){if(d=a[f],-1!==Ld(d.toLowerCase(),o,0))return!0}else if(1===d){for(;f<a.length&&"string"==typeof(d=a[f++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function zd(a){return 4===a.type&&a.value!==bd}function gM(a,o,l){return o===(4!==a.type||l?a.value:bd)}function vM(a,o,l){let f=4;const d=a.attrs||[],m=function MM(a){for(let o=0;o<a.length;o++)if(C3(a[o]))return o;return a.length}(d);let _=!1;for(let L=0;L<o.length;L++){const w=o[L];if("number"!=typeof w){if(!_)if(4&f){if(f=2|1&f,""!==w&&!gM(a,w,l)||""===w&&1===o.length){if(Kt(f))return!1;_=!0}}else{const H=8&f?w:o[++L];if(8&f&&null!==a.attrs){if(!mM(a.attrs,H,l)){if(Kt(f))return!1;_=!0}continue}const P=yM(8&f?"class":w,d,zd(a),l);if(-1===P){if(Kt(f))return!1;_=!0;continue}if(""!==H){let Z;Z=P>m?"":d[P+1].toLowerCase();const r1=8&f?Z:null;if(r1&&-1!==Ld(r1,H,0)||2&f&&H!==Z){if(Kt(f))return!1;_=!0}}}}else{if(!_&&!Kt(f)&&!Kt(w))return!1;if(_&&Kt(w))continue;_=!1,f=w|1&f}}return Kt(f)||_}function Kt(a){return 0==(1&a)}function yM(a,o,l,f){if(null===o)return-1;let d=0;if(f||!l){let m=!1;for(;d<o.length;){const _=o[d];if(_===a)return d;if(3===_||6===_)m=!0;else{if(1===_||2===_){let L=o[++d];for(;"string"==typeof L;)L=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=m?1:2}return-1}return function LM(a,o){let l=a.indexOf(4);if(l>-1)for(l++;l<a.length;){const f=a[l];if("number"==typeof f)return-1;if(f===o)return l;l++}return-1}(o,a)}function mo(a,o,l=!1){for(let f=0;f<o.length;f++)if(vM(a,o[f],l))return!0;return!1}function wd(a,o){e:for(let l=0;l<o.length;l++){const f=o[l];if(a.length===f.length){for(let d=0;d<a.length;d++)if(a[d]!==f[d])continue e;return!0}}return!1}function Vd(a,o){return a?":not("+o.trim()+")":o}function bM(a){let o=a[0],l=1,f=2,d="",m=!1;for(;l<a.length;){let _=a[l];if("string"==typeof _)if(2&f){const L=a[++l];d+="["+_+(L.length>0?'="'+L+'"':"")+"]"}else 8&f?d+="."+_:4&f&&(d+=" "+_);else""!==d&&!Kt(_)&&(o+=Vd(m,d),d=""),f=_,m=m||!Kt(f);l++}return""!==d&&(o+=Vd(m,d)),o}const $2={};function Sd(a){Hd(U2(),N1(),l4()+a,pr())}function Hd(a,o,l,f){if(!f)if(3==(3&o[2])){const m=a.preOrderCheckHooks;null!==m&&C8(o,m,l)}else{const m=a.preOrderHooks;null!==m&&cn(o,m,0,l)}Gt(l)}function go(a,o){return a<<17|o<<2}function vn(a){return a>>17&32767}function rc(a){return 2|a}function Kn(a){return(131068&a)>>2}function ic(a,o){return-131069&a|o<<2}function ac(a){return 1|a}function jr(a,o){const l=a.contentQueries;if(null!==l)for(let f=0;f<l.length;f+=2){const d=l[f],m=l[f+1];if(-1!==m){const _=a.data[m];h8(d),_.contentQueries(2,o[m],m)}}}function Z0(a,o,l,f,d,m,_,L,w,H){const x=o.blueprint.slice();return x[0]=d,x[2]=140|f,T2(x),x[3]=x[15]=a,x[8]=l,x[10]=_||a&&a[10],x[11]=L||a&&a[11],x[12]=w||a&&a[12]||null,x[9]=H||a&&a[9]||null,x[6]=m,x[16]=2==o.type?a[16]:x,x}function qr(a,o,l,f,d){let m=a.data[o];if(null===m)m=function Gr(a,o,l,f,d){const m=dr(),_=f8(),w=a.data[o]=function UM(a,o,l,f,d,m){return{type:l,index:f,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?m:m&&m.parent,l,o,f,d);return null===a.firstChild&&(a.firstChild=w),null!==m&&(_?null==m.child&&null!==w.parent&&(m.child=w):null===m.next&&(m.next=w)),w}(a,o,l,f,d),function g9(){return f2.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=f,m.attrs=d;const _=function _6(){const a=f2.lFrame,o=a.currentTNode;return a.isParent?o:o.parent}();m.injectorIndex=null===_?-1:_.injectorIndex}return dt(m,!0),m}function Wr(a,o,l,f){if(0===l)return-1;const d=o.length;for(let m=0;m<l;m++)o.push(f),a.blueprint.push(f),a.data.push(null);return d}function K0(a,o,l){o5(o);try{const f=a.viewQuery;null!==f&&wc(1,f,l);const d=a.template;null!==d&&Fd(a,o,d,1,l),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&jr(a,o),a.staticViewQueries&&wc(2,a.viewQuery,l);const m=a.components;null!==m&&function RM(a,o){for(let l=0;l<o.length;l++)rL(a,o[l])}(o,m)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{o[2]&=-5,d8()}}function $r(a,o,l,f){const d=o[2];if(256==(256&d))return;o5(o);const m=pr();try{T2(o),function gr(a){return f2.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==l&&Fd(a,o,l,2,f);const _=3==(3&d);if(!m)if(_){const H=a.preOrderCheckHooks;null!==H&&C8(o,H,null)}else{const H=a.preOrderHooks;null!==H&&cn(o,H,0,null),p8(o,0)}if(function Yd(a){for(let o=Ye(a);null!==o;o=y4(o)){if(!o[2])continue;const l=o[9];for(let f=0;f<l.length;f++){const d=l[f],m=d[3];0==(1024&d[2])&&Ue(m,1),d[2]|=1024}}}(o),function tL(a){for(let o=Ye(a);null!==o;o=y4(o))for(let l=10;l<o.length;l++){const f=o[l],d=f[1];C1(f)&&$r(d,f,d.template,f[8])}}(o),null!==a.contentQueries&&jr(a,o),!m)if(_){const H=a.contentCheckHooks;null!==H&&C8(o,H)}else{const H=a.contentHooks;null!==H&&cn(o,H,1),p8(o,1)}!function kM(a,o){const l=a.hostBindingOpCodes;if(null!==l)try{for(let f=0;f<l.length;f++){const d=l[f];if(d<0)Gt(~d);else{const m=d,_=l[++f],L=l[++f];v9(_,m),L(2,o[m])}}}finally{Gt(-1)}}(a,o);const L=a.components;null!==L&&function PM(a,o){for(let l=0;l<o.length;l++)nL(a,o[l])}(o,L);const w=a.viewQuery;if(null!==w&&wc(2,w,f),!m)if(_){const H=a.viewCheckHooks;null!==H&&C8(o,H)}else{const H=a.viewHooks;null!==H&&cn(o,H,2),p8(o,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Ue(o[3],-1))}finally{d8()}}function OM(a,o,l,f){const d=o[10],m=!pr(),_=J(o);try{m&&!_&&d.begin&&d.begin(),_&&K0(a,o,f),$r(a,o,l,f)}finally{m&&!_&&d.end&&d.end()}}function Fd(a,o,l,f,d){const m=l4(),_=2&f;try{Gt(-1),_&&o.length>20&&Hd(a,o,20,pr()),l(f,d)}finally{Gt(m)}}function hc(a,o,l){if(tn(o)){const d=o.directiveEnd;for(let m=o.directiveStart;m<d;m++){const _=a.data[m];_.contentQueries&&_.contentQueries(1,l[m],m)}}}function dc(a,o,l){!D4()||(function ZM(a,o,l,f){const d=l.directiveStart,m=l.directiveEnd;a.firstCreatePass||We(l,o),P3(f,o);const _=l.initialInputs;for(let L=d;L<m;L++){const w=a.data[L],H=N4(w);H&&JM(o,l,w);const x=h5(o,a,L,l);P3(x,o),null!==_&&XM(0,L-d,x,w,0,_),H&&(N(l.index,o)[8]=x)}}(a,o,l,X3(l,o)),128==(128&l.flags)&&function KM(a,o,l){const f=l.directiveStart,d=l.directiveEnd,_=l.index,L=function r0(){return f2.lFrame.currentDirectiveIndex}();try{Gt(_);for(let w=f;w<d;w++){const H=a.data[w],x=o[w];s0(w),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&vc(H,x)}}finally{Gt(-1),s0(L)}}(a,o,l))}function zo(a,o,l=X3){const f=o.localNames;if(null!==f){let d=o.index+1;for(let m=0;m<f.length;m+=2){const _=f[m+1],L=-1===_?l(o,a):a[_];a[d++]=L}}}function Ud(a){const o=a.tView;return null===o||o.incompleteFirstPass?a.tView=wo(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):o}function wo(a,o,l,f,d,m,_,L,w,H){const x=20+f,P=x+d,Z=function Bd(a,o){const l=[];for(let f=0;f<o;f++)l.push(f<a?null:$2);return l}(x,P),r1="function"==typeof H?H():H;return Z[1]={type:a,blueprint:Z,template:l,queries:null,viewQuery:L,declTNode:o,data:Z.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:r1,incompleteFirstPass:!1}}function Cc(a,o,l,f){const d=Vc(o);null===l?d.push(f):(d.push(l),a.firstCreatePass&&Xd(a).push(f,d.length-1))}function Gd(a,o,l){for(let f in a)if(a.hasOwnProperty(f)){const d=a[f];(l=null===l?{}:l).hasOwnProperty(f)?l[f].push(o,d):l[f]=[o,d]}return l}function nt(a,o,l,f,d,m,_,L){const w=X3(o,l);let x,H=o.inputs;!L&&null!=H&&(x=H[f])?(nC(a,l,x,f,d),t8(o)&&function qM(a,o){const l=N(o,a);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(f=function jM(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),d=null!=_?_(d,o.value||"",f):d,Te(m)?m.setProperty(w,f,d):Q4(f)||(w.setProperty?w.setProperty(f,d):w[f]=d))}function mc(a,o,l,f){let d=!1;if(D4()){const m=function YM(a,o,l){const f=a.directiveRegistry;let d=null;if(f)for(let m=0;m<f.length;m++){const _=f[m];mo(l,_.selectors,!1)&&(d||(d=[]),Rn(We(l,o),a,_.type),N4(_)?($d(a,l),d.unshift(_)):d.push(_))}return d}(a,o,l),_=null===f?null:{"":-1};if(null!==m){d=!0,Zd(l,a.data.length,m.length);for(let x=0;x<m.length;x++){const P=m[x];P.providersResolver&&P.providersResolver(P)}let L=!1,w=!1,H=Wr(a,o,m.length,null);for(let x=0;x<m.length;x++){const P=m[x];l.mergedAttrs=Ke(l.mergedAttrs,P.hostAttrs),Kd(a,l,o,H,P),QM(H,P,_),null!==P.contentQueries&&(l.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(l.flags|=128);const Z=P.type.prototype;!L&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(l.index),L=!0),!w&&(Z.ngOnChanges||Z.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(l.index),w=!0),H++}!function BM(a,o){const f=o.directiveEnd,d=a.data,m=o.attrs,_=[];let L=null,w=null;for(let H=o.directiveStart;H<f;H++){const x=d[H],P=x.inputs,Z=null===m||zd(o)?null:eL(P,m);_.push(Z),L=Gd(P,H,L),w=Gd(x.outputs,H,w)}null!==L&&(L.hasOwnProperty("class")&&(o.flags|=16),L.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=L,o.outputs=w}(a,l)}_&&function yc(a,o,l){if(o){const f=a.localNames=[];for(let d=0;d<o.length;d+=2){const m=l[o[d+1]];if(null==m)throw new O1(-301,!1);f.push(o[d],m)}}}(l,f,_)}return l.mergedAttrs=Ke(l.mergedAttrs,l.attrs),d}function gc(a,o,l,f,d,m){const _=m.hostBindings;if(_){let L=a.hostBindingOpCodes;null===L&&(L=a.hostBindingOpCodes=[]);const w=~o.index;(function $M(a){let o=a.length;for(;o>0;){const l=a[--o];if("number"==typeof l&&l<0)return l}return 0})(L)!=w&&L.push(w),L.push(f,d,_)}}function vc(a,o){null!==a.hostBindings&&a.hostBindings(1,o)}function $d(a,o){o.flags|=2,(a.components||(a.components=[])).push(o.index)}function QM(a,o,l){if(l){if(o.exportAs)for(let f=0;f<o.exportAs.length;f++)l[o.exportAs[f]]=a;N4(o)&&(l[""]=a)}}function Zd(a,o,l){a.flags|=1,a.directiveStart=o,a.directiveEnd=o+l,a.providerIndexes=o}function Kd(a,o,l,f,d){a.data[f]=d;const m=d.factory||(d.factory=J3(d.type)),_=new _r(m,N4(d),null);a.blueprint[f]=_,l[f]=_,gc(a,o,0,f,Wr(a,l,d.hostVars,$2),d)}function JM(a,o,l){const f=X3(o,a),d=Ud(l),m=a[10],_=Vo(a,Z0(a,d,null,l.onPush?64:16,f,o,m,m.createRenderer(f,l),null,null));a[o.index]=_}function Yn(a,o,l,f,d,m){const _=X3(a,o);!function _c(a,o,l,f,d,m,_){if(null==m)Te(a)?a.removeAttribute(o,d,l):o.removeAttribute(d);else{const L=null==_?g1(m):_(m,f||"",d);Te(a)?a.setAttribute(o,d,L,l):l?o.setAttributeNS(l,d,L):o.setAttribute(d,L)}}(o[11],_,m,a.value,l,f,d)}function XM(a,o,l,f,d,m){const _=m[o];if(null!==_){const L=f.setInput;for(let w=0;w<_.length;){const H=_[w++],x=_[w++],P=_[w++];null!==L?f.setInput(l,P,H,x):l[x]=P}}}function eL(a,o){let l=null,f=0;for(;f<o.length;){const d=o[f];if(0!==d)if(5!==d){if("number"==typeof d)break;a.hasOwnProperty(d)&&(null===l&&(l=[]),l.push(d,a[d],o[f+1])),f+=2}else f+=2;else f+=4}return l}function Mc(a,o,l,f){return new Array(a,!0,!1,o,null,0,f,l,null,null)}function nL(a,o){const l=N(o,a);if(C1(l)){const f=l[1];80&l[2]?$r(f,l,f.template,l[8]):l[5]>0&&Lc(l)}}function Lc(a){for(let f=Ye(a);null!==f;f=y4(f))for(let d=10;d<f.length;d++){const m=f[d];if(1024&m[2]){const _=m[1];$r(_,m,_.template,m[8])}else m[5]>0&&Lc(m)}const l=a[1].components;if(null!==l)for(let f=0;f<l.length;f++){const d=N(l[f],a);C1(d)&&d[5]>0&&Lc(d)}}function rL(a,o){const l=N(o,a),f=l[1];(function iL(a,o){for(let l=o.length;l<a.blueprint.length;l++)o.push(a.blueprint[l])})(f,l),K0(f,l,l[8])}function Vo(a,o){return a[13]?a[14][4]=o:a[13]=o,a[14]=o,o}function bc(a){for(;a;){a[2]|=64;const o=l2(a);if(n8(a)&&!o)return a;a=o}return null}function zc(a,o,l){const f=o[10];f.begin&&f.begin();try{$r(a,o,a.template,l)}catch(d){throw tC(o,d),d}finally{f.end&&f.end()}}function Qd(a){!function So(a){for(let o=0;o<a.components.length;o++){const l=a.components[o],f=Pr(l),d=f[1];OM(d,f,d.template,l)}}(a[8])}function wc(a,o,l){h8(0),o(a,l)}const cL=(()=>Promise.resolve(null))();function Vc(a){return a[7]||(a[7]=[])}function Xd(a){return a.cleanup||(a.cleanup=[])}function tC(a,o){const l=a[9],f=l?l.get(Rr,null):null;f&&f.handleError(o)}function nC(a,o,l,f,d){for(let m=0;m<l.length;){const _=l[m++],L=l[m++],w=o[_],H=a.data[_];null!==H.setInput?H.setInput(w,d,f,L):w[L]=d}}function Qn(a,o,l){const f=rn(o,a);!function Fr(a,o,l){Te(a)?a.setValue(o,l):o.textContent=l}(a[11],f,l)}function Ho(a,o,l){let f=l?a.styles:null,d=l?a.classes:null,m=0;if(null!==o)for(let _=0;_<o.length;_++){const L=o[_];"number"==typeof L?m=L:1==m?d=v1(d,L):2==m&&(f=v1(f,L+": "+o[++_]+";"))}l?a.styles=f:a.stylesWithoutHost=f,l?a.classes=d:a.classesWithoutHost=d}const Sc=new qe("INJECTOR",-1);class Hc{get(o,l=L8){if(l===L8){const f=new Error(`NullInjectorError: No provider for ${m1(o)}!`);throw f.name="NullInjectorError",f}return l}}const xc=new qe("Set Injector scope."),Zr={},hL={};let Ec;function Tc(){return void 0===Ec&&(Ec=new Hc),Ec}function rC(a,o=null,l=null,f){const d=Ac(a,o,l,f);return d._resolveInjectorDefTypes(),d}function Ac(a,o=null,l=null,f){return new dL(a,l,o||Tc(),f)}class dL{constructor(o,l,f,d=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];l&&tt(l,L=>this.processProvider(L,o,l)),tt([o],L=>this.processInjectorType(L,[],m)),this.records.set(Sc,Kr(void 0,this));const _=this.records.get(xc);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:m1(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=L8,f=V2.Default){this.assertNotDestroyed();const d=jn(this),m=De(void 0);try{if(!(f&V2.SkipSelf)){let L=this.records.get(o);if(void 0===L){const w=function oC(a){return"function"==typeof a||"object"==typeof a&&a instanceof qe}(o)&&P2(o);L=w&&this.injectableDefInScope(w)?Kr(Y0(o),Zr):null,this.records.set(o,L)}if(null!=L)return this.hydrate(o,L)}return(f&V2.Self?Tc():this.parent).get(o,l=f&V2.Optional&&l===L8?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[T6]=_[T6]||[]).unshift(m1(o)),d)throw _;return function V9(a,o,l,f){const d=a[T6];throw o[Vr]&&d.unshift(o[Vr]),a.message=function y5(a,o,l,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let d=m1(o);if(Array.isArray(o))d=o.map(m1).join(" -> ");else if("object"==typeof o){let m=[];for(let _ in o)if(o.hasOwnProperty(_)){let L=o[_];m.push(_+":"+("string"==typeof L?JSON.stringify(L):m1(L)))}d=`{${m.join(", ")}}`}return`${l}${f?"("+f+")":""}[${d}]: ${a.replace(Ra,"\n  ")}`}("\n"+a.message,d,l,f),a.ngTokenPath=d,a[T6]=null,a}(_,o,"R3InjectorError",this.source)}throw _}finally{De(m),jn(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((f,d)=>o.push(m1(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O1(205,!1)}processInjectorType(o,l,f){if(!(o=a1(o)))return!1;let d=be(o);const m=null==d&&o.ngModule||void 0,_=void 0===m?o:m,L=-1!==f.indexOf(_);if(void 0!==m&&(d=be(m)),null==d)return!1;if(null!=d.imports&&!L){let x;f.push(_);try{tt(d.imports,P=>{this.processInjectorType(P,l,f)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:Z,providers:r1}=x[P];tt(r1,E1=>this.processProvider(E1,Z,r1||O))}}this.injectorDefTypes.add(_);const w=J3(_)||(()=>new _);this.records.set(_,Kr(w,Zr));const H=d.providers;if(null!=H&&!L){const x=o;tt(H,P=>this.processProvider(P,x,H))}return void 0!==m&&void 0!==o.providers}processProvider(o,l,f){let d=A8(o=a1(o))?o:a1(o&&o.provide);const m=function pL(a,o,l){return iC(a)?Kr(void 0,a.useValue):Kr(Ic(a),Zr)}(o);if(A8(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Kr(void 0,Zr,!0),_.factory=()=>M0(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,m)}hydrate(o,l){return l.value===Zr&&(l.value=hL,l.value=l.factory()),"object"==typeof l.value&&l.value&&function vL(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=a1(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Y0(a){const o=P2(a),l=null!==o?o.factory:J3(a);if(null!==l)return l;if(a instanceof qe)throw new O1(204,!1);if(a instanceof Function)return function CL(a){const o=a.length;if(o>0)throw _8(o,"?"),new O1(204,!1);const l=function T4(a){const o=a&&(a[_3]||a[M3]);if(o){const l=function o3(a){if(a.hasOwnProperty("name"))return a.name;const o=(""+a).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(a);return null!==l?()=>l.factory(a):()=>new a}(a);throw new O1(204,!1)}function Ic(a,o,l){let f;if(A8(a)){const d=a1(a);return J3(d)||Y0(d)}if(iC(a))f=()=>a1(a.useValue);else if(function mL(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...M0(a.deps||[]));else if(function sC(a){return!(!a||!a.useExisting)}(a))f=()=>c3(a1(a.useExisting));else{const d=a1(a&&(a.useClass||a.provide));if(!function aC(a){return!!a.deps}(a))return J3(d)||Y0(d);f=()=>new d(...M0(a.deps))}return f}function Kr(a,o,l=!1){return{factory:a,value:o,multi:l?[]:void 0}}function iC(a){return null!==a&&"object"==typeof a&&_0 in a}function A8(a){return"function"==typeof a}let Jn=(()=>{class a{static create(l,f){var d;if(Array.isArray(l))return rC({name:""},f,l,"");{const m=null!==(d=l.name)&&void 0!==d?d:"";return rC({name:m},l.parent,l.providers,m)}}}return a.THROW_IF_NOT_FOUND=L8,a.NULL=new Hc,a.\u0275prov=ie({token:a,providedIn:"any",factory:()=>c3(Sc)}),a.__NG_ELEMENT_ID__=-1,a})();function kc(a,o){Sa(Pr(a)[1],Ie())}function Pc(a){let o=function MC(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),l=!0;const f=[a];for(;o;){let d;if(N4(a))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new O1(903,"");d=o.\u0275dir}if(d){if(l){f.push(d);const _=a;_.inputs=Rc(a.inputs),_.declaredInputs=Rc(a.declaredInputs),_.outputs=Rc(a.outputs);const L=d.hostBindings;L&&SL(a,L);const w=d.viewQuery,H=d.contentQueries;if(w&&VL(a,w),H&&LC(a,H),l1(a.inputs,d.inputs),l1(a.declaredInputs,d.declaredInputs),l1(a.outputs,d.outputs),N4(d)&&d.data.animation){const x=a.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let _=0;_<m.length;_++){const L=m[_];L&&L.ngInherit&&L(a),L===Pc&&(l=!1)}}o=Object.getPrototypeOf(o)}!function wL(a){let o=0,l=null;for(let f=a.length-1;f>=0;f--){const d=a[f];d.hostVars=o+=d.hostVars,d.hostAttrs=Ke(d.hostAttrs,l=Ke(l,d.hostAttrs))}}(f)}function Rc(a){return a===Ze?{}:a===O?[]:a}function VL(a,o){const l=a.viewQuery;a.viewQuery=l?(f,d)=>{o(f,d),l(f,d)}:o}function LC(a,o){const l=a.contentQueries;a.contentQueries=l?(f,d,m)=>{o(f,d,m),l(f,d,m)}:o}function SL(a,o){const l=a.hostBindings;a.hostBindings=l?(f,d)=>{o(f,d),l(f,d)}:o}let J0=null;function Yr(){if(!J0){const a=G2.Symbol;if(a&&a.iterator)J0=a.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const f=o[l];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(J0=f)}}}return J0}function X0(a){return!!xo(a)&&(Array.isArray(a)||!(a instanceof Map)&&Yr()in a)}function xo(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Xn(a,o,l){return a[o]=l}function _4(a,o,l){return!Object.is(a[o],l)&&(a[o]=l,!0)}function I8(a,o,l,f){const d=_4(a,o,l);return _4(a,o+1,f)||d}function To(a,o,l,f){const d=N1();return _4(d,s5(),o)&&(U2(),Yn(t3(),d,a,o,l,f)),To}function Xr(a,o,l,f){return _4(a,s5(),l)?o+g1(l)+f:$2}function ei(a,o,l,f,d,m){const L=I8(a,function on(){return f2.lFrame.bindingIndex}(),l,d);return Ct(2),L?o+g1(l)+f+g1(d)+m:$2}function IC(a,o,l,f,d,m,_,L){const w=N1(),H=U2(),x=a+20,P=H.firstCreatePass?function AL(a,o,l,f,d,m,_,L,w){const H=o.consts,x=qr(o,a,4,_||null,e2(H,L));mc(o,l,x,e2(H,w)),Sa(o,x);const P=x.tViews=wo(2,x,f,d,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,H);return null!==o.queries&&(o.queries.template(o,x),P.queries=o.queries.embeddedTView(x)),x}(x,H,w,o,l,f,d,m,_):H.data[x];dt(P,!1);const Z=w[11].createComment("");Co(H,w,Z,P),P3(Z,w),Vo(w,w[x]=Mc(Z,w,Z,P)),ft(P)&&dc(H,w,P),null!=_&&zo(w,P,L)}function NC(a){return k(function Cr(){return f2.lFrame.contextLView}(),20+a)}function es(a,o=V2.Default){const l=N1();return null===l?c3(a,o):z6(Ie(),l,a1(a),o)}function ts(){throw new Error("invalid")}function qc(a,o,l){const f=N1();return _4(f,s5(),o)&&nt(U2(),t3(),f,a,o,f[11],l,!1),qc}function Gc(a,o,l,f,d){const _=d?"class":"style";nC(a,l,o.inputs[_],_,f)}function ns(a,o,l,f){const d=N1(),m=U2(),_=20+a,L=d[11],w=d[_]=Ur(L,o,function lM(){return f2.lFrame.currentNamespace}()),H=m.firstCreatePass?function YL(a,o,l,f,d,m,_){const L=o.consts,H=qr(o,a,2,d,e2(L,m));return mc(o,l,H,e2(L,_)),null!==H.attrs&&Ho(H,H.attrs,!1),null!==H.mergedAttrs&&Ho(H,H.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,H),H}(_,m,d,0,o,l,f):m.data[_];dt(H,!0);const x=H.mergedAttrs;null!==x&&L2(L,w,x);const P=H.classes;null!==P&&nc(L,w,P);const Z=H.styles;return null!==Z&&Md(L,w,Z),64!=(64&H.flags)&&Co(m,d,w,H),0===function Ve(){return f2.lFrame.elementDepthCount}()&&P3(w,d),function j2(){f2.lFrame.elementDepthCount++}(),ft(H)&&(dc(m,d,H),hc(m,H,d)),null!==f&&zo(d,H),ns}function No(){let a=Ie();f8()?n0():(a=a.parent,dt(a,!1));const o=a;!function sn(){f2.lFrame.elementDepthCount--}();const l=U2();return l.firstCreatePass&&(Sa(l,a),tn(a)&&l.queries.elementEnd(a)),null!=o.classesWithoutHost&&function a0(a){return 0!=(16&a.flags)}(o)&&Gc(l,o,N1(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ad(a){return 0!=(32&a.flags)}(o)&&Gc(l,o,N1(),o.stylesWithoutHost,!1),No}function Wc(a,o,l,f){return ns(a,o,l,f),No(),Wc}function Do(a,o,l){const f=N1(),d=U2(),m=a+20,_=d.firstCreatePass?function JL(a,o,l,f,d){const m=o.consts,_=e2(m,f),L=qr(o,a,8,"ng-container",_);return null!==_&&Ho(L,_,!0),mc(o,l,L,e2(m,d)),null!==o.queries&&o.queries.elementStart(o,L),L}(m,d,f,o,l):d.data[m];dt(_,!0);const L=f[m]=f[11].createComment("");return Co(d,f,L,_),P3(L,f),ft(_)&&(dc(d,f,_),hc(d,_,f)),null!=l&&zo(f,_),Do}function ko(){let a=Ie();const o=U2();return f8()?n0():(a=a.parent,dt(a,!1)),o.firstCreatePass&&(Sa(o,a),tn(a)&&o.queries.elementEnd(a)),ko}function $c(){return N1()}function Zc(a){return!!a&&"function"==typeof a.then}function Kc(a){return!!a&&"function"==typeof a.subscribe}const KC=Kc;function Yc(a,o,l,f){const d=N1(),m=U2(),_=Ie();return function QC(a,o,l,f,d,m,_,L){const w=ft(f),x=a.firstCreatePass&&Xd(a),P=o[8],Z=Vc(o);let r1=!0;if(3&f.type||L){const r2=X3(f,o),C2=L?L(r2):r2,k1=Z.length,x2=L?ce=>L(ae(ce[f.index])):f.index;if(Te(l)){let ce=null;if(!L&&w&&(ce=function XL(a,o,l,f){const d=a.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const _=d[m];if(_===l&&d[m+1]===f){const L=o[7],w=d[m+2];return L.length>w?L[w]:null}"string"==typeof _&&(m+=2)}return null}(a,o,d,f.index)),null!==ce)(ce.__ngLastListenerFn__||ce).__ngNextListenerFn__=m,ce.__ngLastListenerFn__=m,r1=!1;else{m=Qc(f,o,P,m,!1);const Se=l.listen(C2,d,m);Z.push(m,Se),x&&x.push(d,x2,k1,k1+1)}}else m=Qc(f,o,P,m,!0),C2.addEventListener(d,m,_),Z.push(m),x&&x.push(d,x2,k1,_)}else m=Qc(f,o,P,m,!1);const E1=f.outputs;let K1;if(r1&&null!==E1&&(K1=E1[d])){const r2=K1.length;if(r2)for(let C2=0;C2<r2;C2+=2){const R4=o[K1[C2]][K1[C2+1]].subscribe(m),R8=Z.length;Z.push(m,R4),x&&x.push(d,f.index,R8,-(R8+1))}}}(m,d,d[11],_,a,o,!!l,f),Yc}function JC(a,o,l,f){try{return!1!==l(f)}catch(d){return tC(a,d),!1}}function Qc(a,o,l,f,d){return function m(_){if(_===Function)return f;const L=2&a.flags?N(a.index,o):o;0==(32&o[2])&&bc(L);let w=JC(o,0,f,_),H=m.__ngNextListenerFn__;for(;H;)w=JC(o,0,H,_)&&w,H=H.__ngNextListenerFn__;return d&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function Jc(a=1){return function kn(a){return(f2.lFrame.contextLView=function _9(a,o){for(;a>0;)o=o[15],a--;return o}(a,f2.lFrame.contextLView))[8]}(a)}function eb(a,o){let l=null;const f=function _M(a){const o=a.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(a);for(let d=0;d<o.length;d++){const m=o[d];if("*"!==m){if(null===f?mo(a,m,!0):wd(f,m))return d}else l=d}return l}function Xc(a){const o=N1()[16][6];if(!o.projection){const f=o.projection=_8(a?a.length:1,null),d=f.slice();let m=o.child;for(;null!==m;){const _=a?eb(m,a):0;null!==_&&(d[_]?d[_].projectionNext=m:f[_]=m,d[_]=m),m=m.next}}}function XC(a,o=0,l){const f=N1(),d=U2(),m=qr(d,20+a,16,null,l||null);null===m.projection&&(m.projection=o),n0(),64!=(64&m.flags)&&function w1(a,o,l){dM(o[11],0,o,l,ho(a,l,o),gd(l.parent||o[6],l,o))}(d,f,m)}function Po(a,o,l){return Ro(a,"",o,"",l),Po}function Ro(a,o,l,f,d){const m=N1(),_=Xr(m,o,l,f);return _!==$2&&nt(U2(),t3(),m,a,_,m[11],d,!1),Ro}function op(a,o,l,f,d){const m=a[l+1],_=null===o;let L=f?vn(m):Kn(m),w=!1;for(;0!==L&&(!1===w||_);){const x=a[L+1];cp(a[L],o)&&(w=!0,a[L+1]=f?ac(x):rc(x)),L=f?vn(x):Kn(x)}w&&(a[l+1]=f?rc(m):ac(m))}function cp(a,o){return null===a||null==o||(Array.isArray(a)?a[1]:a)===o||!(!Array.isArray(a)||"string"!=typeof o)&&un(a,o)>=0}const W3={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tl(a){return a.substring(W3.key,W3.keyEnd)}function nl(a,o){const l=W3.textEnd;return l===o?-1:(o=W3.keyEnd=function ab(a,o,l){for(;o<l&&a.charCodeAt(o)>32;)o++;return o}(a,W3.key=o,l),ai(a,o,l))}function ai(a,o,l){for(;o<l&&a.charCodeAt(o)<=32;)o++;return o}function rl(a,o,l){return Qt(a,o,l,!1),rl}function Oo(a,o){return Qt(a,o,null,!0),Oo}function il(a){!function _n(a,o,l,f){const d=U2(),m=Ct(2);d.firstUpdatePass&&pp(d,null,m,f);const _=N1();if(l!==$2&&_4(_,m,l)){const L=d.data[l4()];if(_p(L,f)&&!Cp(d,m)){let w=f?L.classesWithoutHost:L.stylesWithoutHost;null!==w&&(l=v1(w,l||"")),Gc(d,L,_,l,f)}else!function db(a,o,l,f,d,m,_,L){d===$2&&(d=O);let w=0,H=0,x=0<d.length?d[0]:null,P=0<m.length?m[0]:null;for(;null!==x||null!==P;){const Z=w<d.length?d[w+1]:void 0,r1=H<m.length?m[H+1]:void 0;let K1,E1=null;x===P?(w+=2,H+=2,Z!==r1&&(E1=P,K1=r1)):null===P||null!==x&&x<P?(w+=2,E1=x):(H+=2,E1=P,K1=r1),null!==E1&&vp(a,o,l,f,E1,K1,_,L),x=w<d.length?d[w]:null,P=H<m.length?m[H]:null}}(d,L,_,_[11],_[m+1],_[m+1]=function hb(a,o,l){if(null==l||""===l)return O;const f=[],d=mn(l);if(Array.isArray(d))for(let m=0;m<d.length;m++)a(f,d[m],!0);else if("object"==typeof d)for(const m in d)d.hasOwnProperty(m)&&a(f,m,d[m]);else"string"==typeof d&&o(f,d);return f}(a,o,l),f,m)}}(k3,n6,a,!0)}function n6(a,o){for(let l=function ib(a){return function up(a){W3.key=0,W3.keyEnd=0,W3.value=0,W3.valueEnd=0,W3.textEnd=a.length}(a),nl(a,ai(a,0,W3.textEnd))}(o);l>=0;l=nl(o,l))k3(a,tl(o),!0)}function Qt(a,o,l,f){const d=N1(),m=U2(),_=Ct(2);m.firstUpdatePass&&pp(m,a,_,f),o!==$2&&_4(d,_,o)&&vp(m,m.data[l4()],d,d[11],a,d[_+1]=function Cb(a,o){return null==a||("string"==typeof o?a+=o:"object"==typeof a&&(a=m1(mn(a)))),a}(o,l),f,_)}function Cp(a,o){return o>=a.expandoStartIndex}function pp(a,o,l,f){const d=a.data;if(null===d[l+1]){const m=d[l4()],_=Cp(a,l);_p(m,f)&&null===o&&!_&&(o=!1),o=function mp(a,o,l,f){const d=a5(a);let m=f?o.residualClasses:o.residualStyles;if(null===d)0===(f?o.classBindings:o.styleBindings)&&(l=rs(l=sl(null,a,o,l,f),o.attrs,f),m=null);else{const _=o.directiveStylingLast;if(-1===_||a[_]!==d)if(l=sl(d,a,o,l,f),null===m){let w=function ub(a,o,l){const f=l?o.classBindings:o.styleBindings;if(0!==Kn(f))return a[vn(f)]}(a,o,f);void 0!==w&&Array.isArray(w)&&(w=sl(null,a,o,w[1],f),w=rs(w,o.attrs,f),function gp(a,o,l,f){a[vn(l?o.classBindings:o.styleBindings)]=f}(a,o,f,w))}else m=function fb(a,o,l){let f;const d=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<d;m++)f=rs(f,a[m].hostAttrs,l);return rs(f,o.attrs,l)}(a,o,f)}return void 0!==m&&(f?o.residualClasses=m:o.residualStyles=m),l}(d,m,o,f),function tb(a,o,l,f,d,m){let _=m?o.classBindings:o.styleBindings,L=vn(_),w=Kn(_);a[f]=l;let x,H=!1;if(Array.isArray(l)){const P=l;x=P[1],(null===x||un(P,x)>0)&&(H=!0)}else x=l;if(d)if(0!==w){const Z=vn(a[L+1]);a[f+1]=go(Z,L),0!==Z&&(a[Z+1]=ic(a[Z+1],f)),a[L+1]=function Td(a,o){return 131071&a|o<<17}(a[L+1],f)}else a[f+1]=go(L,0),0!==L&&(a[L+1]=ic(a[L+1],f)),L=f;else a[f+1]=go(w,0),0===L?L=f:a[w+1]=ic(a[w+1],f),w=f;H&&(a[f+1]=rc(a[f+1])),op(a,x,f,!0),op(a,x,f,!1),function nb(a,o,l,f,d){const m=d?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof o&&un(m,o)>=0&&(l[f+1]=ac(l[f+1]))}(o,x,a,f,m),_=go(L,w),m?o.classBindings=_:o.styleBindings=_}(d,m,o,l,_,f)}}function sl(a,o,l,f,d){let m=null;const _=l.directiveEnd;let L=l.directiveStylingLast;for(-1===L?L=l.directiveStart:L++;L<_&&(m=o[L],f=rs(f,m.hostAttrs,d),m!==a);)L++;return null!==a&&(l.directiveStylingLast=L),f}function rs(a,o,l){const f=l?1:2;let d=-1;if(null!==o)for(let m=0;m<o.length;m++){const _=o[m];"number"==typeof _?d=_:d===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),k3(a,_,!!l||o[++m]))}return void 0===a?null:a}function vp(a,o,l,f,d,m,_,L){if(!(3&o.type))return;const w=a.data,H=w[L+1];Fo(function sc(a){return 1==(1&a)}(H)?yp(w,o,l,d,Kn(H),_):void 0)||(Fo(m)||function Ed(a){return 2==(2&a)}(H)&&(m=yp(w,null,l,d,L,_)),function pM(a,o,l,f,d){const m=Te(a);if(o)d?m?a.addClass(l,f):l.classList.add(f):m?a.removeClass(l,f):l.classList.remove(f);else{let _=-1===f.indexOf("-")?void 0:V.DashCase;if(null==d)m?a.removeStyle(l,f,_):l.style.removeProperty(f);else{const L="string"==typeof d&&d.endsWith("!important");L&&(d=d.slice(0,-10),_|=V.Important),m?a.setStyle(l,f,d,_):l.style.setProperty(f,d,L?"important":"")}}}(f,_,rn(l4(),l),d,m))}function yp(a,o,l,f,d,m){const _=null===o;let L;for(;d>0;){const w=a[d],H=Array.isArray(w),x=H?w[1]:w,P=null===x;let Z=l[d+1];Z===$2&&(Z=P?O:void 0);let r1=P?m5(Z,f):x===f?Z:void 0;if(H&&!Fo(r1)&&(r1=m5(w,f)),Fo(r1)&&(L=r1,_))return L;const E1=a[d+1];d=_?vn(E1):Kn(E1)}if(null!==o){let w=m?o.residualClasses:o.residualStyles;null!=w&&(L=m5(w,f))}return L}function Fo(a){return void 0!==a}function _p(a,o){return 0!=(a.flags&(o?16:32))}function Mp(a,o=""){const l=N1(),f=U2(),d=a+20,m=f.firstCreatePass?qr(f,d,1,o,null):f.data[d],_=l[d]=function Or(a,o){return Te(a)?a.createText(o):a.createTextNode(o)}(l[11],o);Co(f,l,_,m),dt(m,!1)}function ol(a){return Uo("",a,""),ol}function Uo(a,o,l){const f=N1(),d=Xr(f,a,o,l);return d!==$2&&Qn(f,l4(),d),Uo}function cl(a,o,l,f,d){const m=N1(),_=ei(m,a,o,l,f,d);return _!==$2&&Qn(m,l4(),_),cl}function Cl(a,o,l){const f=N1();return _4(f,s5(),o)&&nt(U2(),t3(),f,a,o,f[11],l,!0),Cl}function Bo(a,o,l){const f=N1();if(_4(f,s5(),o)){const m=U2(),_=t3();nt(m,_,f,a,o,function eC(a,o,l){return(null===a||N4(a))&&(l=function c8(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(l[o.index])),l[11]}(a5(m.data),_,f),l,!0)}return Bo}const D8=void 0;var Vb=["en",[["a","p"],["AM","PM"],D8],[["AM","PM"],D8,D8],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],D8,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],D8,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",D8,"{1} 'at' {0}",D8],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fp(a){const l=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===f?1:5}];let k8={};function jo(a){const o=function Hb(a){return a.toLowerCase().replace(/_/g,"-")}(a);let l=Up(o);if(l)return l;const f=o.split("-")[0];if(l=Up(f),l)return l;if("en"===f)return Vb;throw new Error(`Missing locale data for the locale "${a}".`)}function pl(a){return jo(a)[N2.PluralCase]}function Up(a){return a in k8||(k8[a]=G2.ng&&G2.ng.common&&G2.ng.common.locales&&G2.ng.common.locales[a]),k8[a]}var N2=(()=>((N2=N2||{})[N2.LocaleId=0]="LocaleId",N2[N2.DayPeriodsFormat=1]="DayPeriodsFormat",N2[N2.DayPeriodsStandalone=2]="DayPeriodsStandalone",N2[N2.DaysFormat=3]="DaysFormat",N2[N2.DaysStandalone=4]="DaysStandalone",N2[N2.MonthsFormat=5]="MonthsFormat",N2[N2.MonthsStandalone=6]="MonthsStandalone",N2[N2.Eras=7]="Eras",N2[N2.FirstDayOfWeek=8]="FirstDayOfWeek",N2[N2.WeekendRange=9]="WeekendRange",N2[N2.DateFormat=10]="DateFormat",N2[N2.TimeFormat=11]="TimeFormat",N2[N2.DateTimeFormat=12]="DateTimeFormat",N2[N2.NumberSymbols=13]="NumberSymbols",N2[N2.NumberFormats=14]="NumberFormats",N2[N2.CurrencyCode=15]="CurrencyCode",N2[N2.CurrencySymbol=16]="CurrencySymbol",N2[N2.CurrencyName=17]="CurrencyName",N2[N2.Currencies=18]="Currencies",N2[N2.Directionality=19]="Directionality",N2[N2.PluralCase=20]="PluralCase",N2[N2.ExtraData=21]="ExtraData",N2))();const qo="en-US";let qp=qo;function zl(a,o,l,f,d){if(a=a1(a),Array.isArray(a))for(let m=0;m<a.length;m++)zl(a[m],o,l,f,d);else{const m=U2(),_=N1();let L=A8(a)?a:a1(a.provide),w=Ic(a);const H=Ie(),x=1048575&H.providerIndexes,P=H.directiveStart,Z=H.providerIndexes>>20;if(A8(a)||!a.multi){const r1=new _r(w,d,es),E1=Vl(L,o,d?x:x+Z,P);-1===E1?(Rn(We(H,_),m,L),wl(m,a,o.length),o.push(L),H.directiveStart++,H.directiveEnd++,d&&(H.providerIndexes+=1048576),l.push(r1),_.push(r1)):(l[E1]=r1,_[E1]=r1)}else{const r1=Vl(L,o,x+Z,P),E1=Vl(L,o,x,x+Z),K1=r1>=0&&l[r1],r2=E1>=0&&l[E1];if(d&&!r2||!d&&!K1){Rn(We(H,_),m,L);const C2=function pz(a,o,l,f,d){const m=new _r(a,l,es);return m.multi=[],m.index=o,m.componentProviders=0,ym(m,d,f&&!l),m}(d?Cz:dz,l.length,d,f,w);!d&&r2&&(l[E1].providerFactory=C2),wl(m,a,o.length,0),o.push(L),H.directiveStart++,H.directiveEnd++,d&&(H.providerIndexes+=1048576),l.push(C2),_.push(C2)}else wl(m,a,r1>-1?r1:E1,ym(l[d?E1:r1],w,!d&&f));!d&&f&&r2&&l[E1].componentProviders++}}}function wl(a,o,l,f){const d=A8(o),m=function gL(a){return!!a.useClass}(o);if(d||m){const w=(m?a1(o.useClass):o).prototype.ngOnDestroy;if(w){const H=a.destroyHooks||(a.destroyHooks=[]);if(!d&&o.multi){const x=H.indexOf(l);-1===x?H.push(l,[f,w]):H[x+1].push(f,w)}else H.push(l,w)}}}function ym(a,o,l){return l&&a.componentProviders++,a.multi.push(o)-1}function Vl(a,o,l,f){for(let d=l;d<f;d++)if(o[d]===a)return d;return-1}function dz(a,o,l,f){return Sl(this.multi,[])}function Cz(a,o,l,f){const d=this.multi;let m;if(this.providerFactory){const _=this.providerFactory.componentProviders,L=h5(l,l[1],this.providerFactory.index,f);m=L.slice(0,_),Sl(d,m);for(let w=_;w<L.length;w++)m.push(L[w])}else m=[],Sl(d,m);return m}function Sl(a,o){for(let l=0;l<a.length;l++)o.push((0,a[l])());return o}function _m(a,o=[]){return l=>{l.providersResolver=(f,d)=>function hz(a,o,l){const f=U2();if(f.firstCreatePass){const d=N4(a);zl(l,f.data,f.blueprint,d,!0),zl(o,f.data,f.blueprint,d,!1)}}(f,d?d(a):a,o)}}class Mm{}class zm{resolveComponentFactory(o){throw function Lm(a){const o=Error(`No component factory found for ${m1(a)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=a,o}(o)}}let Ko=(()=>{class a{}return a.NULL=new zm,a})();function gz(){return ci(Ie(),N1())}function ci(a,o){return new ls(X3(a,o))}let ls=(()=>{class a{constructor(l){this.nativeElement=l}}return a.__NG_ELEMENT_ID__=gz,a})();function wm(a){return a instanceof ls?a.nativeElement:a}class Vm{}let vz=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function yz(){const a=N1(),l=N(Ie().index,a);return function Sm(a){return a[11]}(A3(l)?l:a)}(),a})(),_z=(()=>{class a{}return a.\u0275prov=ie({token:a,providedIn:"root",factory:()=>null}),a})();class Hm{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const xm=new Hm("13.3.6"),Hl={};function Yo(a,o,l,f,d=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&f.push(ae(m)),p4(m))for(let L=10;L<m.length;L++){const w=m[L],H=w[1].firstChild;null!==H&&Yo(w[1],w,H,f)}const _=l.type;if(8&_)Yo(a,o,l.child,f);else if(32&_){const L=X(l,o);let w;for(;w=L();)f.push(w)}else if(16&_){const L=_d(o,l);if(Array.isArray(L))f.push(...L);else{const w=l2(o[16]);Yo(w[1],w,L,f,!0)}}l=d?l.projectionNext:l.next}return f}class us{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Yo(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(p4(o)){const l=o[8],f=l?l.indexOf(this):-1;f>-1&&($9(o,f),E6(l,f))}this._attachedToViewContainer=!1}Z9(this._lView[1],this._lView)}onDestroy(o){Cc(this._lView[1],this._lView,null,o)}markForCheck(){bc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Jd(a,o,l){mr(!0);try{zc(a,o,l)}finally{mr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new O1(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function j0(a,o){po(a,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new O1(902,"");this._appRef=o}}class Mz extends us{constructor(o){super(o),this._view=o}detectChanges(){Qd(this._view)}checkNoChanges(){!function aL(a){mr(!0);try{Qd(a)}finally{mr(!1)}}(this._view)}get context(){return null}}class Em extends Ko{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=_e(o);return new xl(l,this.ngModule)}}function Tm(a){const o=[];for(let l in a)a.hasOwnProperty(l)&&o.push({propName:a[l],templateName:l});return o}class xl extends Mm{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function zM(a){return a.map(bM).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Tm(this.componentDef.inputs)}get outputs(){return Tm(this.componentDef.outputs)}create(o,l,f,d){const m=(d=d||this.ngModule)?function bz(a,o){return{get:(l,f,d)=>{const m=a.get(l,Hl,d);return m!==Hl||f===Hl?m:o.get(l,f,d)}}}(o,d.injector):o,_=m.get(Vm,Y4),L=m.get(_z,null),w=_.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",x=f?function qd(a,o,l){if(Te(a))return a.selectRootElement(o,l===Z2.ShadowDom);let f="string"==typeof o?a.querySelector(o):o;return f.textContent="",f}(w,f,this.componentDef.encapsulation):Ur(_.createRenderer(null,this.componentDef),H,function Lz(a){const o=a.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(H)),P=this.componentDef.onPush?576:528,Z=function _C(a,o){return{components:[],scheduler:a||G9,clean:cL,playerHandler:o||null,flags:0}}(),r1=wo(0,null,null,1,0,null,null,null,null,null),E1=Z0(null,r1,Z,P,null,null,_,w,L,m);let K1,r2;o5(E1);try{const C2=function vC(a,o,l,f,d,m){const _=l[1];l[20]=a;const w=qr(_,20,2,"#host",null),H=w.mergedAttrs=o.hostAttrs;null!==H&&(Ho(w,H,!0),null!==a&&(L2(d,a,H),null!==w.classes&&nc(d,a,w.classes),null!==w.styles&&Md(d,a,w.styles)));const x=f.createRenderer(a,o),P=Z0(l,Ud(o),null,o.onPush?64:16,l[20],w,f,x,m||null,null);return _.firstCreatePass&&(Rn(We(w,l),_,o.type),$d(_,w),Zd(w,l.length,1)),Vo(l,P),l[20]=P}(x,this.componentDef,E1,_,w);if(x)if(f)L2(w,x,["ng-version",xm.full]);else{const{attrs:k1,classes:x2}=function wM(a){const o=[],l=[];let f=1,d=2;for(;f<a.length;){let m=a[f];if("string"==typeof m)2===d?""!==m&&o.push(m,a[++f]):8===d&&l.push(m);else{if(!Kt(d))break;d=m}f++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);k1&&L2(w,x,k1),x2&&x2.length>0&&nc(w,x,x2.join(" "))}if(r2=v6(r1,20),void 0!==l){const k1=r2.projection=[];for(let x2=0;x2<this.ngContentSelectors.length;x2++){const ce=l[x2];k1.push(null!=ce?Array.from(ce):null)}}K1=function yC(a,o,l,f,d){const m=l[1],_=function Wd(a,o,l){const f=Ie();a.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Kd(a,f,o,Wr(a,o,1,null),l));const d=h5(o,a,f.directiveStart,f);P3(d,o);const m=X3(f,o);return m&&P3(m,o),d}(m,l,o);if(f.components.push(_),a[8]=_,d&&d.forEach(w=>w(_,o)),o.contentQueries){const w=Ie();o.contentQueries(1,_,w.directiveStart)}const L=Ie();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Gt(L.index),gc(l[1],L,0,L.directiveStart,L.directiveEnd,o),vc(o,_)),_}(C2,this.componentDef,E1,Z,[kc]),K0(r1,E1,null)}finally{d8()}return new El(this.componentType,K1,ci(r2,E1),E1,r2)}}class El extends class mz{}{constructor(o,l,f,d,m){super(),this.location=f,this._rootLView=d,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new Mz(d),this.componentType=o}get injector(){return new w6(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class li{}class Tl{}const ui=new Map;class Il extends li{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Em(this);const f=Ge(o);this._bootstrapComponents=Mt(f.bootstrap),this._r3Injector=Ac(o,l,[{provide:li,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver}],m1(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Jn.THROW_IF_NOT_FOUND,f=V2.Default){return o===Jn||o===li||o===Sc?this:this._r3Injector.get(o,l,f)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Nl extends Tl{constructor(o){super(),this.moduleType=o,null!==Ge(o)&&function Vz(a){const o=new Set;!function l(f){const d=Ge(f,!0),m=d.id;null!==m&&(function Am(a,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${a} - ${m1(o)} vs ${m1(o.name)}`)}(m,ui.get(m),f),ui.set(m,f));const _=Mt(d.imports);for(const L of _)o.has(L)||(o.add(L),l(L))}(a)}(o)}create(o){return new Il(this.moduleType,o)}}function Im(a,o,l,f,d){return km(N1(),N3(),a,o,l,f,d)}function kl(a,o,l,f,d,m){return function Pm(a,o,l,f,d,m,_,L){const w=o+l;return function Eo(a,o,l,f,d){const m=I8(a,o,l,f);return _4(a,o+2,d)||m}(a,w,d,m,_)?Xn(a,w+3,L?f.call(L,d,m,_):f(d,m,_)):fs(a,w+3)}(N1(),N3(),a,o,l,f,d,m)}function fs(a,o){const l=a[o];return l===$2?void 0:l}function km(a,o,l,f,d,m,_){const L=o+l;return I8(a,L,d,m)?Xn(a,L+2,_?f.call(_,d,m):f(d,m)):fs(a,L+2)}function Om(a,o){const l=U2();let f;const d=a+20;l.firstCreatePass?(f=function Iz(a,o){if(o)for(let l=o.length-1;l>=0;l--){const f=o[l];if(a===f.name)return f}}(o,l.pipeRegistry),l.data[d]=f,f.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(d,f.onDestroy)):f=l.data[d];const m=f.factory||(f.factory=J3(f.type)),_=De(es);try{const L=pt(!1),w=m();return pt(L),function IL(a,o,l,f){l>=a.data.length&&(a.data[l]=null,a.blueprint[l]=null),o[l]=f}(l,N1(),d,w),w}finally{De(_)}}function Fm(a,o,l){const f=a+20,d=N1(),m=k(d,f);return D5(d,f)?function Dm(a,o,l,f,d,m){const _=o+l;return _4(a,_,d)?Xn(a,_+1,m?f.call(m,d):f(d)):fs(a,_+1)}(d,N3(),o,m.transform,l,m):m.transform(l)}function Pl(a,o,l,f){const d=a+20,m=N1(),_=k(m,d);return D5(m,d)?km(m,N3(),o,_.transform,l,f,_):_.transform(l,f)}function D5(a,o){return a[1].data[o].pure}function Rl(a){return o=>{setTimeout(a,void 0,o)}}const r6=class kz extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,f){var d,m,_;let L=o,w=l||(()=>null),H=f;if(o&&"object"==typeof o){const P=o;L=null===(d=P.next)||void 0===d?void 0:d.bind(P),w=null===(m=P.error)||void 0===m?void 0:m.bind(P),H=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(w=Rl(w),L&&(L=Rl(L)),H&&(H=Rl(H)));const x=super.subscribe({next:L,error:w,complete:H});return o instanceof e1.w0&&o.add(x),x}};function Bm(){return this._results[Yr()]()}class Ol{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Yr(),f=Ol.prototype;f[l]||(f[l]=Bm)}get changes(){return this._changes||(this._changes=new r6)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const f=this;f.dirty=!1;const d=et(o);(this._changesDetected=!function C0(a,o,l){if(a.length!==o.length)return!1;for(let f=0;f<a.length;f++){let d=a[f],m=o[f];if(l&&(d=l(d),m=l(m)),m!==d)return!1}return!0}(f._results,d,l))&&(f._results=d,f.length=d.length,f.last=d[this.length-1],f.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fi=(()=>{class a{}return a.__NG_ELEMENT_ID__=Rz,a})();const Pz=fi,jm=class extends Pz{constructor(o,l,f){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=f}createEmbeddedView(o){const l=this._declarationTContainer.tViews,f=Z0(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(f[19]=m.createEmbeddedView(l)),K0(l,f,o),new us(f)}};function Rz(){return Qo(Ie(),N1())}function Qo(a,o){return 4&a.type?new jm(o,a,ci(a,o)):null}let Jo=(()=>{class a{}return a.__NG_ELEMENT_ID__=Oz,a})();function Oz(){return ds(Ie(),N1())}const qm=Jo,Gm=class extends qm{constructor(o,l,f){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=f}get element(){return ci(this._hostTNode,this._hostLView)}get injector(){return new w6(this._hostTNode,this._hostLView)}get parentInjector(){const o=Pn(this._hostTNode,this._hostLView);if(Ta(o)){const l=je(o,this._hostLView),f=Wt(o);return new w6(l[1].data[f+8],l)}return new w6(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Fl(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,f){const d=o.createEmbeddedView(l||{});return this.insert(d,f),d}createComponent(o,l,f,d,m){const _=o&&!function x6(a){return"function"==typeof a}(o);let L;if(_)L=l;else{const P=l||{};L=P.index,f=P.injector,d=P.projectableNodes,m=P.ngModuleRef}const w=_?o:new xl(_e(o)),H=f||this.parentInjector;if(!m&&null==w.ngModule){const Z=(_?H:this.parentInjector).get(li,null);Z&&(m=Z)}const x=w.create(H,d,void 0,m);return this.insert(x.hostView,L),x}insert(o,l){const f=o._lView,d=f[1];if(function W1(a){return p4(a[3])}(f)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const P=f[3],Z=new Gm(P,P[6],P[3]);Z.detach(Z.indexOf(o))}}const m=this._adjustIndex(l),_=this._lContainer;!function Zn(a,o,l,f){const d=10+f,m=l.length;f>0&&(l[d-1][4]=o),f<m-10?(o[4]=l[d],p5(l,10+f,o)):(l.push(o),o[4]=null),o[3]=l;const _=o[17];null!==_&&l!==_&&function A5(a,o){const l=a[9];o[16]!==o[3][3][16]&&(a[2]=!0),null===l?a[9]=[o]:l.push(o)}(_,o);const L=o[19];null!==L&&L.insertView(a),o[2]|=128}(d,f,_,m);const L=X9(m,_),w=f[11],H=I5(w,_[7]);return null!==H&&function B0(a,o,l,f,d,m){f[0]=d,f[6]=o,po(a,f,l,1,d,m)}(d,_[6],w,f,H,L),o.attachToViewContainerRef(),p5(Ul(_),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Fl(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),f=$9(this._lContainer,l);f&&(E6(Ul(this._lContainer),l),Z9(f[1],f))}detach(o){const l=this._adjustIndex(o,-1),f=$9(this._lContainer,l);return f&&null!=E6(Ul(this._lContainer),l)?new us(f):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Fl(a){return a[8]}function Ul(a){return a[8]||(a[8]=[])}function ds(a,o){let l;const f=o[a.index];if(p4(f))l=f;else{let d;if(8&a.type)d=ae(f);else{const m=o[11];d=m.createComment("");const _=X3(a,o);Lt(m,I5(m,_),d,function hM(a,o){return Te(a)?a.nextSibling(o):o.nextSibling}(m,_),!1)}o[a.index]=l=Mc(f,o,d,a),Vo(o,l)}return new Gm(l,a,o)}class Xo{constructor(o){this.queryList=o,this.matches=null}clone(){return new Xo(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bl{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const f=null!==o.contentQueries?o.contentQueries[0]:l.length,d=[];for(let m=0;m<f;m++){const _=l.getByIndex(m);d.push(this.queries[_.indexInDeclarationView].clone())}return new Bl(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Kl(o,l).matches&&this.queries[l].setDirty()}}class Wm{constructor(o,l,f=null){this.predicate=o,this.flags=l,this.read=f}}class jl{constructor(o=[]){this.queries=o}elementStart(o,l){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let f=0;f<this.length;f++){const d=null!==l?l.length:0,m=this.getByIndex(f).embeddedTView(o,d);m&&(m.indexInDeclarationView=f,null!==l?l.push(m):l=[m])}return null!==l?new jl(l):null}template(o,l){for(let f=0;f<this.queries.length;f++)this.queries[f].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ql{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new ql(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let f=o.parent;for(;null!==f&&8&f.type&&f.index!==l;)f=f.parent;return l===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const f=this.metadata.predicate;if(Array.isArray(f))for(let d=0;d<f.length;d++){const m=f[d];this.matchTNodeWithReadOption(o,l,Gl(l,m)),this.matchTNodeWithReadOption(o,l,ln(l,o,m,!1,!1))}else f===fi?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,ln(l,o,f,!1,!1))}matchTNodeWithReadOption(o,l,f){if(null!==f){const d=this.metadata.read;if(null!==d)if(d===ls||d===Jo||d===fi&&4&l.type)this.addMatch(l.index,-2);else{const m=ln(l,o,d,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,f)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Gl(a,o){const l=a.localNames;if(null!==l)for(let f=0;f<l.length;f+=2)if(l[f]===o)return l[f+1];return null}function jz(a,o,l,f){return-1===l?function Bz(a,o){return 11&a.type?ci(a,o):4&a.type?Qo(a,o):null}(o,a):-2===l?function qz(a,o,l){return l===ls?ci(o,a):l===fi?Qo(o,a):l===Jo?ds(o,a):void 0}(a,o,f):h5(a,a[1],l,o)}function $m(a,o,l,f){const d=o[19].queries[f];if(null===d.matches){const m=a.data,_=l.matches,L=[];for(let w=0;w<_.length;w+=2){const H=_[w];L.push(H<0?null:jz(o,m[H],_[w+1],l.metadata.read))}d.matches=L}return d.matches}function Wl(a,o,l,f){const d=a.queries.getByIndex(l),m=d.matches;if(null!==m){const _=$m(a,o,d,l);for(let L=0;L<m.length;L+=2){const w=m[L];if(w>0)f.push(_[L/2]);else{const H=m[L+1],x=o[-w];for(let P=10;P<x.length;P++){const Z=x[P];Z[17]===Z[3]&&Wl(Z[1],Z,H,f)}if(null!==x[9]){const P=x[9];for(let Z=0;Z<P.length;Z++){const r1=P[Z];Wl(r1[1],r1,H,f)}}}}}return f}function $l(a){const o=N1(),l=U2(),f=y9();h8(f+1);const d=Kl(l,f);if(a.dirty&&J(o)===(2==(2&d.metadata.flags))){if(null===d.matches)a.reset([]);else{const m=d.crossesNgTemplate?Wl(l,o,f,[]):$m(l,o,d,f);a.reset(m,wm),a.notifyOnChanges()}return!0}return!1}function Zm(a,o,l,f){const d=U2();if(d.firstCreatePass){const m=Ie();(function Jm(a,o,l){null===a.queries&&(a.queries=new jl),a.queries.track(new ql(o,l))})(d,new Wm(o,l,f),m.index),function Gz(a,o){const l=a.contentQueries||(a.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(a.queries.length-1,o)}(d,a),2==(2&l)&&(d.staticContentQueries=!0)}!function Qm(a,o,l){const f=new Ol(4==(4&l));Cc(a,o,f,f.destroy),null===o[19]&&(o[19]=new Bl),o[19].queries.push(new Xo(f))}(d,N1(),l)}function Km(){return function Ym(a,o){return a[19].queries[o].queryList}(N1(),y9())}function Kl(a,o){return a.queries.getByIndex(o)}const ow=S6("Input",a=>({bindingPropertyName:a})),dg=S6("Output",a=>({bindingPropertyName:a}));function ps(...a){}const ou=new qe("Application Initializer");let cu=(()=>{class a{constructor(l){this.appInits=l,this.resolve=ps,this.reject=ps,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,d)=>{this.resolve=f,this.reject=d})}runInitializers(){if(this.initialized)return;const l=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(Zc(m))l.push(m);else if(KC(m)){const _=new Promise((L,w)=>{m.subscribe({complete:L,error:w})});l.push(_)}}Promise.all(l).then(()=>{f()}).catch(d=>{this.reject(d)}),0===l.length&&f(),this.initialized=!0}}return a.\u0275fac=function(l){return new(l||a)(c3(ou,8))},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const lu=new qe("AppId",{providedIn:"root",factory:function Cg(){return`${uu()}${uu()}${uu()}`}});function uu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fu=new qe("Platform Initializer"),uw=new qe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hu=new qe("appBootstrapListener");let pg=(()=>{class a{log(l){console.log(l)}warn(l){console.warn(l)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const s7=new qe("LocaleId",{providedIn:"root",factory:()=>fn(s7,V2.Optional|V2.SkipSelf)||function fw(){return"undefined"!=typeof $localize&&$localize.locale||qo}()}),hw=new qe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class dw{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let Cw=(()=>{class a{compileModuleSync(l){return new Nl(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const f=this.compileModuleSync(l),m=Mt(Ge(l).declarations).reduce((_,L)=>{const w=_e(L);return w&&_.push(new xl(w)),_},[]);return new dw(f,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const pw=(()=>Promise.resolve(0))();function a7(a){"undefined"==typeof Zone?pw.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Mn{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new r6(!1),this.onMicrotaskEmpty=new r6(!1),this.onStable=new r6(!1),this.onError=new r6(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!f&&l,d.shouldCoalesceRunChangeDetection=f,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function gg(){let a=G2.requestAnimationFrame,o=G2.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&o){const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function gw(a){const o=()=>{!function mw(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(G2,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Cu(a),a.isCheckStableRunning=!0,du(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Cu(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,f,d,m,_,L)=>{try{return yg(a),l.invokeTask(d,m,_,L)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&o(),_g(a)}},onInvoke:(l,f,d,m,_,L,w)=>{try{return yg(a),l.invoke(d,m,_,L,w)}finally{a.shouldCoalesceRunChangeDetection&&o(),_g(a)}},onHasTask:(l,f,d,m)=>{l.hasTask(d,m),f===d&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Cu(a),du(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,f,d,m)=>(l.handleError(d,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Mn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,f){return this._inner.run(o,l,f)}runTask(o,l,f,d){const m=this._inner,_=m.scheduleEventTask("NgZoneEvent: "+d,o,vg,ps,ps);try{return m.runTask(_,l,f)}finally{m.cancelTask(_)}}runGuarded(o,l,f){return this._inner.runGuarded(o,l,f)}runOutsideAngular(o){return this._outer.run(o)}}const vg={};function du(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Cu(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function yg(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function _g(a){a._nesting--,du(a)}class vw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new r6,this.onMicrotaskEmpty=new r6,this.onStable=new r6,this.onError=new r6}run(o,l,f){return o.apply(l,f)}runGuarded(o,l,f){return o.apply(l,f)}runOutsideAngular(o){return o()}runTask(o,l,f,d){return o.apply(l,f)}}let Mg=(()=>{class a{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mn.assertNotInAngularZone(),a7(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())a7(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(l)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,f,d){let m=-1;f&&f>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==m),l(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:d})}whenStable(l,f,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,f,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,f,d){return[]}}return a.\u0275fac=function(l){return new(l||a)(c3(Mn))},a.\u0275prov=ie({token:a,factory:a.\u0275fac}),a})(),yw=(()=>{class a{constructor(){this._applications=new Map,pu.addToWindow(this)}registerApplication(l,f){this._applications.set(l,f)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,f=!0){return pu.findTestabilityInTree(this,l,f)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class _w{addToWindow(o){}findTestabilityInTree(o,l,f){return null}}function Mw(a){pu=a}let pu=new _w,k5=null;const Lg=new qe("AllowMultipleToken"),bg=new qe("PlatformOnDestroy");class bw{constructor(o,l){this.name=o,this.token=l}}function wg(a,o,l=[]){const f=`Platform: ${o}`,d=new qe(f);return(m=[])=>{let _=o7();if(!_||_.injector.get(Lg,!1)){const L=[...l,...m,{provide:d,useValue:!0}];a?a(L):function mu(a){if(k5&&!k5.get(Lg,!1))throw new O1(400,"");k5=a;const o=a.get(Vg),l=a.get(fu,null);l&&l.forEach(f=>f())}(function ww(a=[],o){return Jn.create({name:o,providers:[{provide:xc,useValue:"platform"},{provide:bg,useValue:()=>k5=null},...a]})}(L,f))}return function zw(a){const o=o7();if(!o)throw new O1(401,"");return o}()}}function o7(){var a;return null!==(a=null==k5?void 0:k5.get(Vg))&&void 0!==a?a:null}let Vg=(()=>{class a{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,f){const L=function Vw(a,o){let l;return l="noop"===a?new vw:("zone.js"===a?void 0:a)||new Mn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),w=[{provide:Mn,useValue:L}];return L.run(()=>{const H=Jn.create({providers:w,parent:this.injector,name:l.moduleType.name}),x=l.create(H),P=x.injector.get(Rr,null);if(!P)throw new O1(402,"");return L.runOutsideAngular(()=>{const Z=L.onError.subscribe({next:r1=>{P.handleError(r1)}});x.onDestroy(()=>{vu(this._modules,x),Z.unsubscribe()})}),function Sw(a,o,l){try{const f=l();return Zc(f)?f.catch(d=>{throw o.runOutsideAngular(()=>a.handleError(d)),d}):f}catch(f){throw o.runOutsideAngular(()=>a.handleError(f)),f}}(P,L,()=>{const Z=x.injector.get(cu);return Z.runInitializers(),Z.donePromise.then(()=>(function Gp(a){o2(a,"Expected localeId to be defined"),"string"==typeof a&&(qp=a.toLowerCase().replace(/_/g,"-"))}(x.injector.get(s7,qo)||qo),this._moduleDoBootstrap(x),x))})})}bootstrapModule(l,f=[]){const d=Sg({},f);return function zg(a,o,l){const f=new Nl(l);return Promise.resolve(f)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(l){const f=l.injector.get(gu);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>f.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new O1(403,"");l.instance.ngDoBootstrap(f)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O1(404,"");this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const l=this._injector.get(bg,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(l){return new(l||a)(c3(Jn))},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Sg(a,o){return Array.isArray(o)?o.reduce(Sg,a):Object.assign(Object.assign({},a),o)}let gu=(()=>{class a{constructor(l,f,d,m){this._zone=l,this._injector=f,this._exceptionHandler=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new R.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),L=new R.y(w=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{Mn.assertNotInAngularZone(),a7(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Mn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{H.unsubscribe(),x.unsubscribe()}});this.isStable=(0,f1.T)(_,L.pipe((0,p1.B)()))}bootstrap(l,f){if(!this._initStatus.done)throw new O1(405,"");let d;d=l instanceof Mm?l:this._injector.get(Ko).resolveComponentFactory(l),this.componentTypes.push(d.componentType);const m=function Lw(a){return a.isBoundToModule}(d)?void 0:this._injector.get(li),L=d.create(Jn.NULL,[],f||d.selector,m),w=L.location.nativeElement,H=L.injector.get(Mg,null),x=H&&L.injector.get(yw);return H&&x&&x.registerApplication(w,H),L.onDestroy(()=>{this.detachView(L.hostView),vu(this.components,L),x&&x.unregisterApplication(w)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new O1(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const f=l;this._views.push(f),f.attachToAppRef(this)}detachView(l){const f=l;vu(this._views,f),f.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(hu,[]).concat(this._bootstrapListeners).forEach(d=>d(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(l){return new(l||a)(c3(Mn),c3(Jn),c3(Rr),c3(cu))},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function vu(a,o){const l=a.indexOf(o);l>-1&&a.splice(l,1)}let Hg=!0,_u=!1;function xw(){return _u=!0,Hg}function Ew(){if(_u)throw new Error("Cannot enable prod mode after platform setup.");Hg=!1}let Eg=(()=>{class a{}return a.__NG_ELEMENT_ID__=Tw,a})();function Tw(a){return function Aw(a,o,l){if(t8(a)&&!l){const f=N(a.index,o);return new us(f,f)}return 47&a.type?new us(o[16],o):null}(Ie(),N1(),16==(16&a))}class Ig{constructor(){}supports(o){return X0(o)}create(o){return new Fw(o)}}const Ow=(a,o)=>o;class Fw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Ow}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,f=this._removalsHead,d=0,m=null;for(;l||f;){const _=!f||l&&l.currentIndex<Dg(f,d,m)?l:f,L=Dg(_,d,m),w=_.currentIndex;if(_===f)d--,f=f._nextRemoved;else if(l=l._next,null==_.previousIndex)d++;else{m||(m=[]);const H=L-d,x=w-d;if(H!=x){for(let Z=0;Z<H;Z++){const r1=Z<m.length?m[Z]:m[Z]=0,E1=r1+Z;x<=E1&&E1<H&&(m[Z]=r1+1)}m[_.previousIndex]=x-H}}L!==w&&o(_,L,w)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!X0(o))throw new O1(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,m,_,l=this._itHead,f=!1;if(Array.isArray(o)){this.length=o.length;for(let L=0;L<this.length;L++)m=o[L],_=this._trackByFn(L,m),null!==l&&Object.is(l.trackById,_)?(f&&(l=this._verifyReinsertion(l,m,_,L)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,_,L),f=!0),l=l._next}else d=0,function TL(a,o){if(Array.isArray(a))for(let l=0;l<a.length;l++)o(a[l]);else{const l=a[Yr()]();let f;for(;!(f=l.next()).done;)o(f.value)}}(o,L=>{_=this._trackByFn(d,L),null!==l&&Object.is(l.trackById,_)?(f&&(l=this._verifyReinsertion(l,L,_,d)),Object.is(l.item,L)||this._addIdentityChange(l,L)):(l=this._mismatch(l,L,_,d),f=!0),l=l._next,d++}),this.length=d;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,f,d){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(f,d))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,d)):o=this._addAfter(new Uw(l,f),m,d),o}_verifyReinsertion(o,l,f,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==m?o=this._reinsertAfter(m,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,m=o._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(o,l,f),this._addToMoves(o,f),o}_moveAfter(o,l,f){return this._unlink(o),this._insertAfter(o,l,f),this._addToMoves(o,f),o}_addAfter(o,l,f){return this._insertAfter(o,l,f),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,f){const d=null===l?this._itHead:l._next;return o._next=d,o._prev=l,null===d?this._itTail=o:d._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Ng),this._linkedRecords.put(o),o.currentIndex=f,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,f=o._next;return null===l?this._itHead=f:l._next=f,null===f?this._itTail=l:f._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ng),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Uw{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zu{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===l||l<=f.currentIndex)&&Object.is(f.trackById,o))return f;return null}remove(o){const l=o._prevDup,f=o._nextDup;return null===l?this._head=f:l._nextDup=f,null===f?this._tail=l:f._prevDup=l,null===this._head}}class Ng{constructor(){this.map=new Map}put(o){const l=o.trackById;let f=this.map.get(l);f||(f=new zu,this.map.set(l,f)),f.add(o)}get(o,l){const d=this.map.get(o);return d?d.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dg(a,o,l){const f=a.previousIndex;if(null===f)return f;let d=0;return l&&f<l.length&&(d=l[f]),f+o+d}class wu{constructor(){}supports(o){return o instanceof Map||xo(o)}create(){return new Bw}}class Bw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||xo(o)))throw new O1(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(f,d)=>{if(l&&l.key===d)this._maybeAddToChanges(l,f),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(d,f);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let f=l;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const f=o._prev;return l._next=o,l._prev=f,o._prev=l,f&&(f._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,l);const m=d._prev,_=d._next;return m&&(m._next=_),_&&(_._prev=m),d._next=null,d._prev=null,d}const f=new jw(o);return this._records.set(o,f),f.currentValue=l,this._addToAdditions(f),f}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(f=>l(o[f],f))}}class jw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vu(){return new Su([new Ig])}let Su=(()=>{class a{constructor(l){this.factories=l}static create(l,f){if(null!=f){const d=f.factories.slice();l=l.concat(d)}return new a(l)}static extend(l){return{provide:a,useFactory:f=>a.create(l,f||Vu()),deps:[[a,new A6,new qn]]}}find(l){const f=this.factories.find(d=>d.supports(l));if(null!=f)return f;throw new O1(901,"")}}return a.\u0275prov=ie({token:a,providedIn:"root",factory:Vu}),a})();function kg(){return new Hu([new wu])}let Hu=(()=>{class a{constructor(l){this.factories=l}static create(l,f){if(f){const d=f.factories.slice();l=l.concat(d)}return new a(l)}static extend(l){return{provide:a,useFactory:f=>a.create(l,f||kg()),deps:[[a,new A6,new qn]]}}find(l){const f=this.factories.find(m=>m.supports(l));if(f)return f;throw new O1(901,"")}}return a.\u0275prov=ie({token:a,providedIn:"root",factory:kg}),a})();const Ww=wg(null,"core",[]);let $w=(()=>{class a{constructor(l){}}return a.\u0275fac=function(l){return new(l||a)(c3(gu))},a.\u0275mod=I2({type:a}),a.\u0275inj=O2({}),a})()},579:(a2,z1,A)=>{A.d(z1,{EI:()=>Y,Gb:()=>G2,Iv:()=>Ze,Kz:()=>Q,Xd:()=>V2,lT:()=>Xe,xP:()=>O});var c=A(5861),e1=A(9681),R=A(1877),f1=A(2090),p1=A(4859);A(2833);const l1="analytics",m1="firebase_id",G="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",a1="https://www.googletagmanager.com/gtag/js",j1=new R.Yd("@firebase/analytics");function V1(j){return Promise.all(j.map(s1=>s1.catch(y1=>y1)))}function O1(j,s1){const y1=document.createElement("script");y1.src=`${a1}?l=${j}&id=${s1}`,y1.async=!0,document.head.appendChild(y1)}function g1(j,s1,y1,D1,Z1,q1){return S1.apply(this,arguments)}function S1(){return(S1=(0,c.Z)(function*(j,s1,y1,D1,Z1,q1){const p2=D1[Z1];try{if(p2)yield s1[p2];else{const pe=(yield V1(y1)).find(se=>se.measurementId===Z1);pe&&(yield s1[pe.appId])}}catch(I2){j1.error(I2)}j("config",Z1,q1)})).apply(this,arguments)}function c2(j,s1,y1,D1,Z1){return t2.apply(this,arguments)}function t2(){return(t2=(0,c.Z)(function*(j,s1,y1,D1,Z1){try{let q1=[];if(Z1&&Z1.send_to){let p2=Z1.send_to;Array.isArray(p2)||(p2=[p2]);const I2=yield V1(y1);for(const pe of p2){const se=I2.find(h4=>h4.measurementId===pe),U3=se&&s1[se.appId];if(!U3){q1=[];break}q1.push(U3)}}0===q1.length&&(q1=Object.values(s1)),yield Promise.all(q1),j("event",D1,Z1||{})}catch(q1){j1.error(q1)}})).apply(this,arguments)}function x1(){const j=window.document.getElementsByTagName("script");for(const s1 of Object.values(j))if(s1.src&&s1.src.includes(a1))return s1;return null}const B1=new f1.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),d1=new class t1{constructor(s1={},y1=1e3){this.throttleMetadata=s1,this.intervalMillis=y1}getThrottleMetadata(s1){return this.throttleMetadata[s1]}setThrottleMetadata(s1,y1){this.throttleMetadata[s1]=y1}deleteThrottleMetadata(s1){delete this.throttleMetadata[s1]}};function c1(j){return new Headers({Accept:"application/json","x-goog-api-key":j})}function I1(j){return u1.apply(this,arguments)}function u1(){return(u1=(0,c.Z)(function*(j){var s1;const{appId:y1,apiKey:D1}=j,Z1={method:"GET",headers:c1(D1)},q1=G.replace("{app-id}",y1),p2=yield fetch(q1,Z1);if(200!==p2.status&&304!==p2.status){let I2="";try{const pe=yield p2.json();(null===(s1=pe.error)||void 0===s1?void 0:s1.message)&&(I2=pe.error.message)}catch(pe){}throw B1.create("config-fetch-failed",{httpStatus:p2.status,responseMessage:I2})}return p2.json()})).apply(this,arguments)}function M2(j){return k2.apply(this,arguments)}function k2(){return(k2=(0,c.Z)(function*(j,s1=d1,y1){const{appId:D1,apiKey:Z1,measurementId:q1}=j.options;if(!D1)throw B1.create("no-app-id");if(!Z1){if(q1)return{measurementId:q1,appId:D1};throw B1.create("no-api-key")}const p2=s1.getThrottleMetadata(D1)||{backoffCount:0,throttleEndTimeMillis:Date.now()},I2=new Ce;return setTimeout((0,c.Z)(function*(){I2.abort()}),void 0!==y1?y1:6e4),xe({appId:D1,apiKey:Z1,measurementId:q1},p2,I2,s1)})).apply(this,arguments)}function xe(j,s1,y1){return o2.apply(this,arguments)}function o2(){return(o2=(0,c.Z)(function*(j,{throttleEndTimeMillis:s1,backoffCount:y1},D1,Z1=d1){const{appId:q1,measurementId:p2}=j;try{yield w2(D1,s1)}catch(I2){if(p2)return j1.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p2} provided in the "measurementId" field in the local Firebase config. [${I2.message}]`),{appId:q1,measurementId:p2};throw I2}try{const I2=yield I1(j);return Z1.deleteThrottleMetadata(q1),I2}catch(I2){if(!Le(I2)){if(Z1.deleteThrottleMetadata(q1),p2)return j1.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p2} provided in the "measurementId" field in the local Firebase config. [${I2.message}]`),{appId:q1,measurementId:p2};throw I2}const pe=503===Number(I2.customData.httpStatus)?(0,f1.$s)(y1,Z1.intervalMillis,30):(0,f1.$s)(y1,Z1.intervalMillis),se={throttleEndTimeMillis:Date.now()+pe,backoffCount:y1+1};return Z1.setThrottleMetadata(q1,se),j1.debug(`Calling attemptFetch again in ${pe} millis`),xe(j,se,D1,Z1)}})).apply(this,arguments)}function w2(j,s1){return new Promise((y1,D1)=>{const Z1=Math.max(s1-Date.now(),0),q1=setTimeout(y1,Z1);j.addEventListener(()=>{clearTimeout(q1),D1(B1.create("fetch-throttle",{throttleEndTimeMillis:s1}))})})}function Le(j){if(!(j instanceof f1.ZR&&j.customData))return!1;const s1=Number(j.customData.httpStatus);return 429===s1||500===s1||503===s1||504===s1}class Ce{constructor(){this.listeners=[]}addEventListener(s1){this.listeners.push(s1)}abort(){this.listeners.forEach(s1=>s1())}}function S3(){return ie.apply(this,arguments)}function ie(){return(ie=(0,c.Z)(function*(){if(!(0,f1.hl)())return j1.warn(B1.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,f1.eu)()}catch(j){return j1.warn(B1.create("indexeddb-unavailable",{errorInfo:j}).message),!1}return!0})).apply(this,arguments)}function O2(){return(O2=(0,c.Z)(function*(j,s1,y1,D1,Z1,q1,p2){var I2;const pe=M2(j);pe.then(Ee=>{y1[Ee.measurementId]=Ee.appId,j.options.measurementId&&Ee.measurementId!==j.options.measurementId&&j1.warn(`The measurement ID in the local Firebase config (${j.options.measurementId}) does not match the measurement ID fetched from the server (${Ee.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ee=>j1.error(Ee)),s1.push(pe);const se=S3().then(Ee=>{if(Ee)return D1.getId()}),[U3,h4]=yield Promise.all([pe,se]);x1()||O1(q1,U3.measurementId),Z1("js",new Date);const _e=null!==(I2=null==p2?void 0:p2.config)&&void 0!==I2?I2:{};return _e.origin="firebase",_e.update=!0,null!=h4&&(_e[m1]=h4),Z1("config",U3.measurementId,_e),U3.measurementId})).apply(this,arguments)}class P2{constructor(s1){this.app=s1}_delete(){return delete Oe[this.app.options.appId],Promise.resolve()}}let Oe={},T4=[];const o3={};let F3,M3,be="dataLayer",_3="gtag",h3=!1;function V2(j){if(h3)throw B1.create("already-initialized");j.dataLayerName&&(be=j.dataLayerName),j.gtagName&&(_3=j.gtagName)}function he(j,s1,y1){!function L3(){const j=[];if((0,f1.ru)()&&j.push("This is a browser extension environment."),(0,f1.zI)()||j.push("Cookies are not available."),j.length>0){const s1=j.map((D1,Z1)=>`(${Z1+1}) ${D1}`).join(" "),y1=B1.create("invalid-analytics-context",{errorInfo:s1});j1.warn(y1.message)}}();const D1=j.options.appId;if(!D1)throw B1.create("no-app-id");if(!j.options.apiKey){if(!j.options.measurementId)throw B1.create("no-api-key");j1.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${j.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Oe[D1])throw B1.create("already-exists",{id:D1});if(!h3){!function G1(j){let s1=[];Array.isArray(window[j])?s1=window[j]:window[j]=s1}(be);const{wrappedGtag:q1,gtagCore:p2}=function H1(j,s1,y1,D1,Z1){let q1=function(...p2){window[D1].push(arguments)};return window[Z1]&&"function"==typeof window[Z1]&&(q1=window[Z1]),window[Z1]=function A1(j,s1,y1,D1){function q1(){return(q1=(0,c.Z)(function*(p2,I2,pe){try{"event"===p2?yield c2(j,s1,y1,I2,pe):"config"===p2?yield g1(j,s1,y1,D1,I2,pe):j("set",I2)}catch(se){j1.error(se)}})).apply(this,arguments)}return function Z1(p2,I2,pe){return q1.apply(this,arguments)}}(q1,j,s1,y1),{gtagCore:q1,wrappedGtag:window[Z1]}}(Oe,T4,o3,be,_3);M3=q1,F3=p2,h3=!0}return Oe[D1]=function H3(j,s1,y1,D1,Z1,q1,p2){return O2.apply(this,arguments)}(j,T4,o3,s1,F3,be,y1),new P2(j)}function K3(){return(K3=(0,c.Z)(function*(j,s1,y1,D1,Z1){if(Z1&&Z1.global)j("event",y1,D1);else{const q1=yield s1;j("event",y1,Object.assign(Object.assign({},D1),{send_to:q1}))}})).apply(this,arguments)}function $e(){return($e=(0,c.Z)(function*(j,s1,y1,D1){if(D1&&D1.global)return j("set",{screen_name:y1}),Promise.resolve();j("config",yield s1,{update:!0,screen_name:y1})})).apply(this,arguments)}function E3(){return(E3=(0,c.Z)(function*(j,s1,y1,D1){if(D1&&D1.global)return j("set",{user_id:y1}),Promise.resolve();j("config",yield s1,{update:!0,user_id:y1})})).apply(this,arguments)}function Z2(){return(Z2=(0,c.Z)(function*(j,s1,y1,D1){if(D1&&D1.global){const Z1={};for(const q1 of Object.keys(y1))Z1[`user_properties.${q1}`]=y1[q1];return j("set",Z1),Promise.resolve()}j("config",yield s1,{update:!0,user_properties:y1})})).apply(this,arguments)}function y2(){return(y2=(0,c.Z)(function*(j,s1){const y1=yield j;window[`ga-disable-${y1}`]=!s1})).apply(this,arguments)}function G2(){return Q3.apply(this,arguments)}function Q3(){return(Q3=(0,c.Z)(function*(){if((0,f1.ru)()||!(0,f1.zI)()||!(0,f1.hl)())return!1;try{return yield(0,f1.eu)()}catch(j){return!1}})).apply(this,arguments)}function Xe(j,s1,y1){j=(0,f1.m9)(j),function x3(j,s1,y1,D1){return $e.apply(this,arguments)}(M3,Oe[j.app.options.appId],s1,y1).catch(D1=>j1.error(D1))}function Ze(j,s1,y1){j=(0,f1.m9)(j),function Fe(j,s1,y1,D1){return E3.apply(this,arguments)}(M3,Oe[j.app.options.appId],s1,y1).catch(D1=>j1.error(D1))}function O(j,s1,y1){j=(0,f1.m9)(j),function c4(j,s1,y1,D1){return Z2.apply(this,arguments)}(M3,Oe[j.app.options.appId],s1,y1).catch(D1=>j1.error(D1))}function Y(j,s1){j=(0,f1.m9)(j),function h2(j,s1){return y2.apply(this,arguments)}(Oe[j.app.options.appId],s1).catch(y1=>j1.error(y1))}function Q(j,s1,y1,D1){j=(0,f1.m9)(j),function De(j,s1,y1,D1,Z1){return K3.apply(this,arguments)}(M3,Oe[j.app.options.appId],s1,y1,D1).catch(Z1=>j1.error(Z1))}const T1="@firebase/analytics",B="0.7.9";!function n1(){(0,e1._registerComponent)(new p1.wA(l1,(s1,{options:y1})=>he(s1.getProvider("app").getImmediate(),s1.getProvider("installations-internal").getImmediate(),y1),"PUBLIC")),(0,e1._registerComponent)(new p1.wA("analytics-internal",function j(s1){try{const y1=s1.getProvider(l1).getImmediate();return{logEvent:(D1,Z1,q1)=>Q(y1,D1,Z1,q1)}}catch(y1){throw B1.create("interop-component-reg-failed",{reason:y1})}},"PRIVATE")),(0,e1.registerVersion)(T1,B),(0,e1.registerVersion)(T1,B,"esm2017")}()},3942:(a2,z1,A)=>{A.d(z1,{Z:()=>O1});var c=A(2090),e1=A(4859),R=A(9681),f1=A(1877);class p1{constructor(g1,S1){this._delegate=g1,this.firebase=S1,(0,R._addComponent)(g1,new e1.wA("app-compat",()=>this,"PUBLIC")),this.container=g1.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(g1){this._delegate.automaticDataCollectionEnabled=g1}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(g1=>{this._delegate.checkDestroyed(),g1()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(g1,S1=R._DEFAULT_ENTRY_NAME){var c2;this._delegate.checkDestroyed();const t2=this._delegate.container.getProvider(g1);return!t2.isInitialized()&&"EXPLICIT"===(null===(c2=t2.getComponent())||void 0===c2?void 0:c2.instantiationMode)&&t2.initialize(),t2.getImmediate({identifier:S1})}_removeServiceInstance(g1,S1=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(g1).clearInstance(S1)}_addComponent(g1){(0,R._addComponent)(this._delegate,g1)}_addOrOverwriteComponent(g1){(0,R._addOrOverwriteComponent)(this._delegate,g1)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l1=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function v1(){const G1=function m1(G1){const g1={},S1={__esModule:!0,initializeApp:function A1(B1,q={}){const U=R.initializeApp(B1,q);if((0,c.r3)(g1,U.name))return g1[U.name];const t1=new G1(U,S1);return g1[U.name]=t1,t1},app:t2,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function x1(B1){const q=B1.name,U=q.replace("-compat","");if(R._registerComponent(B1)&&"PUBLIC"===B1.type){const t1=(d1=t2())=>{if("function"!=typeof d1[U])throw l1.create("invalid-app-argument",{appName:q});return d1[U]()};void 0!==B1.serviceProps&&(0,c.ZB)(t1,B1.serviceProps),S1[U]=t1,G1.prototype[U]=function(...d1){return this._getService.bind(this,q).apply(this,B1.multipleInstances?d1:[])}}return"PUBLIC"===B1.type?S1[U]:null},removeApp:function c2(B1){delete g1[B1]},useAsService:function X1(B1,q){return"serverAuth"===q?null:q},modularAPIs:R}};function t2(B1){if(!(0,c.r3)(g1,B1=B1||R._DEFAULT_ENTRY_NAME))throw l1.create("no-app",{appName:B1});return g1[B1]}return S1.default=S1,Object.defineProperty(S1,"apps",{get:function H1(){return Object.keys(g1).map(B1=>g1[B1])}}),t2.App=G1,S1}(p1);return G1.INTERNAL=Object.assign(Object.assign({},G1.INTERNAL),{createFirebaseNamespace:v1,extendNamespace:function g1(S1){(0,c.ZB)(G1,S1)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),G1}(),G=new f1.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const G1=self.firebase.SDK_VERSION;G1&&G1.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const O1=W;!function V1(G1){(0,R.registerVersion)("@firebase/app-compat","0.1.25",G1)}()},9681:(a2,z1,A)=>{A.r(z1),A.d(z1,{FirebaseError:()=>f1.ZR,SDK_VERSION:()=>_3,_DEFAULT_ENTRY_NAME:()=>o2,_addComponent:()=>S3,_addOrOverwriteComponent:()=>ie,_apps:()=>Le,_clearComponents:()=>Oe,_components:()=>Ce,_getProvider:()=>O2,_registerComponent:()=>H3,_removeServiceInstance:()=>P2,deleteApp:()=>V2,getApp:()=>M3,getApps:()=>h3,initializeApp:()=>F3,onLog:()=>De,registerVersion:()=>he,setLogLevel:()=>K3});var c=A(5861),e1=A(4859),R=A(1877),f1=A(2090),p1=A(8766);class b1{constructor(n1){this.container=n1}getPlatformInfoString(){return this.container.getProviders().map(j=>{if(function l1(B){const n1=B.getComponent();return"VERSION"===(null==n1?void 0:n1.type)}(j)){const s1=j.getImmediate();return`${s1.library}/${s1.version}`}return null}).filter(j=>j).join(" ")}}const m1="@firebase/app",W=new R.Yd("@firebase/app"),o2="[DEFAULT]",w2={[m1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Le=new Map,Ce=new Map;function S3(B,n1){try{B.container.addComponent(n1)}catch(j){W.debug(`Component ${n1.name} failed to register with FirebaseApp ${B.name}`,j)}}function ie(B,n1){B.container.addOrOverwriteComponent(n1)}function H3(B){const n1=B.name;if(Ce.has(n1))return W.debug(`There were multiple attempts to register component ${n1}.`),!1;Ce.set(n1,B);for(const j of Le.values())S3(j,B);return!0}function O2(B,n1){const j=B.container.getProvider("heartbeat").getImmediate({optional:!0});return j&&j.triggerHeartbeat(),B.container.getProvider(n1)}function P2(B,n1,j=o2){O2(B,n1).clearInstance(j)}function Oe(){Ce.clear()}const o3=new f1.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class be{constructor(n1,j,s1){this._isDeleted=!1,this._options=Object.assign({},n1),this._config=Object.assign({},j),this._name=j.name,this._automaticDataCollectionEnabled=j.automaticDataCollectionEnabled,this._container=s1,this.container.addComponent(new e1.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n1){this.checkDestroyed(),this._automaticDataCollectionEnabled=n1}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n1){this._isDeleted=n1}checkDestroyed(){if(this.isDeleted)throw o3.create("app-deleted",{appName:this._name})}}const _3="9.8.1";function F3(B,n1={}){"object"!=typeof n1&&(n1={name:n1});const j=Object.assign({name:o2,automaticDataCollectionEnabled:!1},n1),s1=j.name;if("string"!=typeof s1||!s1)throw o3.create("bad-app-name",{appName:String(s1)});const y1=Le.get(s1);if(y1){if((0,f1.vZ)(B,y1.options)&&(0,f1.vZ)(j,y1.config))return y1;throw o3.create("duplicate-app",{appName:s1})}const D1=new e1.H0(s1);for(const q1 of Ce.values())D1.addComponent(q1);const Z1=new be(B,j,D1);return Le.set(s1,Z1),Z1}function M3(B=o2){const n1=Le.get(B);if(!n1)throw o3.create("no-app",{appName:B});return n1}function h3(){return Array.from(Le.values())}function V2(B){return L3.apply(this,arguments)}function L3(){return(L3=(0,c.Z)(function*(B){const n1=B.name;Le.has(n1)&&(Le.delete(n1),yield Promise.all(B.container.getProviders().map(j=>j.delete())),B.isDeleted=!0)})).apply(this,arguments)}function he(B,n1,j){var s1;let y1=null!==(s1=w2[B])&&void 0!==s1?s1:B;j&&(y1+=`-${j}`);const D1=y1.match(/\s|\//),Z1=n1.match(/\s|\//);if(D1||Z1){const q1=[`Unable to register library "${y1}" with version "${n1}":`];return D1&&q1.push(`library name "${y1}" contains illegal characters (whitespace or "/")`),D1&&Z1&&q1.push("and"),Z1&&q1.push(`version name "${n1}" contains illegal characters (whitespace or "/")`),void W.warn(q1.join(" "))}H3(new e1.wA(`${y1}-version`,()=>({library:y1,version:n1}),"VERSION"))}function De(B,n1){if(null!==B&&"function"!=typeof B)throw o3.create("invalid-log-argument");(0,R.Am)(B,n1)}function K3(B){(0,R.Ub)(B)}const Fe="firebase-heartbeat-store";let E3=null;function c4(){return E3||(E3=(0,p1.X3)("firebase-heartbeat-database",1,{upgrade:(B,n1)=>{0===n1&&B.createObjectStore(Fe)}}).catch(B=>{throw o3.create("storage-open",{originalErrorMessage:B.message})})),E3}function h2(){return(h2=(0,c.Z)(function*(B){try{return(yield c4()).transaction(Fe).objectStore(Fe).get(Y3(B))}catch(n1){throw o3.create("storage-get",{originalErrorMessage:n1.message})}})).apply(this,arguments)}function y2(B,n1){return ye.apply(this,arguments)}function ye(){return(ye=(0,c.Z)(function*(B,n1){try{const s1=(yield c4()).transaction(Fe,"readwrite");return yield s1.objectStore(Fe).put(n1,Y3(B)),s1.done}catch(j){throw o3.create("storage-set",{originalErrorMessage:j.message})}})).apply(this,arguments)}function Y3(B){return`${B.name}!${B.options.appId}`}class Xe{constructor(n1){this.container=n1,this._heartbeatsCache=null;const j=this.container.getProvider("app").getImmediate();this._storage=new Y(j),this._heartbeatsCachePromise=this._storage.read().then(s1=>(this._heartbeatsCache=s1,s1))}triggerHeartbeat(){var n1=this;return(0,c.Z)(function*(){const s1=n1.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),y1=Ze();if(null===n1._heartbeatsCache&&(n1._heartbeatsCache=yield n1._heartbeatsCachePromise),n1._heartbeatsCache.lastSentHeartbeatDate!==y1&&!n1._heartbeatsCache.heartbeats.some(D1=>D1.date===y1))return n1._heartbeatsCache.heartbeats.push({date:y1,agent:s1}),n1._heartbeatsCache.heartbeats=n1._heartbeatsCache.heartbeats.filter(D1=>{const Z1=new Date(D1.date).valueOf();return Date.now()-Z1<=2592e6}),n1._storage.overwrite(n1._heartbeatsCache)})()}getHeartbeatsHeader(){var n1=this;return(0,c.Z)(function*(){if(null===n1._heartbeatsCache&&(yield n1._heartbeatsCachePromise),null===n1._heartbeatsCache||0===n1._heartbeatsCache.heartbeats.length)return"";const j=Ze(),{heartbeatsToSend:s1,unsentEntries:y1}=function O(B,n1=1024){const j=[];let s1=B.slice();for(const y1 of B){const D1=j.find(Z1=>Z1.agent===y1.agent);if(D1){if(D1.dates.push(y1.date),Q(j)>n1){D1.dates.pop();break}}else if(j.push({agent:y1.agent,dates:[y1.date]}),Q(j)>n1){j.pop();break}s1=s1.slice(1)}return{heartbeatsToSend:j,unsentEntries:s1}}(n1._heartbeatsCache.heartbeats),D1=(0,f1.L)(JSON.stringify({version:2,heartbeats:s1}));return n1._heartbeatsCache.lastSentHeartbeatDate=j,y1.length>0?(n1._heartbeatsCache.heartbeats=y1,yield n1._storage.overwrite(n1._heartbeatsCache)):(n1._heartbeatsCache.heartbeats=[],n1._storage.overwrite(n1._heartbeatsCache)),D1})()}}function Ze(){return(new Date).toISOString().substring(0,10)}class Y{constructor(n1){this.app=n1,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,f1.hl)()&&(0,f1.eu)().then(()=>!0).catch(()=>!1)})()}read(){var n1=this;return(0,c.Z)(function*(){return(yield n1._canUseIndexedDBPromise)&&(yield function Z2(B){return h2.apply(this,arguments)}(n1.app))||{heartbeats:[]}})()}overwrite(n1){var j=this;return(0,c.Z)(function*(){var s1;if(yield j._canUseIndexedDBPromise){const D1=yield j.read();return y2(j.app,{lastSentHeartbeatDate:null!==(s1=n1.lastSentHeartbeatDate)&&void 0!==s1?s1:D1.lastSentHeartbeatDate,heartbeats:n1.heartbeats})}})()}add(n1){var j=this;return(0,c.Z)(function*(){var s1;if(yield j._canUseIndexedDBPromise){const D1=yield j.read();return y2(j.app,{lastSentHeartbeatDate:null!==(s1=n1.lastSentHeartbeatDate)&&void 0!==s1?s1:D1.lastSentHeartbeatDate,heartbeats:[...D1.heartbeats,...n1.heartbeats]})}})()}}function Q(B){return(0,f1.L)(JSON.stringify({version:2,heartbeats:B})).length}!function T1(B){H3(new e1.wA("platform-logger",n1=>new b1(n1),"PRIVATE")),H3(new e1.wA("heartbeat",n1=>new Xe(n1),"PRIVATE")),he(m1,"0.7.24",B),he(m1,"0.7.24","esm2017"),he("fire-js","")}("")},4859:(a2,z1,A)=>{A.d(z1,{H0:()=>m1,wA:()=>R,zt:()=>p1});var c=A(5861),e1=A(2090);class R{constructor(W,G,a1){this.name=W,this.instanceFactory=G,this.type=a1,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const f1="[DEFAULT]";class p1{constructor(W,G){this.name=W,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const G=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(G)){const a1=new e1.BH;if(this.instancesDeferred.set(G,a1),this.isInitialized(G)||this.shouldAutoInitialize())try{const j1=this.getOrInitializeService({instanceIdentifier:G});j1&&a1.resolve(j1)}catch(j1){}}return this.instancesDeferred.get(G).promise}getImmediate(W){var G;const a1=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),j1=null!==(G=null==W?void 0:W.optional)&&void 0!==G&&G;if(!this.isInitialized(a1)&&!this.shouldAutoInitialize()){if(j1)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:a1})}catch(V1){if(j1)return null;throw V1}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function l1(v1){return"EAGER"===v1.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:f1})}catch(G){}for(const[G,a1]of this.instancesDeferred.entries()){const j1=this.normalizeInstanceIdentifier(G);try{const V1=this.getOrInitializeService({instanceIdentifier:j1});a1.resolve(V1)}catch(V1){}}}}clearInstance(W=f1){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,c.Z)(function*(){const G=Array.from(W.instances.values());yield Promise.all([...G.filter(a1=>"INTERNAL"in a1).map(a1=>a1.INTERNAL.delete()),...G.filter(a1=>"_delete"in a1).map(a1=>a1._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=f1){return this.instances.has(W)}getOptions(W=f1){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:G={}}=W,a1=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(a1))throw Error(`${this.name}(${a1}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const j1=this.getOrInitializeService({instanceIdentifier:a1,options:G});for(const[V1,O1]of this.instancesDeferred.entries())a1===this.normalizeInstanceIdentifier(V1)&&O1.resolve(j1);return j1}onInit(W,G){var a1;const j1=this.normalizeInstanceIdentifier(G),V1=null!==(a1=this.onInitCallbacks.get(j1))&&void 0!==a1?a1:new Set;V1.add(W),this.onInitCallbacks.set(j1,V1);const O1=this.instances.get(j1);return O1&&W(O1,j1),()=>{V1.delete(W)}}invokeOnInitCallbacks(W,G){const a1=this.onInitCallbacks.get(G);if(a1)for(const j1 of a1)try{j1(W,G)}catch(V1){}}getOrInitializeService({instanceIdentifier:W,options:G={}}){let a1=this.instances.get(W);if(!a1&&this.component&&(a1=this.component.instanceFactory(this.container,{instanceIdentifier:(v1=W,v1===f1?void 0:v1),options:G}),this.instances.set(W,a1),this.instancesOptions.set(W,G),this.invokeOnInitCallbacks(a1,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,a1)}catch(j1){}var v1;return a1||null}normalizeInstanceIdentifier(W=f1){return this.component?this.component.multipleInstances?W:f1:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m1{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const G=this.getProvider(W.name);if(G.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);G.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const G=new p1(W,this);return this.providers.set(W,G),G}getProviders(){return Array.from(this.providers.values())}}},2833:(a2,z1,A)=>{var c=A(5861),e1=A(9681),R=A(4859),f1=A(2090),p1=A(8766);const b1="@firebase/installations",v1="w:0.5.9",W="FIS_v2",G1=new f1.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function g1(F){return F instanceof f1.ZR&&F.code.includes("request-failed")}function S1({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function c2(F){return{token:F.token,requestStatus:2,expiresIn:q(F.expiresIn),creationTime:Date.now()}}function t2(F,h1){return A1.apply(this,arguments)}function A1(){return(A1=(0,c.Z)(function*(F,h1){const d2=(yield h1.json()).error;return G1.create("request-failed",{requestName:F,serverCode:d2.code,serverMessage:d2.message,serverStatus:d2.status})})).apply(this,arguments)}function H1({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function x1(F,{refreshToken:h1}){const P1=H1(F);return P1.append("Authorization",function U(F){return`${W} ${F}`}(h1)),P1}function X1(F){return B1.apply(this,arguments)}function B1(){return(B1=(0,c.Z)(function*(F){const h1=yield F();return h1.status>=500&&h1.status<600?F():h1})).apply(this,arguments)}function q(F){return Number(F.replace("s","000"))}function t1(F,h1){return d1.apply(this,arguments)}function d1(){return(d1=(0,c.Z)(function*({appConfig:F,heartbeatServiceProvider:h1},{fid:P1}){const d2=S1(F),W2=H1(F),Y2=h1.getImmediate({optional:!0});if(Y2){const S2=yield Y2.getHeartbeatsHeader();S2&&W2.append("x-firebase-client",S2)}const ze={method:"POST",headers:W2,body:JSON.stringify({fid:P1,authVersion:W,appId:F.appId,sdkVersion:v1})},j3=yield X1(()=>fetch(d2,ze));if(j3.ok){const S2=yield j3.json();return{fid:S2.fid||P1,registrationStatus:2,refreshToken:S2.refreshToken,authToken:c2(S2.authToken)}}throw yield t2("Create Installation",j3)})).apply(this,arguments)}function c1(F){return new Promise(h1=>{setTimeout(h1,F)})}const u1=/^[cdef][\w-]{21}$/;function k2(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const P1=function xe(F){return function I1(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return u1.test(P1)?P1:""}catch(F){return""}}function o2(F){return`${F.appName}!${F.appId}`}const w2=new Map;function Le(F,h1){const P1=o2(F);ie(P1,h1),function H3(F,h1){const P1=function P2(){return!O2&&"BroadcastChannel"in self&&(O2=new BroadcastChannel("[Firebase] FID Change"),O2.onmessage=F=>{ie(F.data.key,F.data.fid)}),O2}();P1&&P1.postMessage({key:F,fid:h1}),function Oe(){0===w2.size&&O2&&(O2.close(),O2=null)}()}(P1,h1)}function ie(F,h1){const P1=w2.get(F);if(P1)for(const d2 of P1)d2(h1)}let O2=null;const be="firebase-installations-store";let _3=null;function F3(){return _3||(_3=(0,p1.X3)("firebase-installations-database",1,{upgrade:(F,h1)=>{0===h1&&F.createObjectStore(be)}})),_3}function M3(F,h1){return h3.apply(this,arguments)}function h3(){return(h3=(0,c.Z)(function*(F,h1){const P1=o2(F),W2=(yield F3()).transaction(be,"readwrite"),Y2=W2.objectStore(be),Q2=yield Y2.get(P1);return yield Y2.put(h1,P1),yield W2.done,(!Q2||Q2.fid!==h1.fid)&&Le(F,h1.fid),h1})).apply(this,arguments)}function V2(F){return L3.apply(this,arguments)}function L3(){return(L3=(0,c.Z)(function*(F){const h1=o2(F),d2=(yield F3()).transaction(be,"readwrite");yield d2.objectStore(be).delete(h1),yield d2.done})).apply(this,arguments)}function he(F,h1){return De.apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(F,h1){const P1=o2(F),W2=(yield F3()).transaction(be,"readwrite"),Y2=W2.objectStore(be),Q2=yield Y2.get(P1),ze=h1(Q2);return void 0===ze?yield Y2.delete(P1):yield Y2.put(ze,P1),yield W2.done,ze&&(!Q2||Q2.fid!==ze.fid)&&Le(F,ze.fid),ze})).apply(this,arguments)}function K3(F){return x3.apply(this,arguments)}function x3(){return(x3=(0,c.Z)(function*(F){let h1;const P1=yield he(F.appConfig,d2=>{const W2=$e(d2),Y2=Fe(F,W2);return h1=Y2.registrationPromise,Y2.installationEntry});return""===P1.fid?{installationEntry:yield h1}:{installationEntry:P1,registrationPromise:h1}})).apply(this,arguments)}function $e(F){return ye(F||{fid:k2(),registrationStatus:0})}function Fe(F,h1){if(0===h1.registrationStatus){if(!navigator.onLine)return{installationEntry:h1,registrationPromise:Promise.reject(G1.create("app-offline"))};const P1={fid:h1.fid,registrationStatus:1,registrationTime:Date.now()},d2=function E3(F,h1){return c4.apply(this,arguments)}(F,P1);return{installationEntry:P1,registrationPromise:d2}}return 1===h1.registrationStatus?{installationEntry:h1,registrationPromise:Z2(F)}:{installationEntry:h1}}function c4(){return(c4=(0,c.Z)(function*(F,h1){try{const P1=yield t1(F,h1);return M3(F.appConfig,P1)}catch(P1){throw g1(P1)&&409===P1.customData.serverCode?yield V2(F.appConfig):yield M3(F.appConfig,{fid:h1.fid,registrationStatus:0}),P1}})).apply(this,arguments)}function Z2(F){return h2.apply(this,arguments)}function h2(){return(h2=(0,c.Z)(function*(F){let h1=yield y2(F.appConfig);for(;1===h1.registrationStatus;)yield c1(100),h1=yield y2(F.appConfig);if(0===h1.registrationStatus){const{installationEntry:P1,registrationPromise:d2}=yield K3(F);return d2||P1}return h1})).apply(this,arguments)}function y2(F){return he(F,h1=>{if(!h1)throw G1.create("installation-not-found");return ye(h1)})}function ye(F){return function Y3(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function G2(F,h1){return Q3.apply(this,arguments)}function Q3(){return(Q3=(0,c.Z)(function*({appConfig:F,heartbeatServiceProvider:h1},P1){const d2=Xe(F,P1),W2=x1(F,P1),Y2=h1.getImmediate({optional:!0});if(Y2){const S2=yield Y2.getHeartbeatsHeader();S2&&W2.append("x-firebase-client",S2)}const ze={method:"POST",headers:W2,body:JSON.stringify({installation:{sdkVersion:v1,appId:F.appId}})},j3=yield X1(()=>fetch(d2,ze));if(j3.ok)return c2(yield j3.json());throw yield t2("Generate Auth Token",j3)})).apply(this,arguments)}function Xe(F,{fid:h1}){return`${S1(F)}/${h1}/authTokens:generate`}function Ze(F){return O.apply(this,arguments)}function O(){return(O=(0,c.Z)(function*(F,h1=!1){let P1;const d2=yield he(F.appConfig,Y2=>{if(!j(Y2))throw G1.create("not-registered");const Q2=Y2.authToken;if(!h1&&s1(Q2))return Y2;if(1===Q2.requestStatus)return P1=Y(F,h1),Y2;{if(!navigator.onLine)throw G1.create("app-offline");const ze=D1(Y2);return P1=B(F,ze),ze}});return P1?yield P1:d2.authToken})).apply(this,arguments)}function Y(F,h1){return Q.apply(this,arguments)}function Q(){return(Q=(0,c.Z)(function*(F,h1){let P1=yield T1(F.appConfig);for(;1===P1.authToken.requestStatus;)yield c1(100),P1=yield T1(F.appConfig);const d2=P1.authToken;return 0===d2.requestStatus?Ze(F,h1):d2})).apply(this,arguments)}function T1(F){return he(F,h1=>{if(!j(h1))throw G1.create("not-registered");return function Z1(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(h1.authToken)?Object.assign(Object.assign({},h1),{authToken:{requestStatus:0}}):h1})}function B(F,h1){return n1.apply(this,arguments)}function n1(){return(n1=(0,c.Z)(function*(F,h1){try{const P1=yield G2(F,h1),d2=Object.assign(Object.assign({},h1),{authToken:P1});return yield M3(F.appConfig,d2),P1}catch(P1){if(!g1(P1)||401!==P1.customData.serverCode&&404!==P1.customData.serverCode){const d2=Object.assign(Object.assign({},h1),{authToken:{requestStatus:0}});yield M3(F.appConfig,d2)}else yield V2(F.appConfig);throw P1}})).apply(this,arguments)}function j(F){return void 0!==F&&2===F.registrationStatus}function s1(F){return 2===F.requestStatus&&!function y1(F){const h1=Date.now();return h1<F.creationTime||F.creationTime+F.expiresIn<h1+36e5}(F)}function D1(F){const h1={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:h1})}function p2(){return(p2=(0,c.Z)(function*(F){const h1=F,{installationEntry:P1,registrationPromise:d2}=yield K3(h1);return d2?d2.catch(console.error):Ze(h1).catch(console.error),P1.fid})).apply(this,arguments)}function pe(){return(pe=(0,c.Z)(function*(F,h1=!1){const P1=F;return yield se(P1),(yield Ze(P1,h1)).token})).apply(this,arguments)}function se(F){return U3.apply(this,arguments)}function U3(){return(U3=(0,c.Z)(function*(F){const{registrationPromise:h1}=yield K3(F);h1&&(yield h1)})).apply(this,arguments)}function I4(F){return G1.create("missing-app-config-values",{valueName:F})}const d4="installations",Pt=F=>{const h1=F.getProvider("app").getImmediate(),P1=function lt(F){if(!F||!F.options)throw I4("App Configuration");if(!F.name)throw I4("App Name");const h1=["projectId","apiKey","appId"];for(const P1 of h1)if(!F.options[P1])throw I4(P1);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(h1);return{app:h1,appConfig:P1,heartbeatServiceProvider:(0,e1._getProvider)(h1,"heartbeat"),_delete:()=>Promise.resolve()}},B3=F=>{const h1=F.getProvider("app").getImmediate(),P1=(0,e1._getProvider)(h1,d4).getImmediate();return{getId:()=>function q1(F){return p2.apply(this,arguments)}(P1),getToken:W2=>function I2(F){return pe.apply(this,arguments)}(P1,W2)}};(function n2(){(0,e1._registerComponent)(new R.wA(d4,Pt,"PUBLIC")),(0,e1._registerComponent)(new R.wA("installations-internal",B3,"PRIVATE"))})(),(0,e1.registerVersion)(b1,"0.5.9"),(0,e1.registerVersion)(b1,"0.5.9","esm2017")},1877:(a2,z1,A)=>{A.d(z1,{Am:()=>v1,Ub:()=>m1,Yd:()=>l1,in:()=>e1});const c=[];var e1=(()=>{return(W=e1||(e1={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",e1;var W})();const R={debug:e1.DEBUG,verbose:e1.VERBOSE,info:e1.INFO,warn:e1.WARN,error:e1.ERROR,silent:e1.SILENT},f1=e1.INFO,p1={[e1.DEBUG]:"log",[e1.VERBOSE]:"log",[e1.INFO]:"info",[e1.WARN]:"warn",[e1.ERROR]:"error"},b1=(W,G,...a1)=>{if(G<W.logLevel)return;const j1=(new Date).toISOString(),V1=p1[G];if(!V1)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[V1](`[${j1}]  ${W.name}:`,...a1)};class l1{constructor(G){this.name=G,this._logLevel=f1,this._logHandler=b1,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in e1))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?R[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,e1.DEBUG,...G),this._logHandler(this,e1.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,e1.VERBOSE,...G),this._logHandler(this,e1.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,e1.INFO,...G),this._logHandler(this,e1.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,e1.WARN,...G),this._logHandler(this,e1.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,e1.ERROR,...G),this._logHandler(this,e1.ERROR,...G)}}function m1(W){c.forEach(G=>{G.setLogLevel(W)})}function v1(W,G){for(const a1 of c){let j1=null;G&&G.level&&(j1=R[G.level]),a1.userLogHandler=null===W?null:(V1,O1,...G1)=>{const g1=G1.map(S1=>{if(null==S1)return null;if("string"==typeof S1)return S1;if("number"==typeof S1||"boolean"==typeof S1)return S1.toString();if(S1 instanceof Error)return S1.message;try{return JSON.stringify(S1)}catch(c2){return null}}).filter(S1=>S1).join(" ");O1>=(null!=j1?j1:V1.logLevel)&&W({level:e1[O1].toLowerCase(),message:g1,args:G1,type:V1.name})}}}},8766:(a2,z1,A)=>{A.d(z1,{Lj:()=>A1,X3:()=>t2});var c=A(5861);let R,f1;const l1=new WeakMap,m1=new WeakMap,v1=new WeakMap,W=new WeakMap,G=new WeakMap;let V1={get(q,U,t1){if(q instanceof IDBTransaction){if("done"===U)return m1.get(q);if("objectStoreNames"===U)return q.objectStoreNames||v1.get(q);if("store"===U)return t1.objectStoreNames[1]?void 0:t1.objectStore(t1.objectStoreNames[0])}return S1(q[U])},set:(q,U,t1)=>(q[U]=t1,!0),has:(q,U)=>q instanceof IDBTransaction&&("done"===U||"store"===U)||U in q};function g1(q){return"function"==typeof q?function G1(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function b1(){return f1||(f1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...U){return q.apply(c2(this),U),S1(l1.get(this))}:function(...U){return S1(q.apply(c2(this),U))}:function(U,...t1){const d1=q.call(c2(this),U,...t1);return v1.set(d1,U.sort?U.sort():[U]),S1(d1)}}(q):(q instanceof IDBTransaction&&function j1(q){if(m1.has(q))return;const U=new Promise((t1,d1)=>{const c1=()=>{q.removeEventListener("complete",I1),q.removeEventListener("error",u1),q.removeEventListener("abort",u1)},I1=()=>{t1(),c1()},u1=()=>{d1(q.error||new DOMException("AbortError","AbortError")),c1()};q.addEventListener("complete",I1),q.addEventListener("error",u1),q.addEventListener("abort",u1)});m1.set(q,U)}(q),((q,U)=>U.some(t1=>q instanceof t1))(q,function p1(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,V1):q)}function S1(q){if(q instanceof IDBRequest)return function a1(q){const U=new Promise((t1,d1)=>{const c1=()=>{q.removeEventListener("success",I1),q.removeEventListener("error",u1)},I1=()=>{t1(S1(q.result)),c1()},u1=()=>{d1(q.error),c1()};q.addEventListener("success",I1),q.addEventListener("error",u1)});return U.then(t1=>{t1 instanceof IDBCursor&&l1.set(t1,q)}).catch(()=>{}),G.set(U,q),U}(q);if(W.has(q))return W.get(q);const U=g1(q);return U!==q&&(W.set(q,U),G.set(U,q)),U}const c2=q=>G.get(q);function t2(q,U,{blocked:t1,upgrade:d1,blocking:c1,terminated:I1}={}){const u1=indexedDB.open(q,U),M2=S1(u1);return d1&&u1.addEventListener("upgradeneeded",k2=>{d1(S1(u1.result),k2.oldVersion,k2.newVersion,S1(u1.transaction))}),t1&&u1.addEventListener("blocked",()=>t1()),M2.then(k2=>{I1&&k2.addEventListener("close",()=>I1()),c1&&k2.addEventListener("versionchange",()=>c1())}).catch(()=>{}),M2}function A1(q,{blocked:U}={}){const t1=indexedDB.deleteDatabase(q);return U&&t1.addEventListener("blocked",()=>U()),S1(t1).then(()=>{})}const H1=["get","getKey","getAll","getAllKeys","count"],x1=["put","add","delete","clear"],X1=new Map;function B1(q,U){if(!(q instanceof IDBDatabase)||U in q||"string"!=typeof U)return;if(X1.get(U))return X1.get(U);const t1=U.replace(/FromIndex$/,""),d1=U!==t1,c1=x1.includes(t1);if(!(t1 in(d1?IDBIndex:IDBObjectStore).prototype)||!c1&&!H1.includes(t1))return;const I1=function(){var u1=(0,c.Z)(function*(M2,...k2){const xe=this.transaction(M2,c1?"readwrite":"readonly");let o2=xe.store;return d1&&(o2=o2.index(k2.shift())),(yield Promise.all([o2[t1](...k2),c1&&xe.done]))[0]});return function(k2){return u1.apply(this,arguments)}}();return X1.set(U,I1),I1}!function O1(q){V1=q(V1)}(q=>UQ(FQ({},q),{get:(U,t1,d1)=>B1(U,t1)||q.get(U,t1,d1),has:(U,t1)=>!!B1(U,t1)||q.has(U,t1)}))},5861:(a2,z1,A)=>{function c(R,f1,p1,b1,l1,m1,v1){try{var W=R[m1](v1),G=W.value}catch(a1){return void p1(a1)}W.done?f1(G):Promise.resolve(G).then(b1,l1)}function e1(R){return function(){var f1=this,p1=arguments;return new Promise(function(b1,l1){var m1=R.apply(f1,p1);function v1(G){c(m1,b1,l1,v1,W,"next",G)}function W(G){c(m1,b1,l1,v1,W,"throw",G)}v1(void 0)})}}A.d(z1,{Z:()=>e1})}},a2=>{a2(a2.s=113)}]);
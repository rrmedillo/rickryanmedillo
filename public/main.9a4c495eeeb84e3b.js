"use strict";var _N1=Object.defineProperty,MN1=Object.defineProperties,LN1=Object.getOwnPropertyDescriptors,TQ=Object.getOwnPropertySymbols,bN1=Object.prototype.hasOwnProperty,zN1=Object.prototype.propertyIsEnumerable,AQ=(c2,z1,A)=>z1 in c2?_N1(c2,z1,{enumerable:!0,configurable:!0,writable:!0,value:A}):c2[z1]=A,IQ=(c2,z1)=>{for(var A in z1||(z1={}))bN1.call(z1,A)&&AQ(c2,A,z1[A]);if(TQ)for(var A of TQ(z1))zN1.call(z1,A)&&AQ(c2,A,z1[A]);return c2},NQ=(c2,z1)=>MN1(c2,LN1(z1));(self.webpackChunkangular_quickstart=self.webpackChunkangular_quickstart||[]).push([[179],{2011:(c2,z1,A)=>{A.d(z1,{Dh:()=>p1,GT:()=>b1,Ot:()=>l1,cc:()=>V1,hO:()=>j1,on:()=>W,pX:()=>g1,xv:()=>v1});var u=A(5e3),t1=A(127),R=A(880);c2=A.hmd(c2);const h1=["ngOnDestroy"],g1=(S1,o2,t2,A1={})=>new Proxy(S1,{get:(H1,E1)=>t2.runOutsideAngular(()=>{var X1;if(S1[E1])return(null===(X1=null==A1?void 0:A1.spy)||void 0===X1?void 0:X1.get)&&A1.spy.get(E1,S1[E1]),S1[E1];if(h1.indexOf(E1)>-1)return()=>{};const B1=o2.toPromise().then(q=>{const U=q&&q[E1];return"function"==typeof U?U.bind(q):U&&U.then?U.then(e1=>t2.run(()=>e1)):t2.run(()=>U)});return new Proxy(()=>{},{get:(q,U)=>B1[U],apply:(q,U,e1)=>B1.then(d1=>{var c1;const I1=d1&&d1(...e1);return(null===(c1=null==A1?void 0:A1.spy)||void 0===c1?void 0:c1.apply)&&A1.spy.apply(E1,e1,I1),I1})})})}),b1=(S1,o2)=>{o2.forEach(t2=>{Object.getOwnPropertyNames(t2.prototype||t2).forEach(A1=>{Object.defineProperty(S1.prototype,A1,Object.getOwnPropertyDescriptor(t2.prototype||t2,A1))})})};class l1{constructor(o2){return o2}}const p1=new u.OlP("angularfire2.app.options"),v1=new u.OlP("angularfire2.app.name");function W(S1,o2,t2){const H1="object"==typeof t2&&t2||{};H1.name=H1.name||"string"==typeof t2&&t2||"[DEFAULT]";const X1=t1.Z.apps.filter(B1=>B1&&B1.name===H1.name)[0]||o2.runOutsideAngular(()=>t1.Z.initializeApp(S1,H1));try{JSON.stringify(S1)!==JSON.stringify(X1.options)&&G("error",`${X1.name} Firebase App already initialized with different options${c2.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(B1){}return new l1(X1)}const G=(S1,...o2)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[S1](...o2)},a1={provide:l1,useFactory:W,deps:[p1,u.R0b,[new u.FiY,v1]]};let j1=(()=>{class S1{constructor(t2){t1.Z.registerVersion("angularfire",R.q4.full,"core"),t1.Z.registerVersion("angularfire",R.q4.full,"app-compat"),t1.Z.registerVersion("angular",u.q4F.full,t2.toString())}static initializeApp(t2,A1){return{ngModule:S1,providers:[{provide:p1,useValue:t2},{provide:v1,useValue:A1}]}}}return S1.\u0275fac=function(t2){return new(t2||S1)(u.LFG(u.Lbi))},S1.\u0275mod=u.oAB({type:S1}),S1.\u0275inj=u.cJS({providers:[a1]}),S1})();function V1(S1,o2,t2,A1,H1){const[,E1,X1]=globalThis.\u0275AngularfireInstanceCache.find(B1=>B1[0]===S1)||[];if(E1)return function O1(S1,o2){try{return S1.toString()===o2.toString()}catch(t2){return S1===o2}}(H1,X1)||(m1("error",`${o2} was already initialized on the ${t2} Firebase App with different settings.${G1?" You may need to reload as Firebase is not HMR aware.":""}`),m1("warn",{is:H1,was:X1})),E1;{const B1=A1();return globalThis.\u0275AngularfireInstanceCache.push([S1,B1,H1]),B1}}const G1=!!c2.hot,m1=(S1,...o2)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[S1](...o2)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(c2,z1,A)=>{A.d(z1,{q4:()=>ei,iC:()=>r6,fc:()=>i8,HU:()=>Te,vb:()=>N6,JM:()=>r8,nk:()=>_a});var u=A(5e3),t1=A(5867),R=A(5861),h1=A(9681),g1=A(2090),b1=A(4859),l1=A(1877);A(2833);const v1="@firebase/remote-config",W="0.3.8",V1=new g1.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class k2{constructor(N,J,C1,W1){this.client=N,this.storage=J,this.storageCache=C1,this.logger=W1}isCachedDataFresh(N,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const C1=Date.now()-J,W1=C1<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${C1}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${W1}.`),W1}fetch(N){var J=this;return(0,R.Z)(function*(){const[C1,W1]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(W1&&J.isCachedDataFresh(N.cacheMaxAgeMillis,C1))return W1;N.eTag=W1&&W1.eTag;const e2=yield J.client.fetch(N),T2=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===e2.status&&T2.push(J.storage.setLastSuccessfulFetchResponse(e2)),yield Promise.all(T2),e2})()}}function Ee(k=navigator){return k.languages&&k.languages[0]||k.language}class a2{constructor(N,J,C1,W1,e2,T2){this.firebaseInstallations=N,this.sdkVersion=J,this.namespace=C1,this.projectId=W1,this.apiKey=e2,this.appId=T2}fetch(N){var J=this;return(0,R.Z)(function*(){const[C1,W1]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),T2=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,Fe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},f2={sdk_version:J.sdkVersion,app_instance_id:C1,app_instance_id_token:W1,app_id:J.appId,language_code:Ee()},Ae={method:"POST",headers:Fe,body:JSON.stringify(f2)},Ve=fetch(T2,Ae),j2=new Promise((U2,s6)=>{N.signal.addEventListener(()=>{const Ie=new Error("The operation was aborted.");Ie.name="AbortError",s6(Ie)})});let i6;try{yield Promise.race([Ve,j2]),i6=yield Ve}catch(U2){let s6="fetch-client-network";throw"AbortError"===U2.name&&(s6="fetch-timeout"),V1.create(s6,{originalErrorMessage:U2.message})}let N4=i6.status;const n5=i6.headers.get("ETag")||void 0;let gn,N1;if(200===i6.status){let U2;try{U2=yield i6.json()}catch(s6){throw V1.create("fetch-client-parse",{originalErrorMessage:s6.message})}gn=U2.entries,N1=U2.state}if("INSTANCE_STATE_UNSPECIFIED"===N1?N4=500:"NO_CHANGE"===N1?N4=304:("NO_TEMPLATE"===N1||"EMPTY_CONFIG"===N1)&&(gn={}),304!==N4&&200!==N4)throw V1.create("fetch-status",{httpStatus:N4});return{status:N4,eTag:n5,config:gn}})()}}class Ce{constructor(N,J){this.client=N,this.storage=J}fetch(N){var J=this;return(0,R.Z)(function*(){const C1=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(N,C1)})()}attemptFetch(N,{throttleEndTimeMillis:J,backoffCount:C1}){var W1=this;return(0,R.Z)(function*(){yield function w2(k,N){return new Promise((J,C1)=>{const W1=Math.max(N-Date.now(),0),e2=setTimeout(J,W1);k.addEventListener(()=>{clearTimeout(e2),C1(V1.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,J);try{const e2=yield W1.client.fetch(N);return yield W1.storage.deleteThrottleMetadata(),e2}catch(e2){if(!function Le(k){if(!(k instanceof g1.ZR&&k.customData))return!1;const N=Number(k.customData.httpStatus);return 429===N||500===N||503===N||504===N}(e2))throw e2;const T2={throttleEndTimeMillis:Date.now()+(0,g1.$s)(C1),backoffCount:C1+1};return yield W1.storage.setThrottleMetadata(T2),W1.attemptFetch(N,T2)}})()}}class S3{constructor(N,J,C1,W1,e2){this.app=N,this._client=J,this._storageCache=C1,this._storage=W1,this._logger=e2,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function O2(k,N){const J=k.target.error||void 0;return V1.create(N,{originalErrorMessage:J&&J.message})}const P2="app_namespace_store";class be{constructor(N,J,C1,W1=function o3(){return new Promise((k,N)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=C1=>{N(O2(C1,"storage-open"))},J.onsuccess=C1=>{k(C1.target.result)},J.onupgradeneeded=C1=>{0===C1.oldVersion&&C1.target.result.createObjectStore(P2,{keyPath:"compositeKey"})}}catch(J){N(V1.create("storage-open",{originalErrorMessage:J}))}})}()){this.appId=N,this.appName=J,this.namespace=C1,this.openDbPromise=W1}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var J=this;return(0,R.Z)(function*(){const C1=yield J.openDbPromise;return new Promise((W1,e2)=>{const Fe=C1.transaction([P2],"readonly").objectStore(P2),f2=J.createCompositeKey(N);try{const Ae=Fe.get(f2);Ae.onerror=Ve=>{e2(O2(Ve,"storage-get"))},Ae.onsuccess=Ve=>{const j2=Ve.target.result;W1(j2?j2.value:void 0)}}catch(Ae){e2(V1.create("storage-get",{originalErrorMessage:Ae&&Ae.message}))}})})()}set(N,J){var C1=this;return(0,R.Z)(function*(){const W1=yield C1.openDbPromise;return new Promise((e2,T2)=>{const f2=W1.transaction([P2],"readwrite").objectStore(P2),Ae=C1.createCompositeKey(N);try{const Ve=f2.put({compositeKey:Ae,value:J});Ve.onerror=j2=>{T2(O2(j2,"storage-set"))},Ve.onsuccess=()=>{e2()}}catch(Ve){T2(V1.create("storage-set",{originalErrorMessage:Ve&&Ve.message}))}})})()}delete(N){var J=this;return(0,R.Z)(function*(){const C1=yield J.openDbPromise;return new Promise((W1,e2)=>{const Fe=C1.transaction([P2],"readwrite").objectStore(P2),f2=J.createCompositeKey(N);try{const Ae=Fe.delete(f2);Ae.onerror=Ve=>{e2(O2(Ve,"storage-delete"))},Ae.onsuccess=()=>{W1()}}catch(Ae){e2(V1.create("storage-delete",{originalErrorMessage:Ae&&Ae.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class y3{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,R.Z)(function*(){const J=N.storage.getLastFetchStatus(),C1=N.storage.getLastSuccessfulFetchTimestampMillis(),W1=N.storage.getActiveConfig(),e2=yield J;e2&&(N.lastFetchStatus=e2);const T2=yield C1;T2&&(N.lastSuccessfulFetchTimestampMillis=T2);const Fe=yield W1;Fe&&(N.activeConfig=Fe)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function V2(){return M3.apply(this,arguments)}function M3(){return(M3=(0,R.Z)(function*(){if(!(0,g1.hl)())return!1;try{return yield(0,g1.eu)()}catch(k){return!1}})).apply(this,arguments)}!function F3(){(0,h1._registerComponent)(new b1.wA("remote-config",function k(N,{instanceIdentifier:J}){const C1=N.getProvider("app").getImmediate(),W1=N.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw V1.create("registration-window");if(!(0,g1.hl)())throw V1.create("indexed-db-unavailable");const{projectId:e2,apiKey:T2,appId:Fe}=C1.options;if(!e2)throw V1.create("registration-project-id");if(!T2)throw V1.create("registration-api-key");if(!Fe)throw V1.create("registration-app-id");const f2=new be(Fe,C1.name,J=J||"firebase"),Ae=new y3(f2),Ve=new l1.Yd(v1);Ve.logLevel=l1.in.ERROR;const j2=new a2(W1,h1.SDK_VERSION,J,e2,T2,Fe),i6=new Ce(j2,f2),N4=new k2(i6,f2,Ae,Ve),n5=new S3(C1,N4,Ae,f2,Ve);return function X1(k){const N=(0,g1.m9)(k);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(n5),n5},"PUBLIC").setMultipleInstances(!0)),(0,h1.registerVersion)(v1,W),(0,h1.registerVersion)(v1,W,"esm2017")}();var he=A(8766);const Ne="/firebase-messaging-sw.js",K3="/firebase-cloud-messaging-push-scope",H3="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Oe="google.c.a.c_id",E3="google.c.a.c_l",c4="google.c.a.ts",Z2="google.c.a.e";var y2=(()=>{return(k=y2||(y2={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",y2;var k})();function ye(k){const N=new Uint8Array(k);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Y3(k){const J=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),C1=atob(J),W1=new Uint8Array(C1.length);for(let e2=0;e2<C1.length;++e2)W1[e2]=C1.charCodeAt(e2);return W1}const G2="fcm_token_details_db",Xe="fcm_token_object_Store";function $e(k){return O.apply(this,arguments)}function O(){return O=(0,R.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e2=>e2.name).includes(G2))return null;let N=null;return(yield(0,he.X3)(G2,5,{upgrade:(C1=(0,R.Z)(function*(W1,e2,T2,Fe){var f2;if(e2<2||!W1.objectStoreNames.contains(Xe))return;const Ae=Fe.objectStore(Xe),Ve=yield Ae.index("fcmSenderId").get(k);if(yield Ae.clear(),Ve)if(2===e2){const j2=Ve;if(!j2.auth||!j2.p256dh||!j2.endpoint)return;N={token:j2.fcmToken,createTime:null!==(f2=j2.createTime)&&void 0!==f2?f2:Date.now(),subscriptionOptions:{auth:j2.auth,p256dh:j2.p256dh,endpoint:j2.endpoint,swScope:j2.swScope,vapidKey:"string"==typeof j2.vapidKey?j2.vapidKey:ye(j2.vapidKey)}}}else if(3===e2){const j2=Ve;N={token:j2.fcmToken,createTime:j2.createTime,subscriptionOptions:{auth:ye(j2.auth),p256dh:ye(j2.p256dh),endpoint:j2.endpoint,swScope:j2.swScope,vapidKey:ye(j2.vapidKey)}}}else if(4===e2){const j2=Ve;N={token:j2.fcmToken,createTime:j2.createTime,subscriptionOptions:{auth:ye(j2.auth),p256dh:ye(j2.p256dh),endpoint:j2.endpoint,swScope:j2.swScope,vapidKey:ye(j2.vapidKey)}}}}),function(e2,T2,Fe,f2){return C1.apply(this,arguments)})})).close(),yield(0,he.Lj)(G2),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),Y(N)?N:null;var C1}),O.apply(this,arguments)}function Y(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:N}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const B="firebase-messaging-store";let n1=null;function j(){return n1||(n1=(0,he.X3)("firebase-messaging-database",1,{upgrade:(k,N)=>{0===N&&k.createObjectStore(B)}})),n1}function s1(k){return y1.apply(this,arguments)}function y1(){return(y1=(0,R.Z)(function*(k){const N=I2(k),C1=yield(yield j()).transaction(B).objectStore(B).get(N);if(C1)return C1;{const W1=yield $e(k.appConfig.senderId);if(W1)return yield D1(k,W1),W1}})).apply(this,arguments)}function D1(k,N){return Z1.apply(this,arguments)}function Z1(){return(Z1=(0,R.Z)(function*(k,N){const J=I2(k),W1=(yield j()).transaction(B,"readwrite");return yield W1.objectStore(B).put(N,J),yield W1.done,N})).apply(this,arguments)}function q1(k){return p2.apply(this,arguments)}function p2(){return(p2=(0,R.Z)(function*(k){const N=I2(k),C1=(yield j()).transaction(B,"readwrite");yield C1.objectStore(B).delete(N),yield C1.done})).apply(this,arguments)}function I2({appConfig:k}){return k.appId}const se=new g1.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function U3(k,N){return h4.apply(this,arguments)}function h4(){return(h4=(0,R.Z)(function*(k,N){const J=yield E6(k),C1=A4(N),W1={method:"POST",headers:J,body:JSON.stringify(C1)};let e2;try{e2=yield(yield fetch(x3(k.appConfig),W1)).json()}catch(T2){throw se.create("token-subscribe-failed",{errorInfo:T2})}if(e2.error)throw se.create("token-subscribe-failed",{errorInfo:e2.error.message});if(!e2.token)throw se.create("token-subscribe-no-token");return e2.token})).apply(this,arguments)}function _e(k,N){return xe.apply(this,arguments)}function xe(){return(xe=(0,R.Z)(function*(k,N){const J=yield E6(k),C1=A4(N.subscriptionOptions),W1={method:"PATCH",headers:J,body:JSON.stringify(C1)};let e2;try{e2=yield(yield fetch(`${x3(k.appConfig)}/${N.token}`,W1)).json()}catch(T2){throw se.create("token-update-failed",{errorInfo:T2})}if(e2.error)throw se.create("token-update-failed",{errorInfo:e2.error.message});if(!e2.token)throw se.create("token-update-no-token");return e2.token})).apply(this,arguments)}function T4(k,N){return qe.apply(this,arguments)}function qe(){return(qe=(0,R.Z)(function*(k,N){const C1={method:"DELETE",headers:yield E6(k)};try{const e2=yield(yield fetch(`${x3(k.appConfig)}/${N}`,C1)).json();if(e2.error)throw se.create("token-unsubscribe-failed",{errorInfo:e2.error.message})}catch(W1){throw se.create("token-unsubscribe-failed",{errorInfo:W1})}})).apply(this,arguments)}function x3({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function E6(k){return lt.apply(this,arguments)}function lt(){return(lt=(0,R.Z)(function*({appConfig:k,installations:N}){const J=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function A4({p256dh:k,auth:N,endpoint:J,vapidKey:C1}){const W1={web:{endpoint:J,auth:N,p256dh:k}};return C1!==H3&&(W1.web.applicationPubKey=C1),W1}const d4=6048e5;function d3(k){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,R.Z)(function*(k){const N=yield W2(k.swRegistration,k.vapidKey),J={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:N.endpoint,auth:ye(N.getKey("auth")),p256dh:ye(N.getKey("p256dh"))},C1=yield s1(k.firebaseDependencies);if(C1){if(Q2(C1.subscriptionOptions,J))return Date.now()>=C1.createTime+d4?F(k,{token:C1.token,createTime:Date.now(),subscriptionOptions:J}):C1.token;try{yield T4(k.firebaseDependencies,C1.token)}catch(W1){console.warn(W1)}return P1(k.firebaseDependencies,J)}return P1(k.firebaseDependencies,J)})).apply(this,arguments)}function B3(k){return n2.apply(this,arguments)}function n2(){return(n2=(0,R.Z)(function*(k){const N=yield s1(k.firebaseDependencies);N&&(yield T4(k.firebaseDependencies,N.token),yield q1(k.firebaseDependencies));const J=yield k.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()})).apply(this,arguments)}function F(k,N){return f1.apply(this,arguments)}function f1(){return(f1=(0,R.Z)(function*(k,N){try{const J=yield _e(k.firebaseDependencies,N),C1=Object.assign(Object.assign({},N),{token:J,createTime:Date.now()});return yield D1(k.firebaseDependencies,C1),J}catch(J){throw yield B3(k),J}})).apply(this,arguments)}function P1(k,N){return d2.apply(this,arguments)}function d2(){return(d2=(0,R.Z)(function*(k,N){const C1={token:yield U3(k,N),createTime:Date.now(),subscriptionOptions:N};return yield D1(k,C1),C1.token})).apply(this,arguments)}function W2(k,N){return Y2.apply(this,arguments)}function Y2(){return(Y2=(0,R.Z)(function*(k,N){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Y3(N)})})).apply(this,arguments)}function Q2(k,N){return N.vapidKey===k.vapidKey&&N.endpoint===k.endpoint&&N.auth===k.auth&&N.p256dh===k.p256dh}function ze(k){const N={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function j3(k,N){if(!N.notification)return;k.notification={};const J=N.notification.title;J&&(k.notification.title=J);const C1=N.notification.body;C1&&(k.notification.body=C1);const W1=N.notification.image;W1&&(k.notification.image=W1)}(N,k),function S2(k,N){!N.data||(k.data=N.data)}(N,k),function Rt(k,N){if(!N.fcmOptions)return;k.fcmOptions={};const J=N.fcmOptions.link;J&&(k.fcmOptions.link=J);const C1=N.fcmOptions.analytics_label;C1&&(k.fcmOptions.analyticsLabel=C1)}(N,k),N}function G4(k){return"object"==typeof k&&!!k&&Oe in k}function Xn(k,N){const J=[];for(let C1=0;C1<k.length;C1++)J.push(k.charAt(C1)),C1<N.length&&J.push(N.charAt(C1));return J.join("")}function e3(k){return se.create("missing-app-config-values",{valueName:k})}Xn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ft{constructor(N,J,C1){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W1=function Ot(k){if(!k||!k.options)throw e3("App Configuration Object");if(!k.name)throw e3("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:J}=k;for(const C1 of N)if(!J[C1])throw e3(C1);return{appName:k.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:W1,installations:J,analyticsProvider:C1}}_delete(){return Promise.resolve()}}function ut(k){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,R.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(Ne,{scope:K3}),k.swRegistration.update().catch(()=>{})}catch(N){throw se.create("failed-service-worker-registration",{browserErrorMessage:N.message})}})).apply(this,arguments)}function we(k,N){return x6.apply(this,arguments)}function x6(){return(x6=(0,R.Z)(function*(k,N){if(!N&&!k.swRegistration&&(yield ut(k)),N||!k.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw se.create("invalid-sw-registration");k.swRegistration=N}})).apply(this,arguments)}function Y5(k,N){return T3.apply(this,arguments)}function T3(){return(T3=(0,R.Z)(function*(k,N){N?k.vapidKey=N:k.vapidKey||(k.vapidKey=H3)})).apply(this,arguments)}function e6(){return(e6=(0,R.Z)(function*(k,N){if(!navigator)throw se.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw se.create("permission-blocked");return yield Y5(k,null==N?void 0:N.vapidKey),yield we(k,null==N?void 0:N.serviceWorkerRegistration),d3(k)})).apply(this,arguments)}function Q5(k,N,J){return ft.apply(this,arguments)}function ft(){return(ft=(0,R.Z)(function*(k,N,J){const C1=I4(N);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(C1,{message_id:J[Oe],message_name:J[E3],message_time:J[c4],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function I4(k){switch(k){case y2.NOTIFICATION_CLICKED:return"notification_open";case y2.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function er(){return(er=(0,R.Z)(function*(k,N){const J=N.data;if(!J.isFirebaseMessaging)return;k.onMessageHandler&&J.messageType===y2.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(ze(J)):k.onMessageHandler.next(ze(J)));const C1=J.data;G4(C1)&&"1"===C1[Z2]&&(yield Q5(k,J.messageType,C1))})).apply(this,arguments)}const X5="@firebase/messaging",Ut=k=>{const N=new Ft(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function J5(k,N){return er.apply(this,arguments)}(N,J)),N},tr=k=>{const N=k.getProvider("messaging").getImmediate();return{getToken:C1=>function C4(k,N){return e6.apply(this,arguments)}(N,C1)}};function W4(){return nr.apply(this,arguments)}function nr(){return(nr=(0,R.Z)(function*(){try{yield(0,g1.eu)()}catch(k){return!1}return"undefined"!=typeof window&&(0,g1.hl)()&&(0,g1.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function va(){(0,h1._registerComponent)(new b1.wA("messaging",Ut,"PUBLIC")),(0,h1._registerComponent)(new b1.wA("messaging-internal",tr,"PRIVATE")),(0,h1.registerVersion)(X5,"0.9.13"),(0,h1.registerVersion)(X5,"0.9.13","esm2017")}();var T6=A(7982),ar=A(4408),e5=A(7565);const t8=new class ya extends e5.v{}(class e8 extends ar.o{constructor(N,J){super(N,J),this.scheduler=N,this.work=J}schedule(N,J=0){return J>0?super.schedule(N,J):(this.delay=J,this.state=N,this.scheduler.flush(this),this)}execute(N,J){return J>0||this.closed?super.execute(N,J):this._execute(N,J)}requestAsyncId(N,J,C1=0){return null!=C1&&C1>0||null==C1&&this.delay>0?super.requestAsyncId(N,J,C1):N.flush(this)}});var A6=A(4986),$4=A(8505),I6=A(5363),or=A(9468);const ei=new u.GfV("7.3.0"),n6="__angularfire_symbol__analyticsIsSupportedValue",Z4="__angularfire_symbol__analyticsIsSupported",n8="__angularfire_symbol__remoteConfigIsSupportedValue",Bt="__angularfire_symbol__remoteConfigIsSupported",t5="__angularfire_symbol__messagingIsSupportedValue",q3="__angularfire_symbol__messagingIsSupported";globalThis[Z4]||(globalThis[Z4]=(0,T6.Gb)().then(k=>globalThis[n6]=k).catch(()=>globalThis[n6]=!1)),globalThis[q3]||(globalThis[q3]=W4().then(k=>globalThis[t5]=k).catch(()=>globalThis[t5]=!1)),globalThis[Bt]||(globalThis[Bt]=V2().then(k=>globalThis[n8]=k).catch(()=>globalThis[n8]=!1));const _a={async:()=>globalThis[Z4],sync:()=>{const k=globalThis[n6];if(void 0===k)throw new Error((k=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${k} in the constructor, first ensure that ${k} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${k})\`.`)("Analytics"));return k}};function r8(k,N,J){if(N){if(1===N.length)return N[0];const e2=N.filter(T2=>T2.app===J);if(1===e2.length)return e2[0]}return J.container.getProvider(k).getImmediate({optional:!0})}const N6=(k,N)=>{const J=N?[N]:(0,t1.C6)(),C1=[];return J.forEach(W1=>{W1.container.getProvider(k).instances.forEach(T2=>{C1.includes(T2)||C1.push(T2)})}),C1};function jt(){}class Cn{constructor(N,J=t8){this.zone=N,this.delegate=J}now(){return this.delegate.now()}schedule(N,J,C1){const W1=this.zone;return this.delegate.schedule(function(T2){W1.runGuarded(()=>{N.apply(this,[T2])})},J,C1)}}class h9{constructor(N){this.zone=N,this.task=null}call(N,J){const C1=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jt,{},jt,jt)),J.pipe((0,$4.b)({next:C1,complete:C1,error:C1})).subscribe(N).add(C1)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Te=(()=>{class k{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new Cn(Zone.current)),this.insideAngular=J.run(()=>new Cn(Zone.current,A6.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(J){return new(J||k)(u.LFG(u.R0b))},k.\u0275prov=u.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Y4(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function i8(k){return k.pipe((0,I6.Q)(Y4().outsideAngular))}function r6(k){return Y4(),function X3(k){return function(J){return(J=J.lift(new h9(k.ngZone))).pipe((0,or.R)(k.outsideAngular),(0,I6.Q)(k.insideAngular))}}(Y4())(k)}},2090:(c2,z1,A)=>{A.d(z1,{$s:()=>G2,BH:()=>j1,DV:()=>O2,Dv:()=>K3,G6:()=>B1,GJ:()=>ie,L:()=>p1,LL:()=>u1,Mn:()=>E1,Pz:()=>a2,Sg:()=>V1,UG:()=>m1,UI:()=>Re,US:()=>b1,Wj:()=>Oe,Yr:()=>X1,ZB:()=>G,ZR:()=>I1,b$:()=>t2,cI:()=>Ee,d:()=>A1,dS:()=>c4,eu:()=>U,g5:()=>R,gK:()=>H3,gQ:()=>_3,h$:()=>l1,hl:()=>q,hu:()=>t1,jU:()=>S1,lb:()=>E3,m9:()=>$e,ne:()=>h3,p$:()=>W,pd:()=>F3,r3:()=>S3,ru:()=>o2,tV:()=>v1,uI:()=>G1,ug:()=>Z2,vZ:()=>x4,w1:()=>H1,w9:()=>V3,xO:()=>be,xb:()=>P2,z$:()=>O1,zI:()=>e1,zd:()=>y3});const t1=function(O,Y){if(!O)throw R(Y)},R=function(O){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+O)},h1=function(O){const Y=[];let Q=0;for(let T1=0;T1<O.length;T1++){let B=O.charCodeAt(T1);B<128?Y[Q++]=B:B<2048?(Y[Q++]=B>>6|192,Y[Q++]=63&B|128):55296==(64512&B)&&T1+1<O.length&&56320==(64512&O.charCodeAt(T1+1))?(B=65536+((1023&B)<<10)+(1023&O.charCodeAt(++T1)),Y[Q++]=B>>18|240,Y[Q++]=B>>12&63|128,Y[Q++]=B>>6&63|128,Y[Q++]=63&B|128):(Y[Q++]=B>>12|224,Y[Q++]=B>>6&63|128,Y[Q++]=63&B|128)}return Y},b1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(O,Y){if(!Array.isArray(O))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,T1=[];for(let B=0;B<O.length;B+=3){const n1=O[B],j=B+1<O.length,s1=j?O[B+1]:0,y1=B+2<O.length,D1=y1?O[B+2]:0;let p2=(15&s1)<<2|D1>>6,I2=63&D1;y1||(I2=64,j||(p2=64)),T1.push(Q[n1>>2],Q[(3&n1)<<4|s1>>4],Q[p2],Q[I2])}return T1.join("")},encodeString(O,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(O):this.encodeByteArray(h1(O),Y)},decodeString(O,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(O):function(O){const Y=[];let Q=0,T1=0;for(;Q<O.length;){const B=O[Q++];if(B<128)Y[T1++]=String.fromCharCode(B);else if(B>191&&B<224){const n1=O[Q++];Y[T1++]=String.fromCharCode((31&B)<<6|63&n1)}else if(B>239&&B<365){const y1=((7&B)<<18|(63&O[Q++])<<12|(63&O[Q++])<<6|63&O[Q++])-65536;Y[T1++]=String.fromCharCode(55296+(y1>>10)),Y[T1++]=String.fromCharCode(56320+(1023&y1))}else{const n1=O[Q++],j=O[Q++];Y[T1++]=String.fromCharCode((15&B)<<12|(63&n1)<<6|63&j)}}return Y.join("")}(this.decodeStringToByteArray(O,Y))},decodeStringToByteArray(O,Y){this.init_();const Q=Y?this.charToByteMapWebSafe_:this.charToByteMap_,T1=[];for(let B=0;B<O.length;){const n1=Q[O.charAt(B++)],s1=B<O.length?Q[O.charAt(B)]:0;++B;const D1=B<O.length?Q[O.charAt(B)]:64;++B;const q1=B<O.length?Q[O.charAt(B)]:64;if(++B,null==n1||null==s1||null==D1||null==q1)throw Error();T1.push(n1<<2|s1>>4),64!==D1&&(T1.push(s1<<4&240|D1>>2),64!==q1&&T1.push(D1<<6&192|q1))}return T1},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let O=0;O<this.ENCODED_VALS.length;O++)this.byteToCharMap_[O]=this.ENCODED_VALS.charAt(O),this.charToByteMap_[this.byteToCharMap_[O]]=O,this.byteToCharMapWebSafe_[O]=this.ENCODED_VALS_WEBSAFE.charAt(O),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[O]]=O,O>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(O)]=O,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(O)]=O)}}},l1=function(O){const Y=h1(O);return b1.encodeByteArray(Y,!0)},p1=function(O){return l1(O).replace(/\./g,"")},v1=function(O){try{return b1.decodeString(O,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function W(O){return G(void 0,O)}function G(O,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===O&&(O={});break;case Array:O=[];break;default:return Y}for(const Q in Y)!Y.hasOwnProperty(Q)||!a1(Q)||(O[Q]=G(O[Q],Y[Q]));return O}function a1(O){return"__proto__"!==O}class j1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,Q)=>{this.resolve=Y,this.reject=Q})}wrapCallback(Y){return(Q,T1)=>{Q?this.reject(Q):this.resolve(T1),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(Q):Y(Q,T1))}}}function V1(O,Y){if(O.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const T1=Y||"demo-project",B=O.iat||0,n1=O.sub||O.user_id;if(!n1)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const j=Object.assign({iss:`https://securetoken.google.com/${T1}`,aud:T1,iat:B,exp:B+3600,auth_time:B,sub:n1,user_id:n1,firebase:{sign_in_provider:"custom",identities:{}}},O);return[p1(JSON.stringify({alg:"none",type:"JWT"})),p1(JSON.stringify(j)),""].join(".")}function O1(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function G1(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O1())}function m1(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(O){return!1}}function S1(){return"object"==typeof self&&self.self===self}function o2(){const O="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof O&&void 0!==O.id}function t2(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function A1(){return O1().indexOf("Electron/")>=0}function H1(){const O=O1();return O.indexOf("MSIE ")>=0||O.indexOf("Trident/")>=0}function E1(){return O1().indexOf("MSAppHost/")>=0}function X1(){return!1}function B1(){return!m1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return"object"==typeof indexedDB}function U(){return new Promise((O,Y)=>{try{let Q=!0;const T1="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(T1);B.onsuccess=()=>{B.result.close(),Q||self.indexedDB.deleteDatabase(T1),O(!0)},B.onupgradeneeded=()=>{Q=!1},B.onerror=()=>{var n1;Y((null===(n1=B.error)||void 0===n1?void 0:n1.message)||"")}}catch(Q){Y(Q)}})}function e1(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class I1 extends Error{constructor(Y,Q,T1){super(Q),this.code=Y,this.customData=T1,this.name="FirebaseError",Object.setPrototypeOf(this,I1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u1.prototype.create)}}class u1{constructor(Y,Q,T1){this.service=Y,this.serviceName=Q,this.errors=T1}create(Y,...Q){const T1=Q[0]||{},B=`${this.service}/${Y}`,n1=this.errors[Y],j=n1?function M2(O,Y){return O.replace(k2,(Q,T1)=>{const B=Y[T1];return null!=B?String(B):`<${T1}?>`})}(n1,T1):"Error";return new I1(B,`${this.serviceName}: ${j} (${B}).`,T1)}}const k2=/\{\$([^}]+)}/g;function Ee(O){return JSON.parse(O)}function a2(O){return JSON.stringify(O)}const w2=function(O){let Y={},Q={},T1={},B="";try{const n1=O.split(".");Y=Ee(v1(n1[0])||""),Q=Ee(v1(n1[1])||""),B=n1[2],T1=Q.d||{},delete Q.d}catch(n1){}return{header:Y,claims:Q,data:T1,signature:B}},V3=function(O){const Q=w2(O).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},ie=function(O){const Y=w2(O).claims;return"object"==typeof Y&&!0===Y.admin};function S3(O,Y){return Object.prototype.hasOwnProperty.call(O,Y)}function O2(O,Y){if(Object.prototype.hasOwnProperty.call(O,Y))return O[Y]}function P2(O){for(const Y in O)if(Object.prototype.hasOwnProperty.call(O,Y))return!1;return!0}function Re(O,Y,Q){const T1={};for(const B in O)Object.prototype.hasOwnProperty.call(O,B)&&(T1[B]=Y.call(Q,O[B],B,O));return T1}function x4(O,Y){if(O===Y)return!0;const Q=Object.keys(O),T1=Object.keys(Y);for(const B of Q){if(!T1.includes(B))return!1;const n1=O[B],j=Y[B];if(o3(n1)&&o3(j)){if(!x4(n1,j))return!1}else if(n1!==j)return!1}for(const B of T1)if(!Q.includes(B))return!1;return!0}function o3(O){return null!==O&&"object"==typeof O}function be(O){const Y=[];for(const[Q,T1]of Object.entries(O))Array.isArray(T1)?T1.forEach(B=>{Y.push(encodeURIComponent(Q)+"="+encodeURIComponent(B))}):Y.push(encodeURIComponent(Q)+"="+encodeURIComponent(T1));return Y.length?"&"+Y.join("&"):""}function y3(O){const Y={};return O.replace(/^\?/,"").split("&").forEach(T1=>{if(T1){const[B,n1]=T1.split("=");Y[decodeURIComponent(B)]=decodeURIComponent(n1)}}),Y}function F3(O){const Y=O.indexOf("?");if(!Y)return"";const Q=O.indexOf("#",Y);return O.substring(Y,Q>0?Q:void 0)}class _3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Y,Q){Q||(Q=0);const T1=this.W_;if("string"==typeof Y)for(let q1=0;q1<16;q1++)T1[q1]=Y.charCodeAt(Q)<<24|Y.charCodeAt(Q+1)<<16|Y.charCodeAt(Q+2)<<8|Y.charCodeAt(Q+3),Q+=4;else for(let q1=0;q1<16;q1++)T1[q1]=Y[Q]<<24|Y[Q+1]<<16|Y[Q+2]<<8|Y[Q+3],Q+=4;for(let q1=16;q1<80;q1++){const p2=T1[q1-3]^T1[q1-8]^T1[q1-14]^T1[q1-16];T1[q1]=4294967295&(p2<<1|p2>>>31)}let D1,Z1,B=this.chain_[0],n1=this.chain_[1],j=this.chain_[2],s1=this.chain_[3],y1=this.chain_[4];for(let q1=0;q1<80;q1++){q1<40?q1<20?(D1=s1^n1&(j^s1),Z1=1518500249):(D1=n1^j^s1,Z1=1859775393):q1<60?(D1=n1&j|s1&(n1|j),Z1=2400959708):(D1=n1^j^s1,Z1=3395469782);const p2=(B<<5|B>>>27)+D1+y1+Z1+T1[q1]&4294967295;y1=s1,s1=j,j=4294967295&(n1<<30|n1>>>2),n1=B,B=p2}this.chain_[0]=this.chain_[0]+B&4294967295,this.chain_[1]=this.chain_[1]+n1&4294967295,this.chain_[2]=this.chain_[2]+j&4294967295,this.chain_[3]=this.chain_[3]+s1&4294967295,this.chain_[4]=this.chain_[4]+y1&4294967295}update(Y,Q){if(null==Y)return;void 0===Q&&(Q=Y.length);const T1=Q-this.blockSize;let B=0;const n1=this.buf_;let j=this.inbuf_;for(;B<Q;){if(0===j)for(;B<=T1;)this.compress_(Y,B),B+=this.blockSize;if("string"==typeof Y){for(;B<Q;)if(n1[j]=Y.charCodeAt(B),++j,++B,j===this.blockSize){this.compress_(n1),j=0;break}}else for(;B<Q;)if(n1[j]=Y[B],++j,++B,j===this.blockSize){this.compress_(n1),j=0;break}}this.inbuf_=j,this.total_+=Q}digest(){const Y=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let B=this.blockSize-1;B>=56;B--)this.buf_[B]=255&Q,Q/=256;this.compress_(this.buf_);let T1=0;for(let B=0;B<5;B++)for(let n1=24;n1>=0;n1-=8)Y[T1]=this.chain_[B]>>n1&255,++T1;return Y}}function h3(O,Y){const Q=new V2(O,Y);return Q.subscribe.bind(Q)}class V2{constructor(Y,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{Y(this)}).catch(T1=>{this.error(T1)})}next(Y){this.forEachObserver(Q=>{Q.next(Y)})}error(Y){this.forEachObserver(Q=>{Q.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,Q,T1){let B;if(void 0===Y&&void 0===Q&&void 0===T1)throw new Error("Missing Observer.");B=function he(O,Y){if("object"!=typeof O||null===O)return!1;for(const Q of Y)if(Q in O&&"function"==typeof O[Q])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:Q,complete:T1},void 0===B.next&&(B.next=Ne),void 0===B.error&&(B.error=Ne),void 0===B.complete&&(B.complete=Ne);const n1=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch(j){}}),this.observers.push(B),n1}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,Y)}sendOne(Y,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{Q(this.observers[Y])}catch(T1){"undefined"!=typeof console&&console.error&&console.error(T1)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ne(){}const K3=function(O,Y,Q,T1){let B;if(T1<Y?B="at least "+Y:T1>Q&&(B=0===Q?"none":"no more than "+Q),B)throw new Error(O+" failed: Was called with "+T1+(1===T1?" argument.":" arguments.")+" Expects "+B+".")};function H3(O,Y){return`${O} failed: ${Y} argument `}function Oe(O,Y,Q,T1){if((!T1||Q)&&"function"!=typeof Q)throw new Error(H3(O,Y)+"must be a valid function.")}function E3(O,Y,Q,T1){if((!T1||Q)&&("object"!=typeof Q||null===Q))throw new Error(H3(O,Y)+"must be a valid context object.")}const c4=function(O){const Y=[];let Q=0;for(let T1=0;T1<O.length;T1++){let B=O.charCodeAt(T1);if(B>=55296&&B<=56319){const n1=B-55296;T1++,t1(T1<O.length,"Surrogate pair missing trail surrogate."),B=65536+(n1<<10)+(O.charCodeAt(T1)-56320)}B<128?Y[Q++]=B:B<2048?(Y[Q++]=B>>6|192,Y[Q++]=63&B|128):B<65536?(Y[Q++]=B>>12|224,Y[Q++]=B>>6&63|128,Y[Q++]=63&B|128):(Y[Q++]=B>>18|240,Y[Q++]=B>>12&63|128,Y[Q++]=B>>6&63|128,Y[Q++]=63&B|128)}return Y},Z2=function(O){let Y=0;for(let Q=0;Q<O.length;Q++){const T1=O.charCodeAt(Q);T1<128?Y++:T1<2048?Y+=2:T1>=55296&&T1<=56319?(Y+=4,Q++):Y+=3}return Y};function G2(O,Y=1e3,Q=2){const T1=Y*Math.pow(Q,O),B=Math.round(.5*T1*(Math.random()-.5)*2);return Math.min(144e5,T1+B)}function $e(O){return O&&O._delegate?O._delegate:O}},3942:(c2,z1,A)=>{var u=A(5e3);let t1=null;function R(){return t1}const l1=new u.OlP("DocumentToken");let p1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function v1(){return(0,u.LFG)(G)}()},providedIn:"platform"}),n})();const W=new u.OlP("Location Initialized");let G=(()=>{class n extends p1{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){a1()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){a1()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(l1))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function j1(){return new G((0,u.LFG)(l1))}()},providedIn:"platform"}),n})();function a1(){return!!window.history.pushState}function V1(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function O1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function G1(n){return n&&"?"!==n[0]?"?"+n:n}let m1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function S1(n){const e=(0,u.LFG)(l1).location;return new t2((0,u.LFG)(p1),e&&e.origin||"")}()},providedIn:"root"}),n})();const o2=new u.OlP("appBaseHref");let t2=(()=>{class n extends m1{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return V1(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+G1(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const l=this.prepareExternalUrl(i+G1(s));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,s){const l=this.prepareExternalUrl(i+G1(s));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(p1),u.LFG(o2,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),A1=(()=>{class n extends m1{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=V1(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let l=this.prepareExternalUrl(i+G1(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,s){let l=this.prepareExternalUrl(i+G1(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(p1),u.LFG(o2,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),H1=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=O1(B1(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+G1(r))}normalize(t){return n.stripTrailingSlash(function X1(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,B1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+G1(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+G1(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=G1,n.joinWithSlash=V1,n.stripTrailingSlash=O1,n.\u0275fac=function(t){return new(t||n)(u.LFG(m1),u.LFG(p1))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function E1(){return new H1((0,u.LFG)(m1),(0,u.LFG)(p1))}()},providedIn:"root"}),n})();function B1(n){return n.replace(/\/index.html$/,"")}var U=(()=>((U=U||{})[U.Decimal=0]="Decimal",U[U.Percent=1]="Percent",U[U.Currency=2]="Currency",U[U.Scientific=3]="Scientific",U))(),d1=(()=>((d1=d1||{})[d1.Format=0]="Format",d1[d1.Standalone=1]="Standalone",d1))(),c1=(()=>((c1=c1||{})[c1.Narrow=0]="Narrow",c1[c1.Abbreviated=1]="Abbreviated",c1[c1.Wide=2]="Wide",c1[c1.Short=3]="Short",c1))(),I1=(()=>((I1=I1||{})[I1.Short=0]="Short",I1[I1.Medium=1]="Medium",I1[I1.Long=2]="Long",I1[I1.Full=3]="Full",I1))(),u1=(()=>((u1=u1||{})[u1.Decimal=0]="Decimal",u1[u1.Group=1]="Group",u1[u1.List=2]="List",u1[u1.PercentSign=3]="PercentSign",u1[u1.PlusSign=4]="PlusSign",u1[u1.MinusSign=5]="MinusSign",u1[u1.Exponential=6]="Exponential",u1[u1.SuperscriptingExponent=7]="SuperscriptingExponent",u1[u1.PerMille=8]="PerMille",u1[u1.Infinity=9]="Infinity",u1[u1.NaN=10]="NaN",u1[u1.TimeSeparator=11]="TimeSeparator",u1[u1.CurrencyDecimal=12]="CurrencyDecimal",u1[u1.CurrencyGroup=13]="CurrencyGroup",u1))();function ie(n,e){return he((0,u.cg1)(n)[u.wAp.DateFormat],e)}function S3(n,e){return he((0,u.cg1)(n)[u.wAp.TimeFormat],e)}function O2(n,e){return he((0,u.cg1)(n)[u.wAp.DateTimeFormat],e)}function P2(n,e){const t=(0,u.cg1)(n),r=t[u.wAp.NumberSymbols][e];if(void 0===r){if(e===u1.CurrencyDecimal)return t[u.wAp.NumberSymbols][u1.Decimal];if(e===u1.CurrencyGroup)return t[u.wAp.NumberSymbols][u1.Group]}return r}function _3(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function he(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Ne(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Oe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,E3={},c4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Z2=(()=>((Z2=Z2||{})[Z2.Short=0]="Short",Z2[Z2.ShortGMT=1]="ShortGMT",Z2[Z2.Long=2]="Long",Z2[Z2.Extended=3]="Extended",Z2))(),h2=(()=>((h2=h2||{})[h2.FullYear=0]="FullYear",h2[h2.Month=1]="Month",h2[h2.Date=2]="Date",h2[h2.Hours=3]="Hours",h2[h2.Minutes=4]="Minutes",h2[h2.Seconds=5]="Seconds",h2[h2.FractionalSeconds=6]="FractionalSeconds",h2[h2.Day=7]="Day",h2))(),y2=(()=>((y2=y2||{})[y2.DayPeriods=0]="DayPeriods",y2[y2.Days=1]="Days",y2[y2.Months=2]="Months",y2[y2.Eras=3]="Eras",y2))();function ye(n,e,t,r){let i=function U3(n){if(_e(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,l=1]=n.split("-").map(h=>+h);return Y3(i,s-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Oe))return function h4(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,h=Number(n[5]||0)-r,C=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,l,h,C,v),e}(r)}const e=new Date(n);if(!_e(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=G2(t,e)||e;let h,l=[];for(;e;){if(h=c4.exec(e),!h){l.push(e);break}{l=l.concat(h.slice(1));const b=l.pop();if(!b)break;e=b}}let C=i.getTimezoneOffset();r&&(C=I2(r,C),i=function se(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function pe(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(I2(e,i)-i))}(i,r,!0));let v="";return l.forEach(b=>{const z=function p2(n){if(q1[n])return q1[n];let e;switch(n){case"G":case"GG":case"GGG":e=Q(y2.Eras,c1.Abbreviated);break;case"GGGG":e=Q(y2.Eras,c1.Wide);break;case"GGGGG":e=Q(y2.Eras,c1.Narrow);break;case"y":e=O(h2.FullYear,1,0,!1,!0);break;case"yy":e=O(h2.FullYear,2,0,!0,!0);break;case"yyy":e=O(h2.FullYear,3,0,!1,!0);break;case"yyyy":e=O(h2.FullYear,4,0,!1,!0);break;case"Y":e=Z1(1);break;case"YY":e=Z1(2,!0);break;case"YYY":e=Z1(3);break;case"YYYY":e=Z1(4);break;case"M":case"L":e=O(h2.Month,1,1);break;case"MM":case"LL":e=O(h2.Month,2,1);break;case"MMM":e=Q(y2.Months,c1.Abbreviated);break;case"MMMM":e=Q(y2.Months,c1.Wide);break;case"MMMMM":e=Q(y2.Months,c1.Narrow);break;case"LLL":e=Q(y2.Months,c1.Abbreviated,d1.Standalone);break;case"LLLL":e=Q(y2.Months,c1.Wide,d1.Standalone);break;case"LLLLL":e=Q(y2.Months,c1.Narrow,d1.Standalone);break;case"w":e=D1(1);break;case"ww":e=D1(2);break;case"W":e=D1(1,!0);break;case"d":e=O(h2.Date,1);break;case"dd":e=O(h2.Date,2);break;case"c":case"cc":e=O(h2.Day,1);break;case"ccc":e=Q(y2.Days,c1.Abbreviated,d1.Standalone);break;case"cccc":e=Q(y2.Days,c1.Wide,d1.Standalone);break;case"ccccc":e=Q(y2.Days,c1.Narrow,d1.Standalone);break;case"cccccc":e=Q(y2.Days,c1.Short,d1.Standalone);break;case"E":case"EE":case"EEE":e=Q(y2.Days,c1.Abbreviated);break;case"EEEE":e=Q(y2.Days,c1.Wide);break;case"EEEEE":e=Q(y2.Days,c1.Narrow);break;case"EEEEEE":e=Q(y2.Days,c1.Short);break;case"a":case"aa":case"aaa":e=Q(y2.DayPeriods,c1.Abbreviated);break;case"aaaa":e=Q(y2.DayPeriods,c1.Wide);break;case"aaaaa":e=Q(y2.DayPeriods,c1.Narrow);break;case"b":case"bb":case"bbb":e=Q(y2.DayPeriods,c1.Abbreviated,d1.Standalone,!0);break;case"bbbb":e=Q(y2.DayPeriods,c1.Wide,d1.Standalone,!0);break;case"bbbbb":e=Q(y2.DayPeriods,c1.Narrow,d1.Standalone,!0);break;case"B":case"BB":case"BBB":e=Q(y2.DayPeriods,c1.Abbreviated,d1.Format,!0);break;case"BBBB":e=Q(y2.DayPeriods,c1.Wide,d1.Format,!0);break;case"BBBBB":e=Q(y2.DayPeriods,c1.Narrow,d1.Format,!0);break;case"h":e=O(h2.Hours,1,-12);break;case"hh":e=O(h2.Hours,2,-12);break;case"H":e=O(h2.Hours,1);break;case"HH":e=O(h2.Hours,2);break;case"m":e=O(h2.Minutes,1);break;case"mm":e=O(h2.Minutes,2);break;case"s":e=O(h2.Seconds,1);break;case"ss":e=O(h2.Seconds,2);break;case"S":e=O(h2.FractionalSeconds,1);break;case"SS":e=O(h2.FractionalSeconds,2);break;case"SSS":e=O(h2.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=B(Z2.Short);break;case"ZZZZZ":e=B(Z2.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=B(Z2.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=B(Z2.Long);break;default:return null}return q1[n]=e,e}(b);v+=z?z(i,t,C):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Y3(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function G2(n,e){const t=function k2(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(E3[t]=E3[t]||{},E3[t][e])return E3[t][e];let r="";switch(e){case"shortDate":r=ie(n,I1.Short);break;case"mediumDate":r=ie(n,I1.Medium);break;case"longDate":r=ie(n,I1.Long);break;case"fullDate":r=ie(n,I1.Full);break;case"shortTime":r=S3(n,I1.Short);break;case"mediumTime":r=S3(n,I1.Medium);break;case"longTime":r=S3(n,I1.Long);break;case"fullTime":r=S3(n,I1.Full);break;case"short":const i=G2(n,"shortTime"),s=G2(n,"shortDate");r=Q3(O2(n,I1.Short),[i,s]);break;case"medium":const l=G2(n,"mediumTime"),h=G2(n,"mediumDate");r=Q3(O2(n,I1.Medium),[l,h]);break;case"long":const C=G2(n,"longTime"),v=G2(n,"longDate");r=Q3(O2(n,I1.Long),[C,v]);break;case"full":const b=G2(n,"fullTime"),z=G2(n,"fullDate");r=Q3(O2(n,I1.Full),[b,z])}return r&&(E3[t][e]=r),r}function Q3(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Xe(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.substr(l.length-e)),s+l}function O(n,e,t=0,r=!1,i=!1){return function(s,l){let h=function Y(n,e){switch(n){case h2.FullYear:return e.getFullYear();case h2.Month:return e.getMonth();case h2.Date:return e.getDate();case h2.Hours:return e.getHours();case h2.Minutes:return e.getMinutes();case h2.Seconds:return e.getSeconds();case h2.FractionalSeconds:return e.getMilliseconds();case h2.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||h>-t)&&(h+=t),n===h2.Hours)0===h&&-12===t&&(h=12);else if(n===h2.FractionalSeconds)return function $e(n,e){return Xe(n,3).substr(0,e)}(h,e);const C=P2(l,u1.MinusSign);return Xe(h,e,C,r,i)}}function Q(n,e,t=d1.Format,r=!1){return function(i,s){return function T1(n,e,t,r,i,s){switch(t){case y2.Months:return function w2(n,e,t){const r=(0,u.cg1)(n),s=he([r[u.wAp.MonthsFormat],r[u.wAp.MonthsStandalone]],e);return he(s,t)}(e,i,r)[n.getMonth()];case y2.Days:return function a2(n,e,t){const r=(0,u.cg1)(n),s=he([r[u.wAp.DaysFormat],r[u.wAp.DaysStandalone]],e);return he(s,t)}(e,i,r)[n.getDay()];case y2.DayPeriods:const l=n.getHours(),h=n.getMinutes();if(s){const v=function h3(n){const e=(0,u.cg1)(n);return _3(e),(e[u.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Ne(r):[Ne(r[0]),Ne(r[1])])}(e),b=function V2(n,e,t){const r=(0,u.cg1)(n);_3(r);const s=he([r[u.wAp.ExtraData][0],r[u.wAp.ExtraData][1]],e)||[];return he(s,t)||[]}(e,i,r),z=v.findIndex(S=>{if(Array.isArray(S)){const[x,I]=S,K=l>=x.hours&&h>=x.minutes,o1=l<I.hours||l===I.hours&&h<I.minutes;if(x.hours<I.hours){if(K&&o1)return!0}else if(K||o1)return!0}else if(S.hours===l&&S.minutes===h)return!0;return!1});if(-1!==z)return b[z]}return function Ee(n,e,t){const r=(0,u.cg1)(n),s=he([r[u.wAp.DayPeriodsFormat],r[u.wAp.DayPeriodsStandalone]],e);return he(s,t)}(e,i,r)[l<12?0:1];case y2.Eras:return function Le(n,e){return he((0,u.cg1)(n)[u.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function B(n){return function(e,t,r){const i=-1*r,s=P2(t,u1.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Z2.Short:return(i>=0?"+":"")+Xe(l,2,s)+Xe(Math.abs(i%60),2,s);case Z2.ShortGMT:return"GMT"+(i>=0?"+":"")+Xe(l,1,s);case Z2.Long:return"GMT"+(i>=0?"+":"")+Xe(l,2,s)+":"+Xe(Math.abs(i%60),2,s);case Z2.Extended:return 0===r?"Z":(i>=0?"+":"")+Xe(l,2,s)+":"+Xe(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function y1(n){return Y3(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function D1(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+s)/7)}else{const s=y1(t),l=function s1(n){const e=Y3(n,0,1).getDay();return Y3(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),h=s.getTime()-l.getTime();i=1+Math.round(h/6048e5)}return Xe(i,n,P2(r,u1.MinusSign))}}function Z1(n,e=!1){return function(t,r){return Xe(y1(t).getFullYear(),n,P2(r,u1.MinusSign),e)}}const q1={};function I2(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function _e(n){return n instanceof Date&&!isNaN(n.valueOf())}const xe=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Y2(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Rt(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let G4=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ot{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let e3=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ot(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,l),Ft(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ft(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ft(n,e){n.context.$implicit=e.item}let Ze=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new we,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){x6("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){x6("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class we{constructor(){this.$implicit=null,this.ngIf=null}}function x6(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}function A3(n,e){return new u.vHH(2100,"")}const J0=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let t6=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,s){var l;if(null==t||""===t||t!=t)return null;try{return ye(t,r,s||this.locale,null!==(l=null!=i?i:this.defaultTimezone)&&void 0!==l?l:void 0)}catch(h){throw A3()}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.soG,16),u.Y36(J0,24))},n.\u0275pipe=u.Yjl({name:"date",type:n,pure:!0}),n})(),t8=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function $4(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function F(n,e,t){return function Pt(n,e,t,r,i,s,l=!1){let h="",C=!1;if(isFinite(n)){let v=function d2(n){let r,i,s,l,h,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(h=e.length))r=[0],i=1;else{for(h--;"0"===e.charAt(h);)h--;for(i-=s,r=[],l=0;s<=h;s++,l++)r[l]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);l&&(v=function P1(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(v));let b=e.minInt,z=e.minFrac,S=e.maxFrac;if(s){const U1=s.match(xe);if(null===U1)throw new Error(`${s} is not a valid digit info`);const $1=U1[1],J1=U1[3],v2=U1[5];null!=$1&&(b=Y2($1)),null!=J1&&(z=Y2(J1)),null!=v2?S=Y2(v2):null!=J1&&z>S&&(S=z)}!function W2(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let l=s+n.integerLen,h=r[l];if(l>0){r.splice(Math.max(n.integerLen,l));for(let z=l;z<r.length;z++)r[z]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,l=s+1),r[0]=0;for(let z=1;z<l;z++)r[z]=0}if(h>=5)if(l-1<0){for(let z=0;z>l;z--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[l-1]++;for(;i<Math.max(0,s);i++)r.push(0);let C=0!==s;const v=e+n.integerLen,b=r.reduceRight(function(z,S,x,I){return I[x]=(S+=z)<10?S:S-10,C&&(0===I[x]&&x>=v?I.pop():C=!1),S>=10?1:0},0);b&&(r.unshift(b),n.integerLen++)}(v,z,S);let x=v.digits,I=v.integerLen;const K=v.exponent;let o1=[];for(C=x.every(U1=>!U1);I<b;I++)x.unshift(0);for(;I<0;I++)x.unshift(0);I>0?o1=x.splice(I,x.length):(o1=x,x=[0]);const R1=[];for(x.length>=e.lgSize&&R1.unshift(x.splice(-e.lgSize,x.length).join(""));x.length>e.gSize;)R1.unshift(x.splice(-e.gSize,x.length).join(""));x.length&&R1.unshift(x.join("")),h=R1.join(P2(t,r)),o1.length&&(h+=P2(t,i)+o1.join("")),K&&(h+=P2(t,u1.Exponential)+"+"+K)}else h=P2(t,u1.Infinity);return h=n<0&&!C?e.negPre+h+e.negSuf:e.posPre+h+e.posSuf,h}(n,function f1(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],l=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],h=l[0],C=l[1]||"";t.posPre=h.substr(0,h.indexOf("#"));for(let b=0;b<C.length;b++){const z=C.charAt(b);"0"===z?t.minFrac=t.maxFrac=b+1:"#"===z?t.maxFrac=b+1:t.posSuf+=z}const v=h.split(",");if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,s){const b=i.length-t.posPre.length-t.posSuf.length,z=s.indexOf("#");t.negPre=s.substr(0,z).replace(/'/g,""),t.negSuf=s.substr(z+b).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Re(n,e){return(0,u.cg1)(n)[u.wAp.NumberFormats][e]}(e,U.Decimal),P2(e,u1.MinusSign)),e,u1.Group,u1.Decimal,t)}(function I6(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw A3()}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.soG,16))},n.\u0275pipe=u.Yjl({name:"number",type:n,pure:!0}),n})();let n6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Z4="browser";function ht(n){return"server"===n}let r8=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new N6((0,u.LFG)(l1),window)}),n})();class N6{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cn(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=jt(this.window.history)||jt(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function jt(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Te{}class pn extends class Y4 extends class b1{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function g1(n){t1||(t1=n)}(new pn)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function i8(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==t?null:function r6(n){s8=s8||document.createElement("a"),s8.setAttribute("href",n);const e=s8.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rt(document.cookie,e)}}let s8,ae=null;const X3=new u.OlP("TRANSITION_ID"),mn=[{provide:u.ip1,useFactory:function a8(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[X3,l1,u.zs3],multi:!0}];class k{static init(){(0,u.VLi)(new k)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let s=i.length,l=!1;const h=function(C){l=l||C,s--,0==s&&r(l)};i.forEach(function(C){C.whenStable(h)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let N=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const J=new u.OlP("EventManagerPlugins");let C1=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const l=i[s];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class W1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let e2=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),T2=(()=>{class n extends e2{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,i.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Fe),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Fe))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(l1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Fe(n){R().remove(n)}const f2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ae=/%COMP%/g;function N1(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?N1(n,i,t):(i=i.replace(Ae,n),t.push(i))}return t}function U2(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ie=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new lr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new o8(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new ti(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=N1(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(C1),u.LFG(T2),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class lr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(f2[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=f2[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=f2[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,U2(r)):this.eventManager.addEventListener(e,t,U2(r))}}class o8 extends lr{constructor(e,t,r,i){super(e),this.component=r;const s=N1(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function n5(n){return"_ngcontent-%COMP%".replace(Ae,n)}(i+"-"+r.id),this.hostAttr=function gn(n){return"_nghost-%COMP%".replace(Ae,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ti extends lr{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=N1(i.id,i.styles,[]);for(let l=0;l<s.length;l++){const h=document.createElement("style");h.textContent=s[l],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Jh=(()=>{class n extends W1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(l1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ur=["alt","control","meta","shift"],hr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I3={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},a6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dr=(()=>{class n extends W1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),l=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let l="";if(ur.forEach(C=>{const v=r.indexOf(C);v>-1&&(r.splice(v,1),l+=C+".")}),l+=s,0!=r.length||0===s.length)return null;const h={};return h.domEventName=i,h.fullKey=l,h}static getEventFullKey(t){let r="",i=function r5(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&I3.hasOwnProperty(e)&&(e=I3[e]))}return hr[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ur.forEach(s=>{s!=i&&a6[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(l1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ni=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Z4},{provide:u.g9A,useValue:function Ct(){pn.makeCurrent(),k.init()},multi:!0},{provide:l1,useFactory:function Cr(){return(0,u.RDi)(document),document},deps:[]}]),ri=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function d9(){return new u.qLn},deps:[]},{provide:J,useClass:Jh,multi:!0,deps:[l1,u.R0b,u.Lbi]},{provide:J,useClass:dr,multi:!0,deps:[l1]},{provide:Ie,useClass:Ie,deps:[C1,T2,u.AFp]},{provide:u.FYo,useExisting:Ie},{provide:e2,useExisting:T2},{provide:T2,useClass:T2,deps:[l1]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:C1,useClass:C1,deps:[J,u.R0b]},{provide:Te,useClass:N,deps:[]}];let i5=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:X3,useExisting:u.AFp},mn]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:ri,imports:[n6,u.hGG]}),n})(),s5=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(l1))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ma(){return new s5((0,u.LFG)(l1))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let _n=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(ii),r},providedIn:"root"}),n})(),ii=(()=>{class n extends _n{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(l1))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function o5(n){return new ii(n.get(l1))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var Ue=A(8996),c5=A(7669);function L2(...n){const e=(0,c5.yG)(n);return(0,Ue.D)(n,e)}var C3=A(7579);class Q4 extends C3.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Ke=A(8306);const{isArray:Sa}=Array,{getPrototypeOf:Ha,prototype:Gt,keys:v9}=Object;function Be(n){if(1===n.length){const e=n[0];if(Sa(e))return{args:e,keys:null};if(function si(n){return n&&"object"==typeof n&&Ha(n)===Gt}(e)){const t=v9(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var pt=A(4671),b2=A(4004);const{isArray:gr}=Array;function xa(n){return(0,b2.U)(e=>function Ea(n,e){return gr(e)?n(...e):n(e)}(n,e))}function ai(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Ge=A(5403),l5=A(9672);function P6(n,e,t){n?(0,l5.f)(t,n,e):e()}var oi=A(576);function Mn(n,e){const t=(0,oi.m)(n)?n:()=>n,r=i=>i.error(t());return new Ke.y(e?i=>e.schedule(r,0,i):r)}const Ln=(0,A(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var h8=A(8189);function yr(...n){return function li(){return(0,h8.J)(1)}()((0,Ue.D)(n,(0,c5.yG)(n)))}var c6=A(8421);function u5(n){return new Ke.y(e=>{(0,c6.Xf)(n()).subscribe(e)})}var f5=A(515),R6=A(727),N3=A(4482);function bn(){return(0,N3.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ge.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ta extends Ke.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,N3.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new R6.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ge.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=R6.w0.EMPTY)}return e}refCount(){return bn()(this)}}function De(n,e){return(0,N3.e)((t,r)=>{let i=null,s=0,l=!1;const h=()=>l&&!i&&r.complete();t.subscribe((0,Ge.x)(r,C=>{null==i||i.unsubscribe();let v=0;const b=s++;(0,c6.Xf)(n(C,b)).subscribe(i=(0,Ge.x)(r,z=>r.next(e?e(C,z,b,v++):z),()=>{i=null,h()}))},()=>{l=!0,h()}))})}var d8=A(5698);function mt(...n){const e=(0,c5.yG)(n);return(0,N3.e)((t,r)=>{(e?yr(n,t,e):yr(n,t)).subscribe(r)})}function zn(n,e,t,r,i){return(s,l)=>{let h=t,C=e,v=0;s.subscribe((0,Ge.x)(l,b=>{const z=v++;C=h?n(C,b,z):(h=!0,b),r&&l.next(C)},i&&(()=>{h&&l.next(C),l.complete()})))}}function J4(n,e){return(0,N3.e)(zn(n,e,arguments.length>=2,!0))}function D4(n,e){return(0,N3.e)((t,r)=>{let i=0;t.subscribe((0,Ge.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}function k4(n){return(0,N3.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,Ge.x)(t,void 0,void 0,l=>{s=(0,c6.Xf)(n(l,k4(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}var n3=A(5577);function wn(n,e){return(0,oi.m)(e)?(0,n3.z)(n,e,1):(0,n3.z)(n,1)}function ui(n){return n<=0?()=>f5.E:(0,N3.e)((e,t)=>{let r=[];e.subscribe((0,Ge.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function je(n=y9){return(0,N3.e)((e,t)=>{let r=!1;e.subscribe((0,Ge.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function y9(){return new Ln}function _9(n){return(0,N3.e)((e,t)=>{let r=!1;e.subscribe((0,Ge.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function h5(n,e){const t=arguments.length>=2;return r=>r.pipe(n?D4((i,s)=>n(i,s,r)):pt.y,(0,d8.q)(1),t?_9(e):je(()=>new Ln))}var X4=A(8505);class O6{constructor(e,t){this.id=e,this.url=t}}class Vn extends O6{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _r extends O6{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class r3 extends O6{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fi extends O6{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sn extends O6{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sd extends O6{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends O6{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class et extends O6{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends O6{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d5{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class C8{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p8{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F6{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ne="primary";class Aa{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function D3(n){return new Aa(n)}const C5="ngNavigationCancelingError";function l6(n){const e=Error("NavigationCancelingError: "+n);return e[C5]=!0,e}function Ia(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const l=r[s],h=n[s];if(l.startsWith(":"))i[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Wt(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Lr(n[i],e[i]))return!1;return!0}function Lr(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Na(n){return Array.prototype.concat.apply([],n)}function br(n){return n.length>0?n[n.length-1]:null}function L3(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function G3(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Ue.D)(Promise.resolve(n)):L2(n)}const m8={exact:function Da(n,e,t){if(!u6(n.segments,e.segments)||!U6(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Da(n.children[r],e.children[r],t))return!1;return!0},subset:zr},p5={exact:function mi(n,e){return Wt(n,e)},subset:function gi(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Lr(n[t],e[t]))},ignored:()=>!0};function En(n,e,t){return m8[t.paths](n.root,e.root,t.matrixParams)&&p5[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zr(n,e,t){return vi(n,e,e.segments,t)}function vi(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!u6(i,t)||e.hasChildren()||!U6(i,t,r))}if(n.segments.length===t.length){if(!u6(n.segments,t)||!U6(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!zr(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(u6(n.segments,i)&&U6(n.segments,i,r)&&n.children[ne])&&vi(n.children[ne],e,s,r)}}function U6(n,e,t){return e.every((r,i)=>p5[t](n[i].parameters,r.parameters))}class B6{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=D3(this.queryParams)),this._queryParamMap}toString(){return L9.serialize(this)}}class X2{constructor(e,t){this.segments=e,this.children=t,this.parent=null,L3(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return g5(this)}}class c3{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=D3(this.parameters)),this._parameterMap}toString(){return _5(this)}}function u6(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class m5{}class wr{parse(e){const t=new z9(e);return new B6(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${gt(e.root,!0)}`,r=function Ra(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${v5(t)}=${v5(i)}`).join("&"):`${v5(t)}=${v5(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function xn(n){return encodeURI(n)}(e.fragment)}`:""}`}}const L9=new wr;function g5(n){return n.segments.map(e=>_5(e)).join("/")}function gt(n,e){if(!n.hasChildren())return g5(n);if(e){const t=n.children[ne]?gt(n.children[ne],!1):"",r=[];return L3(n.children,(i,s)=>{s!==ne&&r.push(`${s}:${gt(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function yi(n,e){let t=[];return L3(n.children,(r,i)=>{i===ne&&(t=t.concat(e(r,i)))}),L3(n.children,(r,i)=>{i!==ne&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ne?[gt(n.children[ne],!1)]:[`${i}:${gt(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ne]?`${g5(n)}/${t[0]}`:`${g5(n)}/(${t.join("//")})`}}function j6(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function v5(n){return j6(n).replace(/%3B/gi,";")}function _i(n){return j6(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function y5(n){return decodeURIComponent(n)}function g8(n){return y5(n.replace(/\+/g,"%20"))}function _5(n){return`${_i(n.path)}${function Pa(n){return Object.keys(n).map(e=>`;${_i(e)}=${_i(n[e])}`).join("")}(n.parameters)}`}const Mi=/^[^\/()?;=#]+/;function f6(n){const e=n.match(Mi);return e?e[0]:""}const v8=/^[^=?&#]+/,Oa=/^[^&#]+/;class z9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new X2([],{}):new X2([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ne]=new X2(e,t)),r}parseSegment(){const e=f6(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new c3(y5(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=f6(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=f6(this.remaining);i&&(r=i,this.capture(r))}e[y5(t)]=y5(r)}parseQueryParam(e){const t=function b9(n){const e=n.match(v8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Fa(n){const e=n.match(Oa);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=g8(t),s=g8(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=f6(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[ne]:new X2([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ua{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Li(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Li(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=M5(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return M5(e,this._root).map(t=>t.value)}}function Li(n,e){if(n===e.value)return e;for(const t of e.children){const r=Li(n,t);if(r)return r}return null}function M5(n,e){if(n===e.value)return[e];for(const t of e.children){const r=M5(n,t);if(r.length)return r.unshift(e),r}return[]}class h6{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function d6(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Vr extends Ua{constructor(e,t){super(e),this.snapshot=t,Hr(this,e)}toString(){return this.snapshot.toString()}}function Tn(n,e){const t=function w9(n,e){const l=new q6([],{},{},"",{},ne,e,null,n.root,-1,{});return new bi("",new h6(l,[]))}(n,e),r=new Q4([new c3("",{})]),i=new Q4({}),s=new Q4({}),l=new Q4({}),h=new Q4(""),C=new L5(r,i,l,h,s,ne,e,t.root);return C.snapshot=t.root,new Vr(new h6(C,[]),t)}class L5{constructor(e,t,r,i,s,l,h,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=h,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,b2.U)(e=>D3(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,b2.U)(e=>D3(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function V9(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Sr(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class q6{constructor(e,t,r,i,s,l,h,C,v,b,z){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=h,this.routeConfig=C,this._urlSegment=v,this._lastPathIndex=b,this._resolve=z}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=D3(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=D3(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bi extends Ua{constructor(e,t){super(t),this.url=e,Hr(this,t)}toString(){return zi(this._root)}}function Hr(n,e){e.value._routerState=n,e.children.forEach(t=>Hr(n,t))}function zi(n){const e=n.children.length>0?` { ${n.children.map(zi).join(", ")} } `:"";return`${n.value}${e}`}function C6(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Wt(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Wt(e.params,t.params)||n.params.next(t.params),function Ci(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Wt(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Wt(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wi(n,e){const t=Wt(n.params,e.params)&&function ka(n,e){return u6(n,e)&&n.every((t,r)=>Wt(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wi(n.parent,e.parent))}function y8(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function S9(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return y8(n,r,i);return y8(n,r)})}(n,e,t);return new h6(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>y8(n,h)),l}}const r=function H9(n){return new L5(new Q4(n.url),new Q4(n.params),new Q4(n.queryParams),new Q4(n.fragment),new Q4(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>y8(n,s));return new h6(r,i)}}function vt(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function b5(n){return"object"==typeof n&&null!=n&&n.outlets}function _8(n,e,t,r,i){let s={};if(r&&L3(r,(h,C)=>{s[C]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),n===e)return new B6(t,s,i);const l=ja(n,e,t);return new B6(l,s,i)}function ja(n,e,t){const r={};return L3(n.children,(i,s)=>{r[s]=i===e?t:ja(i,e,t)}),new X2(n.segments,r)}class Vi{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&vt(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(b5);if(i&&i!==br(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class M8{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function $a(n,e,t){if(n||(n=new X2([],{})),0===n.segments.length&&n.hasChildren())return Er(n,e,t);const r=function cd(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const l=n.segments[i],h=t[r];if(b5(h))break;const C=`${h}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===C)break;if(C&&v&&"object"==typeof v&&void 0===v.outlets){if(!_t(C,v,l))return s;r+=2}else{if(!_t(C,{},l))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new X2(n.segments.slice(0,r.pathIndex),{});return s.children[ne]=new X2(n.segments.slice(r.pathIndex),n.children),Er(s,0,i)}return r.match&&0===i.length?new X2(n.segments,{}):r.match&&!n.hasChildren()?Za(n,e,t):r.match?Er(n,0,i):Za(n,e,t)}function Er(n,e,t){if(0===t.length)return new X2(n.segments,{});{const r=function Wa(n){return b5(n[0])?n[0].outlets:{[ne]:n}}(t),i={};return L3(r,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[l]=$a(n.children[l],e,s))}),L3(n.children,(s,l)=>{void 0===r[l]&&(i[l]=s)}),new X2(n.segments,i)}}function Za(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(b5(s)){const C=yt(s.outlets);return new X2(r,C)}if(0===i&&vt(t[0])){r.push(new c3(n.segments[e].path,Si(t[0]))),i++;continue}const l=b5(s)?s.outlets[ne]:`${s}`,h=i<t.length-1?t[i+1]:null;l&&h&&vt(h)?(r.push(new c3(l,Si(h))),i+=2):(r.push(new c3(l,{})),i++)}return new X2(r,{})}function yt(n){const e={};return L3(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Za(new X2([],{}),0,t))}),e}function Si(n){const e={};return L3(n,(t,r)=>e[r]=`${t}`),e}function _t(n,e,t){return n==t.path&&Wt(e,t.parameters)}class Ka{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),C6(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=d6(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,i[l],r),delete i[l]}),L3(i,(s,l)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=d6(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);if(r&&r.outlet){const l=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=d6(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=d6(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new F6(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Mr(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(C6(i),i===s)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),C6(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=function xr(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),C=h?h.module.componentFactoryResolver:null;l.attachRef=null,l.route=i,l.resolver=C,l.outlet&&l.outlet.activateWith(i,C),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Tr{constructor(e,t){this.routes=e,this.module=t}}function In(n){return"function"==typeof n}function z5(n){return n instanceof B6}const Ar=Symbol("INITIAL_VALUE");function w5(){return De(n=>function vr(...n){const e=(0,c5.yG)(n),t=(0,c5.jO)(n),{args:r,keys:i}=Be(n);if(0===r.length)return(0,Ue.D)([],e);const s=new Ke.y(function k6(n,e,t=pt.y){return r=>{P6(e,()=>{const{length:i}=n,s=new Array(i);let l=i,h=i;for(let C=0;C<i;C++)P6(e,()=>{const v=(0,Ue.D)(n[C],e);let b=!1;v.subscribe((0,Ge.x)(r,z=>{s[C]=z,b||(b=!0,h--),h||r.next(t(s.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>ai(i,l):pt.y));return t?s.pipe(xa(t)):s}(n.map(e=>e.pipe((0,d8.q)(1),mt(Ar)))).pipe(J4((e,t)=>{let r=!1;return t.reduce((i,s,l)=>i!==Ar?i:(s===Ar&&(r=!0),r||!1!==s&&l!==t.length-1&&!z5(s)?i:s),e)},Ar),D4(e=>e!==Ar),(0,b2.U)(e=>z5(e)?e:!0===e),(0,d8.q)(1)))}class x9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new V5,this.attachRef=null}}class V5{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new x9,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let b8=(()=>{class n{constructor(t,r,i,s,l){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=s||ne,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const l=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,C=new T9(t,h,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(V5),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class T9{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===L5?this.route:e===V5?this.childContexts:this.parent.get(e,t)}}let Ir=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[b8],encapsulation:2}),n})();function Nn(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Nr(r,xi(e,r))}}function Nr(n,e){n.children&&Nn(n.children,e)}function xi(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Ti(n){const e=n.children&&n.children.map(Ti),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=Ir),t}function oe(n){return n.outlet||ne}function Ai(n,e){const t=n.filter(r=>oe(r)===e);return t.push(...n.filter(r=>oe(r)!==e)),t}const Qa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function S5(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Qa):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Ia)(t,n,e);if(!s)return Object.assign({},Qa);const l={};L3(s.posParams,(C,v)=>{l[v]=C.path});const h=s.consumed.length>0?Object.assign(Object.assign({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function H5(n,e,t,r,i="corrected"){if(t.length>0&&function N9(n,e,t){return t.some(r=>Dn(n,e,r)&&oe(r)!==ne)}(n,t,r)){const l=new X2(e,function I9(n,e,t,r){const i={};i[ne]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&oe(s)!==ne){const l=new X2([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[oe(s)]=l}return i}(n,e,r,new X2(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function D9(n,e,t){return t.some(r=>Dn(n,e,r))}(n,t,r)){const l=new X2(n.segments,function A9(n,e,t,r,i,s){const l={};for(const h of r)if(Dn(n,t,h)&&!i[oe(h)]){const C=new X2([],{});C._sourceSegment=n,C._segmentIndexShift="legacy"===s?n.segments.length:e.length,l[oe(h)]=C}return Object.assign(Object.assign({},i),l)}(n,e,t,r,n.children,i));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const s=new X2(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Dn(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function k9(n,e,t,r){return!!(oe(n)===r||r!==ne&&Dn(e,t,n))&&("**"===n.path||S5(e,n,t).matched)}function Ja(n,e,t){return 0===e.length&&!n.children[t]}class G6{constructor(e){this.segmentGroup=e||null}}class e4{constructor(e){this.urlTree=e}}function kn(n){return Mn(new G6(n))}function Ii(n){return Mn(new e4(n))}class Dr{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=H5(this.urlTree.root,[],[],this.config).segmentGroup,t=new X2(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ne).pipe((0,b2.U)(s=>this.createUrlTree(z8(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(k4(s=>{if(s instanceof e4)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof G6?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ne).pipe((0,b2.U)(i=>this.createUrlTree(z8(i),e.queryParams,e.fragment))).pipe(k4(i=>{throw i instanceof G6?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new X2([],{[ne]:e}):e;return new B6(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,b2.U)(s=>new X2([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,Ue.D)(i).pipe(wn(s=>{const l=r.children[s],h=Ai(t,s);return this.expandSegmentGroup(e,h,l,s).pipe((0,b2.U)(C=>({segment:C,outlet:s})))}),J4((s,l)=>(s[l.outlet]=l.segment,s),{}),function id(n,e){const t=arguments.length>=2;return r=>r.pipe(n?D4((i,s)=>n(i,s,r)):pt.y,ui(1),t?_9(e):je(()=>new Ln))}())}expandSegment(e,t,r,i,s,l){return(0,Ue.D)(r).pipe(wn(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,s,l).pipe(k4(v=>{if(v instanceof G6)return L2(null);throw v}))),h5(h=>!!h),k4((h,C)=>{if(h instanceof Ln||"EmptyError"===h.name)return Ja(t,i,s)?L2(new X2([],{})):kn(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,s,l,h){return k9(i,t,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,l):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l):kn(t):kn(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ii(s):this.lineralizeSegments(r,s).pipe((0,n3.z)(l=>{const h=new X2(l,{});return this.expandSegment(e,h,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l){const{matched:h,consumedSegments:C,remainingSegments:v,positionalParamSegments:b}=S5(t,i,s);if(!h)return kn(t);const z=this.applyRedirectCommands(C,i.redirectTo,b);return i.redirectTo.startsWith("/")?Ii(z):this.lineralizeSegments(i,z).pipe((0,n3.z)(S=>this.expandSegment(e,t,r,S.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?L2(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,b2.U)(z=>(r._loadedConfig=z,new X2(i,{})))):L2(new X2(i,{}));const{matched:l,consumedSegments:h,remainingSegments:C}=S5(t,r,i);return l?this.getChildConfig(e,r,i).pipe((0,n3.z)(b=>{const z=b.module,S=b.routes,{segmentGroup:x,slicedSegments:I}=H5(t,h,C,S),K=new X2(x.segments,x.children);if(0===I.length&&K.hasChildren())return this.expandChildren(z,S,K).pipe((0,b2.U)($1=>new X2(h,$1)));if(0===S.length&&0===I.length)return L2(new X2(h,{}));const o1=oe(r)===s;return this.expandSegment(z,K,S,I,o1?ne:s,!0).pipe((0,b2.U)(U1=>new X2(h.concat(U1.segments),U1.children)))})):kn(t)}getChildConfig(e,t,r){return t.children?L2(new Tr(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?L2(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,n3.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,b2.U)(s=>(t._loadedConfig=s,s))):function k3(n){return Mn(l6(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):L2(new Tr([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?L2(i.map(l=>{const h=e.get(l);let C;if(function Hi(n){return n&&In(n.canLoad)}(h))C=h.canLoad(t,r);else{if(!In(h))throw new Error("Invalid CanLoad guard");C=h(t,r)}return G3(C)})).pipe(w5(),(0,X4.b)(l=>{if(!z5(l))return;const h=l6(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw h.url=l,h}),(0,b2.U)(l=>!0===l)):L2(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return L2(r);if(i.numberOfChildren>1||!i.children[ne])return Mn(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[ne]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new B6(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return L3(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=t[h]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let l={};return L3(t.children,(h,C)=>{l[C]=this.createSegmentGroup(e,h,r,i)}),new X2(s,l)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function z8(n){const e={};for(const r of Object.keys(n.children)){const s=z8(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function P9(n){if(1===n.numberOfChildren&&n.children[ne]){const e=n.children[ne];return new X2(n.segments.concat(e.segments),e.children)}return n}(new X2(n.segments,e))}class p4{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class m6{constructor(e,t){this.component=e,this.route=t}}function e7(n,e,t){const r=n._root;return Rn(r,e?e._root:null,t,[r.value])}function E5(n,e,t){const r=function Di(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Rn(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=d6(e);return n.children.forEach(l=>{(function n7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const C=function R9(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!u6(n.url,e.url);case"pathParamsOrQueryParamsChange":return!u6(n.url,e.url)||!Wt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wi(n,e)||!Wt(n.queryParams,e.queryParams);default:return!wi(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);C?i.canActivateChecks.push(new p4(r)):(s.data=l.data,s._resolvedData=l._resolvedData),Rn(n,e,s.component?h?h.children:null:t,r,i),C&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new m6(h.outlet.component,l))}else l&&m4(e,h,i),i.canActivateChecks.push(new p4(r)),Rn(n,null,s.component?h?h.children:null:t,r,i)})(l,s[l.value.outlet],t,r.concat([l.value]),i),delete s[l.value.outlet]}),L3(s,(l,h)=>m4(l,t.getContext(h),i)),i}function m4(n,e,t){const r=d6(n),i=n.value;L3(r,(s,l)=>{m4(s,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new m6(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class s7{}function $t(n){return new Ke.y(e=>e.error(n))}class a7{constructor(e,t,r,i,s,l){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l}recognize(){const e=H5(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ne);if(null===t)return null;const r=new q6([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new h6(r,t),s=new bi(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=V9(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const l=t.children[s],h=Ai(e,s),C=this.processSegmentGroup(h,l,s);if(null===C)return null;r.push(...C)}const i=c7(r);return function o7(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const l=this.processSegmentAgainstRoute(s,t,r,i);if(null!==l)return l}return Ja(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!k9(e,t,r,i))return null;let s,l=[],h=[];if("**"===e.path){const x=r.length>0?br(r).parameters:{};s=new q6(r,x,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),oe(e),e.component,e,On(t),Mt(t)+r.length,p(e))}else{const x=S5(t,e,r);if(!x.matched)return null;l=x.consumedSegments,h=x.remainingSegments,s=new q6(l,x.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),oe(e),e.component,e,On(t),Mt(t)+l.length,p(e))}const C=function U9(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:v,slicedSegments:b}=H5(t,l,h,C.filter(x=>void 0===x.redirectTo),this.relativeLinkResolution);if(0===b.length&&v.hasChildren()){const x=this.processChildren(C,v);return null===x?null:[new h6(s,x)]}if(0===C.length&&0===b.length)return[new h6(s,[])];const z=oe(e)===i,S=this.processSegment(C,v,b,z?ne:i);return null===S?null:[new h6(s,S)]}}function Ri(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function c7(n){const e=[],t=new Set;for(const r of n){if(!Ri(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=c7(r.children);e.push(new h6(r.value,i))}return e.filter(r=>!t.has(r))}function On(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Mt(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function y(n){return n.data||{}}function p(n){return n.resolve||{}}function X(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Y1(n){return De(e=>{const t=n(e);return t?(0,Ue.D)(t).pipe((0,b2.U)(()=>e)):L2(e)})}class H2 extends class A2{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ye=new u.OlP("ROUTES");class v4{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,b2.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const l=s.create(e);return new Tr(Na(l.injector.get(Ye,void 0,u.XFs.Self|u.XFs.Optional)).map(Ti),l)}),k4(s=>{throw t._loader$=void 0,s}));return t._loader$=new Ta(i,()=>new C3.x).pipe(bn()),t._loader$}loadModuleFactory(e){return G3(e()).pipe((0,n3.z)(t=>t instanceof u.YKP?L2(t):(0,Ue.D)(this.compiler.compileModuleAsync(t))))}}class B9{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function W6(n){throw n}function Pr(n,e,t){return e.parse("/")}function Rr(n,e){return L2(null)}const Oi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Or={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let P3=(()=>{class n{constructor(t,r,i,s,l,h,C){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new C3.x,this.errorHandler=W6,this.malformedUriErrorHandler=Pr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Rr,afterPreactivation:Rr},this.urlHandlingStrategy=new B9,this.routeReuseStrategy=new H2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(u.h0i),this.console=l.get(u.c2e);const z=l.get(u.R0b);this.isNgZoneEnabled=z instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=function od(){return new B6(new X2([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new v4(l,h,S=>this.triggerEvent(new d5(S)),S=>this.triggerEvent(new Hn(S))),this.routerState=Tn(this.currentUrlTree,this.rootComponentType),this.transitions=new Q4({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(D4(i=>0!==i.id),(0,b2.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),De(i=>{let s=!1,l=!1;return L2(i).pipe((0,X4.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),De(h=>{const C=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Ui(h.source)&&(this.browserUrlTree=h.extractedUrl),L2(h).pipe(De(z=>{const S=this.transitions.getValue();return r.next(new Vn(z.id,this.serializeUrl(z.extractedUrl),z.source,z.restoredState)),S!==this.transitions.getValue()?f5.E:Promise.resolve(z)}),function Xa(n,e,t,r){return De(i=>function Pn(n,e,t,r,i){return new Dr(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,b2.U)(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,X4.b)(z=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:z.urlAfterRedirects})}),function g(n,e,t,r,i){return(0,n3.z)(s=>function w8(n,e,t,r,i="emptyOnly",s="legacy"){try{const l=new a7(n,e,t,r,i,s).recognize();return null===l?$t(new s7):L2(l)}catch(l){return $t(l)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe((0,b2.U)(l=>Object.assign(Object.assign({},s),{targetSnapshot:l}))))}(this.rootComponentType,this.config,z=>this.serializeUrl(z),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,X4.b)(z=>{if("eager"===this.urlUpdateStrategy){if(!z.extras.skipLocationChange){const x=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl);this.setBrowserUrl(x,z)}this.browserUrlTree=z.urlAfterRedirects}const S=new Sn(z.id,this.serializeUrl(z.extractedUrl),this.serializeUrl(z.urlAfterRedirects),z.targetSnapshot);r.next(S)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:x,source:I,restoredState:K,extras:o1}=h,R1=new Vn(S,this.serializeUrl(x),I,K);r.next(R1);const U1=Tn(x,this.rootComponentType).snapshot;return L2(Object.assign(Object.assign({},h),{targetSnapshot:U1,urlAfterRedirects:x,extras:Object.assign(Object.assign({},o1),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),f5.E}),Y1(h=>{const{targetSnapshot:C,id:v,extractedUrl:b,rawUrl:z,extras:{skipLocationChange:S,replaceUrl:x}}=h;return this.hooks.beforePreactivation(C,{navigationId:v,appliedUrlTree:b,rawUrlTree:z,skipLocationChange:!!S,replaceUrl:!!x})}),(0,X4.b)(h=>{const C=new sd(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(C)}),(0,b2.U)(h=>Object.assign(Object.assign({},h),{guards:e7(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function r7(n,e){return(0,n3.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?L2(Object.assign(Object.assign({},t),{guardsResult:!0})):function O9(n,e,t,r){return(0,Ue.D)(n).pipe((0,n3.z)(i=>function Pi(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?L2(s.map(h=>{const C=E5(h,e,i);let v;if(function ld(n){return n&&In(n.canDeactivate)}(C))v=G3(C.canDeactivate(n,e,t,r));else{if(!In(C))throw new Error("Invalid CanDeactivate guard");v=G3(C(n,e,t,r))}return v.pipe(h5())})).pipe(w5()):L2(!0)}(i.component,i.route,t,e,r)),h5(i=>!0!==i,!0))}(l,r,i,n).pipe((0,n3.z)(h=>h&&function Ya(n){return"boolean"==typeof n}(h)?function kr(n,e,t,r){return(0,Ue.D)(e).pipe(wn(i=>yr(function i7(n,e){return null!==n&&e&&e(new C8(n)),L2(!0)}(i.route.parent,r),function F9(n,e){return null!==n&&e&&e(new p8(n)),L2(!0)}(i.route,r),function ki(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function t7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>u5(()=>L2(l.guards.map(C=>{const v=E5(C,l.node,t);let b;if(function Ei(n){return n&&In(n.canActivateChild)}(v))b=G3(v.canActivateChild(r,n));else{if(!In(v))throw new Error("Invalid CanActivateChild guard");b=G3(v(r,n))}return b.pipe(h5())})).pipe(w5())));return L2(s).pipe(w5())}(n,i.path,t),function g4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return L2(!0);const i=r.map(s=>u5(()=>{const l=E5(s,e,t);let h;if(function L8(n){return n&&In(n.canActivate)}(l))h=G3(l.canActivate(e,n));else{if(!In(l))throw new Error("Invalid CanActivate guard");h=G3(l(e,n))}return h.pipe(h5())}));return L2(i).pipe(w5())}(n,i.route,t))),h5(i=>!0!==i,!0))}(r,s,n,e):L2(h)),(0,b2.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,X4.b)(h=>{if(z5(h.guardsResult)){const v=l6(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw v.url=h.guardsResult,v}const C=new hi(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(C)}),D4(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Y1(h=>{if(h.guards.canActivateChecks.length)return L2(h).pipe((0,X4.b)(C=>{const v=new et(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(v)}),De(C=>{let v=!1;return L2(C).pipe(function M(n,e){return(0,n3.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return L2(t);let s=0;return(0,Ue.D)(i).pipe(wn(l=>function V(n,e,t,r){return function T(n,e,t,r){const i=X(n);if(0===i.length)return L2({});const s={};return(0,Ue.D)(i).pipe((0,n3.z)(l=>function M1(n,e,t,r){const i=E5(n,e,r);return G3(i.resolve?i.resolve(e,t):i(e,t))}(n[l],e,t,r).pipe((0,X4.b)(h=>{s[l]=h}))),ui(1),(0,n3.z)(()=>X(s).length===i.length?L2(s):f5.E))}(n._resolve,n,e,r).pipe((0,b2.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),V9(n,t).resolve),null)))}(l.route,r,n,e)),(0,X4.b)(()=>s++),ui(1),(0,n3.z)(l=>s===i.length?L2(t):f5.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,X4.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,X4.b)(C=>{const v=new tt(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(v)}))}),Y1(h=>{const{targetSnapshot:C,id:v,extractedUrl:b,rawUrl:z,extras:{skipLocationChange:S,replaceUrl:x}}=h;return this.hooks.afterPreactivation(C,{navigationId:v,appliedUrlTree:b,rawUrlTree:z,skipLocationChange:!!S,replaceUrl:!!x})}),(0,b2.U)(h=>{const C=function Ba(n,e,t){const r=y8(n,e._root,t?t._root:void 0);return new Vr(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:C})}),(0,X4.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,b2.U)(r=>(new Ka(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,X4.b)({next(){s=!0},complete(){s=!0}}),function M9(n){return(0,N3.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var h;s||l||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===i.id&&(this.currentNavigation=null)}),k4(h=>{if(l=!0,function ad(n){return n&&n[C5]}(h)){const C=z5(h.url);C||(this.navigated=!0,this.restoreHistory(i,!0));const v=new r3(i.id,this.serializeUrl(i.extractedUrl),h.message);r.next(v),C?setTimeout(()=>{const b=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),z={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ui(i.source)};this.scheduleNavigation(b,"imperative",null,z,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const C=new fi(i.id,this.serializeUrl(i.extractedUrl),h);r.next(C);try{i.resolve(this.errorHandler(h))}catch(v){i.reject(v)}}return f5.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},l=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(l){const C=Object.assign({},l);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(s.state=C)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,l,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Nn(t),this.config=t.map(Ti),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:l,queryParamsHandling:h,preserveFragment:C}=r,v=i||this.routerState.root,b=C?this.currentUrlTree.fragment:l;let z=null;switch(h){case"merge":z=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":z=this.currentUrlTree.queryParams;break;default:z=s||null}return null!==z&&(z=this.removeEmptyProps(z)),function p6(n,e,t,r,i){if(0===t.length)return _8(e.root,e.root,e.root,r,i);const s=function E9(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Vi(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return L3(s.outlets,(C,v)=>{h[v]="string"==typeof C?C.split("/"):C}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===l?(s.split("/").forEach((h,C)=>{0==C&&"."===h||(0==C&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new Vi(t,e,r)}(t);if(s.toRoot())return _8(e.root,e.root,new X2([],{}),r,i);const l=function qa(n,e,t){if(n.isAbsolute)return new M8(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new M8(s,s===e.root,0)}const r=vt(n.commands[0])?0:1;return function Ga(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new M8(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),h=l.processChildren?Er(l.segmentGroup,l.index,s.commands):$a(l.segmentGroup,l.index,s.commands);return _8(e.root,l.segmentGroup,h,r,i)}(v,this.currentUrlTree,t,z,null!=b?b:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=z5(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Fi(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Oi):!1===r?Object.assign({},Or):r,z5(t))return En(this.currentUrlTree,t,i);const s=this.parseUrl(t);return En(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new _r(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,l){var h,C;if(this.disposed)return Promise.resolve(!1);let v,b,z;l?(v=l.resolve,b=l.reject,z=l.promise):z=new Promise((I,K)=>{v=I,b=K});const S=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),x=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):x=0,this.setTransition({id:S,targetPageId:x,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:v,reject:b,promise:z,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),z.catch(I=>Promise.reject(I))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===l?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new r3(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Ui(n){return"imperative"!==n}let Bi=(()=>{class n{constructor(t,r,i,s,l){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=l,this.commands=null,this.onChanges=new C3.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:x5(this.skipLocationChange),replaceUrl:x5(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:x5(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(P3),u.Y36(L5),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})(),Fn=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new C3.x,this.subscription=t.events.subscribe(s=>{s instanceof _r&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,l){if(0!==t||r||i||s||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:x5(this.skipLocationChange),replaceUrl:x5(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:x5(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(P3),u.Y36(L5),u.Y36(m1))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function x5(n){return""===n||!!n}let l7=(()=>{class n{constructor(t,r,i,s,l,h){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=l,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(C=>{C instanceof _r&&this.update()})}ngAfterContentInit(){L2(this.links.changes,this.linksWithHrefs.changes,L2(null)).pipe((0,h8.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Ue.D)(r).pipe((0,h8.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function j9(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(P3),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Bi,8),u.Y36(Fn,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,Bi,5),u.Suo(i,Fn,5)),2&t){let s;u.iGM(s=u.CRH())&&(r.links=s),u.iGM(s=u.CRH())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[u.TTD]}),n})();class q9{}class fd{preload(e,t){return L2(null)}}let hd=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new v4(i,r,C=>t.triggerEvent(new d5(C)),C=>t.triggerEvent(new Hn(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(D4(t=>t instanceof _r),wn(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const l=s._loadedConfig;i.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return(0,Ue.D)(i).pipe((0,h8.J)(),(0,b2.U)(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?L2(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,n3.z)(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(P3),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(q9))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),u7=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _r&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof di&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new di(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Lt=new u.OlP("ROUTER_CONFIGURATION"),W9=new u.OlP("ROUTER_FORROOT_GUARD"),dd=[H1,{provide:m5,useClass:wr},{provide:P3,useFactory:function Z9(n,e,t,r,i,s,l={},h,C){const v=new P3(null,n,e,t,r,i,Na(s));return h&&(v.urlHandlingStrategy=h),C&&(v.routeReuseStrategy=C),function md(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,v),l.enableTracing&&v.events.subscribe(b=>{var z,S;null===(z=console.group)||void 0===z||z.call(console,`Router Event: ${b.constructor.name}`),console.log(b.toString()),console.log(b),null===(S=console.groupEnd)||void 0===S||S.call(console)}),v},deps:[m5,V5,H1,u.zs3,u.Sil,Ye,Lt,[class V8{},new u.FiY],[class l2{},new u.FiY]]},V5,{provide:L5,useFactory:function f7(n){return n.routerState.root},deps:[P3]},hd,fd,class G9{preload(e,t){return t().pipe(k4(()=>L2(null)))}},{provide:Lt,useValue:{enableTracing:!1}}];function oM(){return new u.PXZ("Router",P3)}let ji=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[dd,$9(t),{provide:W9,useFactory:pd,deps:[[P3,new u.FiY,new u.tp0]]},{provide:Lt,useValue:r||{}},{provide:m1,useFactory:Cd,deps:[p1,[new u.tBr(o2),new u.FiY],Lt]},{provide:u7,useFactory:cM,deps:[P3,r8,Lt]},{provide:q9,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:fd},{provide:u.PXZ,multi:!0,useFactory:oM},[Fr,{provide:u.ip1,multi:!0,useFactory:gd,deps:[Fr]},{provide:Y9,useFactory:K9,deps:[Fr]},{provide:u.tb,multi:!0,useExisting:Y9}]]}}static forChild(t){return{ngModule:n,providers:[$9(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W9,8),u.LFG(P3,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function cM(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new u7(n,e,t)}function Cd(n,e,t={}){return t.useHash?new A1(n,e):new t2(n,e)}function pd(n){return"guarded"}function $9(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Ye,multi:!0,useValue:n}]}let Fr=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new C3.x}appInitializer(){return this.injector.get(W,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(h=>r=h),s=this.injector.get(P3),l=this.injector.get(Lt);return"disabled"===l.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?L2(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Lt),i=this.injector.get(hd),s=this.injector.get(u7),l=this.injector.get(P3),h=this.injector.get(u.z2F);t===h.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&l.initialNavigation(),i.setUpPreloading(),s.init(),l.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function gd(n){return n.appInitializer.bind(n)}function K9(n){return n.bootstrapListener.bind(n)}const Y9=new u.OlP("Router Initializer");var w1=A(5861),z7={prefix:"fas",iconName:"award",icon:[384,512,[],"f559","M288 358.3c13.98-8.088 17.53-30.04 28.88-41.39c11.35-11.35 33.3-14.88 41.39-28.87c7.98-13.79 .1658-34.54 4.373-50.29C366.7 222.5 383.1 208.5 383.1 192c0-16.5-17.27-30.52-21.34-45.73c-4.207-15.75 3.612-36.5-4.365-50.29c-8.086-13.98-30.03-17.52-41.38-28.87c-11.35-11.35-14.89-33.3-28.87-41.39c-13.79-7.979-34.54-.1637-50.29-4.375C222.5 17.27 208.5 0 192 0C175.5 0 161.5 17.27 146.3 21.34C130.5 25.54 109.8 17.73 95.98 25.7C82 33.79 78.46 55.74 67.11 67.08C55.77 78.43 33.81 81.97 25.72 95.95C17.74 109.7 25.56 130.5 21.35 146.2C17.27 161.5 .0008 175.5 .0008 192c0 16.5 17.27 30.52 21.34 45.73c4.207 15.75-3.615 36.5 4.361 50.29C33.8 302 55.74 305.5 67.08 316.9c11.35 11.35 14.89 33.3 28.88 41.4c13.79 7.979 34.53 .1582 50.28 4.369C161.5 366.7 175.5 384 192 384c16.5 0 30.52-17.27 45.74-21.34C253.5 358.5 274.2 366.3 288 358.3zM112 192c0-44.27 35.81-80 80-80s80 35.73 80 80c0 44.17-35.81 80-80 80S112 236.2 112 192zM1.719 433.2c-3.25 8.188-1.781 17.48 3.875 24.25c5.656 6.75 14.53 9.898 23.12 8.148l45.19-9.035l21.43 42.27C99.46 507 107.6 512 116.7 512c.3438 0 .6641-.0117 1.008-.0273c9.5-.375 17.65-6.082 21.24-14.88l33.58-82.08c-53.71-4.639-102-28.12-138.2-63.95L1.719 433.2zM349.6 351.1c-36.15 35.83-84.45 59.31-138.2 63.95l33.58 82.08c3.594 8.797 11.74 14.5 21.24 14.88C266.6 511.1 266.1 512 267.3 512c9.094 0 17.23-4.973 21.35-13.14l21.43-42.28l45.19 9.035c8.594 1.75 17.47-1.398 23.12-8.148c5.656-6.766 7.125-16.06 3.875-24.25L349.6 351.1z"]},NC={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M320 336c0 8.844-7.156 16-16 16h-96C199.2 352 192 344.8 192 336V288H0v144C0 457.6 22.41 480 48 480h416c25.59 0 48-22.41 48-48V288h-192V336zM464 96H384V48C384 22.41 361.6 0 336 0h-160C150.4 0 128 22.41 128 48V96H48C22.41 96 0 118.4 0 144V256h512V144C512 118.4 489.6 96 464 96zM336 96h-160V48h160V96z"]},Xi={prefix:"fas",iconName:"calendar",icon:[448,512,[128198,128197],"f133","M96 32C96 14.33 110.3 0 128 0C145.7 0 160 14.33 160 32V64H288V32C288 14.33 302.3 0 320 0C337.7 0 352 14.33 352 32V64H400C426.5 64 448 85.49 448 112V160H0V112C0 85.49 21.49 64 48 64H96V32zM448 464C448 490.5 426.5 512 400 512H48C21.49 512 0 490.5 0 464V192H448V464z"]},$p={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"]},Cl={prefix:"fas",iconName:"comment-dots",icon:[512,512,[62075,128172,"commenting"],"f4ad","M256 31.1c-141.4 0-255.1 93.12-255.1 208c0 49.62 21.35 94.98 56.97 130.7c-12.5 50.37-54.27 95.27-54.77 95.77c-2.25 2.25-2.875 5.734-1.5 8.734c1.249 3 4.021 4.766 7.271 4.766c66.25 0 115.1-31.76 140.6-51.39c32.63 12.25 69.02 19.39 107.4 19.39c141.4 0 255.1-93.13 255.1-207.1S397.4 31.1 256 31.1zM127.1 271.1c-17.75 0-32-14.25-32-31.1s14.25-32 32-32s32 14.25 32 32S145.7 271.1 127.1 271.1zM256 271.1c-17.75 0-31.1-14.25-31.1-31.1s14.25-32 31.1-32s31.1 14.25 31.1 32S273.8 271.1 256 271.1zM383.1 271.1c-17.75 0-32-14.25-32-31.1s14.25-32 32-32s32 14.25 32 32S401.7 271.1 383.1 271.1z"]},xl={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"]},us={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,61443,9993],"f0e0","M464 64C490.5 64 512 85.49 512 112C512 127.1 504.9 141.3 492.8 150.4L275.2 313.6C263.8 322.1 248.2 322.1 236.8 313.6L19.2 150.4C7.113 141.3 0 127.1 0 112C0 85.49 21.49 64 48 64H464zM217.6 339.2C240.4 356.3 271.6 356.3 294.4 339.2L512 176V384C512 419.3 483.3 448 448 448H64C28.65 448 0 419.3 0 384V176L217.6 339.2z"]},P4={prefix:"fas",iconName:"graduation-cap",icon:[640,512,[127891,"mortar-board"],"f19d","M623.1 136.9l-282.7-101.2c-13.73-4.91-28.7-4.91-42.43 0L16.05 136.9C6.438 140.4 0 149.6 0 160s6.438 19.65 16.05 23.09L76.07 204.6c-11.89 15.8-20.26 34.16-24.55 53.95C40.05 263.4 32 274.8 32 288c0 9.953 4.814 18.49 11.94 24.36l-24.83 149C17.48 471.1 25 480 34.89 480H93.11c9.887 0 17.41-8.879 15.78-18.63l-24.83-149C91.19 306.5 96 297.1 96 288c0-10.29-5.174-19.03-12.72-24.89c4.252-17.76 12.88-33.82 24.94-47.03l190.6 68.23c13.73 4.91 28.7 4.91 42.43 0l282.7-101.2C633.6 179.6 640 170.4 640 160S633.6 140.4 623.1 136.9zM351.1 314.4C341.7 318.1 330.9 320 320 320c-10.92 0-21.69-1.867-32-5.555L142.8 262.5L128 405.3C128 446.6 213.1 480 320 480c105.1 0 192-33.4 192-74.67l-14.78-142.9L351.1 314.4z"]},KN={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z"]},eD={prefix:"fas",iconName:"laptop",icon:[640,512,[128187],"f109","M128 96h384v256h64v-272c0-26.38-21.62-48-48-48h-416c-26.38 0-48 21.62-48 48V352h64V96zM624 383.1h-608c-8.75 0-16 7.25-16 16v16c0 35.25 28.75 64 64 64h512c35.25 0 64-28.75 64-64v-16C640 391.2 632.8 383.1 624 383.1z"]},cD={prefix:"fas",iconName:"location-crosshairs",icon:[512,512,["location"],"f601","M176 256C176 211.8 211.8 176 256 176C300.2 176 336 211.8 336 256C336 300.2 300.2 336 256 336C211.8 336 176 300.2 176 256zM256 0C273.7 0 288 14.33 288 32V66.65C368.4 80.14 431.9 143.6 445.3 224H480C497.7 224 512 238.3 512 256C512 273.7 497.7 288 480 288H445.3C431.9 368.4 368.4 431.9 288 445.3V480C288 497.7 273.7 512 256 512C238.3 512 224 497.7 224 480V445.3C143.6 431.9 80.14 368.4 66.65 288H32C14.33 288 0 273.7 0 256C0 238.3 14.33 224 32 224H66.65C80.14 143.6 143.6 80.14 224 66.65V32C224 14.33 238.3 0 256 0zM128 256C128 326.7 185.3 384 256 384C326.7 384 384 326.7 384 256C384 185.3 326.7 128 256 128C185.3 128 128 185.3 128 256z"]},vD={prefix:"fas",iconName:"marker",icon:[512,512,[],"f5a1","M480.1 160.1L316.3 325.7L186.3 195.7L302.1 80L288.1 66.91C279.6 57.54 264.4 57.54 255 66.91L168.1 152.1C159.6 162.3 144.4 162.3 135 152.1C125.7 143.6 125.7 128.4 135 119L221.1 32.97C249.2 4.853 294.8 4.853 322.9 32.97L336 46.06L351 31.03C386.9-4.849 445.1-4.849 480.1 31.03C516.9 66.91 516.9 125.1 480.1 160.1V160.1zM229.5 412.5C181.5 460.5 120.3 493.2 53.7 506.5L28.71 511.5C20.84 513.1 12.7 510.6 7.03 504.1C1.356 499.3-1.107 491.2 .4662 483.3L5.465 458.3C18.78 391.7 51.52 330.5 99.54 282.5L163.7 218.3L293.7 348.3L229.5 412.5z"]},Og={prefix:"fas",iconName:"mobile",icon:[384,512,[128241,"mobile-android","mobile-phone"],"f3ce","M320 0H64C37.5 0 16 21.5 16 48v416C16 490.5 37.5 512 64 512h256c26.5 0 48-21.5 48-48v-416C368 21.5 346.5 0 320 0zM240 447.1C240 456.8 232.8 464 224 464H159.1C151.2 464 144 456.8 144 448S151.2 432 160 432h64C232.8 432 240 439.2 240 447.1z"]},Qw={prefix:"fas",iconName:"reply",icon:[512,512,[61714,"mail-reply"],"f3e5","M8.31 189.9l176-151.1c15.41-13.3 39.69-2.509 39.69 18.16v80.05C384.6 137.9 512 170.1 512 322.3c0 61.44-39.59 122.3-83.34 154.1c-13.66 9.938-33.09-2.531-28.06-18.62c45.34-145-21.5-183.5-176.6-185.8v87.92c0 20.7-24.31 31.45-39.69 18.16l-176-151.1C-2.753 216.6-2.784 199.4 8.31 189.9z"]},sR={prefix:"fas",iconName:"user-tie",icon:[448,512,[],"f508","M352 128C352 198.7 294.7 256 224 256C153.3 256 96 198.7 96 128C96 57.31 153.3 0 224 0C294.7 0 352 57.31 352 128zM209.1 359.2L176 304H272L238.9 359.2L272.2 483.1L311.7 321.9C388.9 333.9 448 400.7 448 481.3C448 498.2 434.2 512 417.3 512H30.72C13.75 512 0 498.2 0 481.3C0 400.7 59.09 333.9 136.3 321.9L175.8 483.1L209.1 359.2z"]},oR={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M319.9 320c57.41 0 103.1-46.56 103.1-104c0-57.44-46.54-104-103.1-104c-57.41 0-103.1 46.56-103.1 104C215.9 273.4 262.5 320 319.9 320zM369.9 352H270.1C191.6 352 128 411.7 128 485.3C128 500.1 140.7 512 156.4 512h327.2C499.3 512 512 500.1 512 485.3C512 411.7 448.4 352 369.9 352zM512 160c44.18 0 80-35.82 80-80S556.2 0 512 0c-44.18 0-80 35.82-80 80S467.8 160 512 160zM183.9 216c0-5.449 .9824-10.63 1.609-15.91C174.6 194.1 162.6 192 149.9 192H88.08C39.44 192 0 233.8 0 285.3C0 295.6 7.887 304 17.62 304h199.5C196.7 280.2 183.9 249.7 183.9 216zM128 160c44.18 0 80-35.82 80-80S172.2 0 128 0C83.82 0 48 35.82 48 80S83.82 160 128 160zM551.9 192h-61.84c-12.8 0-24.88 3.037-35.86 8.24C454.8 205.5 455.8 210.6 455.8 216c0 33.71-12.78 64.21-33.16 88h199.7C632.1 304 640 295.6 640 285.3C640 233.8 600.6 192 551.9 192z"]},LR={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M507.6 122.8c-2.904-12.09-18.25-16.13-27.04-7.338l-76.55 76.56l-83.1-.0002l0-83.1l76.55-76.56c8.791-8.789 4.75-24.14-7.336-27.04c-23.69-5.693-49.34-6.111-75.92 .2484c-61.45 14.7-109.4 66.9-119.2 129.3C189.8 160.8 192.3 186.7 200.1 210.1l-178.1 178.1c-28.12 28.12-28.12 73.69 0 101.8C35.16 504.1 53.56 512 71.1 512s36.84-7.031 50.91-21.09l178.1-178.1c23.46 7.736 49.31 10.24 76.17 6.004c62.41-9.84 114.6-57.8 129.3-119.2C513.7 172.1 513.3 146.5 507.6 122.8zM80 456c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24s24 10.74 24 24C104 445.3 93.25 456 80 456z"]};class us1{}var dV=A(4986),CV=A(6451),bR=A(3099);function pV(n,e=pt.y){return n=null!=n?n:fs1,(0,N3.e)((t,r)=>{let i,s=!0;t.subscribe((0,Ge.x)(r,l=>{const h=e(l);(s||!n(i,h))&&(s=!1,i=h,r.next(l))}))})}function fs1(n,e){return n===e}var hs1=A(5032),re=A(880),b3=A(2011),mV=(A(7092),A(7271)),Bn=A(4859),bt=A(9681),D=A(2090),jn=A(1877);const zR="@firebase/database";let gV="";function VR(n){gV=n}class ps1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,D.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,D.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class ms1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,D.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const SR=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ps1(e)}}catch(e){}return new ms1},Cs=SR("localStorage"),vV=SR("sessionStorage"),co=new jn.Yd("@firebase/database"),HR=function(){let n=1;return function(){return n++}}(),ER=function(n){const e=(0,D.dS)(n),t=new D.gQ;t.update(e);const r=t.digest();return D.US.encodeByteArray(r)},Ru=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Ru.apply(null,r):e+="object"==typeof r?(0,D.Pz)(r):r,e+=" "}return e};let ps=null,xR=!0;const TR=function(n,e){(0,D.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(co.logLevel=jn.in.VERBOSE,ps=co.log.bind(co),e&&vV.set("logging_enabled",!0)):"function"==typeof n?ps=n:(ps=null,vV.remove("logging_enabled"))},M4=function(...n){if(!0===xR&&(xR=!1,null===ps&&!0===vV.get("logging_enabled")&&TR(!0)),ps){const e=Ru.apply(null,n);ps(e)}},Ou=function(n){return function(...e){M4(n,...e)}},yV=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ru(...n);co.error(e)},N5=function(...n){const e=`FIREBASE FATAL ERROR: ${Ru(...n)}`;throw co.error(e),new Error(e)},rt=function(...n){const e="FIREBASE WARNING: "+Ru(...n);co.warn(e)},Kg=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},N8="[MIN_NAME]",D5="[MAX_NAME]",ms=function(n,e){if(n===e)return 0;if(n===N8||e===D5)return-1;if(e===N8||n===D5)return 1;{const t=Yg(n),r=Yg(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},ys1=function(n,e){return n===e?0:n<e?-1:1},Fu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,D.Pz)(e))},_V=function(n){if("object"!=typeof n||null===n)return(0,D.Pz)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,D.Pz)(e[r]),t+=":",t+=_V(n[e[r]]);return t+="}",t},AR=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function L4(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const IR=function(n){(0,D.hu)(!Kg(n),"Invalid JSON number");const r=1023;let i,s,l,h,C;0===n?(s=0,l=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=h+r,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const v=[];for(C=52;C;C-=1)v.push(l%2?1:0),l=Math.floor(l/2);for(C=11;C;C-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(i?1:0),v.reverse();const b=v.join("");let z="";for(C=0;C<64;C+=8){let S=parseInt(b.substr(C,8),2).toString(16);1===S.length&&(S="0"+S),z+=S}return z.toLowerCase()},bs1=new RegExp("^-?(0*)\\d{1,10}$"),NR=-2147483648,MV=2147483647,Yg=function(n){if(bs1.test(n)){const e=Number(n);if(e>=NR&&e<=MV)return e}return null},lo=function(n){try{n()}catch(e){setTimeout(()=>{throw rt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Uu=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class ws1{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){rt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Vs1{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(M4("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rt(e)}}let Bu=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const OR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BR="websocket",jR="long_polling";class bV{constructor(e,t,r,i,s=!1,l="",h=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cs.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Cs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function qR(n,e,t){let r;if((0,D.hu)("string"==typeof e,"typeof type must == string"),(0,D.hu)("object"==typeof t,"typeof params must == object"),e===BR)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==jR)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Ss1(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return L4(t,(s,l)=>{i.push(s+"="+l)}),r+i.join("&")}class Hs1{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,D.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,D.p$)(this.counters_)}}const zV={},wV={};function VV(n){const e=n.toString();return zV[e]||(zV[e]=new Hs1),zV[e]}class xs1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&lo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class h0{constructor(e,t,r,i,s,l,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ou(e),this.stats_=VV(t),this.urlFn=C=>(this.appCheckToken&&(C.ac=this.appCheckToken),qR(t,jR,C))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xs1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,D.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new SV((...s)=>{const[l,h,C,v,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=C;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&OR.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){h0.forceAllow_=!0}static forceDisallow(){h0.forceDisallow_=!0}static isAvailable(){return!((0,D.Yr)()||!h0.forceAllow_&&(h0.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,D.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,D.h$)(t),i=AR(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,D.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,D.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class SV{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,D.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=HR(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=SV.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){M4("frame writing exception"),h.stack&&M4(h.stack),M4(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||M4("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+i+"="+l.seg+"&ts"+i+"="+l.ts+"&d"+i+"="+l.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,D.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{M4("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Jg=null;"undefined"!=typeof MozWebSocket?Jg=MozWebSocket:"undefined"!=typeof WebSocket&&(Jg=WebSocket);let uo=(()=>{class n{constructor(t,r,i,s,l,h,C){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ou(this.connId),this.stats_=VV(r),this.connURL=n.connectionURL_(r,h,C,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,l){const h={v:"5"};return!(0,D.Yr)()&&"undefined"!=typeof location&&location.hostname&&OR.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),s&&(h.ac=s),l&&(h.p=l),qR(t,BR,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cs.set("previous_websocket_failure",!0);try{let i;if((0,D.Yr)()){const l={headers:{"User-Agent":`Firebase/5/${gV}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,C=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;C&&(l.proxy={origin:C})}this.mySock=new Jg(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Jg&&!n.forceDisallow_}static previouslyFailed(){return Cs.isInMemoryStorage||!0===Cs.get("previous_websocket_failure")}markConnectionHealthy(){Cs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,D.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,D.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,D.Pz)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=AR(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),QR=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[h0,uo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=uo&&uo.isAvailable();let i=r&&!uo.previouslyFailed();if(t.webSocketOnly&&(r||rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[uo];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class iO{constructor(e,t,r,i,s,l,h,C,v,b){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=C,this.onKill_=v,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ou("c:"+this.id+":"),this.transportManager_=new QR(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Uu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Fu("t",e),r=Fu("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Fu("t",e),r=Fu("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Fu("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?yV("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yV("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Uu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class sO{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class aO{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,D.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,D.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Xg extends aO{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,D.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xg}getInitialEvent(e){return(0,D.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ke{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function He(){return new ke("")}function le(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function d0(n){return n.pieces_.length-n.pieceNum_}function Qe(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ke(n.pieces_,e)}function EV(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ju(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function lO(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ke(e,0)}function m3(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new ke(t,0)}function ue(n){return n.pieceNum_>=n.pieces_.length}function zt(n,e){const t=le(n),r=le(e);if(null===t)return e;if(t===r)return zt(Qe(n),Qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Js1(n,e){const t=ju(n,0),r=ju(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=ms(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function xV(n,e){if(d0(n)!==d0(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function nn(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(d0(n)>d0(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Xs1{constructor(e,t){this.errorPrefix_=t,this.parts_=ju(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,D.ug)(this.parts_[r]);uO(this)}}function uO(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gs(n))}function gs(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class TV extends aO{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new TV}getInitialEvent(e){return(0,D.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const qu=1e3;let tv,vs=(()=>{class n extends sO{constructor(t,r,i,s,l,h,C,v){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=C,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=Ou("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,D.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");TV.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Xg.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,l={r:s,a:t,b:r};this.log_((0,D.Pz)(l)),(0,D.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new D.BH,i={p:t._path.toString(),q:t._queryObject},s={action:"g",request:i,onComplete:h=>{const C=h.d;"ok"===h.s?(this.onDataUpdate_(i.p,C,!1,null),r.resolve(C)):r.reject(C)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[l];void 0===h||s!==h||(delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+l+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(l),r.promise}listen(t,r,i,s){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,D.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,D.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const C={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(h).set(l,C),this.connected_&&this.sendListen_(C)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const l={p:i};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,C=>{const v=C.d,b=C.s;n.warnOnListenWarnings_(v,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",C),"ok"!==b&&this.removeListen_(i,s),t.onComplete&&t.onComplete(b,v))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,D.r3)(t,"w")){const i=(0,D.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,D.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,D.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const l=s.s,h=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,D.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const l={p:t};s&&(l.q=i,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const l={p:r,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,l){this.initConnection_();const h={p:r,d:i};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,D.Pz)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):yV("Unrecognized action received from server: "+(0,D.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,D.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qu,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=qu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=qu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,w1.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let C=!1,v=null;const b=function(){v?v.close():(C=!0,s())};t.realtime_={close:b,sendRequest:function(x){(0,D.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(x)}};const S=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[x,I]=yield Promise.all([t.authTokenProvider_.getToken(S),t.appCheckTokenProvider_.getToken(S)]);C?M4("getToken() completed but was canceled"):(M4("getToken() completed. Creating connection."),t.authToken_=x&&x.accessToken,t.appCheckToken_=I&&I.token,v=new iO(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,K=>{rt(K+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(x){t.log_("Failed to get token: "+x),C||(t.repoInfo_.nodeAdmin&&rt(x),b())}}})()}interrupt(t){M4("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){M4("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,D.xb)(this.interruptReasons_)&&(this.reconnectDelay_=qu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(l=>_V(l)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new ke(t).toString();let s;if(this.listens.has(i)){const l=this.listens.get(i);s=l.get(r),l.delete(r),0===l.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){M4("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){M4("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,D.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+gV.replace(/\./g,"-")]=1,(0,D.uI)()?t["framework.cordova"]=1:(0,D.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Xg.getInstance().currentlyOnline();return(0,D.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class fe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new fe(e,t)}}class ev{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new fe(N8,e),i=new fe(N8,t);return 0!==this.compare(r,i)}minPost(){return fe.MIN}}class dO extends ev{static get __EMPTY_NODE(){return tv}static set __EMPTY_NODE(e){tv=e}compare(e,t){return ms(e.name,t.name)}isDefinedOn(e){throw(0,D.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return fe.MIN}maxPost(){return new fe(D5,tv)}makePost(e,t){return(0,D.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new fe(e,tv)}toString(){return".key"}}const k5=new dO;class nv{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let IV,qn=(()=>{class n{constructor(t,r,i,s,l){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:Qt.EMPTY_NODE,this.right=null!=l?l:Qt.EMPTY_NODE}copy(t,r,i,s,l){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=l?l:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const l=i(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===l?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Qt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Qt{constructor(e,t=Qt.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Qt(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,qn.BLACK,null,null))}remove(e){return new Qt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qn.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new nv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new nv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new nv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new nv(this.root_,null,this.comparator_,!0,e)}}function ca1(n,e){return ms(n.name,e.name)}function AV(n,e){return ms(n,e)}Qt.EMPTY_NODE=new class oa1{copy(e,t,r,i,s){return this}insert(e,t,r){return new qn(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const CO=function(n){return"number"==typeof n?"number:"+IR(n):"string:"+n},pO=function(n){if(n.isLeafNode()){const e=n.val();(0,D.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,D.r3)(e,".sv"),"Priority must be a string or number.")}else(0,D.hu)(n===IV||n.isEmpty(),"priority of unexpected type.");(0,D.hu)(n===IV||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let mO,gO,vO,fo=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,D.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),pO(this.priorityNode_)}static set __childrenNodeConstructor(t){mO=t}static get __childrenNodeConstructor(){return mO}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ue(t)?this:".priority"===le(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=le(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,D.hu)(".priority"!==i||1===d0(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+CO(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?IR(this.value_):this.value_,this.lazyHash_=ER(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,D.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),l=n.VALUE_TYPE_ORDER.indexOf(i);return(0,D.hu)(s>=0,"Unknown leaf type: "+r),(0,D.hu)(l>=0,"Unknown leaf type: "+i),s===l?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const i3=new class ha1 extends ev{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?ms(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(D5,new fo("[PRIORITY-POST]",vO))}makePost(e,t){const r=gO(e);return new fe(t,new fo("[PRIORITY-POST]",r))}toString(){return".priority"}},da1=Math.log(2);class Ca1{constructor(e){this.count=parseInt(Math.log(e+1)/da1,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const rv=function(n,e,t,r){n.sort(e);const i=function(C,v){const b=v-C;let z,S;if(0===b)return null;if(1===b)return z=n[C],S=t?t(z):z,new qn(S,z.node,qn.BLACK,null,null);{const x=parseInt(b/2,10)+C,I=i(C,x),K=i(x+1,v);return z=n[x],S=t?t(z):z,new qn(S,z.node,qn.BLACK,I,K)}},h=function(C){let v=null,b=null,z=n.length;const S=function(I,K){const o1=z-I,R1=z;z-=I;const U1=i(o1+1,R1),$1=n[o1],J1=t?t($1):$1;x(new qn(J1,$1.node,K,null,U1))},x=function(I){v?(v.left=I,v=I):(b=I,v=I)};for(let I=0;I<C.count;++I){const K=C.nextBitIsOne(),o1=Math.pow(2,C.count-(I+1));K?S(o1,qn.BLACK):(S(o1,qn.BLACK),S(o1,qn.RED))}return b}(new Ca1(n.length));return new Qt(r||e,h)};let NV;const ho={};class D8{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,D.hu)(ho&&i3,"ChildrenNode.ts has not been loaded"),NV=NV||new D8({".priority":ho},{".priority":i3}),NV}get(e){const t=(0,D.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Qt?t:null}hasIndex(e){return(0,D.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,D.hu)(e!==k5,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(fe.Wrap);let h,l=s.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=s.getNext();h=i?rv(r,e.getCompare()):ho;const C=e.toString(),v=Object.assign({},this.indexSet_);v[C]=e;const b=Object.assign({},this.indexes_);return b[C]=h,new D8(b,v)}addToIndexes(e,t){const r=(0,D.UI)(this.indexes_,(i,s)=>{const l=(0,D.DV)(this.indexSet_,s);if((0,D.hu)(l,"Missing index implementation for "+s),i===ho){if(l.isDefinedOn(e.node)){const h=[],C=t.getIterator(fe.Wrap);let v=C.getNext();for(;v;)v.name!==e.name&&h.push(v),v=C.getNext();return h.push(e),rv(h,l.getCompare())}return ho}{const h=t.get(e.name);let C=i;return h&&(C=C.remove(new fe(e.name,h))),C.insert(e,e.node)}});return new D8(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,D.UI)(this.indexes_,i=>{if(i===ho)return i;{const s=t.get(e.name);return s?i.remove(new fe(e.name,s)):i}});return new D8(r,this.indexSet_)}}let Gu,J2=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&pO(this.priorityNode_),this.children_.isEmpty()&&(0,D.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gu||(Gu=new n(new Qt(AV),null,D8.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gu}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Gu:r}}getChild(t){const r=le(t);return null===r?this:this.getImmediateChild(r).getChild(Qe(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,D.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new fe(t,r);let s,l;r.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(i,this.children_));const h=s.isEmpty()?Gu:this.priorityNode_;return new n(s,h,l)}}updateChild(t,r){const i=le(t);if(null===i)return r;{(0,D.hu)(".priority"!==le(t)||1===d0(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Qe(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,l=!0;if(this.forEachChild(i3,(h,C)=>{r[h]=C.val(t),i++,l&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):l=!1}),!t&&l&&s<2*i){const h=[];for(const C in r)h[C]=r[C];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+CO(this.getPriority().val())+":"),this.forEachChild(i3,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":ER(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const l=s.getPredecessorKey(new fe(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new fe(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new fe(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,fe.Wrap);let l=s.peek();for(;null!=l&&r.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,fe.Wrap);let l=s.peek();for(;null!=l&&r.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Wu?-1:0}withIndex(t){if(t===k5||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===k5||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(i3),s=r.getIterator(i3);let l=i.getNext(),h=s.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=i.getNext(),h=s.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===k5?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Wu=new class pa1 extends J2{constructor(){super(new Qt(AV),J2.EMPTY_NODE,D8.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J2.EMPTY_NODE}isEmpty(){return!1}};function z3(n,e=null){if(null===n)return J2.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,D.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new fo(n,z3(e));if(n instanceof Array){let t=J2.EMPTY_NODE;return L4(n,(r,i)=>{if((0,D.r3)(n,r)&&"."!==r.substring(0,1)){const s=z3(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(z3(e))}{const t=[];let r=!1;if(L4(n,(l,h)=>{if("."!==l.substring(0,1)){const C=z3(h);C.isEmpty()||(r=r||!C.getPriority().isEmpty(),t.push(new fe(l,C)))}}),0===t.length)return J2.EMPTY_NODE;const s=rv(t,ca1,l=>l.name,AV);if(r){const l=rv(t,i3.getCompare());return new J2(s,z3(e),new D8({".priority":l},{".priority":i3}))}return new J2(s,z3(e),D8.Default)}}Object.defineProperties(fe,{MIN:{value:new fe(N8,J2.EMPTY_NODE)},MAX:{value:new fe(D5,Wu)}}),dO.__EMPTY_NODE=J2.EMPTY_NODE,fo.__childrenNodeConstructor=J2,function la1(n){IV=n}(Wu),function fa1(n){vO=n}(Wu),function ua1(n){gO=n}(z3);class DV extends ev{constructor(e){super(),this.indexPath_=e,(0,D.hu)(!ue(e)&&".priority"!==le(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?ms(e.name,t.name):s}makePost(e,t){const r=z3(e),i=J2.EMPTY_NODE.updateChild(this.indexPath_,r);return new fe(t,i)}maxPost(){const e=J2.EMPTY_NODE.updateChild(this.indexPath_,Wu);return new fe(D5,e)}toString(){return ju(this.indexPath_,0).join("/")}}const kV=new class ga1 extends ev{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ms(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,t){const r=z3(e);return new fe(t,r)}toString(){return".value"}},Co="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",va1=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Co.charAt(t%64),t=Math.floor(t/64);(0,D.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)l+=Co.charAt(e[i]);return(0,D.hu)(20===l.length,"nextPushId: Length should be 20."),l}}(),MO=function(n){if(n===""+MV)return"-";const e=Yg(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let l=0;l<t.length;l++)t[l]=n.charAt(l);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return D5;const s=Co.charAt(Co.indexOf(t[r])+1);return t[r]=s,t.slice(0,r+1).join("")},LO=function(n){if(n===""+NR)return N8;const e=Yg(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+MV:(delete t[t.length-1],t.join("")):(t[t.length-1]=Co.charAt(Co.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function bO(n){return{type:"value",snapshotNode:n}}function po(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function $u(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Zu(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class RV{constructor(e){this.index_=e}updateChild(e,t,r,i,s,l){(0,D.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(i).equals(r.getChild(i))&&h.isEmpty()===r.isEmpty()||(null!=l&&(r.isEmpty()?e.hasChild(t)?l.trackChildChange($u(t,h)):(0,D.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?l.trackChildChange(po(t,r)):l.trackChildChange(Zu(t,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(i3,(i,s)=>{t.hasChild(i)||r.trackChildChange($u(i,s))}),t.isLeafNode()||t.forEachChild(i3,(i,s)=>{if(e.hasChild(i)){const l=e.getImmediateChild(i);l.equals(s)||r.trackChildChange(Zu(i,s,l))}else r.trackChildChange(po(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?J2.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ku{constructor(e){this.indexedFilter_=new RV(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ku.getStartPost_(e),this.endPost_=Ku.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,s,l){return this.matches(new fe(t,r))||(r=J2.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,l)}updateFullNode(e,t,r){t.isLeafNode()&&(t=J2.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(J2.EMPTY_NODE);const s=this;return t.forEachChild(i3,(l,h)=>{s.matches(new fe(l,h))||(i=i.updateImmediateChild(l,J2.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class _a1{constructor(e){this.rangedFilter_=new Ku(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,s,l){return this.rangedFilter_.matches(new fe(t,r))||(r=J2.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,l):this.fullLimitUpdateChild_(e,t,r,s,l)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=J2.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=J2.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const h=s.getNext();let C;if(C=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!C)break;i=i.updateImmediateChild(h.name,h.node),l++}}else{let s,l,h,C;if(i=t.withIndex(this.index_),i=i.updatePriority(J2.EMPTY_NODE),this.reverse_){C=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();const z=this.index_.getCompare();h=(S,x)=>z(x,S)}else C=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let v=0,b=!1;for(;C.hasNext();){const z=C.getNext();!b&&h(s,z)<=0&&(b=!0),b&&v<this.limit_&&h(z,l)<=0?v++:i=i.updateImmediateChild(z.name,J2.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let l;if(this.reverse_){const z=this.index_.getCompare();l=(S,x)=>z(x,S)}else l=this.index_.getCompare();const h=e;(0,D.hu)(h.numChildren()===this.limit_,"");const C=new fe(t,r),v=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),b=this.rangedFilter_.matches(C);if(h.hasChild(t)){const z=h.getImmediateChild(t);let S=i.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=S&&(S.name===t||h.hasChild(S.name));)S=i.getChildAfterChild(this.index_,S,this.reverse_);const x=null==S?1:l(S,C);if(b&&!r.isEmpty()&&x>=0)return null!=s&&s.trackChildChange(Zu(t,r,z)),h.updateImmediateChild(t,r);{null!=s&&s.trackChildChange($u(t,z));const K=h.updateImmediateChild(t,J2.EMPTY_NODE);return null!=S&&this.rangedFilter_.matches(S)?(null!=s&&s.trackChildChange(po(S.name,S.node)),K.updateImmediateChild(S.name,S.node)):K}}return r.isEmpty()?e:b&&l(v,C)>=0?(null!=s&&(s.trackChildChange($u(v.name,v.node)),s.trackChildChange(po(t,r))),h.updateImmediateChild(t,r).updateImmediateChild(v.name,J2.EMPTY_NODE)):e}}class iv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=i3}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N8}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:D5}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,D.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===i3}copy(){const e=new iv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function OV(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function FV(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function sv(n,e){const t=n.copy();return t.index_=e,t}function zO(n){const e={};if(n.isDefault())return e;let t;return n.index_===i3?t="$priority":n.index_===kV?t="$value":n.index_===k5?t="$key":((0,D.hu)(n.index_ instanceof DV,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,D.Pz)(t),n.startSet_&&(e.startAt=(0,D.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,D.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,D.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,D.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function wO(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==i3&&(e.i=n.index_.toString()),e}class av extends sO{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ou("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,D.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=av.getListenId_(e,r),h={};this.listens_[l]=h;const C=zO(e._queryParams);this.restRequest_(s+".json",C,(v,b)=>{let z=b;if(404===v&&(z=null,v=null),null===v&&this.onDataUpdate_(s,z,!1,r),(0,D.DV)(this.listens_,l)===h){let S;S=v?401===v?"permission_denied":"rest_error:"+v:"ok",i(S,null)}})}unlisten(e,t){const r=av.getListenId_(e,t);delete this.listens_[r]}get(e){const t=zO(e._queryParams),r=e._path.toString(),i=new D.BH;return this.restRequest_(r+".json",t,(s,l)=>{let h=l;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,D.xO)(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let C=null;if(h.status>=200&&h.status<300){try{C=(0,D.cI)(h.responseText)}catch(v){rt("Failed to parse JSON response for "+l+": "+h.responseText)}r(null,C)}else 401!==h.status&&404!==h.status&&rt("Got unsuccessful REST response for "+l+" Status: "+h.status),r(h.status);r=null}},h.open("GET",l,!0),h.send()})}}class Va1{constructor(){this.rootNode_=J2.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ov(){return{value:null,children:new Map}}function mo(n,e,t){if(ue(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=le(e);n.children.has(r)||n.children.set(r,ov()),mo(n.children.get(r),e=Qe(e),t)}}function UV(n,e){if(ue(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(i3,(r,i)=>{mo(n,new ke(r),i)}),UV(n,e)}}if(n.children.size>0){const t=le(e);return e=Qe(e),n.children.has(t)&&UV(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function BV(n,e,t){null!==n.value?t(e,n.value):function Sa1(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{BV(i,new ke(e.toString()+"/"+r),t)})}class Ha1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&L4(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Ta1{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ha1(e);const r=1e4+2e4*Math.random();Uu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;L4(e,(i,s)=>{s>0&&(0,D.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Uu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var rn=(()=>{return(n=rn||(rn={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",rn;var n})();function GV(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class cv{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=rn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ue(this.path)){if(null!=this.affectedTree.value)return(0,D.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ke(e));return new cv(He(),t,this.revert)}}return(0,D.hu)(le(this.path)===e,"operationForChild called for unrelated child."),new cv(Qe(this.path),this.affectedTree,this.revert)}}class Yu{constructor(e,t){this.source=e,this.path=t,this.type=rn.LISTEN_COMPLETE}operationForChild(e){return ue(this.path)?new Yu(this.source,He()):new Yu(this.source,Qe(this.path))}}class ys{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=rn.OVERWRITE}operationForChild(e){return ue(this.path)?new ys(this.source,He(),this.snap.getImmediateChild(e)):new ys(this.source,Qe(this.path),this.snap)}}class go{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=rn.MERGE}operationForChild(e){if(ue(this.path)){const t=this.children.subtree(new ke(e));return t.isEmpty()?null:t.value?new ys(this.source,He(),t.value):new go(this.source,He(),t)}return(0,D.hu)(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new go(this.source,Qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class C0{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ue(e))return this.isFullyInitialized()&&!this.filtered_;const t=le(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Aa1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Qu(n,e,t,r,i,s){const l=r.filter(h=>h.type===t);l.sort((h,C)=>function Da1(n,e,t){if(null==e.childName||null==t.childName)throw(0,D.g5)("Should only compare child_ events.");const r=new fe(e.childName,e.snapshotNode),i=new fe(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,C)),l.forEach(h=>{const C=function Na1(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);i.forEach(v=>{v.respondsTo(h.type)&&e.push(v.createEvent(C,n.query_))})})}function lv(n,e){return{eventCache:n,serverCache:e}}function Ju(n,e,t,r){return lv(new C0(e,t,r),n.serverCache)}function SO(n,e,t,r){return lv(n.eventCache,new C0(e,t,r))}function uv(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function _s(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let WV;class s3{constructor(e,t=(()=>(WV||(WV=new Qt(ys1)),WV))()){this.value=e,this.children=t}static fromObject(e){let t=new s3(null);return L4(e,(r,i)=>{t=t.set(new ke(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:He(),value:this.value};if(ue(e))return null;{const r=le(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Qe(e),t);return null!=s?{path:m3(new ke(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ue(e))return this;{const t=le(e),r=this.children.get(t);return null!==r?r.subtree(Qe(e)):new s3(null)}}set(e,t){if(ue(e))return new s3(t,this.children);{const r=le(e),s=(this.children.get(r)||new s3(null)).set(Qe(e),t),l=this.children.insert(r,s);return new s3(this.value,l)}}remove(e){if(ue(e))return this.children.isEmpty()?new s3(null):new s3(null,this.children);{const t=le(e),r=this.children.get(t);if(r){const i=r.remove(Qe(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new s3(null):new s3(this.value,s)}return this}}get(e){if(ue(e))return this.value;{const t=le(e),r=this.children.get(t);return r?r.get(Qe(e)):null}}setTree(e,t){if(ue(e))return t;{const r=le(e),s=(this.children.get(r)||new s3(null)).setTree(Qe(e),t);let l;return l=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new s3(this.value,l)}}fold(e){return this.fold_(He(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(m3(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,He(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(ue(e))return null;{const s=le(e),l=this.children.get(s);return l?l.findOnPath_(Qe(e),m3(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,He(),t)}foreachOnPath_(e,t,r){if(ue(e))return this;{this.value&&r(t,this.value);const i=le(e),s=this.children.get(i);return s?s.foreachOnPath_(Qe(e),m3(t,i),r):new s3(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(m3(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Gn{constructor(e){this.writeTree_=e}static empty(){return new Gn(new s3(null))}}function Xu(n,e,t){if(ue(e))return new Gn(new s3(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const l=zt(i,e);return s=s.updateChild(l,t),new Gn(n.writeTree_.set(i,s))}{const i=new s3(t),s=n.writeTree_.setTree(e,i);return new Gn(s)}}}function $V(n,e,t){let r=n;return L4(t,(i,s)=>{r=Xu(r,m3(e,i),s)}),r}function HO(n,e){if(ue(e))return Gn.empty();{const t=n.writeTree_.setTree(e,new s3(null));return new Gn(t)}}function ZV(n,e){return null!=Ms(n,e)}function Ms(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(zt(t.path,e)):null}function EO(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(i3,(r,i)=>{e.push(new fe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new fe(r,i.value))}),e}function p0(n,e){if(ue(e))return n;{const t=Ms(n,e);return new Gn(null!=t?new s3(t):n.writeTree_.subtree(e))}}function KV(n){return n.writeTree_.isEmpty()}function vo(n,e){return xO(He(),n.writeTree_,e)}function xO(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,D.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=xO(m3(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(m3(n,".priority"),r)),t}}function fv(n,e){return DO(e,n)}function Ua1(n,e){if(n.snap)return nn(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&nn(m3(n.path,t),e))return!0;return!1}function ja1(n){return n.visible}function TO(n,e,t){let r=Gn.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const l=s.path;let h;if(s.snap)nn(t,l)?(h=zt(t,l),r=Xu(r,h,s.snap)):nn(l,t)&&(h=zt(l,t),r=Xu(r,He(),s.snap.getChild(h)));else{if(!s.children)throw(0,D.g5)("WriteRecord should have .snap or .children");if(nn(t,l))h=zt(t,l),r=$V(r,h,s.children);else if(nn(l,t))if(h=zt(l,t),ue(h))r=$V(r,He(),s.children);else{const C=(0,D.DV)(s.children,le(h));if(C){const v=C.getChild(Qe(h));r=Xu(r,He(),v)}}}}}return r}function AO(n,e,t,r,i){if(r||i){const s=p0(n.visibleWrites,e);return!i&&KV(s)?t:i||null!=t||ZV(s,He())?vo(TO(n.allWrites,function(v){return(v.visible||i)&&(!r||!~r.indexOf(v.writeId))&&(nn(v.path,e)||nn(e,v.path))},e),t||J2.EMPTY_NODE):null}{const s=Ms(n.visibleWrites,e);if(null!=s)return s;{const l=p0(n.visibleWrites,e);return KV(l)?t:null!=t||ZV(l,He())?vo(l,t||J2.EMPTY_NODE):null}}}function hv(n,e,t,r){return AO(n.writeTree,n.treePath,e,t,r)}function YV(n,e){return function qa1(n,e,t){let r=J2.EMPTY_NODE;const i=Ms(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(i3,(s,l)=>{r=r.updateImmediateChild(s,l)}),r;if(t){const s=p0(n.visibleWrites,e);return t.forEachChild(i3,(l,h)=>{const C=vo(p0(s,new ke(l)),h);r=r.updateImmediateChild(l,C)}),EO(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return EO(p0(n.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(n.writeTree,n.treePath,e)}function IO(n,e,t,r){return function Ga1(n,e,t,r,i){(0,D.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=m3(e,t);if(ZV(n.visibleWrites,s))return null;{const l=p0(n.visibleWrites,s);return KV(l)?i.getChild(t):vo(l,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function dv(n,e){return function $a1(n,e){return Ms(n.visibleWrites,e)}(n.writeTree,m3(n.treePath,e))}function QV(n,e,t){return function Wa1(n,e,t,r){const i=m3(e,t),s=Ms(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?vo(p0(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function NO(n,e){return DO(m3(n.treePath,e),n.writeTree)}function DO(n,e){return{treePath:n,writeTree:e}}class Qa1{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,D.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,D.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,Zu(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,$u(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,po(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,D.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Zu(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const kO=new class Ja1{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class JV{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new C0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return QV(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:_s(this.viewCache_),s=function Ya1(n,e,t,r,i,s){return function Za1(n,e,t,r,i,s,l){let h;const C=p0(n.visibleWrites,e),v=Ms(C,He());if(null!=v)h=v;else{if(null==t)return[];h=vo(C,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const b=[],z=l.getCompare(),S=s?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l);let x=S.getNext();for(;x&&b.length<i;)0!==z(x,r)&&b.push(x),x=S.getNext();return b}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function PO(n,e,t,r,i,s){const l=e.eventCache;if(null!=dv(r,t))return e;{let h,C;if(ue(t))if((0,D.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=_s(e),z=YV(r,v instanceof J2?v:J2.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),z,s)}else{const v=hv(r,_s(e));h=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=le(t);if(".priority"===v){(0,D.hu)(1===d0(t),"Can't have a priority with additional path components");const b=l.getNode();C=e.serverCache.getNode();const z=IO(r,t,b,C);h=null!=z?n.filter.updatePriority(b,z):l.getNode()}else{const b=Qe(t);let z;if(l.isCompleteForChild(v)){C=e.serverCache.getNode();const S=IO(r,t,l.getNode(),C);z=null!=S?l.getNode().getImmediateChild(v).updateChild(b,S):l.getNode().getImmediateChild(v)}else z=QV(r,v,e.serverCache);h=null!=z?n.filter.updateChild(l.getNode(),v,z,b,i,s):l.getNode()}}return Ju(e,h,l.isFullyInitialized()||ue(t),n.filter.filtersNodes())}}function Cv(n,e,t,r,i,s,l,h){const C=e.serverCache;let v;const b=l?n.filter:n.filter.getIndexedFilter();if(ue(t))v=b.updateFullNode(C.getNode(),r,null);else if(b.filtersNodes()&&!C.isFiltered()){const x=C.getNode().updateChild(t,r);v=b.updateFullNode(C.getNode(),x,null)}else{const x=le(t);if(!C.isCompleteForPath(t)&&d0(t)>1)return e;const I=Qe(t),o1=C.getNode().getImmediateChild(x).updateChild(I,r);v=".priority"===x?b.updatePriority(C.getNode(),o1):b.updateChild(C.getNode(),x,o1,I,kO,null)}const z=SO(e,v,C.isFullyInitialized()||ue(t),b.filtersNodes());return PO(n,z,t,i,new JV(i,z,s),h)}function XV(n,e,t,r,i,s,l){const h=e.eventCache;let C,v;const b=new JV(i,e,s);if(ue(t))v=n.filter.updateFullNode(e.eventCache.getNode(),r,l),C=Ju(e,v,!0,n.filter.filtersNodes());else{const z=le(t);if(".priority"===z)v=n.filter.updatePriority(e.eventCache.getNode(),r),C=Ju(e,v,h.isFullyInitialized(),h.isFiltered());else{const S=Qe(t),x=h.getNode().getImmediateChild(z);let I;if(ue(S))I=r;else{const K=b.getCompleteChild(z);I=null!=K?".priority"===EV(S)&&K.getChild(lO(S)).isEmpty()?K:K.updateChild(S,r):J2.EMPTY_NODE}C=x.equals(I)?e:Ju(e,n.filter.updateChild(h.getNode(),z,I,S,b,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return C}function RO(n,e){return n.eventCache.isCompleteForChild(e)}function OO(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function eS(n,e,t,r,i,s,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,C=e;v=ue(t)?r:new s3(null).setTree(t,r);const b=e.serverCache.getNode();return v.children.inorderTraversal((z,S)=>{if(b.hasChild(z)){const I=OO(0,e.serverCache.getNode().getImmediateChild(z),S);C=Cv(n,C,new ke(z),I,i,s,l,h)}}),v.children.inorderTraversal((z,S)=>{const x=!e.serverCache.isCompleteForChild(z)&&void 0===S.value;if(!b.hasChild(z)&&!x){const K=OO(0,e.serverCache.getNode().getImmediateChild(z),S);C=Cv(n,C,new ke(z),K,i,s,l,h)}}),C}class o71{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new RV(r.getIndex()),s=function Ma1(n){return n.loadsAllData()?new RV(n.getIndex()):n.hasLimit()?new _a1(n):new Ku(n)}(r);this.processor_=function Xa1(n){return{filter:n}}(s);const l=t.serverCache,h=t.eventCache,C=i.updateFullNode(J2.EMPTY_NODE,l.getNode(),null),v=s.updateFullNode(J2.EMPTY_NODE,h.getNode(),null),b=new C0(C,l.isFullyInitialized(),i.filtersNodes()),z=new C0(v,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=lv(z,b),this.eventGenerator_=new Aa1(this.query_)}get query(){return this.query_}}function u71(n,e){const t=_s(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ue(e)&&!t.getImmediateChild(le(e)).isEmpty())?t.getChild(e):null}function FO(n){return 0===n.eventRegistrations_.length}function UO(n,e,t){const r=[];if(t){(0,D.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,i);l&&r.push(l)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(l)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function BO(n,e,t,r){e.type===rn.MERGE&&null!==e.source.queryId&&((0,D.hu)(_s(n.viewCache_),"We should always have a full cache before handling merges"),(0,D.hu)(uv(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function t71(n,e,t,r,i){const s=new Qa1;let l,h;if(t.type===rn.OVERWRITE){const v=t;v.source.fromUser?l=XV(n,e,v.path,v.snap,r,i,s):((0,D.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered()&&!ue(v.path),l=Cv(n,e,v.path,v.snap,r,i,h,s))}else if(t.type===rn.MERGE){const v=t;v.source.fromUser?l=function r71(n,e,t,r,i,s,l){let h=e;return r.foreach((C,v)=>{const b=m3(t,C);RO(e,le(b))&&(h=XV(n,h,b,v,i,s,l))}),r.foreach((C,v)=>{const b=m3(t,C);RO(e,le(b))||(h=XV(n,h,b,v,i,s,l))}),h}(n,e,v.path,v.children,r,i,s):((0,D.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered(),l=eS(n,e,v.path,v.children,r,i,h,s))}else if(t.type===rn.ACK_USER_WRITE){const v=t;l=v.revert?function a71(n,e,t,r,i,s){let l;if(null!=dv(r,t))return e;{const h=new JV(r,e,i),C=e.eventCache.getNode();let v;if(ue(t)||".priority"===le(t)){let b;if(e.serverCache.isFullyInitialized())b=hv(r,_s(e));else{const z=e.serverCache.getNode();(0,D.hu)(z instanceof J2,"serverChildren would be complete if leaf node"),b=YV(r,z)}b=b,v=n.filter.updateFullNode(C,b,s)}else{const b=le(t);let z=QV(r,b,e.serverCache);null==z&&e.serverCache.isCompleteForChild(b)&&(z=C.getImmediateChild(b)),v=null!=z?n.filter.updateChild(C,b,z,Qe(t),h,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(C,b,J2.EMPTY_NODE,Qe(t),h,s):C,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=hv(r,_s(e)),l.isLeafNode()&&(v=n.filter.updateFullNode(v,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=dv(r,He()),Ju(e,v,l,n.filter.filtersNodes())}}(n,e,v.path,r,i,s):function i71(n,e,t,r,i,s,l){if(null!=dv(i,t))return e;const h=e.serverCache.isFiltered(),C=e.serverCache;if(null!=r.value){if(ue(t)&&C.isFullyInitialized()||C.isCompleteForPath(t))return Cv(n,e,t,C.getNode().getChild(t),i,s,h,l);if(ue(t)){let v=new s3(null);return C.getNode().forEachChild(k5,(b,z)=>{v=v.set(new ke(b),z)}),eS(n,e,t,v,i,s,h,l)}return e}{let v=new s3(null);return r.foreach((b,z)=>{const S=m3(t,b);C.isCompleteForPath(S)&&(v=v.set(b,C.getNode().getChild(S)))}),eS(n,e,t,v,i,s,h,l)}}(n,e,v.path,v.affectedTree,r,i,s)}else{if(t.type!==rn.LISTEN_COMPLETE)throw(0,D.g5)("Unknown operation type: "+t.type);l=function s71(n,e,t,r,i){const s=e.serverCache;return PO(n,SO(e,s.getNode(),s.isFullyInitialized()||ue(t),s.isFiltered()),t,r,kO,i)}(n,e,t.path,r,s)}const C=s.getChanges();return function n71(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=uv(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(bO(uv(e)))}}(e,l,C),{viewCache:l,changes:C}}(n.processor_,i,e,t,r);return function e71(n,e){(0,D.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,D.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,D.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,jO(n,s.changes,s.viewCache.eventCache.getNode(),null)}function jO(n,e,t,r){return function Ia1(n,e,t,r){const i=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function ya1(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),Qu(n,i,"child_removed",e,r,t),Qu(n,i,"child_added",e,r,t),Qu(n,i,"child_moved",s,r,t),Qu(n,i,"child_changed",e,r,t),Qu(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let pv,gv;class qO{constructor(){this.views=new Map}}function tS(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,D.hu)(null!=s,"SyncTree gave us an op for an invalid query."),BO(s,e,t,r)}{let s=[];for(const l of n.views.values())s=s.concat(BO(l,e,t,r));return s}}function GO(n,e,t,r,i){const l=n.views.get(e._queryIdentifier);if(!l){let h=hv(t,i?r:null),C=!1;h?C=!0:r instanceof J2?(h=YV(t,r),C=!1):(h=J2.EMPTY_NODE,C=!1);const v=lv(new C0(h,C,!1),new C0(r,i,!1));return new o71(e,v)}return l}function WO(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function m0(n,e){let t=null;for(const r of n.views.values())t=t||u71(r,e);return t}function $O(n,e){return e._queryParams.loadsAllData()?mv(n):n.views.get(e._queryIdentifier)}function ZO(n,e){return null!=$O(n,e)}function g0(n){return null!=mv(n)}function mv(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let _71=1;class KO{constructor(e){this.listenProvider_=e,this.syncPointTree_=new s3(null),this.pendingWriteTree_=function Ka1(){return{visibleWrites:Gn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nS(n,e,t,r,i){return function Pa1(n,e,t,r,i){(0,D.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Xu(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?yo(n,new ys({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function v0(n,e,t=!1){const r=function Oa1(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function Fa1(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,D.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&Ua1(h,r.path)?i=!1:nn(r.path,h.path)&&(s=!0)),l--}return!!i&&(s?(function Ba1(n){n.visibleWrites=TO(n.allWrites,ja1,He()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=HO(n.visibleWrites,r.path):L4(r.children,C=>{n.visibleWrites=HO(n.visibleWrites,m3(r.path,C))}),!0))}(n.pendingWriteTree_,e)){let s=new s3(null);return null!=r.snap?s=s.set(He(),!0):L4(r.children,l=>{s=s.set(new ke(l),!0)}),yo(n,new cv(r.path,s,t))}return[]}function ef(n,e,t){return yo(n,new ys({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function rS(n,e,t,r){const i=e._path,s=n.syncPointTree_.get(i);let l=[];if(s&&("default"===e._queryIdentifier||ZO(s,e))){const h=function g71(n,e,t,r){const i=e._queryIdentifier,s=[];let l=[];const h=g0(n);if("default"===i)for(const[C,v]of n.views.entries())l=l.concat(UO(v,t,r)),FO(v)&&(n.views.delete(C),v.query._queryParams.loadsAllData()||s.push(v.query));else{const C=n.views.get(i);C&&(l=l.concat(UO(C,t,r)),FO(C)&&(n.views.delete(i),C.query._queryParams.loadsAllData()||s.push(C.query)))}return h&&!g0(n)&&s.push(new(function C71(){return(0,D.hu)(pv,"Reference.ts has not been loaded"),pv}())(e._repo,e._path)),{removed:s,events:l}}(s,e,t,r);(function p71(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(i));const C=h.removed;l=h.events;const v=-1!==C.findIndex(z=>z._queryParams.loadsAllData()),b=n.syncPointTree_.findOnPath(i,(z,S)=>g0(S));if(v&&!b){const z=n.syncPointTree_.subtree(i);if(!z.isEmpty()){const S=function H71(n){return n.fold((e,t,r)=>{if(t&&g0(t))return[mv(t)];{let i=[];return t&&(i=WO(t)),L4(r,(s,l)=>{i=i.concat(l)}),i}})}(z);for(let x=0;x<S.length;++x){const I=S[x],K=I.query,o1=XO(n,I);n.listenProvider_.startListening(tf(K),yv(n,K),o1.hashFn,o1.onComplete)}}}!b&&C.length>0&&!r&&(v?n.listenProvider_.stopListening(tf(e),null):C.forEach(z=>{const S=n.queryToTagMap.get(_v(z));n.listenProvider_.stopListening(tf(z),S)})),function E71(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=_v(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,C)}return l}function YO(n,e,t){const r=e._path;let i=null,s=!1;n.syncPointTree_.foreachOnPath(r,(z,S)=>{const x=zt(z,r);i=i||m0(S,x),s=s||g0(S)});let h,l=n.syncPointTree_.get(r);l?(s=s||g0(l),i=i||m0(l,He())):(l=new qO,n.syncPointTree_=n.syncPointTree_.set(r,l)),null!=i?h=!0:(h=!1,i=J2.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((S,x)=>{const I=m0(x,He());I&&(i=i.updateImmediateChild(S,I))}));const C=ZO(l,e);if(!C&&!e._queryParams.loadsAllData()){const z=_v(e);(0,D.hu)(!n.queryToTagMap.has(z),"View does not exist, but we have a tag");const S=function x71(){return _71++}();n.queryToTagMap.set(z,S),n.tagToQueryMap.set(S,z)}let b=function m71(n,e,t,r,i,s){const l=GO(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function f71(n,e){n.eventRegistrations_.push(e)}(l,t),function h71(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(i3,(s,l)=>{r.push(po(s,l))}),t.isFullyInitialized()&&r.push(bO(t.getNode())),jO(n,r,t.getNode(),e)}(l,t)}(l,e,t,fv(n.pendingWriteTree_,r),i,h);if(!C&&!s){const z=$O(l,e);b=b.concat(function T71(n,e,t){const r=e._path,i=yv(n,e),s=XO(n,t),l=n.listenProvider_.startListening(tf(e),i,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(r);if(i)(0,D.hu)(!g0(h.value),"If we're adding a query, it shouldn't be shadowed");else{const C=h.fold((v,b,z)=>{if(!ue(v)&&b&&g0(b))return[mv(b).query];{let S=[];return b&&(S=S.concat(WO(b).map(x=>x.query))),L4(z,(x,I)=>{S=S.concat(I)}),S}});for(let v=0;v<C.length;++v){const b=C[v];n.listenProvider_.stopListening(tf(b),yv(n,b))}}return l}(n,e,z))}return b}function vv(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,h)=>{const v=m0(h,zt(l,e));if(v)return v});return AO(i,e,s,t,!0)}function yo(n,e){return QO(e,n.syncPointTree_,null,fv(n.pendingWriteTree_,He()))}function QO(n,e,t,r){if(ue(n.path))return JO(n,e,t,r);{const i=e.get(He());null==t&&null!=i&&(t=m0(i,He()));let s=[];const l=le(n.path),h=n.operationForChild(l),C=e.children.get(l);if(C&&h){const v=t?t.getImmediateChild(l):null,b=NO(r,l);s=s.concat(QO(h,C,v,b))}return i&&(s=s.concat(tS(i,n,r,t))),s}}function JO(n,e,t,r){const i=e.get(He());null==t&&null!=i&&(t=m0(i,He()));let s=[];return e.children.inorderTraversal((l,h)=>{const C=t?t.getImmediateChild(l):null,v=NO(r,l),b=n.operationForChild(l);b&&(s=s.concat(JO(b,h,C,v)))}),i&&(s=s.concat(tS(i,n,r,t))),s}function XO(n,e){const t=e.query,r=yv(n,t);return{hashFn:()=>(function c71(n){return n.viewCache_.serverCache.getNode()}(e)||J2.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function z71(n,e,t){const r=iS(n,t);if(r){const i=sS(r),s=i.path,l=i.queryId,h=zt(s,e);return aS(n,s,new Yu(GV(l),h))}return[]}(n,t._path,r):function b71(n,e){return yo(n,new Yu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Ls1(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return rS(n,t,null,s)}}}}function yv(n,e){const t=_v(e);return n.queryToTagMap.get(t)}function _v(n){return n._path.toString()+"$"+n._queryIdentifier}function iS(n,e){return n.tagToQueryMap.get(e)}function sS(n){const e=n.indexOf("$");return(0,D.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ke(n.substr(0,e))}}function aS(n,e,t){const r=n.syncPointTree_.get(e);return(0,D.hu)(r,"Missing sync point for query tag that we're tracking"),tS(r,t,fv(n.pendingWriteTree_,e),null)}function tf(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function y71(){return(0,D.hu)(gv,"Reference.ts has not been loaded"),gv}())(n._repo,n._path):n}class oS{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new oS(t)}node(){return this.node_}}class cS{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=m3(this.path_,e);return new cS(this.syncTree_,t)}node(){return vv(this.syncTree_,this.path_)}}const eF=function(n,e,t){return n&&"object"==typeof n?((0,D.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?I71(n[".sv"],e,t):"object"==typeof n[".sv"]?N71(n[".sv"],e):void(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},I71=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,D.hu)(!1,"Unexpected server value: "+n)},N71=function(n,e,t){n.hasOwnProperty("increment")||(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,D.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,D.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return"number"!=typeof l?r:l+r},tF=function(n,e,t,r){return uS(e,new cS(t,n),r)},lS=function(n,e,t){return uS(n,new oS(e),t)};function uS(n,e,t){const r=n.getPriority().val(),i=eF(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,h=eF(l.getValue(),e,t);return h!==l.getValue()||i!==l.getPriority().val()?new fo(h,z3(i)):n}{const l=n;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new fo(i))),l.forEachChild(i3,(h,C)=>{const v=uS(C,e.getImmediateChild(h),t);v!==C&&(s=s.updateImmediateChild(h,v))}),s}}class fS{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Mv(n,e){let t=e instanceof ke?e:new ke(e),r=n,i=le(t);for(;null!==i;){const s=(0,D.DV)(r.node.children,i)||{children:{},childCount:0};r=new fS(i,r,s),t=Qe(t),i=le(t)}return r}function Ls(n){return n.node.value}function hS(n,e){n.node.value=e,dS(n)}function nF(n){return n.node.childCount>0}function Lv(n,e){L4(n.node.children,(t,r)=>{e(new fS(t,n,r))})}function rF(n,e,t,r){t&&!r&&e(n),Lv(n,i=>{rF(i,e,!0,r)}),t&&r&&e(n)}function nf(n){return new ke(null===n.parent?n.name:nf(n.parent)+"/"+n.name)}function dS(n){null!==n.parent&&function P71(n,e,t){const r=function D71(n){return void 0===Ls(n)&&!nF(n)}(t),i=(0,D.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,dS(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,dS(n))}(n.parent,n.name,n)}const R71=/[\[\].#$\/\u0000-\u001F\u007F]/,O71=/[\[\].#$\u0000-\u001F\u007F]/,CS=10485760,bv=function(n){return"string"==typeof n&&0!==n.length&&!R71.test(n)},iF=function(n){return"string"==typeof n&&0!==n.length&&!O71.test(n)},rf=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Kg(n)||n&&"object"==typeof n&&(0,D.r3)(n,".sv")},P5=function(n,e,t,r){r&&void 0===e||sf((0,D.gK)(n,"value"),e,t)},sf=function(n,e,t){const r=t instanceof ke?new Xs1(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+gs(r));if("function"==typeof e)throw new Error(n+"contains a function "+gs(r)+" with contents = "+e.toString());if(Kg(e))throw new Error(n+"contains "+e.toString()+" "+gs(r));if("string"==typeof e&&e.length>CS/3&&(0,D.ug)(e)>CS)throw new Error(n+"contains a string greater than "+CS+" utf8 bytes "+gs(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(L4(e,(l,h)=>{if(".value"===l)i=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!bv(l)))throw new Error(n+" contains an invalid key ("+l+") "+gs(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ea1(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,D.ug)(e),uO(n)})(r,l),sf(n,h,r),function ta1(n){const e=n.parts_.pop();n.byteLength_-=(0,D.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+gs(r)+" in addition to actual children.")}},sF=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,D.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];L4(e,(l,h)=>{const C=new ke(l);if(sf(i,h,m3(t,C)),".priority"===EV(C)&&!rf(h))throw new Error(i+"contains an invalid value for '"+C.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(C)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=ju(r);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!bv(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Js1);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&nn(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},pS=function(n,e,t){if(!t||void 0!==e){if(Kg(e))throw new Error((0,D.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!rf(e))throw new Error((0,D.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},af=function(n,e,t,r){if(!(r&&void 0===t||bv(t)))throw new Error((0,D.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},cf=function(n,e,t,r){if(!(r&&void 0===t||iF(t)))throw new Error((0,D.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sn=function(n,e){if(".info"===le(e))throw new Error(n+" failed = Can't modify data under /.info/")},aF=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!bv(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),iF(n)}(t))throw new Error((0,D.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class j71{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zv(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!xV(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function mS(n,e,t){zv(n,t),oF(n,r=>xV(r,e))}function an(n,e,t){zv(n,t),oF(n,r=>nn(r,e)||nn(e,r))}function oF(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(q71(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function q71(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();ps&&M4("event: "+t.toString()),lo(r)}}}const cF="repo_interrupt";class W71{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new j71,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ov(),this.transactionQueueTree_=new fS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lF(n){const t=n.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function lf(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:lF(n)})}function uF(n,e,t,r,i){n.dataUpdateCount++;const s=new ke(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const C=(0,D.UI)(t,v=>z3(v));l=function V71(n,e,t,r){const i=iS(n,r);if(i){const s=sS(i),l=s.path,h=s.queryId,C=zt(l,e),v=s3.fromObject(t);return aS(n,l,new go(GV(h),C,v))}return[]}(n.serverSyncTree_,s,C,i)}else{const C=z3(t);l=function w71(n,e,t,r){const i=iS(n,r);if(null!=i){const s=sS(i),l=s.path,h=s.queryId,C=zt(l,e);return aS(n,l,new ys(GV(h),C,t))}return[]}(n.serverSyncTree_,s,C,i)}else if(r){const C=(0,D.UI)(t,v=>z3(v));l=function L71(n,e,t){const r=s3.fromObject(t);return yo(n,new go({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,C)}else{const C=z3(t);l=ef(n.serverSyncTree_,s,C)}let h=s;l.length>0&&(h=Mo(n,s)),an(n.eventQueue_,h,l)}function fF(n,e){gS(n,"connected",e),!1===e&&function Q71(n){_o(n,"onDisconnectEvents");const e=lf(n),t=ov();BV(n.onDisconnect_,He(),(i,s)=>{const l=tF(i,s,n.serverSyncTree_,e);mo(t,i,l)});let r=[];BV(t,He(),(i,s)=>{r=r.concat(ef(n.serverSyncTree_,i,s));const l=MS(n,i);Mo(n,l)}),n.onDisconnect_=ov(),an(n.eventQueue_,He(),r)}(n)}function gS(n,e,t){const r=new ke("/.info/"+e),i=z3(t);n.infoData_.updateSnapshot(r,i);const s=ef(n.infoSyncTree_,r,i);an(n.eventQueue_,r,s)}function wv(n){return n.nextWriteId_++}function vS(n,e,t,r,i){_o(n,"set",{path:e.toString(),value:t,priority:r});const s=lf(n),l=z3(t,r),h=vv(n.serverSyncTree_,e),C=lS(l,h,s),v=wv(n),b=nS(n.serverSyncTree_,e,C,v,!0);zv(n.eventQueue_,b),n.server_.put(e.toString(),l.val(!0),(S,x)=>{const I="ok"===S;I||rt("set at "+e+" failed: "+S);const K=v0(n.serverSyncTree_,v,!I);an(n.eventQueue_,e,K),y0(0,i,S,x)});const z=MS(n,e);Mo(n,z),an(n.eventQueue_,z,[])}function J71(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&UV(n.onDisconnect_,e),y0(0,t,r,i)})}function hF(n,e,t,r){const i=z3(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,l)=>{"ok"===s&&mo(n.onDisconnect_,e,i),y0(0,r,s,l)})}function yS(n,e,t){let r;r=".info"===le(e._path)?rS(n.infoSyncTree_,e,t):rS(n.serverSyncTree_,e,t),mS(n.eventQueue_,e._path,r)}function dF(n){n.persistentConnection_&&n.persistentConnection_.interrupt(cF)}function _o(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),M4(t,...e)}function y0(n,e,t,r){e&&lo(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const l=new Error(s);l.code=i,e(l)}})}function _S(n,e,t){return vv(n.serverSyncTree_,e,t)||J2.EMPTY_NODE}function Vv(n,e=n.transactionQueueTree_){if(e||Sv(n,e),Ls(e)){const t=pF(n,e);(0,D.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function io1(n,e,t){const r=t.map(v=>v.currentWriteId),i=_S(n,e,r);let s=i;const l=i.hash();for(let v=0;v<t.length;v++){const b=t[v];(0,D.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const z=zt(e,b.path);s=s.updateChild(z,b.currentOutputSnapshotRaw)}const h=s.val(!0),C=e;n.server_.put(C.toString(),h,v=>{_o(n,"transaction put response",{path:C.toString(),status:v});let b=[];if("ok"===v){const z=[];for(let S=0;S<t.length;S++)t[S].status=2,b=b.concat(v0(n.serverSyncTree_,t[S].currentWriteId)),t[S].onComplete&&z.push(()=>t[S].onComplete(null,!0,t[S].currentOutputSnapshotResolved)),t[S].unwatcher();Sv(n,Mv(n.transactionQueueTree_,e)),Vv(n,n.transactionQueueTree_),an(n.eventQueue_,e,b);for(let S=0;S<z.length;S++)lo(z[S])}else{if("datastale"===v)for(let z=0;z<t.length;z++)t[z].status=3===t[z].status?4:0;else{rt("transaction at "+C.toString()+" failed: "+v);for(let z=0;z<t.length;z++)t[z].status=4,t[z].abortReason=v}Mo(n,e)}},l)}(n,nf(e),t)}else nF(e)&&Lv(e,t=>{Vv(n,t)})}function Mo(n,e){const t=CF(n,e),r=nf(t);return function so1(n,e,t){if(0===e.length)return;const r=[];let i=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const C=e[h],v=zt(t,C.path);let z,b=!1;if((0,D.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===C.status)b=!0,z=C.abortReason,i=i.concat(v0(n.serverSyncTree_,C.currentWriteId,!0));else if(0===C.status)if(C.retryCount>=25)b=!0,z="maxretry",i=i.concat(v0(n.serverSyncTree_,C.currentWriteId,!0));else{const S=_S(n,C.path,l);C.currentInputSnapshot=S;const x=e[h].update(S.val());if(void 0!==x){sf("transaction failed: Data returned ",x,C.path);let I=z3(x);"object"==typeof x&&null!=x&&(0,D.r3)(x,".priority")||(I=I.updatePriority(S.getPriority()));const o1=C.currentWriteId,R1=lf(n),U1=lS(I,S,R1);C.currentOutputSnapshotRaw=I,C.currentOutputSnapshotResolved=U1,C.currentWriteId=wv(n),l.splice(l.indexOf(o1),1),i=i.concat(nS(n.serverSyncTree_,C.path,U1,C.currentWriteId,C.applyLocally)),i=i.concat(v0(n.serverSyncTree_,o1,!0))}else b=!0,z="nodata",i=i.concat(v0(n.serverSyncTree_,C.currentWriteId,!0))}an(n.eventQueue_,t,i),i=[],b&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===z?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(z),!1,null)))}Sv(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)lo(r[h]);Vv(n,n.transactionQueueTree_)}(n,pF(n,t),r),r}function CF(n,e){let t,r=n.transactionQueueTree_;for(t=le(e);null!==t&&void 0===Ls(r);)r=Mv(r,t),t=le(e=Qe(e));return r}function pF(n,e){const t=[];return mF(n,e,t),t.sort((r,i)=>r.order-i.order),t}function mF(n,e,t){const r=Ls(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Lv(e,i=>{mF(n,i,t)})}function Sv(n,e){const t=Ls(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,hS(e,t.length>0?t:void 0)}Lv(e,r=>{Sv(n,r)})}function MS(n,e){const t=nf(CF(n,e)),r=Mv(n.transactionQueueTree_,e);return function k71(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{LS(n,i)}),LS(n,r),rF(r,i=>{LS(n,i)}),t}function LS(n,e){const t=Ls(e);if(t){const r=[];let i=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,D.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,D.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(v0(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?hS(e,void 0):t.length=s+1,an(n.eventQueue_,nf(e),i);for(let l=0;l<r.length;l++)lo(r[l])}}const bS=function(n,e){const t=co1(n),r=t.namespace;return"firebase.com"===t.domain&&N5(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&N5("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new bV(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new ke(t.pathString)}},co1=function(n){let e="",t="",r="",i="",s="",l=!0,h="https",C=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let b=n.indexOf("/");-1===b&&(b=n.length);let z=n.indexOf("?");-1===z&&(z=n.length),e=n.substring(0,Math.min(b,z)),b<z&&(i=function ao1(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(b,z)));const S=function oo1(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):rt(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,z)));v=e.indexOf(":"),v>=0?(l="https"===h||"wss"===h,C=parseInt(e.substring(v+1),10)):v=e.length;const x=e.slice(0,v);if("localhost"===x.toLowerCase())t="localhost";else if(x.split(".").length<=2)t=x;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),t=e.substring(I+1),s=r}"ns"in S&&(s=S.ns)}return{host:e,port:C,domain:t,subdomain:r,secure:l,scheme:h,pathString:i,namespace:s}};class gF{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,D.Pz)(this.snapshot.exportVal())}}class vF{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class yF{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,D.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class _F{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new D.BH;return J71(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){sn("OnDisconnect.remove",this._path);const e=new D.BH;return hF(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){sn("OnDisconnect.set",this._path),P5("OnDisconnect.set",e,this._path,!1);const t=new D.BH;return hF(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){sn("OnDisconnect.setWithPriority",this._path),P5("OnDisconnect.setWithPriority",e,this._path,!1),pS("OnDisconnect.setWithPriority",t,!1);const r=new D.BH;return function X71(n,e,t,r,i){const s=z3(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,h)=>{"ok"===l&&mo(n.onDisconnect_,e,s),y0(0,i,l,h)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){sn("OnDisconnect.update",this._path),sF("OnDisconnect.update",e,this._path,!1);const t=new D.BH;return function eo1(n,e,t,r){if((0,D.xb)(t))return M4("onDisconnect().update() called with empty data.  Don't do anything."),void y0(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{"ok"===i&&L4(t,(l,h)=>{const C=z3(h);mo(n.onDisconnect_,m3(e,l),C)}),y0(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Jt{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ue(this._path)?null:EV(this._path)}get ref(){return new on(this._repo,this._path)}get _queryIdentifier(){const e=wO(this._queryParams),t=_V(e);return"{}"===t?"default":t}get _queryObject(){return wO(this._queryParams)}isEqual(e){if(!((e=(0,D.m9)(e))instanceof Jt))return!1;const t=this._repo===e._repo,r=xV(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Qs1(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function Hv(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function _0(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===k5){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==N8)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==D5)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===i3){if(null!=e&&!rf(e)||null!=t&&!rf(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,D.hu)(n.getIndex()instanceof DV||n.getIndex()===kV,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ev(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class on extends Jt{constructor(e,t){super(e,t,new iv,!1)}get parent(){const e=lO(this._path);return null===e?null:new on(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class bs{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ke(e),r=zs(this.ref,e);return new bs(this._node.getChild(t),r,i3)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new bs(i,zs(this.ref,r),i3)))}hasChild(e){const t=new ke(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function MF(n,e){return(n=(0,D.m9)(n))._checkNotDeleted("ref"),void 0!==e?zs(n._root,e):n._root}function LF(n,e){(n=(0,D.m9)(n))._checkNotDeleted("refFromURL");const t=bS(e,n._repo.repoInfo_.nodeAdmin);aF("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&N5("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),MF(n,t.path.toString())}function zs(n,e){return null===le((n=(0,D.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cf("child","path",t,!1)):cf("child","path",e,!1),new on(n._repo,m3(n._path,e));var t}function zS(n,e){n=(0,D.m9)(n),sn("set",n._path),P5("set",e,n._path,!1);const t=new D.BH;return vS(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function do1(n,e){sF("update",e,n._path,!1);const t=new D.BH;return function Y71(n,e,t,r){_o(n,"update",{path:e.toString(),value:t});let i=!0;const s=lf(n),l={};if(L4(t,(h,C)=>{i=!1,l[h]=tF(m3(e,h),z3(C),n.serverSyncTree_,s)}),i)M4("update() called with empty data.  Don't do anything."),y0(0,r,"ok",void 0);else{const h=wv(n),C=function M71(n,e,t,r){!function Ra1(n,e,t,r){(0,D.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=$V(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=s3.fromObject(t);return yo(n,new go({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,l,h);zv(n.eventQueue_,C),n.server_.merge(e.toString(),t,(v,b)=>{const z="ok"===v;z||rt("update at "+e+" failed: "+v);const S=v0(n.serverSyncTree_,h,!z),x=S.length>0?Mo(n,e):e;an(n.eventQueue_,x,S),y0(0,r,v,b)}),L4(t,v=>{const b=MS(n,m3(e,v));Mo(n,b)}),an(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Co1(n){return function K71(n,e){const t=function S71(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(v,b)=>{const z=zt(v,t);r=r||m0(b,z)});let i=n.syncPointTree_.get(t);i?r=r||m0(i,He()):(i=new qO,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,l=s?new C0(r,!0,!1):null;return function l71(n){return uv(n.viewCache_)}(GO(i,e,fv(n.pendingWriteTree_,e._path),s?l.getNode():J2.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(r=>{const i=z3(r).withIndex(e._queryParams.getIndex()),s=ef(n.serverSyncTree_,e._path,i);return mS(n.eventQueue_,e._path,s),Promise.resolve(i)},r=>(_o(n,"get for query "+(0,D.Pz)(e)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,D.m9)(n))._repo,n).then(e=>new bs(e,new on(n._repo,n._path),n._queryParams.getIndex()))}class xv{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new gF("value",this,new bs(e.snapshotNode,new on(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new vF(this,e,t):null}matches(e){return e instanceof xv&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Tv{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new vF(this,e,t):null}createEvent(e,t){(0,D.hu)(null!=e.childName,"Child events should have a childName.");const r=zs(new on(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new gF(e.type,this,new bs(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Tv&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function uf(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const C=t,v=(b,z)=>{yS(n._repo,n,h),C(b,z)};v.userCallback=t.userCallback,v.context=t.context,t=v}const l=new yF(t,s||void 0),h="value"===e?new xv(l):new Tv(e,l);return function to1(n,e,t){let r;r=".info"===le(e._path)?YO(n.infoSyncTree_,e,t):YO(n.serverSyncTree_,e,t),mS(n.eventQueue_,e._path,r)}(n._repo,n,h),()=>yS(n._repo,n,h)}function wS(n,e,t,r){return uf(n,"value",e,t,r)}function bF(n,e,t,r){return uf(n,"child_added",e,t,r)}function zF(n,e,t,r){return uf(n,"child_changed",e,t,r)}function wF(n,e,t,r){return uf(n,"child_moved",e,t,r)}function VF(n,e,t,r){return uf(n,"child_removed",e,t,r)}function SF(n,e,t){let r=null;const i=t?new yF(t):null;"value"===e?r=new xv(i):e&&(r=new Tv(e,i)),yS(n._repo,n,r)}class Wn{}class HF extends Wn{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){P5("endAt",this._value,e._path,!0);const t=FV(e._queryParams,this._value,this._key);if(Ev(t),_0(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jt(e._repo,e._path,t,e._orderByCalled)}}class mo1 extends Wn{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){P5("endBefore",this._value,e._path,!1);const t=function wa1(n,e,t){let r,i;return n.index_===k5?("string"==typeof e&&(e=LO(e)),i=FV(n,e,t)):(r=null==t?N8:LO(t),i=FV(n,e,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(Ev(t),_0(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jt(e._repo,e._path,t,e._orderByCalled)}}class EF extends Wn{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){P5("startAt",this._value,e._path,!0);const t=OV(e._queryParams,this._value,this._key);if(Ev(t),_0(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Jt(e._repo,e._path,t,e._orderByCalled)}}class yo1 extends Wn{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){P5("startAfter",this._value,e._path,!1);const t=function za1(n,e,t){let r;if(n.index_===k5)"string"==typeof e&&(e=MO(e)),r=OV(n,e,t);else{let i;i=null==t?D5:MO(t),r=OV(n,e,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Ev(t),_0(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Jt(e._repo,e._path,t,e._orderByCalled)}}class Mo1 extends Wn{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jt(e._repo,e._path,function La1(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class bo1 extends Wn{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jt(e._repo,e._path,function ba1(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class wo1 extends Wn{constructor(e){super(),this._path=e}_apply(e){Hv(e,"orderByChild");const t=new ke(this._path);if(ue(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new DV(t),i=sv(e._queryParams,r);return _0(i),new Jt(e._repo,e._path,i,!0)}}class So1 extends Wn{_apply(e){Hv(e,"orderByKey");const t=sv(e._queryParams,k5);return _0(t),new Jt(e._repo,e._path,t,!0)}}class Eo1 extends Wn{_apply(e){Hv(e,"orderByPriority");const t=sv(e._queryParams,i3);return _0(t),new Jt(e._repo,e._path,t,!0)}}class To1 extends Wn{_apply(e){Hv(e,"orderByValue");const t=sv(e._queryParams,kV);return _0(t),new Jt(e._repo,e._path,t,!0)}}class Io1 extends Wn{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(P5("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new HF(this._value,this._key)._apply(new EF(this._value,this._key)._apply(e))}}function $n(n,...e){let t=(0,D.m9)(n);for(const r of e)t=r._apply(t);return t}(function d71(n){(0,D.hu)(!pv,"__referenceConstructor has already been defined"),pv=n})(on),function v71(n){(0,D.hu)(!gv,"__referenceConstructor has already been defined"),gv=n}(on);const VS={};function TF(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||N5("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),M4("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let C,v,l=bS(s,i),h=l.repoInfo;"undefined"!=typeof process&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(C=!0,s=`http://${v}?ns=${h.namespace}`,l=bS(s,i),h=l.repoInfo):C=!l.repoInfo.secure;const b=i&&C?new Bu(Bu.OWNER):new Vs1(n.name,n.options,e);aF("Invalid Firebase Database URL",l),ue(l.path)||N5("Database URL must point to the root of a Firebase Database (not including a child path).");const z=function Ro1(n,e,t,r){let i=VS[e.name];i||(i={},VS[e.name]=i);let s=i[n.toURLString()];return s&&N5("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new W71(n,false,t,r),i[n.toURLString()]=s,s}(h,n,b,new ws1(n.name,t));return new Fo1(z,n)}class Fo1{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function $71(n,e,t){if(n.stats_=VV(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new av(n.repoInfo_,(r,i,s,l)=>{uF(n,r,i,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>fF(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,D.Pz)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new vs(n.repoInfo_,e,(r,i,s,l)=>{uF(n,r,i,s,l)},r=>{fF(n,r)},r=>{!function Z71(n,e){L4(e,(t,r)=>{gS(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Es1(n,e){const t=n.toString();return wV[t]||(wV[t]=e()),wV[t]}(n.repoInfo_,()=>new Ta1(n.stats_,n.server_)),n.infoData_=new Va1,n.infoSyncTree_=new KO({startListening:(r,i,s,l)=>{let h=[];const C=n.infoData_.getNode(r._path);return C.isEmpty()||(h=ef(n.infoSyncTree_,r._path,C),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),gS(n,"connected",!1),n.serverSyncTree_=new KO({startListening:(r,i,s,l)=>(n.server_.listen(r,s,i,(h,C)=>{const v=l(h,C);an(n.eventQueue_,r._path,v)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new on(this._repo,He())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Po1(n,e){const t=VS[e];(!t||t[n.key]!==n)&&N5(`Database ${e}(${n.repoInfo_}) has already been deleted.`),dF(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&N5("Cannot call "+e+" on a deleted database.")}}function AF(){QR.IS_TRANSPORT_INITIALIZED&&rt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Uo1(){AF(),h0.forceDisallow()}function Bo1(){AF(),uo.forceDisallow(),h0.forceAllow()}function Wo1(n,e){TR(n,e)}const Zo1={".sv":"timestamp"};class Qo1{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}vs.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},vs.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function $o1(n){VR(bt.SDK_VERSION),(0,bt._registerComponent)(new Bn.wA("database",(e,{instanceIdentifier:t})=>TF(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,bt.registerVersion)(zR,"0.13.0",n),(0,bt.registerVersion)(zR,"0.13.0","esm2017")}();const t91=new jn.Yd("@firebase/database-compat"),IF=function(n){t91.warn("FIREBASE WARNING: "+n)};class i91{constructor(e){this._delegate=e}cancel(e){(0,D.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,D.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,D.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,D.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,D.Dv)("OnDisconnect.set",1,2,arguments.length),(0,D.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,D.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,D.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if((0,D.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,IF("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,D.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class s91{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,D.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class M0{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,D.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,D.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,D.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,D.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,D.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),cf("DataSnapshot.child","path",e,!1),new M0(this._database,this._delegate.child(e))}hasChild(e){return(0,D.Dv)("DataSnapshot.hasChild",1,1,arguments.length),cf("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,D.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,D.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,D.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new M0(this._database,t)))}hasChildren(){return(0,D.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,D.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,D.Dv)("DataSnapshot.ref",0,0,arguments.length),new M6(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class R4{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;(0,D.Dv)("Query.on",2,4,arguments.length),(0,D.Wj)("Query.on","callback",t,!1);const l=R4.getCancelAndContextArgs_("Query.on",r,i),h=(v,b)=>{t.call(l.context,new M0(this.database,v),b)};h.userCallback=t,h.context=l.context;const C=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return wS(this._delegate,h,C),t;case"child_added":return bF(this._delegate,h,C),t;case"child_removed":return VF(this._delegate,h,C),t;case"child_changed":return zF(this._delegate,h,C),t;case"child_moved":return wF(this._delegate,h,C),t;default:throw new Error((0,D.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,D.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,D.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,D.Wj)("Query.off","callback",t,!0),(0,D.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,SF(this._delegate,e,i)}else SF(this._delegate,e)}get(){return Co1(this._delegate).then(e=>new M0(this.database,e))}once(e,t,r,i){(0,D.Dv)("Query.once",1,4,arguments.length),(0,D.Wj)("Query.once","callback",t,!0);const s=R4.getCancelAndContextArgs_("Query.once",r,i),l=new D.BH,h=(v,b)=>{const z=new M0(this.database,v);t&&t.call(s.context,z,b),l.resolve(z)};h.userCallback=t,h.context=s.context;const C=v=>{s.cancel&&s.cancel.call(s.context,v),l.reject(v)};switch(e){case"value":wS(this._delegate,h,C,{onlyOnce:!0});break;case"child_added":bF(this._delegate,h,C,{onlyOnce:!0});break;case"child_removed":VF(this._delegate,h,C,{onlyOnce:!0});break;case"child_changed":zF(this._delegate,h,C,{onlyOnce:!0});break;case"child_moved":wF(this._delegate,h,C,{onlyOnce:!0});break;default:throw new Error((0,D.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,D.Dv)("Query.limitToFirst",1,1,arguments.length),new R4(this.database,$n(this._delegate,function Lo1(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Mo1(n)}(e)))}limitToLast(e){return(0,D.Dv)("Query.limitToLast",1,1,arguments.length),new R4(this.database,$n(this._delegate,function zo1(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bo1(n)}(e)))}orderByChild(e){return(0,D.Dv)("Query.orderByChild",1,1,arguments.length),new R4(this.database,$n(this._delegate,function Vo1(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return cf("orderByChild","path",n,!1),new wo1(n)}(e)))}orderByKey(){return(0,D.Dv)("Query.orderByKey",0,0,arguments.length),new R4(this.database,$n(this._delegate,function Ho1(){return new So1}()))}orderByPriority(){return(0,D.Dv)("Query.orderByPriority",0,0,arguments.length),new R4(this.database,$n(this._delegate,function xo1(){return new Eo1}()))}orderByValue(){return(0,D.Dv)("Query.orderByValue",0,0,arguments.length),new R4(this.database,$n(this._delegate,function Ao1(){return new To1}()))}startAt(e=null,t){return(0,D.Dv)("Query.startAt",0,2,arguments.length),new R4(this.database,$n(this._delegate,function vo1(n=null,e){return af("startAt","key",e,!0),new EF(n,e)}(e,t)))}startAfter(e=null,t){return(0,D.Dv)("Query.startAfter",0,2,arguments.length),new R4(this.database,$n(this._delegate,function _o1(n,e){return af("startAfter","key",e,!0),new yo1(n,e)}(e,t)))}endAt(e=null,t){return(0,D.Dv)("Query.endAt",0,2,arguments.length),new R4(this.database,$n(this._delegate,function po1(n,e){return af("endAt","key",e,!0),new HF(n,e)}(e,t)))}endBefore(e=null,t){return(0,D.Dv)("Query.endBefore",0,2,arguments.length),new R4(this.database,$n(this._delegate,function go1(n,e){return af("endBefore","key",e,!0),new mo1(n,e)}(e,t)))}equalTo(e,t){return(0,D.Dv)("Query.equalTo",1,2,arguments.length),new R4(this.database,$n(this._delegate,function No1(n,e){return af("equalTo","key",e,!0),new Io1(n,e)}(e,t)))}toString(){return(0,D.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,D.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,D.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof R4))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,D.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,D.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,D.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new M6(this.database,new on(this._delegate._repo,this._delegate._path))}}class M6 extends R4{constructor(e,t){super(e,new Jt(t._repo,t._path,new iv,!1)),this.database=e,this._delegate=t}getKey(){return(0,D.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,D.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new M6(this.database,zs(this._delegate,e))}getParent(){(0,D.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new M6(this.database,e):null}getRoot(){return(0,D.Dv)("Reference.root",0,0,arguments.length),new M6(this.database,this._delegate.root)}set(e,t){(0,D.Dv)("Reference.set",1,2,arguments.length),(0,D.Wj)("Reference.set","onComplete",t,!0);const r=zS(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,D.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,IF("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}sn("Reference.update",this._delegate._path),(0,D.Wj)("Reference.update","onComplete",t,!0);const r=do1(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,D.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,D.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function ho1(n,e,t){if(sn("setWithPriority",n._path),P5("setWithPriority",e,n._path,!1),pS("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new D.BH;return vS(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,D.Dv)("Reference.remove",0,1,arguments.length),(0,D.Wj)("Reference.remove","onComplete",e,!0);const t=function uo1(n){return sn("remove",n._path),zS(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,D.Dv)("Reference.transaction",1,3,arguments.length),(0,D.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,D.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,D.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function Jo1(n,e,t){var r;if(n=(0,D.m9)(n),sn("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=null==t?void 0:t.applyLocally)||void 0===r||r,s=new D.BH,h=wS(n,()=>{});return function ro1(n,e,t,r,i,s){_o(n,"transaction on "+e);const l={path:e,update:t,onComplete:r,status:null,order:HR(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=_S(n,e,void 0);l.currentInputSnapshot=h;const C=l.update(h.val());if(void 0===C)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{sf("transaction failed: Data returned ",C,l.path),l.status=0;const v=Mv(n.transactionQueueTree_,e),b=Ls(v)||[];let z;b.push(l),hS(v,b),"object"==typeof C&&null!==C&&(0,D.r3)(C,".priority")?(z=(0,D.DV)(C,".priority"),(0,D.hu)(rf(z),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):z=(vv(n.serverSyncTree_,e)||J2.EMPTY_NODE).getPriority().val();const S=lf(n),x=z3(C,z),I=lS(x,h,S);l.currentOutputSnapshotRaw=x,l.currentOutputSnapshotResolved=I,l.currentWriteId=wv(n);const K=nS(n.serverSyncTree_,e,I,l.currentWriteId,l.applyLocally);an(n.eventQueue_,e,K),Vv(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(C,v,b)=>{let z=null;C?s.reject(C):(z=new bs(b,new on(n._repo,n._path),i3),s.resolve(new Qo1(v,z)))},h,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new s91(s.committed,new M0(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){(0,D.Dv)("Reference.setPriority",1,2,arguments.length),(0,D.Wj)("Reference.setPriority","onComplete",t,!0);const r=function fo1(n,e){n=(0,D.m9)(n),sn("setPriority",n._path),pS("setPriority",e,!1);const t=new D.BH;return vS(n._repo,m3(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,D.Dv)("Reference.push",0,2,arguments.length),(0,D.Wj)("Reference.push","onComplete",t,!0);const r=function lo1(n,e){n=(0,D.m9)(n),sn("push",n._path),P5("push",e,n._path,!0);const t=lF(n._repo),r=va1(t),i=zs(n,r),s=zs(n,r);let l;return l=null!=e?zS(s,e).then(()=>s):Promise.resolve(s),i.then=l.then.bind(l),i.catch=l.then.bind(l,void 0),i}(this._delegate,e),i=r.then(l=>new M6(this.database,l));t&&i.then(()=>t(null),l=>t(l));const s=new M6(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return sn("Reference.onDisconnect",this._delegate._path),new i91(new _F(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ff{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Uo1,forceLongPolling:Bo1}}useEmulator(e,t,r={}){!function jo1(n,e,t,r={}){(n=(0,D.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&N5("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&N5('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Bu(Bu.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:(0,D.Sg)(r.mockUserToken,n.app.options.projectId);s=new Bu(l)}!function ko1(n,e,t,r){n.repoInfo_=new bV(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(this._delegate,e,t,r)}ref(e){if((0,D.Dv)("database.ref",0,1,arguments.length),e instanceof M6){const t=LF(this._delegate,e.toString());return new M6(this,t)}{const t=MF(this._delegate,e);return new M6(this,t)}}refFromURL(e){(0,D.Dv)("database.refFromURL",1,1,arguments.length);const r=LF(this._delegate,e);return new M6(this,r)}goOffline(){return(0,D.Dv)("database.goOffline",0,0,arguments.length),function qo1(n){(n=(0,D.m9)(n))._checkNotDeleted("goOffline"),dF(n._repo)}(this._delegate)}goOnline(){return(0,D.Dv)("database.goOnline",0,0,arguments.length),function Go1(n){(n=(0,D.m9)(n))._checkNotDeleted("goOnline"),function no1(n){n.persistentConnection_&&n.persistentConnection_.resume(cF)}(n._repo)}(this._delegate)}}ff.ServerValue={TIMESTAMP:function Ko1(){return Zo1}(),increment:n=>function Yo1(n){return{".sv":{increment:n}}}(n)};var o91=Object.freeze({__proto__:null,initStandalone:function a91({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){VR(t);const l=new Bn.zt("auth-internal",new Bn.H0("database-standalone"));return l.setComponent(new Bn.wA("auth-internal",()=>r,"PRIVATE")),{instance:new ff(TF(n,l,void 0,e,s),n),namespace:i}}});const c91=ff.ServerValue;!function l91(n){n.INTERNAL.registerComponent(new Bn.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new ff(i,r)},"PUBLIC").setServiceProps({Reference:M6,Query:R4,Database:ff,DataSnapshot:M0,enableLogging:Wo1,INTERNAL:o91,ServerValue:c91}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(mV.Z);var hf=A(5363),u91=A(6063);class f91 extends C3.x{constructor(e=1/0,t=1/0,r=u91.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:l}=this;t||(r.push(e),!i&&r.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let l=0;l<s.length&&!e.closed;l+=r?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const l=t.now();let h=0;for(let C=1;C<r.length&&r[C]<=l;C+=2)h=C;h&&r.splice(0,h+1)}}}function SS(n,e,t){var r,i;let s,l=!1;return n&&"object"==typeof n?(s=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,l=!!n.refCount,t=n.scheduler):s=null!=n?n:1/0,(0,bR.B)({connector:()=>new f91(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}function NF(n,e){return(0,oi.m)(e)?De(()=>n,e):De(()=>n)}var HS=A(9468);A(5867);const kF=new Map,m91={activated:!1,tokenObservers:[]},g91={initialized:!1,enabled:!1};function b4(n){return kF.get(n)||m91}function Zn(n,e){kF.set(n,e)}function Av(){return g91}class L91{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,w1.Z)(function*(){t.stop();try{t.pending=new D.BH,yield function b91(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new D.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const wt=new D.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function RF(n){if(!b4(n).activated)throw wt.create("use-before-activation",{appName:n.name})}function AS(n,e){return IS.apply(this,arguments)}function IS(){return(IS=(0,w1.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const z=yield i.getHeartbeatsHeader();z&&(r["X-Firebase-Client"]=z)}const s={method:"POST",body:JSON.stringify(e),headers:r};let l,h;try{l=yield fetch(n,s)}catch(z){throw wt.create("fetch-network-error",{originalErrorMessage:z.message})}if(200!==l.status)throw wt.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(z){throw wt.create("fetch-parse-error",{originalErrorMessage:z.message})}const C=h.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw wt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(C[1]),b=Date.now();return{token:h.token,expireTimeMillis:b+v,issuedAtTimeMillis:b}})).apply(this,arguments)}function H91(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Cf="firebase-app-check-store";let Dv=null;function FF(){return Dv||(Dv=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(wt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Cf,{keyPath:"compositeKey"})}}catch(t){e(wt.create("storage-open",{originalErrorMessage:t.message}))}}),Dv)}function NS(){return(NS=(0,w1.Z)(function*(n,e){const r=(yield FF()).transaction(Cf,"readwrite"),s=r.objectStore(Cf).put({compositeKey:n,value:e});return new Promise((l,h)=>{s.onsuccess=C=>{l()},r.onerror=C=>{var v;h(wt.create("storage-set",{originalErrorMessage:null===(v=C.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const pf=new jn.Yd("@firebase/app-check");function qF(n,e){return(0,D.hl)()?function A91(n,e){return function UF(n,e){return NS.apply(this,arguments)}(function jF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{pf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function GF(){return Av().enabled}function WF(){return RS.apply(this,arguments)}function RS(){return(RS=(0,w1.Z)(function*(){const n=Av();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const R91={error:"UNKNOWN_ERROR"};function O91(n){return D.US.encodeString(JSON.stringify(n),!1)}function kv(n){return OS.apply(this,arguments)}function OS(){return(OS=(0,w1.Z)(function*(n,e=!1){const t=n.app;RF(t);const r=b4(t);let s,i=r.token;if(!i){const C=yield r.cachedTokenPromise;C&&Pv(C)&&(i=C)}if(!e&&i&&Pv(i))return{token:i.token};let h,l=!1;if(GF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=AS(H91(t,yield WF()),n.heartbeatServiceProvider).then(v=>(r.exchangeTokenPromise=void 0,v)),l=!0);const C=yield r.exchangeTokenPromise;return yield qF(t,C),Zn(t,Object.assign(Object.assign({},r),{token:C})),{token:C.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(C=>(r.exchangeTokenPromise=void 0,C)),l=!0),i=yield r.exchangeTokenPromise}catch(C){"appCheck/throttled"===C.code?pf.warn(C.message):pf.error(C),s=C}return i?(h={token:i.token},Zn(t,Object.assign(Object.assign({},r),{token:i})),yield qF(t,i)):h=U91(s),l&&ZF(t,h),h})).apply(this,arguments)}function US(n,e){const t=b4(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Zn(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function $F(n){const{app:e}=n,t=b4(e);let r=t.tokenRefresher;r||(r=function F91(n){const{app:e}=n;return new L91((0,w1.Z)(function*(){let r;if(r=b4(e).token?yield kv(n,!0):yield kv(n),r.error)throw r.error}),()=>!0,()=>{const t=b4(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Zn(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ZF(n,e){const t=b4(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Pv(n){return n.expireTimeMillis-Date.now()>0}function U91(n){return{token:O91(R91),error:n}}class B91{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=b4(this.app);for(const t of e)US(this.app,t.next);return Promise.resolve()}}const nU="app-check-internal";!function nc1(){(0,bt._registerComponent)(new Bn.wA("app-check",n=>function j91(n,e){return new B91(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(nU).initialize()})),(0,bt._registerComponent)(new Bn.wA(nU,n=>function q91(n){return{getToken:e=>kv(n,e),addTokenListener:e=>function FS(n,e,t,r){const{app:i}=n,s=b4(i),l={next:t,error:r,type:e};if(Zn(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,l]})),s.token&&Pv(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),$F(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>$F(n))}(n,"INTERNAL",e),removeTokenListener:e=>US(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,bt.registerVersion)("@firebase/app-check","0.5.8")}();class mf{constructor(){return(0,re.vb)("app-check")}}"undefined"!=typeof window&&window;var ws=A(127);const WS=new u.OlP("angularfire2.auth.use-emulator"),$S=new u.OlP("angularfire2.auth.settings"),ZS=new u.OlP("angularfire2.auth.tenant-id"),KS=new u.OlP("angularfire2.auth.langugage-code"),YS=new u.OlP("angularfire2.auth.use-device-language"),QS=new u.OlP("angularfire.auth.persistence"),JS=(n,e,t,r,i,s,l,h)=>(0,b3.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const C=e.runOutsideAngular(()=>n.auth());if(t&&C.useEmulator(...t),r&&(C.tenantId=r),C.languageCode=i,s&&C.useDeviceLanguage(),l)for(const[v,b]of Object.entries(l))C.settings[v]=b;return h&&C.setPersistence(h),C},[t,r,i,s,l,h]);let gf=(()=>{class n{constructor(t,r,i,s,l,h,C,v,b,z,S,x){const I=new C3.x,K=L2(void 0).pipe((0,hf.Q)(l.outsideAngular),De(()=>s.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,7092)))),(0,b2.U)(()=>(0,b3.on)(t,s,r)),(0,b2.U)(o1=>JS(o1,s,h,v,b,z,C,S)),SS({bufferSize:1,refCount:!1}));if(ht(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=L2(null);else{K.pipe(h5()).subscribe();const R1=K.pipe(De(J1=>J1.getRedirectResult().then(v2=>v2,()=>null)),re.iC,SS({bufferSize:1,refCount:!1})),U1=K.pipe(De(J1=>new Ke.y(v2=>({unsubscribe:s.runOutsideAngular(()=>J1.onAuthStateChanged(x2=>v2.next(x2),x2=>v2.error(x2),()=>v2.complete()))})))),$1=K.pipe(De(J1=>new Ke.y(v2=>({unsubscribe:s.runOutsideAngular(()=>J1.onIdTokenChanged(x2=>v2.next(x2),x2=>v2.error(x2),()=>v2.complete()))}))));this.authState=R1.pipe(NF(U1),(0,HS.R)(l.outsideAngular),(0,hf.Q)(l.insideAngular)),this.user=R1.pipe(NF($1),(0,HS.R)(l.outsideAngular),(0,hf.Q)(l.insideAngular)),this.idToken=this.user.pipe(De(J1=>J1?(0,Ue.D)(J1.getIdToken()):L2(null))),this.idTokenResult=this.user.pipe(De(J1=>J1?(0,Ue.D)(J1.getIdTokenResult()):L2(null))),this.credential=(0,CV.T)(R1,I,this.authState.pipe(D4(J1=>!J1))).pipe((0,b2.U)(J1=>(null==J1?void 0:J1.user)?J1:null),(0,HS.R)(l.outsideAngular),(0,hf.Q)(l.insideAngular))}return(0,b3.pX)(this,K,s,{spy:{apply:(o1,R1,U1)=>{(o1.startsWith("signIn")||o1.startsWith("createUser"))&&U1.then($1=>I.next($1))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(b3.Dh),u.LFG(b3.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(re.HU),u.LFG(WS,8),u.LFG($S,8),u.LFG(ZS,8),u.LFG(KS,8),u.LFG(YS,8),u.LFG(QS,8),u.LFG(mf,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),cc1=(()=>{class n{constructor(){ws.Z.registerVersion("angularfire",re.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[gf]}),n})();function iU(n){return null==n}function sU(n){return"function"==typeof n.set}function aU(n,e){return sU(e)?e:n.ref(e)}function oU(n,e){if(function lc1(n){return"string"==typeof n}(n))return e.stringCase();if(sU(n))return e.firebaseCase();if(function uc1(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function vf(n,e,t="on",r=dV.z){return new Ke.y(i=>{let s=null;return s=n[t](e,(l,h)=>{r.schedule(()=>{i.next({snapshot:l,prevKey:h})}),"once"===t&&r.schedule(()=>i.complete())},l=>{r.schedule(()=>i.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,b2.U)(i=>{const{snapshot:s,prevKey:l}=i;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:l,key:h}}),(0,bR.B)())}function cU(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function dc1(n,e){const{payload:t,prevKey:r,key:i}=e,s=cU(n,i),l=function hc1(n,e){if(iU(e))return 0;{const t=cU(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(C=>{const v={payload:C,type:"value",prevKey:h,key:C.key};return h=C.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==r&&(n=n.filter(C=>C.payload.key!==t.key)).splice(l,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===i?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,h),n}return n;default:return n}}function lU(n){return(iU(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function uU(n,e,t){return function fc1(n,e,t){return vf(n,"value","once",t).pipe(De(r=>{const i=[L2(r)];return e.forEach(s=>i.push(vf(n,s,"on",t))),(0,CV.T)(...i).pipe(J4(dc1,[]))}),pV())}(n,e=lU(e),t)}function fU(n,e,t){const r=(e=lU(e)).map(i=>vf(n,i,"on",t));return(0,CV.T)(...r)}function hU(n,e){return function(r,i){return oU(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function gc1(n){return function(t){return t?oU(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function dU(n,e){return function(){return vf(n,"value","on",e)}}const _c1=new u.OlP("angularfire2.realtimeDatabaseURL"),Mc1=new u.OlP("angularfire2.database.use-emulator");let yf=(()=>{class n{constructor(t,r,i,s,l,h,C,v,b,z,S,x,I,K,o1){this.schedulers=h;const R1=C,U1=(0,b3.on)(t,l,r);v&&JS(U1,l,b,S,x,I,z,K),this.database=(0,b3.cc)(`${U1.name}.database.${i}`,"AngularFireDatabase",U1.name,()=>{const $1=l.runOutsideAngular(()=>U1.database(i||void 0));return R1&&$1.useEmulator(...R1),$1},[R1])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>aU(this.database,t));let s=i;return r&&(s=r(i)),function vc1(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:hU(r,"update"),set:hU(r,"set"),push:i=>r.push(i),remove:gc1(r),snapshotChanges:i=>uU(n,i,t).pipe(re.iC),stateChanges:i=>fU(n,i,t).pipe(re.iC),auditTrail:i=>function Cc1(n,e,t){return function mc1(n,e,t){return function pc1(n,e){return vf(n,"value","on",e).pipe((0,b2.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function ds1(...n){const e=(0,c5.jO)(n);return(0,N3.e)((t,r)=>{const i=n.length,s=new Array(i);let l=n.map(()=>!1),h=!1;for(let C=0;C<i;C++)(0,c6.Xf)(n[C]).subscribe((0,Ge.x)(r,v=>{s[C]=v,!h&&!l[C]&&(l[C]=!0,(h=l.every(pt.y))&&(l=null))},hs1.Z));t.subscribe((0,Ge.x)(r,C=>{if(h){const v=[C,...s];r.next(e?e(...v):v)}}))})}(e),(0,b2.U)(([i,s])=>{const l=i.lastKeyToLoad,h=s.map(C=>C.key);return{actions:s,lastKeyToLoad:l,loadedKeys:h}}),function Cs1(n){return(0,N3.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,Ge.x)(t,s=>(r||(r=!n(s,i++)))&&t.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,b2.U)(i=>i.actions))}(n,fU(n,e).pipe(J4((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(re.iC),valueChanges:(i,s)=>uU(n,i,t).pipe((0,b2.U)(h=>h.map(C=>s&&s.idField?Object.assign(Object.assign({},C.payload.val()),{[s.idField]:C.key}):C.payload.val())),re.iC)}}(s,this)}object(t){return function yc1(n,e){return{query:n,snapshotChanges:()=>dU(n,e.schedulers.outsideAngular)().pipe(re.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>dU(n,e.schedulers.outsideAngular)().pipe(re.iC,(0,b2.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>aU(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(b3.Dh),u.LFG(b3.xv,8),u.LFG(_c1,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(re.HU),u.LFG(Mc1,8),u.LFG(gf,8),u.LFG(WS,8),u.LFG($S,8),u.LFG(ZS,8),u.LFG(KS,8),u.LFG(YS,8),u.LFG(QS,8),u.LFG(mf,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Lc1=(()=>{class n{constructor(){ws.Z.registerVersion("angularfire",re.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[yf]}),n})(),XS=(()=>{class n{constructor(t){this.db=t,this.dbPath="/visitors",this.visitorStatus=new us1,this.visitorStatus.status={status:"Failed"},this.status=this.visitorStatus.status,this.visitorsRef=t.list(this.dbPath)}getVisitor(t){return this.visitorRef=this.db.object("/visitors/"+t)}getAll(){return this.visitorsRef}create(t){return this.visitorsRef.push(t)}update(t,r){return this.visitorsRef.update(t,r)}delete(t){return this.visitorsRef.remove(t)}deleteAll(t){return this.visitorsRef.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function m2(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?CU(Object(t),!0).forEach(function(r){wc1(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ov(n){return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function pU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function wc1(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eH(n,e){return function Hc1(n){if(Array.isArray(n))return n}(n)||function xc1(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var l,h,r=[],i=!0,s=!1;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!e||r.length!==e);i=!0);}catch(C){s=!0,h=C}finally{try{!i&&null!=t.return&&t.return()}finally{if(s)throw h}}return r}}(n,e)||mU(n,e)||function Ac1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uv(n){return function Sc1(n){if(Array.isArray(n))return tH(n)}(n)||function Ec1(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||mU(n)||function Tc1(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mU(n,e){if(n){if("string"==typeof n)return tH(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tH(n,e)}}function tH(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var gU=function(){},nH={},vU={},yU=null,_U={mark:gU,measure:gU};try{"undefined"!=typeof window&&(nH=window),"undefined"!=typeof document&&(vU=document),"undefined"!=typeof MutationObserver&&(yU=MutationObserver),"undefined"!=typeof performance&&(_U=performance)}catch(n){}var MU=(nH.navigator||{}).userAgent,LU=void 0===MU?"":MU,L0=nH,l3=vU,bU=yU,Bv=_U,k8=!!l3.documentElement&&!!l3.head&&"function"==typeof l3.addEventListener&&"function"==typeof l3.createElement,zU=~LU.indexOf("MSIE")||~LU.indexOf("Trident/"),P8="___FONT_AWESOME___",VU="svg-inline--fa",Vs="data-fa-i2svg",iH="data-fa-pseudo-element",sH="data-prefix",aH="data-icon",SU="fontawesome-i2svg",kc1=["HTML","HEAD","STYLE","SCRIPT"],HU=function(){try{return!0}catch(n){return!1}}(),oH={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},jv={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},EU={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},Pc1={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},Rc1=/fa[srltdbk\-\ ]/,xU="fa-layers-text",Oc1=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,Fc1={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},TU=[1,2,3,4,5,6,7,8,9,10],Uc1=TU.concat([11,12,13,14,15,16,17,18,19,20]),Bc1=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],jc1=[].concat(Uv(Object.keys(jv)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(TU.map(function(n){return"".concat(n,"x")})).concat(Uc1.map(function(n){return"w-".concat(n)})),AU=L0.FontAwesomeConfig||{};l3&&"function"==typeof l3.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=eH(n,2),r=e[1],i=function Gc1(n){return""===n||"false"!==n&&("true"===n||n)}(function qc1(n){var e=l3.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(AU[r]=i)});var Mf=m2(m2({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:VU,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),AU);Mf.autoReplaceSvg||(Mf.observeMutations=!1);var R2={};Object.keys(Mf).forEach(function(n){Object.defineProperty(R2,n,{enumerable:!0,set:function(t){Mf[n]=t,qv.forEach(function(r){return r(R2)})},get:function(){return Mf[n]}})}),L0.FontAwesomeConfig=R2;var qv=[],R5={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Lf(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function Lo(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function cH(n){return n.classList?Lo(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function IU(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Gv(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function lH(n){return n.size!==R5.size||n.x!==R5.x||n.y!==R5.y||n.rotate!==R5.rotate||n.flipX||n.flipY}function NU(){var n="fa",e=VU,t=R2.familyPrefix,r=R2.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||r!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),l=new RegExp("\\--".concat(n,"\\-"),"g"),h=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(t,"-")).replace(l,"--".concat(t,"-")).replace(h,".".concat(r))}return i}var DU=!1;function uH(){R2.autoAddCss&&!DU&&(function Kc1(n){if(n&&k8){var e=l3.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=l3.head.childNodes,r=null,i=t.length-1;i>-1;i--){var s=t[i],l=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=s)}l3.head.insertBefore(e,r)}}(NU()),DU=!0)}var tl1={mixout:function(){return{dom:{css:NU,insertCss:uH}}},hooks:function(){return{beforeDOMElementCreation:function(){uH()},beforeI2svg:function(){uH()}}}},R8=L0||{};R8[P8]||(R8[P8]={}),R8[P8].styles||(R8[P8].styles={}),R8[P8].hooks||(R8[P8].hooks={}),R8[P8].shims||(R8[P8].shims=[]);var Kn=R8[P8],kU=[],Wv=!1;function rl1(n){!k8||(Wv?setTimeout(n,0):kU.push(n))}function bf(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,s=void 0===i?[]:i;return"string"==typeof n?IU(n):"<".concat(e," ").concat(function Qc1(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(IU(n[t]),'" ')},"").trim()}(r),">").concat(s.map(bf).join(""),"</").concat(e,">")}function PU(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}k8&&((Wv=(l3.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(l3.readyState))||l3.addEventListener("DOMContentLoaded",function n(){l3.removeEventListener("DOMContentLoaded",n),Wv=1,kU.map(function(e){return e()})}));var fH=function(e,t,r,i){var C,v,b,s=Object.keys(e),l=s.length,h=void 0!==i?function(e,t){return function(r,i,s,l){return e.call(t,r,i,s,l)}}(t,i):t;for(void 0===r?(C=1,b=e[s[0]]):(C=0,b=r);C<l;C++)b=h(b,e[v=s[C]],v,e);return b};function hH(n){var e=function sl1(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function RU(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function dH(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,s=RU(e);"function"!=typeof Kn.hooks.addPack||i?Kn.styles[n]=m2(m2({},Kn.styles[n]||{}),s):Kn.hooks.addPack(n,RU(e)),"fas"===n&&dH("fa",e)}var zf=Kn.styles,ol1=Kn.shims,cl1=Object.values(EU),CH=null,OU={},FU={},UU={},BU={},jU={},ll1=Object.keys(oH);function fl1(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function ul1(n){return~jc1.indexOf(n)}(i)?null:i}var qU=function(){var e=function(s){return fH(zf,function(l,h,C){return l[C]=fH(h,s,{}),l},{})};OU=e(function(i,s,l){return s[3]&&(i[s[3]]=l),s[2]&&s[2].filter(function(C){return"number"==typeof C}).forEach(function(C){i[C.toString(16)]=l}),i}),FU=e(function(i,s,l){return i[l]=l,s[2]&&s[2].filter(function(C){return"string"==typeof C}).forEach(function(C){i[C]=l}),i}),jU=e(function(i,s,l){var h=s[2];return i[l]=l,h.forEach(function(C){i[C]=l}),i});var t="far"in zf||R2.autoFetchSvg,r=fH(ol1,function(i,s){var l=s[0],h=s[1],C=s[2];return"far"===h&&!t&&(h="fas"),"string"==typeof l&&(i.names[l]={prefix:h,iconName:C}),"number"==typeof l&&(i.unicodes[l.toString(16)]={prefix:h,iconName:C}),i},{names:{},unicodes:{}});UU=r.names,BU=r.unicodes,CH=$v(R2.styleDefault)};function pH(n,e){return(OU[n]||{})[e]}function bo(n,e){return(jU[n]||{})[e]}function GU(n){return UU[n]||{prefix:null,iconName:null}}function z0(){return CH}function $v(n){return jv[n]||jv[oH[n]]||(n in Kn.styles?n:null)||null}function Zv(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.skipLookups,r=void 0!==t&&t,i=null,s=n.reduce(function(l,h){var C=fl1(R2.familyPrefix,h);if(zf[h]?(h=cl1.includes(h)?Pc1[h]:h,i=h,l.prefix=h):ll1.indexOf(h)>-1?(i=h,l.prefix=$v(h)):C?l.iconName=C:h!==R2.replacementClass&&l.rest.push(h),!r&&l.prefix&&l.iconName){var v="fa"===i?GU(l.iconName):{},b=bo(l.prefix,l.iconName);v.prefix&&(i=null),l.iconName=v.iconName||b||l.iconName,l.prefix=v.prefix||l.prefix,"far"===l.prefix&&!zf.far&&zf.fas&&!R2.autoFetchSvg&&(l.prefix="fas")}return l},{prefix:null,iconName:null,rest:[]});return("fa"===s.prefix||"fa"===i)&&(s.prefix=z0()||"fas"),s}(function Zc1(n){qv.push(n)})(function(n){CH=$v(n.styleDefault)}),qU();var Cl1=function(){function n(){(function bc1(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function zc1(n,e,t){e&&pU(n.prototype,e),t&&pU(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var l=i.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(h){t.definitions[h]=m2(m2({},t.definitions[h]||{}),l[h]),dH(h,l[h]);var C=EU[h];C&&dH(C,l[h]),qU()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var l=i[s],h=l.prefix,C=l.iconName,v=l.icon,b=v[2];t[h]||(t[h]={}),b.length>0&&b.forEach(function(z){"string"==typeof z&&(t[h][z]=v)}),t[h][C]=v}),t}}]),n}(),WU=[],zo={},wo={},pl1=Object.keys(wo);function gH(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var s=zo[n]||[];return s.forEach(function(l){e=l.apply(null,[e].concat(r))}),e}function Hs(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=zo[n]||[];i.forEach(function(s){s.apply(null,t)})}function O8(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return wo[n]?wo[n].apply(null,e):void 0}function vH(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||z0();if(e)return e=bo(t,e)||e,PU($U.definitions,t,e)||PU(Kn.styles,t,e)}var $U=new Cl1,vl1={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k8?(Hs("beforeI2svg",e),O8("pseudoElements2svg",e),O8("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===R2.autoReplaceSvg&&(R2.autoReplaceSvg=!0),R2.observeMutations=!0,rl1(function(){_l1({autoReplaceSvgRoot:t}),Hs("watch",e)})}},L6={noAuto:function(){R2.autoReplaceSvg=!1,R2.observeMutations=!1,Hs("noAuto")},config:R2,dom:vl1,parse:{icon:function(e){if(null===e)return null;if("object"===Ov(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:bo(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=$v(e[0]);return{prefix:r,iconName:bo(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(R2.familyPrefix,"-"))>-1||e.match(Rc1))){var i=Zv(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||z0(),iconName:bo(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=z0();return{prefix:s,iconName:bo(s,e)||e}}}},library:$U,findIconDefinition:vH,toHtml:bf},_l1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,r=void 0===t?l3:t;(Object.keys(Kn.styles).length>0||R2.autoFetchSvg)&&k8&&R2.autoReplaceSvg&&L6.dom.i2svg({node:r})};function Kv(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return bf(r)})}}),Object.defineProperty(n,"node",{get:function(){if(k8){var r=l3.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function yH(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,s=n.iconName,l=n.transform,h=n.symbol,C=n.title,v=n.maskId,b=n.titleId,z=n.extra,S=n.watchable,x=void 0!==S&&S,I=r.found?r:t,K=I.width,o1=I.height,R1="fak"===i,U1=[R2.replacementClass,s?"".concat(R2.familyPrefix,"-").concat(s):""].filter(function(o4){return-1===z.classes.indexOf(o4)}).filter(function(o4){return""!==o4||!!o4}).concat(z.classes).join(" "),$1={children:[],attributes:m2(m2({},z.attributes),{},{"data-prefix":i,"data-icon":s,class:U1,role:z.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(K," ").concat(o1)})},J1=R1&&!~z.classes.indexOf("fa-fw")?{width:"".concat(K/o1*16*.0625,"em")}:{};x&&($1.attributes[Vs]=""),C&&($1.children.push({tag:"title",attributes:{id:$1.attributes["aria-labelledby"]||"title-".concat(b||Lf())},children:[C]}),delete $1.attributes.title);var v2=m2(m2({},$1),{},{prefix:i,iconName:s,main:t,mask:r,maskId:v,transform:l,symbol:h,styles:m2(m2({},J1),z.styles)}),x2=r.found&&t.found?O8("generateAbstractMask",v2)||{children:[],attributes:{}}:O8("generateAbstractIcon",v2)||{children:[],attributes:{}},Je=x2.attributes;return v2.children=x2.children,v2.attributes=Je,h?function Ll1(n){var t=n.iconName,r=n.children,i=n.attributes,s=n.symbol,l=!0===s?"".concat(n.prefix,"-").concat(R2.familyPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:m2(m2({},i),{},{id:l}),children:r}]}]}(v2):function Ml1(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,s=n.styles,l=n.transform;if(lH(l)&&t.found&&!r.found){var v={x:t.width/t.height/2,y:.5};i.style=Gv(m2(m2({},s),{},{"transform-origin":"".concat(v.x+l.x/16,"em ").concat(v.y+l.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(v2)}function ZU(n){var e=n.content,t=n.width,r=n.height,i=n.transform,s=n.title,l=n.extra,h=n.watchable,C=void 0!==h&&h,v=m2(m2(m2({},l.attributes),s?{title:s}:{}),{},{class:l.classes.join(" ")});C&&(v[Vs]="");var b=m2({},l.styles);lH(i)&&(b.transform=function Xc1(n){var e=n.transform,t=n.width,i=n.height,s=void 0===i?16:i,l=n.startCentered,h=void 0!==l&&l,C="";return C+=h&&zU?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-s/2,"em) "):h?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(C+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:t,height:r}),b["-webkit-transform"]=b.transform);var z=Gv(b);z.length>0&&(v.style=z);var S=[];return S.push({tag:"span",attributes:v,children:[e]}),s&&S.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),S}function bl1(n){var e=n.content,t=n.title,r=n.extra,i=m2(m2(m2({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),s=Gv(r.styles);s.length>0&&(i.style=s);var l=[];return l.push({tag:"span",attributes:i,children:[e]}),t&&l.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),l}var _H=Kn.styles;function MH(n){var e=n[0],t=n[1],s=eH(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(R2.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(R2.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(R2.familyPrefix,"-").concat("primary"),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var zl1={found:!1,width:512,height:512};function LH(n,e){var t=e;return"fa"===e&&null!==R2.styleDefault&&(e=z0()),new Promise(function(r,i){if(O8("missingIconAbstract"),"fa"===t){var l=GU(n)||{};n=l.iconName||n,e=l.prefix||e}if(n&&e&&_H[e]&&_H[e][n])return r(MH(_H[e][n]));(function wl1(n,e){!HU&&!R2.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(m2(m2({},zl1),{},{icon:R2.showMissingIcons&&n&&O8("missingIconAbstract")||{}}))})}var KU=function(){},bH=R2.measurePerformance&&Bv&&Bv.mark&&Bv.measure?Bv:{mark:KU,measure:KU},wf='FA "6.1.1"',zH_begin=function(e){return bH.mark("".concat(wf," ").concat(e," begins")),function(){return function(e){bH.mark("".concat(wf," ").concat(e," ends")),bH.measure("".concat(wf," ").concat(e),"".concat(wf," ").concat(e," begins"),"".concat(wf," ").concat(e," ends"))}(e)}},Yv=function(){};function QU(n){return"string"==typeof(n.getAttribute?n.getAttribute(Vs):null)}function xl1(n){return l3.createElementNS("http://www.w3.org/2000/svg",n)}function Tl1(n){return l3.createElement(n)}function JU(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,r=void 0===t?"svg"===n.tag?xl1:Tl1:t;if("string"==typeof n)return l3.createTextNode(n);var i=r(n.tag);Object.keys(n.attributes||[]).forEach(function(l){i.setAttribute(l,n.attributes[l])});var s=n.children||[];return s.forEach(function(l){i.appendChild(JU(l,{ceFn:r}))}),i}var Qv={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(JU(i),t)}),null===t.getAttribute(Vs)&&R2.keepOriginalSource){var r=l3.createComment(function Al1(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~cH(t).indexOf(R2.replacementClass))return Qv.replace(e);var i=new RegExp("".concat(R2.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(h,C){return C===R2.replacementClass||C.match(i)?h.toSvg.push(C):h.toNode.push(C),h},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var l=r.map(function(h){return bf(h)}).join("\n");t.setAttribute(Vs,""),t.innerHTML=l}};function XU(n){n()}function eB(n,e){var t="function"==typeof e?e:Yv;if(0===n.length)t();else{var r=XU;"async"===R2.mutateApproach&&(r=L0.requestAnimationFrame||XU),r(function(){var i=function El1(){return!0===R2.autoReplaceSvg?Qv.replace:Qv[R2.autoReplaceSvg]||Qv.replace}(),s=zH_begin("mutate");n.map(i),s(),t()})}}var wH=!1;function tB(){wH=!0}function VH(){wH=!1}var Jv=null;function nB(n){if(bU&&R2.observeMutations){var e=n.treeCallback,t=void 0===e?Yv:e,r=n.nodeCallback,i=void 0===r?Yv:r,s=n.pseudoElementsCallback,l=void 0===s?Yv:s,h=n.observeMutationsRoot,C=void 0===h?l3:h;Jv=new bU(function(v){if(!wH){var b=z0();Lo(v).forEach(function(z){if("childList"===z.type&&z.addedNodes.length>0&&!QU(z.addedNodes[0])&&(R2.searchPseudoElements&&l(z.target),t(z.target)),"attributes"===z.type&&z.target.parentNode&&R2.searchPseudoElements&&l(z.target.parentNode),"attributes"===z.type&&QU(z.target)&&~Bc1.indexOf(z.attributeName))if("class"===z.attributeName&&function Sl1(n){var e=n.getAttribute?n.getAttribute(sH):null,t=n.getAttribute?n.getAttribute(aH):null;return e&&t}(z.target)){var S=Zv(cH(z.target)),I=S.iconName;z.target.setAttribute(sH,S.prefix||b),I&&z.target.setAttribute(aH,I)}else(function Hl1(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(R2.replacementClass)})(z.target)&&i(z.target)})}}),k8&&Jv.observe(C,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Nl1(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var s=i.split(":"),l=s[0],h=s.slice(1);return l&&h.length>0&&(r[l]=h.join(":").trim()),r},{})),t}function Dl1(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=Zv(cH(n));return i.prefix||(i.prefix=z0()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function hl1(n,e){return(FU[n]||{})[e]}(i.prefix,n.innerText)||pH(i.prefix,hH(n.innerText))),i}function kl1(n){var e=Lo(n.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return R2.autoA11y&&(t?e["aria-labelledby"]="".concat(R2.replacementClass,"-title-").concat(r||Lf()):(e["aria-hidden"]="true",e.focusable="false")),e}function rB(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=Dl1(n),r=t.iconName,i=t.prefix,s=t.rest,l=kl1(n),h=gH("parseNodeAttributes",{},n),C=e.styleParser?Nl1(n):[];return m2({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:R5,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:C,attributes:l}},h)}var Rl1=Kn.styles;function iB(n){var e="nest"===R2.autoReplaceSvg?rB(n,{styleParser:!1}):rB(n);return~e.extra.classes.indexOf(xU)?O8("generateLayersText",n,e):O8("generateSvgReplacementMutation",n,e)}function sB(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!k8)return Promise.resolve();var t=l3.documentElement.classList,r=function(z){return t.add("".concat(SU,"-").concat(z))},i=function(z){return t.remove("".concat(SU,"-").concat(z))},s=Object.keys(R2.autoFetchSvg?oH:Rl1),l=[".".concat(xU,":not([").concat(Vs,"])")].concat(s.map(function(b){return".".concat(b,":not([").concat(Vs,"])")})).join(", ");if(0===l.length)return Promise.resolve();var h=[];try{h=Lo(n.querySelectorAll(l))}catch(b){}if(!(h.length>0))return Promise.resolve();r("pending"),i("complete");var C=zH_begin("onTree"),v=h.reduce(function(b,z){try{var S=iB(z);S&&b.push(S)}catch(x){HU||"MissingIcon"===x.name&&console.error(x)}return b},[]);return new Promise(function(b,z){Promise.all(v).then(function(S){eB(S,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),C(),b()})}).catch(function(S){C(),z(S)})})}function Ol1(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;iB(n).then(function(t){t&&eB([t],e)})}var Ul1=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,i=void 0===r?R5:r,s=t.symbol,l=void 0!==s&&s,h=t.mask,C=void 0===h?null:h,v=t.maskId,b=void 0===v?null:v,z=t.title,S=void 0===z?null:z,x=t.titleId,I=void 0===x?null:x,K=t.classes,o1=void 0===K?[]:K,R1=t.attributes,U1=void 0===R1?{}:R1,$1=t.styles,J1=void 0===$1?{}:$1;if(e){var v2=e.prefix,x2=e.iconName,te=e.icon;return Kv(m2({type:"icon"},e),function(){return Hs("beforeDOMElementCreation",{iconDefinition:e,params:t}),R2.autoA11y&&(S?U1["aria-labelledby"]="".concat(R2.replacementClass,"-title-").concat(I||Lf()):(U1["aria-hidden"]="true",U1.focusable="false")),yH({icons:{main:MH(te),mask:C?MH(C.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v2,iconName:x2,transform:m2(m2({},R5),i),symbol:l,title:S,maskId:b,titleId:I,extra:{attributes:U1,styles:J1,classes:o1}})})}},Bl1={mixout:function(){return{icon:(n=Ul1,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:vH(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:vH(i||{})),n(r,m2(m2({},t),{},{mask:i}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=sB,t.nodeCallback=Ol1,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,s=t.callback;return sB(void 0===r?l3:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,s=r.title,l=r.titleId,h=r.prefix,C=r.transform,v=r.symbol,b=r.mask,z=r.maskId,S=r.extra;return new Promise(function(x,I){Promise.all([LH(i,h),b.iconName?LH(b.iconName,b.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(K){var o1=eH(K,2);x([t,yH({icons:{main:o1[0],mask:o1[1]},prefix:h,iconName:i,transform:C,symbol:v,maskId:z,title:s,titleId:l,extra:S,watchable:!0})])}).catch(I)})},e.generateAbstractIcon=function(t){var v,r=t.children,i=t.attributes,s=t.main,l=t.transform,C=Gv(t.styles);return C.length>0&&(i.style=C),lH(l)&&(v=O8("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),r.push(v||s.icon),{children:r,attributes:i}}}},jl1={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return Kv({type:"layer"},function(){Hs("beforeDOMElementCreation",{assembler:t,params:r});var l=[];return t(function(h){Array.isArray(h)?h.map(function(C){l=l.concat(C.abstract)}):l=l.concat(h.abstract)}),[{tag:"span",attributes:{class:["".concat(R2.familyPrefix,"-layers")].concat(Uv(s)).join(" ")},children:l}]})}}}},ql1={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,l=r.classes,h=void 0===l?[]:l,C=r.attributes,v=void 0===C?{}:C,b=r.styles,z=void 0===b?{}:b;return Kv({type:"counter",content:t},function(){return Hs("beforeDOMElementCreation",{content:t,params:r}),bl1({content:t.toString(),title:s,extra:{attributes:v,styles:z,classes:["".concat(R2.familyPrefix,"-layers-counter")].concat(Uv(h))}})})}}}},Gl1={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?R5:i,l=r.title,h=void 0===l?null:l,C=r.classes,v=void 0===C?[]:C,b=r.attributes,z=void 0===b?{}:b,S=r.styles,x=void 0===S?{}:S;return Kv({type:"text",content:t},function(){return Hs("beforeDOMElementCreation",{content:t,params:r}),ZU({content:t,transform:m2(m2({},R5),s),title:h,extra:{attributes:z,styles:x,classes:["".concat(R2.familyPrefix,"-layers-text")].concat(Uv(v))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,s=r.transform,l=r.extra,h=null,C=null;if(zU){var v=parseInt(getComputedStyle(t).fontSize,10),b=t.getBoundingClientRect();h=b.width/v,C=b.height/v}return R2.autoA11y&&!i&&(l.attributes["aria-hidden"]="true"),Promise.resolve([t,ZU({content:t.innerHTML,width:h,height:C,transform:s,title:i,extra:l,watchable:!0})])}}},Wl1=new RegExp('"',"ug"),aB=[1105920,1112319];function oB(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(t))return r();var l=Lo(n.children).filter(function(x2){return x2.getAttribute(iH)===e})[0],h=L0.getComputedStyle(n,e),C=h.getPropertyValue("font-family").match(Oc1),v=h.getPropertyValue("font-weight"),b=h.getPropertyValue("content");if(l&&!C)return n.removeChild(l),r();if(C&&"none"!==b&&""!==b){var z=h.getPropertyValue("content"),S=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(C[2])?jv[C[2].toLowerCase()]:Fc1[v],x=function $l1(n){var e=n.replace(Wl1,""),t=function al1(n,e){var i,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=aB[0]&&t<=aB[1],i=2===e.length&&e[0]===e[1];return{value:hH(i?e[0]:e),isSecondary:r||i}}(z),I=x.value,K=x.isSecondary,o1=C[0].startsWith("FontAwesome"),R1=pH(S,I),U1=R1;if(o1){var $1=function dl1(n){var e=BU[n],t=pH("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(I);$1.iconName&&$1.prefix&&(R1=$1.iconName,S=$1.prefix)}if(!R1||K||l&&l.getAttribute(sH)===S&&l.getAttribute(aH)===U1)r();else{n.setAttribute(t,U1),l&&n.removeChild(l);var J1=function Pl1(){return{iconName:null,title:null,titleId:null,prefix:null,transform:R5,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),v2=J1.extra;v2.attributes[iH]=e,LH(R1,S).then(function(x2){var te=yH(m2(m2({},J1),{},{icons:{main:x2,mask:{prefix:null,iconName:null,rest:[]}},prefix:S,iconName:U1,extra:v2,watchable:!0})),Je=l3.createElement("svg");"::before"===e?n.insertBefore(Je,n.firstChild):n.appendChild(Je),Je.outerHTML=te.map(function(o4){return bf(o4)}).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function Zl1(n){return Promise.all([oB(n,"::before"),oB(n,"::after")])}function Kl1(n){return!(n.parentNode===document.head||~kc1.indexOf(n.tagName.toUpperCase())||n.getAttribute(iH)||n.parentNode&&"svg"===n.parentNode.tagName)}function cB(n){if(k8)return new Promise(function(e,t){var r=Lo(n.querySelectorAll("*")).filter(Kl1).map(Zl1),i=zH_begin("searchPseudoElements");tB(),Promise.all(r).then(function(){i(),VH(),e()}).catch(function(){i(),VH(),t()})})}var lB=!1,uB=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),l=s[0],h=s.slice(1).join("-");if(l&&"h"===h)return r.flipX=!0,r;if(l&&"v"===h)return r.flipY=!0,r;if(h=parseFloat(h),isNaN(h))return r;switch(l){case"grow":r.size=r.size+h;break;case"shrink":r.size=r.size-h;break;case"left":r.x=r.x-h;break;case"right":r.x=r.x+h;break;case"up":r.y=r.y-h;break;case"down":r.y=r.y+h;break;case"rotate":r.rotate=r.rotate+h}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},SH={x:0,y:0,width:"100%",height:"100%"};function fB(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}var eu1={hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),s=i?Zv(i.split(" ").map(function(l){return l.trim()})):{prefix:null,iconName:null,rest:[]};return s.prefix||(s.prefix=z0()),t.mask=s,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var n,r=t.children,i=t.attributes,s=t.main,l=t.mask,h=t.maskId,b=s.icon,S=l.icon,x=function Jc1(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),h="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(l," ").concat(h)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:l.width,iconWidth:s.width}),I={tag:"rect",attributes:m2(m2({},SH),{},{fill:"white"})},K=b.children?{children:b.children.map(fB)}:{},o1={tag:"g",attributes:m2({},x.inner),children:[fB(m2({tag:b.tag,attributes:m2(m2({},b.attributes),x.path)},K))]},R1={tag:"g",attributes:m2({},x.outer),children:[o1]},U1="mask-".concat(h||Lf()),$1="clip-".concat(h||Lf()),J1={tag:"mask",attributes:m2(m2({},SH),{},{id:U1,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[I,R1]},v2={tag:"defs",children:[{tag:"clipPath",attributes:{id:$1},children:(n=S,"g"===n.tag?n.children:[n])},J1]};return r.push(v2,{tag:"rect",attributes:m2({fill:"currentColor","clip-path":"url(#".concat($1,")"),mask:"url(#".concat(U1,")")},SH)}),{children:r,attributes:i}}}};!function ml1(n,e){var t=e.mixoutsTo;WU=n,zo={},Object.keys(wo).forEach(function(r){-1===pl1.indexOf(r)&&delete wo[r]}),WU.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(l){"function"==typeof i[l]&&(t[l]=i[l]),"object"===Ov(i[l])&&Object.keys(i[l]).forEach(function(h){t[l]||(t[l]={}),t[l][h]=i[l][h]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(l){zo[l]||(zo[l]=[]),zo[l].push(s[l])})}r.provides&&r.provides(wo)})}([tl1,Bl1,jl1,ql1,Gl1,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=cB,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;R2.searchPseudoElements&&cB(void 0===r?l3:r)}}},{mixout:function(){return{dom:{unwatch:function(){tB(),lB=!0}}}},hooks:function(){return{bootstrap:function(){nB(gH("mutationObserverCallbacks",{}))},noAuto:function(){!function Il1(){!Jv||Jv.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;lB?VH():nB(gH("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return uB(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=uB(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,l=t.iconWidth,h={transform:"translate(".concat(t.containerWidth/2," 256)")},C="translate(".concat(32*i.x,", ").concat(32*i.y,") "),v="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),b="rotate(".concat(i.rotate," 0 0)"),x={outer:h,inner:{transform:"".concat(C," ").concat(v," ").concat(b)},path:{transform:"translate(".concat(l/2*-1," -256)")}};return{tag:"g",attributes:m2({},x.outer),children:[{tag:"g",attributes:m2({},x.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:m2(m2({},r.icon.attributes),x.path)}]}]}}}},eu1,{provides:function(e){var t=!1;L0.matchMedia&&(t=L0.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:m2(m2({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var l=m2(m2({},s),{},{attributeName:"opacity"}),h={tag:"circle",attributes:m2(m2({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||h.children.push({tag:"animate",attributes:m2(m2({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:m2(m2({},l),{},{values:"1;0;1;1;0;1;"})}),r.push(h),r.push({tag:"path",attributes:m2(m2({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:m2(m2({},l),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:m2(m2({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:m2(m2({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol");return t.symbol=null!==i&&(""===i||i),t}}}}],{mixoutsTo:L6});var iu1=L6.parse,su1=L6.icon;const au1=["*"],lu1=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let hu1=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),du1=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cu1=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[u.TTD]}),n})(),pu1=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[u.TTD],ngContentSelectors:au1,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2}),n})(),w0=(()=>{class n{constructor(t,r,i,s,l){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=s,this.classes=[],null!=l&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=null==this.icon?this.config.fallbackIcon:this.icon,t){const i=this.findIconDefinition(r);if(null!=i){const s=this.buildParams();this.renderIcon(i,s)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);if("icon"in r)return r;const i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return null!=i?i:((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?iu1.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...lu1(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=su1(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(_n),u.Y36(hu1),u.Y36(du1),u.Y36(Cu1,8),u.Y36(pu1,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(u.Ikx("innerHTML",r.renderedIconHTML,u.oJD),u.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[u.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),mu1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),gu1=(()=>{class n{constructor(t,r){this.datepipe=t,this.visitorService=r,this.faUserTie=sR,this.faGraduationCap=P4,this.faAward=z7,this.faWrench=LR,this.faBriefcase=NC,this.foundIp=!1,this.getVisitor=[],this.getvisitorAll=[],this.birthYear=1986,this.birthMonth=9,this.currentYear=(new Date).getFullYear(),this.currentMonth=(new Date).getMonth()+1,this.myLessAge=0}ngOnInit(){var t=this;return(0,w1.Z)(function*(){new navslide,t.request=yield fetch("https://ipinfo.io/json?token=1509eda3fb61e2"),t.result=yield t.request.json(),t.ipAddress=t.result.ip,t.visitorCountry=t.result.country})()}getLessAge(){return this.myLessAge=this.currentYear-this.birthYear,this.myLessAge-1}getMoreAge(){return this.myLessAge=this.currentYear-this.birthYear}refreshPage(){window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(t6),u.Y36(XS))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-about"]],decls:213,vars:6,consts:[[1,"content-right-box","override-content"],[1,"nav","nav-pills","flex-column","flex-sm-row"],["id","about-tab","data-toggle","tab","href","#about","role","tab","aria-controls","about","aria-selected","true",1,"flex-sm-fill","text-sm-center","nav-link","active"],["id","education-tab","data-toggle","tab","href","#education","role","tab","aria-controls","education","aria-selected","false",1,"flex-sm-fill","text-sm-center","nav-link"],["id","skills-tab","data-toggle","tab","href","#skills","role","tab","aria-controls","skills","aria-selected","false",1,"flex-sm-fill","text-sm-center","nav-link"],["id","experience-tab","data-toggle","tab","href","#experience","role","tab","aria-controls","experience","aria-selected","false",1,"flex-sm-fill","text-sm-center","nav-link"],["id","myTabContent",1,"tab-content"],["id","about","role","tabpanel","aria-labelledby","about-tab",1,"tab-pane","fade","show","active"],[1,"content-right-box","content-right-separate"],[1,"header-title"],[3,"icon"],[1,"p_margin"],[1,"row","row-space","d-flex","align-items-center"],[1,"col-lg-5","col-md-5","col-sm-4","col-xs-4","left-info"],[1,"col-lg-6","col-md-6","col-sm-8","col-xs-8","right-infor"],[1,"mr-4"],[1,"col-lg-5","col-md-5","col-sm-4","left-info"],[1,"col-lg-6","col-md-6","col-sm-8","right-infor"],[1,"row","row-space","row-space-bottom","d-flex","align-items-center"],["id","education","role","tabpanel","aria-labelledby","education-tab",1,"tab-pane","fade"],[1,"row","row-break"],[1,"col-md-6"],[1,"education"],[1,"education-level"],[1,"education-level-name"],[1,"school-year","text-right"],[1,"row"],[1,"col-md-12","school-name"],[1,"school-address"],[1,"course"],[1,"text-center"],[1,"col-md-12","school-name","text-center"],["id","skills","role","tabpanel","aria-labelledby","skills-tab",1,"tab-pane","fade"],[1,"skills-box"],[1,"skill-header"],[1,"skill-body"],["id","experience","role","tabpanel","aria-labelledby","experience-tab",1,"tab-pane","fade"],[1,"col-md-12"],[1,"education","expe-box"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"nav",1)(2,"a",2),u._uU(3,"About Me"),u.qZA(),u.TgZ(4,"a",3),u._uU(5,"Education"),u.qZA(),u.TgZ(6,"a",4),u._uU(7,"Skills"),u.qZA(),u.TgZ(8,"a",5),u._uU(9,"Experience"),u.qZA()()(),u.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9),u._UZ(14,"fa-icon",10),u._uU(15,"About Me "),u.qZA(),u.TgZ(16,"p",11),u._uU(17," Graduate of Bachelor of Science in Information Technology (BSIT) and currently working as a full stack (front-end and back-end) developer. I do freelance job like creating web designs, converting web design into html, css, php and javascript, making website more interactive. I also have experience in two programming languages such as JAVA and Visual Basic. "),u.qZA(),u.TgZ(18,"div",12)(19,"div",13),u._uU(20,"Fullname"),u.qZA(),u.TgZ(21,"div",14)(22,"span",15),u._uU(23,":"),u.qZA(),u._uU(24,"Rick Ryan A. Medillo "),u.qZA()(),u.TgZ(25,"div",12)(26,"div",16),u._uU(27,"Age"),u.qZA(),u.TgZ(28,"div",17)(29,"span",15),u._uU(30,":"),u.qZA(),u._uU(31),u.qZA()(),u.TgZ(32,"div",12)(33,"div",16),u._uU(34,"Birthdate"),u.qZA(),u.TgZ(35,"div",17)(36,"span",15),u._uU(37,":"),u.qZA(),u._uU(38,"September 1, 1986 "),u.qZA()(),u.TgZ(39,"div",12)(40,"div",16),u._uU(41,"Address"),u.qZA(),u.TgZ(42,"div",17)(43,"span",15),u._uU(44,":"),u.qZA(),u._uU(45,"Cebu, Philippines "),u.qZA()(),u.TgZ(46,"div",12)(47,"div",16),u._uU(48,"Mobile Number"),u.qZA(),u.TgZ(49,"div",17)(50,"span",15),u._uU(51,":"),u.qZA(),u._uU(52,"+639611335934 "),u.qZA()(),u.TgZ(53,"div",18)(54,"div",16),u._uU(55,"Email"),u.qZA(),u.TgZ(56,"div",17)(57,"span",15),u._uU(58,":"),u.qZA(),u._uU(59,"rickryan29.rr@gmail.com "),u.qZA()()()(),u.TgZ(60,"div",19)(61,"div",8)(62,"div",20)(63,"div",21)(64,"div",9),u._UZ(65,"fa-icon",10),u._uU(66," Education "),u.qZA(),u.TgZ(67,"div",22)(68,"div",23)(69,"div",24),u._uU(70," Primary Education "),u.qZA(),u.TgZ(71,"div",25)(72,"strong"),u._uU(73,"1993 - 1999"),u.qZA()()(),u.TgZ(74,"div",26)(75,"div",27)(76,"strong"),u._uU(77,"Tungkop Elementary School"),u.qZA()()(),u.TgZ(78,"div",28),u._uU(79,"Tungkop Minglanilla, Cebu"),u.qZA()(),u.TgZ(80,"div",22)(81,"div",23)(82,"div",24),u._uU(83," Secondary Education "),u.qZA(),u.TgZ(84,"div",25)(85,"strong"),u._uU(86,"1999 - 2003"),u.qZA()()(),u.TgZ(87,"div",26)(88,"div",27)(89,"strong"),u._uU(90,"Siena School of Naga"),u.qZA()()(),u.TgZ(91,"div",28),u._uU(92,"City of Naga, Cebu"),u.qZA()(),u.TgZ(93,"div",22)(94,"div",23)(95,"div",24),u._uU(96," Tertiary Education "),u.qZA(),u.TgZ(97,"div",25)(98,"strong"),u._uU(99,"2014 - 2017"),u.qZA()()(),u.TgZ(100,"div",29),u._uU(101,"Bachelor of Science in Information Technology"),u.qZA(),u.TgZ(102,"div",26)(103,"div",27)(104,"strong"),u._uU(105,"St. Cecilia's College - Cebu"),u.qZA()()(),u.TgZ(106,"div",28),u._uU(107,"Poblacion, Ward II, Minglanilla, Cebu"),u.qZA()()(),u.TgZ(108,"div",21)(109,"div",9),u._UZ(110,"fa-icon",10),u._uU(111," Achievements / Awards "),u.qZA(),u.TgZ(112,"div",22)(113,"div",23)(114,"div",30),u._uU(115," Academic Awards (2017) "),u.qZA()(),u.TgZ(116,"div",26)(117,"div",31)(118,"strong"),u._uU(119,"Best in Web Development"),u.qZA()()()(),u.TgZ(120,"div",22)(121,"div",23)(122,"div",30),u._uU(123," Special Awards (2017) "),u.qZA()(),u.TgZ(124,"div",26)(125,"div",31)(126,"strong"),u._uU(127,'Technopreneurship / Capstone Awards - "Online Public Access Catalog"'),u.qZA()()()()()()()(),u.TgZ(128,"div",32)(129,"div",8)(130,"div",9),u._UZ(131,"fa-icon",10),u._uU(132," Skills "),u.qZA(),u.TgZ(133,"div",26)(134,"div",21)(135,"div",33)(136,"div",34),u._uU(137," Graphic and Web Design "),u.qZA(),u.TgZ(138,"div",35),u._uU(139," Creating logo, banners, posters and also Web design layout for websites using photoshop. "),u.qZA()(),u.TgZ(140,"div",33)(141,"div",34),u._uU(142," PHP and Javascript "),u.qZA(),u.TgZ(143,"div",35)(144,"b"),u._uU(145,"PHP"),u.qZA(),u._uU(146," is a server scripting language, and a powerful tool for making dynamic and interactive Web pages. "),u._UZ(147,"br")(148,"br"),u.TgZ(149,"b"),u._uU(150,"JavaScript"),u.qZA(),u._uU(151," a scripting language that enables you to create dynamically updating content, control multimedia, animate images, and pretty much everything else. "),u.qZA()(),u.TgZ(152,"div",33)(153,"div",34),u._uU(154," Angular "),u.qZA(),u.TgZ(155,"div",35),u._uU(156," A development platform for building mobile and desktop web applications using Typescript/JavaScript and other languages. "),u.qZA()()(),u.TgZ(157,"div",21)(158,"div",33)(159,"div",34),u._uU(160," HTML and CSS "),u.qZA(),u.TgZ(161,"div",35)(162,"b"),u._uU(163,"HTML"),u.qZA(),u._uU(164," is the standard markup language for documents designed to be displayed in a web browser. "),u._UZ(165,"br")(166,"br"),u.TgZ(167,"b"),u._uU(168,"CSS"),u.qZA(),u._uU(169," is a style sheet language used for describing the presentation of a document written in a markup language such as HTML. "),u.qZA()(),u.TgZ(170,"div",33)(171,"div",34),u._uU(172," MySQL "),u.qZA(),u.TgZ(173,"div",35),u._uU(174," Database for storing and manipulating data, defining the relationship of each table. "),u.qZA()()()()()(),u.TgZ(175,"div",36)(176,"div",8)(177,"div",9),u._UZ(178,"fa-icon",10),u._uU(179," Experience "),u.qZA(),u.TgZ(180,"div",26)(181,"div",37)(182,"div",38)(183,"div",29),u._uU(184,"Web Developer"),u.qZA(),u.TgZ(185,"div",26)(186,"div",27)(187,"strong"),u._uU(188,"Cenix Web Development Services (June 2017 - February 2020)"),u.qZA()()(),u.TgZ(189,"div",28),u._uU(190,"4/F 82 Vibo Center (BF Building), North Escario Street, Cebu City, Cebu"),u.qZA()()()(),u.TgZ(191,"div",26)(192,"div",21)(193,"div",38)(194,"div",29),u._uU(195,"Web Developer"),u.qZA(),u.TgZ(196,"div",26)(197,"div",27)(198,"strong"),u._uU(199,"Home based / Freelance "),u.qZA()()(),u.TgZ(200,"div",28),u._uU(201,"2016-2017"),u.qZA()()()(),u.TgZ(202,"div",26)(203,"div",37)(204,"div",38)(205,"div",29),u._uU(206,"Graphic Artist (Editing and Retouching) - OJT"),u.qZA(),u.TgZ(207,"div",26)(208,"div",27)(209,"strong"),u._uU(210,"Jomacker Photo Editing (June - Aug 2016)"),u.qZA()()(),u.TgZ(211,"div",28),u._uU(212,"1524 Charity St., Belmont Village, Minglanilla, Cebu"),u.qZA()()()()()()()),2&t&&(u.xp6(14),u.Q6J("icon",r.faUserTie),u.xp6(17),u.Oqu(r.currentMonth>=r.birthMonth?r.getMoreAge():r.getLessAge()),u.xp6(34),u.Q6J("icon",r.faGraduationCap),u.xp6(45),u.Q6J("icon",r.faAward),u.xp6(21),u.Q6J("icon",r.faWrench),u.xp6(47),u.Q6J("icon",r.faBriefcase))},directives:[w0],styles:[""]}),n})(),hB=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Es=(()=>{class n extends hB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const O5=new u.OlP("NgValueAccessor"),_u1={provide:O5,useExisting:(0,u.Gpc)(()=>Vf),multi:!0},Lu1=new u.OlP("CompositionEventMode");let Vf=(()=>{class n extends hB{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mu1(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Lu1,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[u._Bn([_u1]),u.qOj]}),n})();function V0(n){return null==n||0===n.length}function CB(n){return null!=n&&"number"==typeof n.length}const it=new u.OlP("NgValidators"),S0=new u.OlP("NgAsyncValidators"),bu1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class F8{static min(e){return function pB(n){return e=>{if(V0(e.value)||V0(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function mB(n){return e=>{if(V0(e.value)||V0(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function gB(n){return V0(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function vB(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function yB(n){return V0(n.value)||bu1.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function _B(n){return e=>V0(e.value)||!CB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function MB(n){return e=>CB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function LB(n){if(!n)return Xv;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(V0(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return HB(e)}static composeAsync(e){return EB(e)}}function Xv(n){return null}function bB(n){return null!=n}function zB(n){const e=(0,u.QGY)(n)?(0,Ue.D)(n):n;return(0,u.CqO)(e),e}function wB(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function VB(n,e){return e.map(t=>t(n))}function SB(n){return n.map(e=>function zu1(n){return!n.validate}(e)?e:t=>e.validate(t))}function HB(n){if(!n)return null;const e=n.filter(bB);return 0==e.length?null:function(t){return wB(VB(t,e))}}function HH(n){return null!=n?HB(SB(n)):null}function EB(n){if(!n)return null;const e=n.filter(bB);return 0==e.length?null:function(t){return function vu1(...n){const e=(0,c5.jO)(n),{args:t,keys:r}=Be(n),i=new Ke.y(s=>{const{length:l}=t;if(!l)return void s.complete();const h=new Array(l);let C=l,v=l;for(let b=0;b<l;b++){let z=!1;(0,c6.Xf)(t[b]).subscribe((0,Ge.x)(s,S=>{z||(z=!0,v--),h[b]=S},()=>C--,void 0,()=>{(!C||!z)&&(v||s.next(r?ai(r,h):h),s.complete())}))}});return e?i.pipe(xa(e)):i}(VB(t,e).map(zB)).pipe((0,b2.U)(wB))}}function EH(n){return null!=n?EB(SB(n)):null}function xB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function TB(n){return n._rawValidators}function AB(n){return n._rawAsyncValidators}function xH(n){return n?Array.isArray(n)?n:[n]:[]}function ey(n,e){return Array.isArray(n)?n.includes(e):n===e}function IB(n,e){const t=xH(e);return xH(n).forEach(i=>{ey(t,i)||t.push(i)}),t}function NB(n,e){return xH(e).filter(t=>!ey(n,t))}class DB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HH(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class H0 extends DB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vt extends DB{get formDirective(){return null}get path(){return null}}class kB{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let TH=(()=>{class n extends kB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(H0,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),AH=(()=>{class n extends kB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Vt,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function Sf(n,e){DH(n,e),e.valueAccessor.writeValue(n.value),function Au1(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&RB(n,e)})}(n,e),function Nu1(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Iu1(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&RB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Tu1(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ry(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),sy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function iy(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function DH(n,e){const t=TB(n);null!==e.validator?n.setValidators(xB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=AB(n);null!==e.asyncValidator?n.setAsyncValidators(xB(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();iy(e._rawValidators,i),iy(e._rawAsyncValidators,i)}function sy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=TB(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(l=>l!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=AB(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(l=>l!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return iy(e._rawValidators,r),iy(e._rawAsyncValidators,r),t}function RB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kH(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function PH(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Vf?t=s:function Pu1(n){return Object.getPrototypeOf(n.constructor)===Es}(s)?r=s:i=s}),i||r||t||null}function RH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Hf="VALID",ay="INVALID",Vo="PENDING",Ef="DISABLED";function FH(n){return(oy(n)?n.validators:n)||null}function BB(n){return Array.isArray(n)?HH(n):n||null}function UH(n,e){return(oy(e)?e.asyncValidators:n)||null}function jB(n){return Array.isArray(n)?EH(n):n||null}function oy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const BH=n=>n instanceof xs,cy=n=>n instanceof ly,qB=n=>n instanceof ZB;function GB(n){return BH(n)?n.value:n.getRawValue()}function WB(n,e){const t=cy(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function $B(n,e){cy(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class jH{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=BB(this._rawValidators),this._composedAsyncValidatorFn=jB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Hf}get invalid(){return this.status===ay}get pending(){return this.status==Vo}get disabled(){return this.status===Ef}get enabled(){return this.status!==Ef}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=BB(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=jB(e)}addValidators(e){this.setValidators(IB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(IB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NB(e,this._rawAsyncValidators))}hasValidator(e){return ey(this._rawValidators,e)}hasAsyncValidator(e){return ey(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Vo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ef,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hf,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hf||this.status===Vo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ef:Hf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Vo,this._hasOwnPendingAsyncValidator=!0;const t=zB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Ru1(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=cy(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:qB(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Ef:this.errors?ay:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vo)?Vo:this._anyControlsHaveStatus(ay)?ay:Hf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){oy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class xs extends jH{constructor(e=null,t,r){super(FH(t),UH(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oy(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ly extends jH{constructor(e,t,r){super(FH(t),UH(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$B(this,e),Object.keys(e).forEach(r=>{WB(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=GB(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ZB extends jH{constructor(e,t,r){super(FH(t),UH(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$B(this,e),e.forEach((r,i)=>{WB(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>GB(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let GH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ej=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const WH=new u.OlP("NgModelWithFormControlWarning"),Wu1={provide:H0,useExisting:(0,u.Gpc)(()=>$H)};let $H=(()=>{class n extends H0{constructor(t,r,i,s){super(),this._ngModelWarningConfig=s,this.update=new u.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=PH(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&ry(r,this,!1),Sf(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}kH(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ry(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(it,10),u.Y36(S0,10),u.Y36(O5,10),u.Y36(WH,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[u._Bn([Wu1]),u.qOj,u.TTD]}),n})();const $u1={provide:Vt,useExisting:(0,u.Gpc)(()=>Tf)};let Tf=(()=>{class n extends Vt{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Sf(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ry(t.control||null,t,!1),RH(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function UB(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ry(r||null,t),BH(i)&&(Sf(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function OB(n,e){DH(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Du1(n,e){return sy(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){DH(this.form,this),this._oldForm&&sy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(it,10),u.Y36(S0,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([$u1]),u.qOj,u.TTD]}),n})();const Yu1={provide:H0,useExisting:(0,u.Gpc)(()=>uy)};let uy=(()=>{class n extends H0{constructor(t,r,i,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=PH(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),kH(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function ny(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Vt,13),u.Y36(it,10),u.Y36(S0,10),u.Y36(O5,10),u.Y36(WH,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([Yu1]),u.qOj,u.TTD]}),n})();const Qu1={provide:O5,useExisting:(0,u.Gpc)(()=>YH),multi:!0};function ij(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let YH=(()=>{class n extends Es{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=ij(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Ju1(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Qu1]),u.qOj]}),n})(),QH=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ij(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(YH,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Xu1={provide:O5,useExisting:(0,u.Gpc)(()=>JH),multi:!0};function sj(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let JH=(()=>{class n extends Es{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,l)=>{s._setSelected(i.indexOf(l.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const l=s;for(let h=0;h<l.length;h++){const v=this._getOptionValue(l[h].value);i.push(v)}}else{const l=r.options;for(let h=0;h<l.length;h++){const C=l[h];if(C.selected){const v=this._getOptionValue(C.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function ef1(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Xu1]),u.qOj]}),n})(),XH=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(sj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(sj(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(JH,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),pj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ej]]}),n})(),uf1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pj]}),n})(),mj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:WH,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pj]}),n})(),gj=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let h,s=null,l=null;return null!=r&&(function ff1(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(s=null!=r.validators?r.validators:null,l=null!=r.asyncValidators?r.asyncValidators:null,h=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,l=null!=r.asyncValidator?r.asyncValidator:null)),new ly(i,{asyncValidators:l,updateOn:h,validators:s})}control(t,r,i){return new xs(t,r,i)}array(t,r,i){const s=t.map(l=>this._createControl(l));return new ZB(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return BH(t)||cy(t)||qB(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:mj}),n})();var fy={prefix:"far",iconName:"comments",icon:[640,512,[61670,128490],"f086","M208 0C322.9 0 416 78.8 416 176C416 273.2 322.9 352 208 352C189.3 352 171.2 349.7 153.9 345.8C123.3 364.8 79.13 384 24.95 384C14.97 384 5.93 378.1 2.018 368.9C-1.896 359.7-.0074 349.1 6.739 341.9C7.26 341.5 29.38 317.4 45.73 285.9C17.18 255.8 0 217.6 0 176C0 78.8 93.13 0 208 0zM164.6 298.1C179.2 302.3 193.8 304 208 304C296.2 304 368 246.6 368 176C368 105.4 296.2 48 208 48C119.8 48 48 105.4 48 176C48 211.2 65.71 237.2 80.57 252.9L104.1 277.8L88.31 308.1C84.74 314.1 80.73 321.9 76.55 328.5C94.26 323.4 111.7 315.5 128.7 304.1L145.4 294.6L164.6 298.1zM441.6 128.2C552 132.4 640 209.5 640 304C640 345.6 622.8 383.8 594.3 413.9C610.6 445.4 632.7 469.5 633.3 469.9C640 477.1 641.9 487.7 637.1 496.9C634.1 506.1 625 512 615 512C560.9 512 516.7 492.8 486.1 473.8C468.8 477.7 450.7 480 432 480C350 480 279.1 439.8 245.2 381.5C262.5 379.2 279.1 375.3 294.9 369.9C322.9 407.1 373.9 432 432 432C446.2 432 460.8 430.3 475.4 426.1L494.6 422.6L511.3 432.1C528.3 443.5 545.7 451.4 563.5 456.5C559.3 449.9 555.3 442.1 551.7 436.1L535.9 405.8L559.4 380.9C574.3 365.3 592 339.2 592 304C592 237.7 528.7 183.1 447.1 176.6L448 176C448 159.5 445.8 143.5 441.6 128.2H441.6z"]},cE={prefix:"far",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M447.1 0h-384c-35.25 0-64 28.75-64 63.1v287.1c0 35.25 28.75 63.1 64 63.1h96v83.98c0 9.836 11.02 15.55 19.12 9.7l124.9-93.68h144c35.25 0 64-28.75 64-63.1V63.1C511.1 28.75 483.2 0 447.1 0zM464 352c0 8.75-7.25 16-16 16h-160l-80 60v-60H64c-8.75 0-16-7.25-16-16V64c0-8.75 7.25-16 16-16h384c8.75 0 16 7.25 16 16V352z"]},Fq={prefix:"far",iconName:"thumbs-up",icon:[512,512,[61575,128077],"f164","M96 191.1H32c-17.67 0-32 14.33-32 31.1v223.1c0 17.67 14.33 31.1 32 31.1h64c17.67 0 32-14.33 32-31.1V223.1C128 206.3 113.7 191.1 96 191.1zM512 227c0-36.89-30.05-66.92-66.97-66.92h-99.86C354.7 135.1 360 113.5 360 100.8c0-33.8-26.2-68.78-70.06-68.78c-46.61 0-59.36 32.44-69.61 58.5c-31.66 80.5-60.33 66.39-60.33 93.47c0 12.84 10.36 23.99 24.02 23.99c5.256 0 10.55-1.721 14.97-5.26c76.76-61.37 57.97-122.7 90.95-122.7c16.08 0 22.06 12.75 22.06 20.79c0 7.404-7.594 39.55-25.55 71.59c-2.046 3.646-3.066 7.686-3.066 11.72c0 13.92 11.43 23.1 24 23.1h137.6C455.5 208.1 464 216.6 464 227c0 9.809-7.766 18.03-17.67 18.71c-12.66 .8593-22.36 11.4-22.36 23.94c0 15.47 11.39 15.95 11.39 28.91c0 25.37-35.03 12.34-35.03 42.15c0 11.22 6.392 13.03 6.392 22.25c0 22.66-29.77 13.76-29.77 40.64c0 4.515 1.11 5.961 1.11 9.456c0 10.45-8.516 18.95-18.97 18.95h-52.53c-25.62 0-51.02-8.466-71.5-23.81l-36.66-27.51c-4.315-3.245-9.37-4.811-14.38-4.811c-13.85 0-24.03 11.38-24.03 24.04c0 7.287 3.312 14.42 9.596 19.13l36.67 27.52C235 468.1 270.6 480 306.6 480h52.53c35.33 0 64.36-27.49 66.8-62.2c17.77-12.23 28.83-32.51 28.83-54.83c0-3.046-.2187-6.107-.6406-9.122c17.84-12.15 29.28-32.58 29.28-55.28c0-5.311-.6406-10.54-1.875-15.64C499.9 270.1 512 250.2 512 227z"]},lE={prefix:"far",iconName:"user",icon:[448,512,[62144,128100],"f007","M272 304h-96C78.8 304 0 382.8 0 480c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32C448 382.8 369.2 304 272 304zM48.99 464C56.89 400.9 110.8 352 176 352h96c65.16 0 119.1 48.95 127 112H48.99zM224 256c70.69 0 128-57.31 128-128c0-70.69-57.31-128-128-128S96 57.31 96 128C96 198.7 153.3 256 224 256zM224 48c44.11 0 80 35.89 80 80c0 44.11-35.89 80-80 80S144 172.1 144 128C144 83.89 179.9 48 224 48z"]};class Bq{}class jq{}class U8{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof U8?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new U8;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof U8?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===s.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class gC1{encodeKey(e){return qq(e)}encodeValue(e){return qq(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const yC1=/%(\d[a-f0-9])/gi,_C1={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function qq(n){return encodeURIComponent(n).replace(yC1,(e,t)=>{var r;return null!==(r=_C1[t])&&void 0!==r?r:e})}function Gq(n){return`${n}`}class E0{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gC1,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vC1(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[l,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],C=t.get(l)||[];C.push(h),t.set(l,C)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new E0({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Gq(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Gq(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class MC1{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Wq(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function $q(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Zq(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Af{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function LC1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new U8),this.context||(this.context=new MC1),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new E0,this.urlWithParams=t}serializeBody(){return null===this.body?null:Wq(this.body)||$q(this.body)||Zq(this.body)||function bC1(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof E0?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Zq(this.body)?null:$q(this.body)?this.body.type||null:Wq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof E0?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,C=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,b=e.params||this.params;const z=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((S,x)=>S.set(x,e.setHeaders[x]),v)),e.setParams&&(b=Object.keys(e.setParams).reduce((S,x)=>S.set(x,e.setParams[x]),b)),new Af(r,i,l,{params:b,headers:v,context:z,reportProgress:C,responseType:s,withCredentials:h})}}var t4=(()=>((t4=t4||{})[t4.Sent=0]="Sent",t4[t4.UploadProgress=1]="UploadProgress",t4[t4.ResponseHeader=2]="ResponseHeader",t4[t4.DownloadProgress=3]="DownloadProgress",t4[t4.Response=4]="Response",t4[t4.User=5]="User",t4))();class uE{constructor(e,t=200,r="OK"){this.headers=e.headers||new U8,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class fE extends uE{constructor(e={}){super(e),this.type=t4.ResponseHeader}clone(e={}){return new fE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dy extends uE{constructor(e={}){super(e),this.type=t4.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new dy({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Kq extends uE{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function hE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Yq=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Af)s=t;else{let C,v;C=i.headers instanceof U8?i.headers:new U8(i.headers),i.params&&(v=i.params instanceof E0?i.params:new E0({fromObject:i.params})),s=new Af(t,r,void 0!==i.body?i.body:null,{headers:C,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=L2(s).pipe(wn(C=>this.handler.handle(C)));if(t instanceof Af||"events"===i.observe)return l;const h=l.pipe(D4(C=>C instanceof dy));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,b2.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return h.pipe((0,b2.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return h.pipe((0,b2.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));default:return h.pipe((0,b2.U)(C=>C.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new E0).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,hE(i,r))}post(t,r,i={}){return this.request("POST",t,hE(i,r))}put(t,r,i={}){return this.request("PUT",t,hE(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Bq))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Qq{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Jq=new u.OlP("HTTP_INTERCEPTORS");let zC1=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const wC1=/^\)\]\}',?\n/;let Xq=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ke.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((x,I)=>i.setRequestHeader(x,I.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&i.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();i.responseType="json"!==x?x:"text"}const s=t.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const x=i.statusText||"OK",I=new U8(i.getAllResponseHeaders()),K=function VC1(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new fE({headers:I,status:i.status,statusText:x,url:K}),l},C=()=>{let{headers:x,status:I,statusText:K,url:o1}=h(),R1=null;204!==I&&(R1=void 0===i.response?i.responseText:i.response),0===I&&(I=R1?200:0);let U1=I>=200&&I<300;if("json"===t.responseType&&"string"==typeof R1){const $1=R1;R1=R1.replace(wC1,"");try{R1=""!==R1?JSON.parse(R1):null}catch(J1){R1=$1,U1&&(U1=!1,R1={error:J1,text:R1})}}U1?(r.next(new dy({body:R1,headers:x,status:I,statusText:K,url:o1||void 0})),r.complete()):r.error(new Kq({error:R1,headers:x,status:I,statusText:K,url:o1||void 0}))},v=x=>{const{url:I}=h(),K=new Kq({error:x,status:i.status||0,statusText:i.statusText||"Unknown Error",url:I||void 0});r.error(K)};let b=!1;const z=x=>{b||(r.next(h()),b=!0);let I={type:t4.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(I.total=x.total),"text"===t.responseType&&!!i.responseText&&(I.partialText=i.responseText),r.next(I)},S=x=>{let I={type:t4.UploadProgress,loaded:x.loaded};x.lengthComputable&&(I.total=x.total),r.next(I)};return i.addEventListener("load",C),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",z),null!==s&&i.upload&&i.upload.addEventListener("progress",S)),i.send(s),r.next({type:t4.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",C),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",z),null!==s&&i.upload&&i.upload.removeEventListener("progress",S)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Te))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const dE=new u.OlP("XSRF_COOKIE_NAME"),CE=new u.OlP("XSRF_HEADER_NAME");class eG{}let SC1=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(l1),u.LFG(u.Lbi),u.LFG(dE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),pE=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(eG),u.LFG(CE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),HC1=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Jq,[]);this.chain=r.reduceRight((i,s)=>new Qq(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jq),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),EC1=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:pE,useClass:zC1}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:dE,useValue:t.cookieName}:[],t.headerName?{provide:CE,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[pE,{provide:Jq,useExisting:pE,multi:!0},{provide:eG,useClass:SC1},{provide:dE,useValue:"XSRF-TOKEN"},{provide:CE,useValue:"X-XSRF-TOKEN"}]}),n})(),xC1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Yq,{provide:Bq,useClass:HC1},Xq,{provide:jq,useExisting:Xq}],imports:[[EC1.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();class tG{}const B8="*";function AC1(n,e){return{type:7,name:n,definitions:e,options:{}}}function nG(n,e=null){return{type:4,styles:e,timings:n}}function rG(n,e=null){return{type:2,steps:n,options:e}}function If(n){return{type:6,styles:n,offset:null}}function mE(n,e,t){return{type:0,name:n,styles:e,options:t}}function iG(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function sG(n){Promise.resolve(null).then(n)}class Nf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){sG(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class aG{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?sG(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++r==s&&this._onDestroy()}),l.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const oG=["toast-component",""];function IC1(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){return u.CHM(t),u.oxw().remove()}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function NC1(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function DC1(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,NC1,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function kC1(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function PC1(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function RC1(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}function OC1(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){return u.CHM(t),u.oxw().remove()}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function FC1(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function UC1(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,FC1,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function BC1(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function jC1(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function qC1(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}class GC1{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Cy{constructor(e,t,r,i,s,l){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=l,this._onTap=new C3.x,this._onAction=new C3.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const cG={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},lG=new u.OlP("ToastConfig");class $C1{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new C3.x,this._activate=new C3.x,this._manualClose=new C3.x,this._resetTimeout=new C3.x,this._countDuplicate=new C3.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class ZC1{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===Cy?this._toastPackage:this._parentInjector.get(e,t,r)}}class KC1 extends class WC1{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class YC1{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let QC1=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(l1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JC1=(()=>{class n{constructor(t,r,i,s){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=s,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new KC1(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new YC1(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(QC1),u.LFG(u._Vd),u.LFG(u.z2F),u.LFG(l1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Df=(()=>{class n{constructor(t,r,i,s,l){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=l,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:l}=this.toastrConfig;for(const h of this.toasts){const C=l&&h.title===t;if((!l||C)&&h.message===r)return h.toastRef.onDuplicate(i,s),h}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=r;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const C=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let v=r;r&&s.enableHtml&&(v=this.sanitizer.sanitize(u.q3G.HTML,r));const b=new $C1(C),z=new Cy(this.index,s,v,i,t,b),S=new ZC1(z,this._injector),x=new GC1(s.toastComponent,S),I=C.attach(x,this.toastrConfig.newestOnTop);b.componentInstance=I.instance;const K={toastId:this.index,title:i||"",message:r||"",toastRef:b,onShown:b.afterActivate(),onHidden:b.afterClosed(),onTap:z.onTap(),onAction:z.onAction(),portal:I};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{K.toastRef.activate()})),this.toasts.push(K),K}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lG),u.LFG(JC1),u.LFG(u.zs3),u.LFG(_n),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XC1=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Df),u.Y36(Cy),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(u.d8E("@flyInOut",r.state),u.Tol(r.toastClasses),u.Udp("display",r.displayStyle))},attrs:oG,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(u.YNc(0,IC1,3,0,"button",0),u.YNc(1,DC1,3,5,"div",1),u.YNc(2,kC1,1,3,"div",2),u.YNc(3,PC1,2,4,"div",3),u.YNc(4,RC1,2,2,"div",4)),2&t&&(u.Q6J("ngIf",r.options.closeButton),u.xp6(1),u.Q6J("ngIf",r.title),u.xp6(1),u.Q6J("ngIf",r.message&&r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.message&&!r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.options.progressBar))},directives:[Ze],encapsulation:2,data:{animation:[AC1("flyInOut",[mE("inactive",If({opacity:0})),mE("active",If({opacity:1})),mE("removed",If({opacity:0})),iG("inactive => active",nG("{{ easeTime }}ms {{ easing }}")),iG("active => removed",nG("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const ep1=Object.assign(Object.assign({},cG),{toastComponent:XC1});let tp1=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:lG,useValue:{default:ep1,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[n6]]}),n})(),np1=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Df),u.Y36(Cy),u.Y36(u.z2F))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(u.Tol(r.toastClasses),u.Udp("display",r.displayStyle))},attrs:oG,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(u.YNc(0,OC1,3,0,"button",0),u.YNc(1,UC1,3,5,"div",1),u.YNc(2,BC1,1,3,"div",2),u.YNc(3,jC1,2,4,"div",3),u.YNc(4,qC1,2,2,"div",4)),2&t&&(u.Q6J("ngIf",r.options.closeButton),u.xp6(1),u.Q6J("ngIf",r.title),u.xp6(1),u.Q6J("ngIf",r.message&&r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.message&&!r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.options.progressBar))},directives:[Ze],encapsulation:2}),n})();function rp1(n,e){1&n&&(u.TgZ(0,"div",20),u._uU(1," Please provide a name. "),u.qZA())}function ip1(n,e){1&n&&(u.TgZ(0,"div",20),u._uU(1," Please provide a email. "),u.qZA())}function sp1(n,e){1&n&&(u.TgZ(0,"div",20),u._uU(1," Please provide a message. "),u.qZA())}Object.assign(Object.assign({},cG),{toastComponent:np1});const vE=function(n,e){return{"is-invalid":n,"is-valid":e}};let ap1=(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.http=r,this.toastr=i,this.router=s,this.faMailReply=Qw,this.faEnvelope=us,this.faUser=lE,this.faComments=fy,this.faCommentAlt=cE,this.name=new xs("",[F8.required]),this.email=new xs("",[F8.required,F8.email]),this.message=new xs("",[F8.required,F8.maxLength(256)]),this.honeypot=new xs(""),this.sendmailForm=this.formBuilder.group({name:this.name,email:this.email,message:this.message,honeypot:this.honeypot})}ngOnInit(){new navslide}get f(){return this.sendmailForm.controls}sendEmail(){if("VALID"==this.sendmailForm.status&&""==this.honeypot.value){this.sendmailForm.disable();var t=new FormData;t.append("name",this.sendmailForm.value.name),t.append("email",this.sendmailForm.value.email),t.append("message",this.sendmailForm.value.message),this.http.post("https://script.google.com/macros/s/AKfycbxQZAfHTl_bPjc_4P730SukmK3nKj7dOZTDm8lKYC4hzo8jjegfysy49oNl5l4XbJp33w/exec",t).subscribe({next:r=>{this.getResponse=r,this.getResponse.result?this.toastr.success("Thanks for the message "+this.sendmailForm.value.name+" I'll get back to you soon!","SUCCESS",{timeOut:1500}).onHidden.subscribe(()=>{this.reloadCurrentRoute()}):this.toastr.warning("Oops! Something went wrong... Reload the page and try again.","WARNING",{timeOut:1500}).onHidden.subscribe(()=>{this.reloadCurrentRoute()}),this.sendmailForm.enable(),console.log(r)},error:r=>{}})}}reloadCurrentRoute(){let t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([t])})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(gj),u.Y36(Yq),u.Y36(Df),u.Y36(P3))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contact"]],decls:31,vars:23,consts:[[1,"content-right-box"],[1,"header-title"],[3,"icon"],[1,"contact"],["id","gform",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"input-group","mb-3"],[1,"input-group-prepend","override-input-prepend"],[1,"fuser",3,"icon"],["formControlName","name","id","name","name","name","type","text","placeholder","Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"faEnvelope",3,"icon"],["formControlName","email","id","email","name","email","type","text","placeholder","Email",1,"form-control",3,"ngClass"],[1,"col-md-12"],[1,"fcomment",3,"icon"],["formControlName","message","id","message","name","message","placeholder","Message","rows","3",1,"form-control",3,"ngClass"],["type","text",1,"hiddenForm",3,"formControl"],[1,"col-md-12","d-flex","justify-content-end"],["role","button","type","submit",1,"btn","btn-primary","sendEmail",3,"disabled"],[1,"invalid-feedback"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"fa-icon",2),u._uU(3," Contact "),u.qZA(),u.TgZ(4,"div",3)(5,"form",4),u.NdJ("ngSubmit",function(){return r.sendEmail()}),u.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),u._UZ(10,"fa-icon",9),u.qZA(),u._UZ(11,"input",10),u.YNc(12,rp1,2,0,"div",11),u.qZA()(),u.TgZ(13,"div",6)(14,"div",7)(15,"div",8),u._UZ(16,"fa-icon",12),u.qZA(),u._UZ(17,"input",13),u.YNc(18,ip1,2,0,"div",11),u.qZA()(),u.TgZ(19,"div",14)(20,"div",7)(21,"div",8),u._UZ(22,"fa-icon",15),u.qZA(),u.TgZ(23,"textarea",16),u._uU(24,"                                    "),u.qZA(),u.YNc(25,sp1,2,0,"div",11),u.qZA()()(),u._UZ(26,"input",17),u.TgZ(27,"div",18)(28,"button",19),u._UZ(29,"fa-icon",2),u._uU(30," SEND MESSAGE "),u.qZA()()()()()),2&t&&(u.xp6(2),u.Q6J("icon",r.faEnvelope),u.xp6(3),u.Q6J("formGroup",r.sendmailForm),u.xp6(5),u.Q6J("icon",r.faUser),u.xp6(1),u.Q6J("ngClass",u.WLB(14,vE,r.f.name.touched&&r.f.name.invalid,r.f.name.untouched&&r.f.name.valid)),u.xp6(1),u.Q6J("ngIf",r.f.name.touched&&r.f.name.invalid),u.xp6(4),u.Q6J("icon",r.faEnvelope),u.xp6(1),u.Q6J("ngClass",u.WLB(17,vE,r.f.email.touched&&r.f.email.invalid,r.f.email.untouched&&r.f.email.valid)),u.xp6(1),u.Q6J("ngIf",r.f.email.touched&&r.f.email.invalid),u.xp6(4),u.Q6J("icon",r.faCommentAlt),u.xp6(1),u.Q6J("ngClass",u.WLB(20,vE,r.f.message.touched&&r.f.message.invalid,r.f.message.untouched&&r.f.message.valid)),u.xp6(2),u.Q6J("ngIf",r.f.message.touched&&r.f.message.invalid),u.xp6(1),u.Q6J("formControl",r.honeypot),u.xp6(2),u.Q6J("disabled",!r.sendmailForm.valid),u.xp6(1),u.Q6J("icon",r.faMailReply))},directives:[w0,GH,AH,Tf,Vf,TH,uy,G4,Ze,$H],styles:[".hiddenForm[_ngcontent-%COMP%]{display:none}.visibleForm[_ngcontent-%COMP%]{display:block}"]}),n})(),op1=(()=>{class n{constructor(){this.faImage=KN}ngOnInit(){new navslide}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-gallery"]],decls:18,vars:1,consts:[[1,"content-right-box"],[1,"header-title"],[3,"icon"],[1,"row"],[1,"img-gallery"],[1,"col-md-4"],["src","assets/image/gallery/gallery10.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery11.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery12.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery20.JPG","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery21.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery22.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery30.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery31.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery32.jpg","alt","",1,"img-fluid"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"fa-icon",2),u._uU(3," Gallery "),u.qZA(),u.TgZ(4,"div",3)(5,"div",4)(6,"div",5),u._UZ(7,"img",6)(8,"img",7)(9,"img",8),u.qZA(),u.TgZ(10,"div",5),u._UZ(11,"img",9)(12,"img",10)(13,"img",11),u.qZA(),u.TgZ(14,"div",5),u._UZ(15,"img",12)(16,"img",13)(17,"img",14),u.qZA()()()()),2&t&&(u.xp6(2),u.Q6J("icon",r.faImage))},directives:[w0],styles:[""]}),n})();class cp1{}let uG=(()=>{class n{constructor(t){this.db=t,this.dbPath="/testimonials",this.testimonialStatus=new cp1,this.testimonialStatus.status={status:"Failed"},this.status=this.testimonialStatus.status,this.testimonialsRef=t.list(this.dbPath)}getTesti(t){return this.testimonialRef=this.db.object("/testimonials/"+t)}getAll(){return this.testimonialsRef}create(t){return this.testimonialsRef.push(t)}update(t,r){return this.testimonialsRef.update(t,r)}delete(t){return this.testimonialsRef.remove(t)}deleteAll(t){return this.testimonialsRef.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lp1{}let up1=(()=>{class n{constructor(t){this.db=t,this.dbPath="/replies",this.replyStatus=new lp1,this.replyStatus.status={status:"Failed"},this.status=this.replyStatus.status,this.repliesRef=t.list(this.dbPath)}getReply(t){return this.replyRef=this.db.object("/replies/"+t)}getAll(){return this.repliesRef}create(t){return this.repliesRef.push(t)}update(t,r){return this.repliesRef.update(t,r)}delete(t){return this.repliesRef.remove(t)}deleteAll(t){return this.repliesRef.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fp1(n,e){if(1&n){var t=u.EpF();u.TgZ(0,"a",11),u.NdJ("keyup.enter",function(){return u.CHM(t),u.oxw(3),u.MAs(1).previous()})("click",function(){return u.CHM(t),u.oxw(3),u.MAs(1).previous()}),u._uU(1),u.TgZ(2,"span",12),u._uU(3),u.qZA()()}if(2&n){var r=u.oxw(3);u.uIk("aria-label",r.previousLabel+" "+r.screenReaderPageLabel),u.xp6(1),u.hij(" ",r.previousLabel," "),u.xp6(2),u.Oqu(r.screenReaderPageLabel)}}function hp1(n,e){if(1&n&&(u.TgZ(0,"span"),u._uU(1),u.TgZ(2,"span",12),u._uU(3),u.qZA()()),2&n){var t=u.oxw(3);u.xp6(1),u.hij(" ",t.previousLabel," "),u.xp6(2),u.Oqu(t.screenReaderPageLabel)}}function dp1(n,e){if(1&n&&(u.TgZ(0,"li",8),u.YNc(1,fp1,4,3,"a",9),u.YNc(2,hp1,4,2,"span",10),u.qZA()),2&n){u.oxw(2);var t=u.MAs(1);u.ekj("disabled",t.isFirstPage()),u.xp6(1),u.Q6J("ngIf",1<t.getCurrent()),u.xp6(1),u.Q6J("ngIf",t.isFirstPage())}}function Cp1(n,e){if(1&n){var t=u.EpF();u.TgZ(0,"a",11),u.NdJ("keyup.enter",function(){u.CHM(t);var l=u.oxw().$implicit;return u.oxw(2),u.MAs(1).setCurrent(l.value)})("click",function(){u.CHM(t);var l=u.oxw().$implicit;return u.oxw(2),u.MAs(1).setCurrent(l.value)}),u.TgZ(1,"span",12),u._uU(2),u.qZA(),u.TgZ(3,"span"),u._uU(4),u.ALo(5,"number"),u.qZA()()}if(2&n){var r=u.oxw().$implicit,i=u.oxw(2);u.xp6(2),u.hij("",i.screenReaderPageLabel," "),u.xp6(2),u.Oqu("..."===r.label?r.label:u.xi3(5,2,r.label,""))}}function pp1(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"span",12),u._uU(2),u.qZA(),u.TgZ(3,"span"),u._uU(4),u.ALo(5,"number"),u.qZA(),u.BQk()),2&n){var t=u.oxw().$implicit,r=u.oxw(2);u.xp6(2),u.hij("",r.screenReaderCurrentLabel," "),u.xp6(2),u.Oqu("..."===t.label?t.label:u.xi3(5,2,t.label,""))}}function mp1(n,e){if(1&n&&(u.TgZ(0,"li"),u.YNc(1,Cp1,6,5,"a",9),u.YNc(2,pp1,6,5,"ng-container",10),u.qZA()),2&n){var t=e.$implicit;u.oxw(2);var r=u.MAs(1);u.ekj("current",r.getCurrent()===t.value)("ellipsis","..."===t.label),u.xp6(1),u.Q6J("ngIf",r.getCurrent()!==t.value),u.xp6(1),u.Q6J("ngIf",r.getCurrent()===t.value)}}function gp1(n,e){if(1&n){var t=u.EpF();u.TgZ(0,"a",11),u.NdJ("keyup.enter",function(){return u.CHM(t),u.oxw(3),u.MAs(1).next()})("click",function(){return u.CHM(t),u.oxw(3),u.MAs(1).next()}),u._uU(1),u.TgZ(2,"span",12),u._uU(3),u.qZA()()}if(2&n){var r=u.oxw(3);u.uIk("aria-label",r.nextLabel+" "+r.screenReaderPageLabel),u.xp6(1),u.hij(" ",r.nextLabel," "),u.xp6(2),u.Oqu(r.screenReaderPageLabel)}}function vp1(n,e){if(1&n&&(u.TgZ(0,"span"),u._uU(1),u.TgZ(2,"span",12),u._uU(3),u.qZA()()),2&n){var t=u.oxw(3);u.xp6(1),u.hij(" ",t.nextLabel," "),u.xp6(2),u.Oqu(t.screenReaderPageLabel)}}function yp1(n,e){if(1&n&&(u.TgZ(0,"li",13),u.YNc(1,gp1,4,3,"a",9),u.YNc(2,vp1,4,2,"span",10),u.qZA()),2&n){u.oxw(2);var t=u.MAs(1);u.ekj("disabled",t.isLastPage()),u.xp6(1),u.Q6J("ngIf",!t.isLastPage()),u.xp6(1),u.Q6J("ngIf",t.isLastPage())}}function _p1(n,e){if(1&n&&(u.TgZ(0,"ul",3),u.YNc(1,dp1,3,4,"li",4),u.TgZ(2,"li",5),u._uU(3),u.qZA(),u.YNc(4,mp1,3,6,"li",6),u.YNc(5,yp1,3,4,"li",7),u.qZA()),2&n){var t=u.oxw(),r=u.MAs(1);u.ekj("responsive",t.responsive),u.uIk("aria-label",t.screenReaderPaginationLabel),u.xp6(1),u.Q6J("ngIf",t.directionLinks),u.xp6(2),u.AsE(" ",r.getCurrent()," / ",r.getLastPage()," "),u.xp6(1),u.Q6J("ngForOf",r.pages)("ngForTrackBy",t.trackByIndex),u.xp6(1),u.Q6J("ngIf",t.directionLinks)}}var kf=function(){function n(){this.change=new u.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return n.prototype.defaultId=function(){return this.DEFAULT_ID},n.prototype.register=function(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)},n.prototype.updateInstance=function(e){var t=!1;for(var r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],t=!0);return t},n.prototype.getCurrentPage=function(e){if(this.instances[e])return this.instances[e].currentPage},n.prototype.setCurrentPage=function(e,t){if(this.instances[e]){var r=this.instances[e];t<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}},n.prototype.setTotalItems=function(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))},n.prototype.setItemsPerPage=function(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))},n.prototype.getInstance=function(e){return void 0===e&&(e=this.DEFAULT_ID),this.instances[e]?this.clone(this.instances[e]):{}},n.prototype.clone=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n}(),Lp1=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},bp1=Number.MAX_SAFE_INTEGER,yE=function(){function n(e){this.service=e,this.state={}}return n.prototype.transform=function(e,t){if(!(e instanceof Array)){var r=t.id||this.service.defaultId();return this.state[r]?this.state[r].slice:e}var h,C,i=t.totalItems&&t.totalItems!==e.length,s=this.createInstance(e,t),l=s.id,v=s.itemsPerPage,b=this.service.register(s);if(!i&&e instanceof Array){if(this.stateIsIdentical(l,e,h=(s.currentPage-1)*(v=+v||bp1),C=h+v))return this.state[l].slice;var S=e.slice(h,C);return this.saveState(l,e,S,h,C),this.service.change.emit(l),S}return b&&this.service.change.emit(l),this.saveState(l,e,e,h,C),e},n.prototype.createInstance=function(e,t){return this.checkConfig(t),{id:null!=t.id?t.id:this.service.defaultId(),itemsPerPage:+t.itemsPerPage||0,currentPage:+t.currentPage||1,totalItems:+t.totalItems||e.length}},n.prototype.checkConfig=function(e){var r=["itemsPerPage","currentPage"].filter(function(i){return!(i in e)});if(0<r.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+r.join(", "))},n.prototype.saveState=function(e,t,r,i,s){this.state[e]={collection:t,size:t.length,slice:r,start:i,end:s}},n.prototype.stateIsIdentical=function(e,t,r,i){var s=this.state[e];return!!s&&!(s.size!==t.length||s.start!==r||s.end!==i)&&s.slice.every(function(h,C){return h===t[r+C]})},n=function(n,e,t,r){var l,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var h=n.length-1;h>=0;h--)(l=n[h])&&(s=(i<3?l(s):i>3?l(e,t,s):l(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}([Lp1("design:paramtypes",[kf])],n),n.\u0275fac=function(t){return new(t||n)(u.Y36(kf,16))},n.\u0275pipe=u.Yjl({name:"paginate",type:n,pure:!1}),n}(),cn=function(n,e,t,r){var l,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var h=n.length-1;h>=0;h--)(l=n[h])&&(s=(i<3?l(s):i>3?l(e,t,s):l(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},St=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)};function _E(n){return!!n&&"false"!==n}var ME=function(){function n(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new u.vpe,this.pageBoundsCorrection=new u.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(n.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(e){this._directionLinks=_E(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"autoHide",{get:function(){return this._autoHide},set:function(e){this._autoHide=_E(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"responsive",{get:function(){return this._responsive},set:function(e){this._responsive=_E(e)},enumerable:!0,configurable:!0}),n.prototype.trackByIndex=function(e){return e},cn([(0,u.IIB)(),St("design:type",String)],n.prototype,"id",void 0),cn([(0,u.IIB)(),St("design:type",Number)],n.prototype,"maxSize",void 0),cn([(0,u.IIB)(),St("design:type",Boolean),St("design:paramtypes",[Boolean])],n.prototype,"directionLinks",null),cn([(0,u.IIB)(),St("design:type",Boolean),St("design:paramtypes",[Boolean])],n.prototype,"autoHide",null),cn([(0,u.IIB)(),St("design:type",Boolean),St("design:paramtypes",[Boolean])],n.prototype,"responsive",null),cn([(0,u.IIB)(),St("design:type",String)],n.prototype,"previousLabel",void 0),cn([(0,u.IIB)(),St("design:type",String)],n.prototype,"nextLabel",void 0),cn([(0,u.IIB)(),St("design:type",String)],n.prototype,"screenReaderPaginationLabel",void 0),cn([(0,u.IIB)(),St("design:type",String)],n.prototype,"screenReaderPageLabel",void 0),cn([(0,u.IIB)(),St("design:type",String)],n.prototype,"screenReaderCurrentLabel",void 0),cn([(0,u.r_U)(),St("design:type",u.vpe)],n.prototype,"pageChange",void 0),cn([(0,u.r_U)(),St("design:type",u.vpe)],n.prototype,"pageBoundsCorrection",void 0),n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,r){if(1&t&&(u.TgZ(0,"pagination-template",0,1),u.NdJ("pageChange",function(l){return r.pageChange.emit(l)})("pageBoundsCorrection",function(l){return r.pageBoundsCorrection.emit(l)}),u.YNc(2,_p1,6,9,"ul",2),u.qZA()),2&t){var i=u.MAs(1);u.Q6J("id",r.id)("maxSize",r.maxSize),u.xp6(2),u.Q6J("ngIf",!(r.autoHide&&i.pages.length<=1))}},directives:function(){return[zp1,Ze,e3]},pipes:function(){return[t8]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),n}(),Pf=function(n,e,t,r){var l,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var h=n.length-1;h>=0;h--)(l=n[h])&&(s=(i<3?l(s):i>3?l(e,t,s):l(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Rf=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},zp1=function(){function n(e,t){var r=this;this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new u.vpe,this.pageBoundsCorrection=new u.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(function(i){r.id===i&&(r.updatePageLinks(),r.changeDetectorRef.markForCheck(),r.changeDetectorRef.detectChanges())})}return n.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},n.prototype.ngOnChanges=function(e){this.updatePageLinks()},n.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},n.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},n.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},n.prototype.isFirstPage=function(){return 1===this.getCurrent()},n.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},n.prototype.setCurrent=function(e){this.pageChange.emit(e)},n.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},n.prototype.getLastPage=function(){var e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)},n.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},n.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},n.prototype.updatePageLinks=function(){var e=this,t=this.service.getInstance(this.id),r=this.outOfBoundCorrection(t);r!==t.currentPage?setTimeout(function(){e.pageBoundsCorrection.emit(r),e.pages=e.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,e.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)},n.prototype.outOfBoundCorrection=function(e){var t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage},n.prototype.createPageArray=function(e,t,r,i){i=+i;for(var s=[],l=Math.max(Math.ceil(r/t),1),h=Math.ceil(i/2),C=e<=h,v=l-h<e,b=!C&&!v,z=i<l,S=1;S<=l&&S<=i;){var I=this.calculatePageNumber(S,e,i,l);s.push({label:z&&(2===S&&(b||v)||S===i-1&&(b||C))?"...":I,value:I}),S++}return s},n.prototype.calculatePageNumber=function(e,t,r,i){var s=Math.ceil(r/2);return e===r?i:1===e?e:r<i?i-s<t?i-r+e:s<t?t-s+e:e:e},Pf([(0,u.IIB)(),Rf("design:type",String)],n.prototype,"id",void 0),Pf([(0,u.IIB)(),Rf("design:type",Number)],n.prototype,"maxSize",void 0),Pf([(0,u.r_U)(),Rf("design:type",u.vpe)],n.prototype,"pageChange",void 0),Pf([(0,u.r_U)(),Rf("design:type",u.vpe)],n.prototype,"pageBoundsCorrection",void 0),(n=Pf([Rf("design:paramtypes",[kf,u.sBO])],n)).\u0275fac=function(t){return new(t||n)(u.Y36(kf),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[u.TTD]}),n}(),wp1=function(){function n(){}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[kf],imports:[[n6]]}),n}();let fG=(()=>{class n{transform(t,...r){if(!t)return"a long time ago";let i=(Date.now()-Date.parse(t))/1e3;if(i<10)return"just now";if(i<60)return"a moment ago";const s=[60,60,24,30,12];let h;for(h=0;Math.floor(i/s[h])>0;h++)i/=s[h];const C=Math.floor(i)>1?"s":"";return Math.floor(i)+[" second"," minute"," hour"," day"," month"," year"][h]+C+" ago"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"dateAgo",type:n,pure:!0}),n})();function Vp1(n,e){1&n&&(u.TgZ(0,"div",26),u._uU(1," Please provide a name. "),u.qZA())}function Sp1(n,e){1&n&&(u.TgZ(0,"div",26),u._uU(1," Please provide a testimonials. "),u.qZA())}function Hp1(n,e){1&n&&(u.TgZ(0,"div",1)(1,"div",4)(2,"ul",27)(3,"li")(4,"div",28)(5,"div",29)(6,"div",30),u._uU(7," No Testimonial Yet! "),u.qZA()()()()()()())}function Ep1(n,e){1&n&&(u.TgZ(0,"div",26),u._uU(1," Please provide a name. "),u.qZA())}function xp1(n,e){1&n&&(u.TgZ(0,"div",26),u._uU(1," Please provide a reply. "),u.qZA())}function Tp1(n,e){if(1&n&&(u.TgZ(0,"div",29)(1,"div",32)(2,"h6",50),u._uU(3),u.qZA(),u.TgZ(4,"span",51),u._uU(5),u.qZA(),u.TgZ(6,"span",35),u._uU(7),u.ALo(8,"dateAgo"),u.qZA()(),u.TgZ(9,"div",30),u._uU(10),u.qZA()()),2&n){const t=u.oxw().$implicit;u.xp6(3),u.Oqu(t.name),u.xp6(2),u.Oqu(t.country),u.xp6(2),u.hij("",u.lcZ(8,4,t.postedon)," "),u.xp6(3),u.hij(" ",t.reply," ")}}function Ap1(n,e){if(1&n&&(u.TgZ(0,"li"),u.YNc(1,Tp1,11,6,"div",49),u.qZA()),2&n){const t=e.$implicit,r=u.oxw().$implicit;u.xp6(1),u.Q6J("ngIf",t.tid==r.key)}}const py=function(n,e){return{"is-invalid":n,"is-valid":e}};function Ip1(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ul",31)(1,"li")(2,"div",28)(3,"div",29)(4,"div",32)(5,"h6",33),u._uU(6),u.qZA(),u.TgZ(7,"span",34),u._uU(8),u.qZA(),u.TgZ(9,"span",35),u._uU(10),u.ALo(11,"dateAgo"),u.qZA()(),u.TgZ(12,"div",30),u._uU(13),u.qZA()()(),u.TgZ(14,"div",1)(15,"div",36)(16,"button",37),u.NdJ("click",function(){const s=u.CHM(t).$implicit;return u.oxw().onItemSelector(s.key)}),u._UZ(17,"fa-icon",3),u._uU(18," Reply"),u.qZA()()(),u.TgZ(19,"div",1)(20,"div",4)(21,"div",38)(22,"div",39)(23,"form",6),u.NdJ("ngSubmit",function(){return u.CHM(t),u.oxw().addReplies()}),u.TgZ(24,"div",1)(25,"div",4)(26,"div",7)(27,"div",40),u._UZ(28,"fa-icon",9),u.qZA(),u._UZ(29,"input",41),u.YNc(30,Ep1,2,0,"div",11),u.qZA()(),u.TgZ(31,"div",4)(32,"div",7)(33,"div",8),u._UZ(34,"fa-icon",12),u.qZA(),u.TgZ(35,"textarea",42),u._uU(36,"                                                "),u.qZA(),u.YNc(37,xp1,2,0,"div",11),u.qZA()()(),u.TgZ(38,"div",18)(39,"div",43)(40,"div",44)(41,"h5"),u._uU(42,"Reply to "),u.TgZ(43,"span"),u._uU(44),u.qZA(),u._uU(45," 's Post"),u.qZA()()(),u.TgZ(46,"div",45)(47,"div",14)(48,"button",46),u._UZ(49,"fa-icon",3),u._uU(50," Post"),u.qZA()()()()()()()()(),u.TgZ(51,"ul",47),u.YNc(52,Ap1,2,1,"li",48),u.qZA()()()}if(2&n){const t=e.$implicit,r=u.oxw();u.xp6(6),u.Oqu(t.name),u.xp6(2),u.Oqu(t.country),u.xp6(2),u.Oqu(u.lcZ(11,25,t.postedon)),u.xp6(3),u.hij(" ",t.testimonials," "),u.xp6(3),u.uIk("data-target","#replyArea"+t.key)("aria-controls","replyArea"+t.key),u.xp6(1),u.Q6J("icon",r.faMailReply),u.xp6(4),u.MGl("id","replyArea",t.key,""),u.xp6(2),u.Q6J("formGroup",r.replyForm),u.xp6(5),u.Q6J("icon",r.faUser),u.xp6(1),u.MGl("id","name",t.key,"")("name","name",t.key,""),u.Q6J("ngClass",u.WLB(27,py,r.rF.name.touched&&r.rF.name.invalid,r.rF.name.untouched&&r.rF.name.valid)),u.xp6(1),u.Q6J("ngIf",r.rF.name.touched&&r.rF.name.invalid),u.xp6(4),u.Q6J("icon",r.faCommentAlt),u.xp6(1),u.MGl("id","reply",t.key,"")("name","reply",t.key,""),u.Q6J("ngClass",u.WLB(30,py,r.rF.reply.touched&&r.rF.reply.invalid,r.rF.reply.untouched&&r.rF.reply.valid)),u.xp6(2),u.Q6J("ngIf",r.rF.reply.touched&&r.rF.reply.invalid),u.xp6(7),u.Oqu(t.name),u.xp6(4),u.s9C("id",t.key),u.s9C("name",t.key),u.Q6J("disabled",!r.replyForm.valid),u.xp6(1),u.Q6J("icon",r.faCommentDots),u.xp6(3),u.Q6J("ngForOf",r.getReplyResult)}}function Np1(n,e){if(1&n&&(u.TgZ(0,"option",52),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngValue",t),u.xp6(1),u.hij(" ",t," ")}}const Dp1=function(n,e,t){return{itemsPerPage:n,currentPage:e,totalItems:t}};let kp1=(()=>{class n{constructor(t,r,i,s,l,h,C){this.testimonialsService=t,this.repliesService=r,this.formBuilder=i,this.router=s,this.ngZone=l,this.datepipe=h,this.toastr=C,this.faComments=fy,this.faCommentAlt=cE,this.faUser=lE,this.faTimesCircle=$p,this.faCommentDots=Cl,this.faCalendar=Xi,this.faLocation=cD,this.faMailReply=Qw,this.page=1,this.count=0,this.tableSize=2,this.tableSizes=[2,8,12,16],this.form=this.formBuilder.group({name:["",F8.required],testimonials:["",F8.required]}),this.replyForm=this.formBuilder.group({name:["",F8.required],reply:["",F8.required]})}onItemSelector(t){this.tIdValue=t}ngOnInit(){var t=this;return(0,w1.Z)(function*(){new navslide,t.request=yield fetch("https://ipinfo.io/json?token=1509eda3fb61e2"),t.result=yield t.request.json(),t.ipAddress=t.result.ip,t.visitorCountry=t.result.country,t.fetcTestimonials(),t.fetcReplies()})()}fetcReplies(){this.repliesService.getAll().snapshotChanges().pipe((0,b2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.replies=t.reverse(),this.getReplyResult=this.replies,this.getReplyTid=this.getReplyResult.id})}fetcTestimonials(){this.testimonialsService.getAll().snapshotChanges().pipe((0,b2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.testimonials=t.reverse(),this.getTestiResult=this.testimonials})}onTableDataChange(t){this.page=t,this.fetcTestimonials()}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1,this.fetcTestimonials()}get f(){return this.form.controls}get rF(){return this.replyForm.controls}addTesti(){var t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss");this.testimonialsService.create({name:this.form.value.name,testimonials:this.form.value.testimonials,country:this.visitorCountry,postedon:t}).then(()=>{this.toastr.success("Testimonial has been Posted!","SUCCESS",{timeOut:1e3}).onHidden.subscribe(()=>{this.form.reset()})})}addReplies(){let t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss");this.repliesService.create({tid:this.tIdValue,name:this.replyForm.value.name,reply:this.replyForm.value.reply,country:this.visitorCountry,postedon:t}).then(()=>{this.toastr.success("Thank You for your Reply/s!","SUCCESS",{timeOut:1e3}).onHidden.subscribe(()=>{this.replyForm.reset()})})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(uG),u.Y36(up1),u.Y36(gj),u.Y36(P3),u.Y36(u.R0b),u.Y36(t6),u.Y36(Df))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-testimonial"]],decls:40,vars:26,consts:[[1,"content-right-box"],[1,"row"],[1,"header-title"],[3,"icon"],[1,"col-md-12"],[1,"testi-form"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],[1,"input-group-prepend","override-input-prepend"],[1,"fuser",3,"icon"],["formControlName","name","id","name","name","name","type","text","placeholder","Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"fcomment",3,"icon"],["formControlName","testimonials","id","testimonials","name","testimonials","placeholder","Testimonial","rows","3",1,"form-control",3,"ngClass"],[1,"d-flex","justify-content-end","button-post"],["role","button","type","submit",1,"btn","btn-primary","savebtn",3,"disabled"],["class","row",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"row","mt-4"],[1,"col-md-2"],[1,"d-flex","justify-content-start"],[1,"custom-select","select-pagi",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-10"],[1,"d-flex","justify-content-end","pagi-numbers"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"invalid-feedback"],["id","comments-list",1,"comments-list"],[1,"comment-main-level"],[1,"comment-box"],[1,"comment-content"],["id","comments-list",1,"comments-list","testi-list"],[1,"comment-head"],[1,"comment-name"],[1,"badge","badge-info","badge-comment","mr-2"],[1,"postedDate"],[1,"col-md-12","button-reply","text-right"],["type","button","data-toggle","collapse","aria-expanded","false",1,"btn","btn-primary","savebtn",3,"click"],[1,"collapse","replyCollapse",3,"id"],[1,"card","card-body"],[1,"input-group-prepend","override-input-prepend","align-middle"],["formControlName","name","type","text","placeholder","Name",1,"form-control",3,"id","name","ngClass"],["formControlName","reply","placeholder","Your Reply","rows","3",1,"form-control",3,"id","name","ngClass"],[1,"col-md-8"],[1,"d-flex","justify-content-start","commentName"],[1,"col-md-4"],["role","button","type","submit",1,"btn","btn-primary","savebtn",3,"id","name","disabled"],[1,"comments-list","reply-list"],[4,"ngFor","ngForOf"],["class","comment-box",4,"ngIf"],[1,"comment-name","replyname"],[1,"badge","badge-info","mr-2"],[3,"ngValue"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"fa-icon",3),u._uU(4," Testimonials "),u.qZA()(),u.TgZ(5,"div",1)(6,"div",4)(7,"div",5)(8,"form",6),u.NdJ("ngSubmit",function(){return r.addTesti()}),u.TgZ(9,"div",1)(10,"div",4)(11,"div",7)(12,"div",8),u._UZ(13,"fa-icon",9),u.qZA(),u._UZ(14,"input",10),u.YNc(15,Vp1,2,0,"div",11),u.qZA()(),u.TgZ(16,"div",4)(17,"div",7)(18,"div",8),u._UZ(19,"fa-icon",12),u.qZA(),u.TgZ(20,"textarea",13),u._uU(21,"                                "),u.qZA(),u.YNc(22,Sp1,2,0,"div",11),u.qZA()()(),u.TgZ(23,"div",14)(24,"button",15),u._UZ(25,"fa-icon",3),u._uU(26," Post"),u.qZA()()()()()(),u.YNc(27,Hp1,8,0,"div",16),u.TgZ(28,"div",1)(29,"div",4),u.YNc(30,Ip1,53,33,"ng-template",17),u.ALo(31,"paginate"),u.qZA()(),u.TgZ(32,"div",18)(33,"div",19)(34,"div",20)(35,"select",21),u.NdJ("change",function(s){return r.onTableSizeChange(s)}),u.YNc(36,Np1,2,2,"option",22),u.qZA()()(),u.TgZ(37,"div",23)(38,"div",24)(39,"pagination-controls",25),u.NdJ("pageChange",function(s){return r.onTableDataChange(s)}),u.qZA()()()()()),2&t&&(u.xp6(3),u.Q6J("icon",r.faComments),u.xp6(5),u.Q6J("formGroup",r.form),u.xp6(5),u.Q6J("icon",r.faUser),u.xp6(1),u.Q6J("ngClass",u.WLB(16,py,r.f.name.touched&&r.f.name.invalid,r.f.name.untouched&&r.f.name.valid)),u.xp6(1),u.Q6J("ngIf",r.f.name.touched&&r.f.name.invalid),u.xp6(4),u.Q6J("icon",r.faCommentAlt),u.xp6(1),u.Q6J("ngClass",u.WLB(19,py,r.f.testimonials.touched&&r.f.testimonials.invalid,r.f.testimonials.untouched&&r.f.testimonials.valid)),u.xp6(2),u.Q6J("ngIf",r.f.testimonials.touched&&r.f.testimonials.invalid),u.xp6(2),u.Q6J("disabled",!r.form.valid),u.xp6(1),u.Q6J("icon",r.faCommentDots),u.xp6(2),u.Q6J("ngIf",!r.getTestiResult),u.xp6(3),u.Q6J("ngForOf",u.xi3(31,13,r.getTestiResult,u.kEZ(22,Dp1,r.tableSize,r.page,r.count))),u.xp6(6),u.Q6J("ngForOf",r.tableSizes))},directives:[w0,GH,AH,Tf,Vf,TH,uy,G4,Ze,e3,QH,XH,ME],pipes:[yE,fG],styles:[""]}),n})();class hG{constructor(e,t,r,i){this.title=e,this.name=t,this.image=r,this.link=i}}class x0{constructor(e,t,r){this.link=e,this.image=t,this.alt=r}}function Pp1(n,e){if(1&n&&(u.TgZ(0,"div",20)(1,"a",21),u._UZ(2,"img",22),u.qZA()()),2&n){const t=e.$implicit;u.xp6(1),u.s9C("href",t.link,u.LSH),u.xp6(1),u.s9C("src",t.image,u.LSH),u.s9C("alt",t.alt)}}function Rp1(n,e){if(1&n&&(u.TgZ(0,"div",23)(1,"div",9)(2,"div",24)(3,"div",25),u._UZ(4,"img",26),u.qZA()(),u.TgZ(5,"div",27)(6,"h3",28),u._uU(7),u.qZA(),u.TgZ(8,"div",29),u._uU(9),u.qZA(),u.TgZ(10,"a",30)(11,"button",31),u._UZ(12,"i",32),u._uU(13," View Project "),u.qZA()()()()()),2&n){const t=e.$implicit;u.xp6(4),u.s9C("src",t.image,u.LSH),u.s9C("alt",t.name),u.xp6(3),u.Oqu(t.title),u.xp6(2),u.Oqu(t.name),u.xp6(1),u.s9C("href",t.link,u.LSH)}}const Op1=function(n,e,t){return{id:"templatePagination",itemsPerPage:n,currentPage:e,totalItems:t}},Fp1=function(n,e,t){return{id:"projectPagination",itemsPerPage:n,currentPage:e,totalItems:t}};let Up1=(()=>{class n{constructor(){this.projects=[new hG("Online Public Access Catalog","St. Cecilias College - Cebu Library","assets/image/sccopac-thumb.jpg","https://rickmedillo.000webhostapp.com"),new hG("A Wonder Paradise","Ruvi Cave - Resort","assets/image/ruvi-template-thumb.jpg","https://ruvicaveresortcebu.000webhostapp.com/")],this.templates=[new x0("assets/image/ruvicave-template.jpg","assets/image/ruvicave-template.jpg","Resort Template"),new x0("assets/image/template01.jpg","assets/image/template01.jpg","Dating Site Template 01"),new x0("assets/image/template02.jpg","assets/image/template02.jpg","Dating Site Template 02"),new x0("assets/image/template03.jpg","assets/image/template03.jpg","Dating Site Template 03"),new x0("assets/image/template04.jpg","assets/image/template04.jpg","Dating Site Template 04"),new x0("assets/image/template05.jpg","assets/image/template05.jpg","Dating Site Template 05"),new x0("assets/image/template06.jpg","assets/image/template06.jpg","Dating Site Template 06"),new x0("assets/image/template07.jpg","assets/image/template07.jpg","Dating Site Template 07")],this.page=1,this.count=0,this.tableSize=2,this.tableSizes=[2,8,12,16],this.tempPage=1,this.tempCount=0,this.tempTableSize=6,this.tempTableSizes=[6,8,12,16],this.faLaptop=eD,this.faMarker=vD}ngOnInit(){new navslide}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}onTableDataChangeTemp(t){this.tempPage=t}onTableSizeChangeTemp(t){this.tempTableSize=t.target.value,this.tempPage=1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-work"]],decls:31,vars:18,consts:[[1,"content-right-box","override-content"],[1,"nav","nav-pills","flex-column","flex-sm-row"],["id","template-tab","data-toggle","tab","href","#template","role","tab","aria-controls","template","aria-selected","true",1,"flex-sm-fill","text-sm-center","nav-link","active"],["id","project-tab","data-toggle","tab","href","#project","role","tab","aria-controls","project","aria-selected","false",1,"flex-sm-fill","text-sm-center","nav-link"],["id","myTabContent",1,"tab-content"],["id","template","role","tabpanel","aria-labelledby","template-tab",1,"tab-pane","fade","show","active"],[1,"content-right-box","content-right-separate"],[1,"header-title"],[3,"icon"],[1,"row"],[1,"col-md-12"],["id","Gallery"],["class","gallery-item",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","pagi-numbers","mt-4"],["id","templatePagination","previousLabel","Prev","nextLabel","Next",3,"pageChange"],["id","project","role","tabpanel","aria-labelledby","project-tab",1,"tab-pane","fade"],[1,"projects-content"],[1,"row","testi-section"],["class","proj-cont-box left-proj-content",4,"ngFor","ngForOf"],["id","projectPagination","previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"gallery-item"],[3,"href"],[3,"src","alt"],[1,"proj-cont-box","left-proj-content"],[1,"col-sm-12","col-md-4","col-lg-4"],[1,"proj-img"],["alt","Rick Ryan Medillo scc opac",1,"img-fluid",3,"src","alt"],[1,"col-sm-12","col-md-8","col-lg-8"],[1,"sccopac"],[1,"scc-title"],["target","_blank",3,"href"],["name","btn-view","role","button",1,"btn","btn-default","btn-md","btn-view-project"],[1,"fas","fa-eye"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"nav",1)(2,"a",2),u._uU(3,"Templates"),u.qZA(),u.TgZ(4,"a",3),u._uU(5,"Projects"),u.qZA()()(),u.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),u._UZ(10,"fa-icon",8),u._uU(11," Templates "),u.qZA(),u.TgZ(12,"div",9)(13,"div",10)(14,"div",11),u.YNc(15,Pp1,3,3,"div",12),u.ALo(16,"paginate"),u.qZA()()(),u.TgZ(17,"div",13)(18,"pagination-controls",14),u.NdJ("pageChange",function(s){return r.onTableDataChangeTemp(s)}),u.qZA()()()(),u.TgZ(19,"div",15)(20,"div",6)(21,"div",7),u._UZ(22,"fa-icon",8),u._uU(23," Projects "),u.qZA(),u.TgZ(24,"div",16)(25,"div",17)(26,"div",10),u.YNc(27,Rp1,14,5,"div",18),u.ALo(28,"paginate"),u.qZA()(),u.TgZ(29,"div",13)(30,"pagination-controls",19),u.NdJ("pageChange",function(s){return r.onTableDataChange(s)}),u.qZA()()()()()()),2&t&&(u.xp6(10),u.Q6J("icon",r.faMarker),u.xp6(5),u.Q6J("ngForOf",u.xi3(16,4,r.templates,u.kEZ(10,Op1,r.tempTableSize,r.tempPage,r.tempCount))),u.xp6(7),u.Q6J("icon",r.faLaptop),u.xp6(5),u.Q6J("ngForOf",u.xi3(28,7,r.projects,u.kEZ(14,Fp1,r.tableSize,r.page,r.count))))},directives:[w0,e3,ME],pipes:[yE],styles:[""]}),n})();function Bp1(n,e){if(1&n&&(u.TgZ(0,"option",19),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngValue",t),u.xp6(1),u.hij(" ",t," ")}}function jp1(n,e){if(1&n&&(u.TgZ(0,"div",20)(1,"div",21),u._uU(2," IP Address "),u.TgZ(3,"span"),u._uU(4),u.qZA()(),u.TgZ(5,"ul",22)(6,"li",23),u._uU(7,"Country"),u.TgZ(8,"span"),u._uU(9),u.qZA()(),u.TgZ(10,"li",23),u._uU(11,"Visited "),u.TgZ(12,"span"),u._uU(13),u.qZA()(),u.TgZ(14,"li",23),u._uU(15,"Date and Time "),u.TgZ(16,"span"),u._uU(17),u.ALo(18,"dateAgo"),u.qZA()()()()),2&n){const t=e.$implicit;u.xp6(4),u.hij(" ",t.user_ip,""),u.xp6(5),u.hij(" ",t.country,""),u.xp6(4),u.hij(" ",t.visited,""),u.xp6(4),u.hij(" ",u.lcZ(18,4,t.postedon),"")}}function qp1(n,e){1&n&&(u.TgZ(0,"tr")(1,"td",24),u._uU(2,"No Visitors Yet!"),u.qZA()())}function Gp1(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.ALo(9,"dateAgo"),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.user_ip),u.xp6(2),u.Oqu(t.country),u.xp6(2),u.Oqu(t.visited),u.xp6(2),u.Oqu(u.lcZ(9,4,t.postedon))}}const Wp1=function(n,e,t){return{id:"mobilePagination",itemsPerPage:n,currentPage:e,totalItems:t}},$p1=[{path:"",pathMatch:"full",redirectTo:"about-me"},{path:"about-me",component:gu1},{path:"contact",component:ap1},{path:"gallery",component:op1},{path:"testimonials",component:kp1},{path:"works",component:Up1},{path:"visitors",component:(()=>{class n{constructor(t,r){this.datepipe=t,this.visitorService=r,this.dtOptions={},this.faEnvelope=us,this.page=1,this.count=0,this.tableSize=2,this.tableSizes=[2,8,12,16]}ngOnInit(){this.fetchVisitorsMobile(),this.fetchVisitors()}fetchVisitors(){this.visitorService.getAll().snapshotChanges().pipe((0,b2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.visitors=t.reverse(),this.getResult=this.visitors,setTimeout(()=>{$("#datatableexample").DataTable({pagingType:"full_numbers",pageLength:5,processing:!0,lengthMenu:[5,10,25]})},1)})}fetchVisitorsMobile(){this.visitorService.getAll().snapshotChanges().pipe((0,b2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.visitors=t.reverse(),this.getResultMobile=this.visitors})}onTableDataChange(t){this.page=t,this.fetchVisitorsMobile()}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1,this.fetchVisitorsMobile()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(t6),u.Y36(XS))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-visitor"]],decls:31,vars:12,consts:[[1,"content-right-box"],[1,"header-title"],[3,"icon"],[1,"visitor"],[1,"row"],[1,"col-md-6","visible-phone","d-none"],[1,"d-flex","justify-content-start","bd-highlight","mb-2"],[1,"p-2","bd-highlight"],[1,"custom-select","select-pagi",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-12","visible-phone","d-none"],["ngFor","",3,"ngForOf"],[1,"d-flex","justify-content-center","pagi-numbers","mt-4"],["id","mobilePagination","previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"col-md-12","d-none","d-sm-block","d-sm-none","d-md-block"],["id","datatableexample","cellspacing","0","width","100%",1,"table","table-striped","table-bordered","table-sm","row-border","hover","display"],["scope","col"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngValue"],[1,"card"],[1,"card-header"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["colspan","5"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"fa-icon",2),u._uU(3," Visitors "),u.qZA(),u.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"select",8),u.NdJ("change",function(s){return r.onTableSizeChange(s)}),u.YNc(10,Bp1,2,2,"option",9),u.qZA()()()(),u.TgZ(11,"div",10),u.YNc(12,jp1,19,6,"ng-template",11),u.ALo(13,"paginate"),u.TgZ(14,"div",12)(15,"pagination-controls",13),u.NdJ("pageChange",function(s){return r.onTableDataChange(s)}),u.qZA()()(),u.TgZ(16,"div",14)(17,"table",15)(18,"thead")(19,"tr")(20,"th",16),u._uU(21,"IP Address"),u.qZA(),u.TgZ(22,"th",16),u._uU(23,"Country"),u.qZA(),u.TgZ(24,"th",16),u._uU(25,"Visited"),u.qZA(),u.TgZ(26,"th",16),u._uU(27,"Date"),u.qZA()()(),u.TgZ(28,"tbody"),u.YNc(29,qp1,3,0,"tr",17),u.YNc(30,Gp1,10,6,"tr",18),u.qZA()()()()()()),2&t&&(u.xp6(2),u.Q6J("icon",r.faEnvelope),u.xp6(8),u.Q6J("ngForOf",r.tableSizes),u.xp6(2),u.Q6J("ngForOf",u.xi3(13,5,r.getResultMobile,u.kEZ(8,Wp1,r.tableSize,r.page,r.count))),u.xp6(17),u.Q6J("ngIf",!r.getResult),u.xp6(1),u.Q6J("ngForOf",r.getResult))},directives:[w0,e3,QH,XH,ME,Ze],pipes:[yE,fG],styles:[""]}),n})()}];let Zp1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ji.forRoot($p1)],ji]}),n})();var CG={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M504 256C504 119 393 8 256 8S8 119 8 256c0 123.8 90.69 226.4 209.3 245V327.7h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.3 482.4 504 379.8 504 256z"]},pG={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]};class zz1{}let wz1=(()=>{class n{constructor(t){this.db=t,this.dbPath="/likes",this.likeStatus=new zz1,this.likeStatus.status={status:"Failed"},this.status=this.likeStatus.status,this.likesRef=t.list(this.dbPath)}getLike(t){return this.likeRef=this.db.object("/likes/"+t)}getAll(){return this.likesRef}create(t){return this.likesRef.push(t)}update(t,r){return this.likesRef.update(t,r)}delete(t){return this.likesRef.remove(t)}deleteAll(t){return this.likesRef.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vz1=(()=>{class n{constructor(t,r,i,s,l,h){this.likeService=t,this.testimonialsService=r,this.datepipe=i,this.visitorService=s,this.router=l,this.toastr=h,this.faThumbsUp=Fq,this.faUsers=oR,this.faComments=fy,this.faDownload=xl,this.getlike=[],this.getlikeAll=[],this.getlikeCount=[],this.getVisitor=[],this.getTesti=[],this.getTestiCount=[],this.getvisitorAll=[],this.sKeyencoded=btoa("Stimul@t0r")}ngOnInit(){var t=this;return(0,w1.Z)(function*(){t.request=yield fetch("https://ipinfo.io/json?token=1509eda3fb61e2"),t.result=yield t.request.json(),t.ipAddress=t.result.ip,t.visitorCountry=t.result.country,t.fetchLikes(),t.fetchVisitors(),t.fetchTestimonials()})()}fetchTestimonials(){this.testimonialsService.getAll().snapshotChanges().pipe((0,b2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.testimonials=t,this.counttestimonials=t.length})}fetchVisitors(){let t=this.datepipe.transform(new Date,"MMMM d, y");this.visitorService.getAll().snapshotChanges().pipe((0,b2.U)(r=>r.map(i=>Object.assign({key:i.payload.key},i.payload.val())))).subscribe(r=>{this.visitors=r,this.countvisitors=r.length,0==this.countvisitors?this.getIpResult=this.ipAddress:(this.visitors.forEach(i=>{i.user_ip==this.ipAddress?(this.boolResult=!0,this.passUserKey=i.key,this.userDate=this.datepipe.transform(i.postedon,"MMMM d, y"),this.passUserVisited=i.visited):this.boolResult=!1}),1==this.boolResult?this.userDate==t?console.log("Last Visited: "+this.userDate):(this.getKeyResult=this.passUserKey,this.getVisitedResult=this.passUserVisited):this.getIpResult=this.ipAddress)})}fetchLikes(){this.likeService.getAll().snapshotChanges().pipe((0,b2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.likes=t,this.countLikes=t.length,this.likes.forEach(r=>{r.user_ip==this.ipAddress&&(this.visitorIP=r.user_ip)})})}addLike(){let t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss");this.likeService.create({user_ip:this.ipAddress,country:this.visitorCountry,postedon:t}).then(()=>{this.toastr.success("Thank You for Liking!")})}update(){this.visitedCount=1,this.sum=parseInt(this.visitedCount)+parseInt(this.getVisitedResult);let t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss"),r={visited:this.sum,postedon:t};console.log(r),this.visitorService.update(this.getKeyResult,r).then(()=>{this.toastr.info("You Visited: "+r.visited+" Times")})}addVisitors(){let t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss");this.visitedCount=1,this.visitorService.create({user_ip:this.getIpResult,country:this.visitorCountry,visited:this.visitedCount,postedon:t}).then(()=>{this.toastr.success("Visitor Added")})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wz1),u.Y36(uG),u.Y36(t6),u.Y36(XS),u.Y36(P3),u.Y36(Df))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-sidebar"]],decls:42,vars:8,consts:[[1,"left-box"],["src","assets/image/rick-ryan-profile.jpg",1,"img-fluid"],[1,"view-profile","text-center"],[1,"row","text-center"],[1,"col-sm-12","col-md-12"],[1,"btn","btn-default","btn-md","btn-like",3,"disabled","click"],[3,"icon"],[1,"content-box"],[1,"title"],[1,"content"],[1,"category"],[1,"row"],[1,"col-md-7","col-sm-7","col-xs-7"],[1,"category-list"],[1,"col-md-5","col-sm-5","col-xs-5","text-right"],[1,"category-value"],[1,"hr-category"],["routerLinkActive","active","routerLink","visitors"],["routerLinkActive","active","routerLink","testimonials"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),u.NdJ("click",function(){return r.addLike()}),u._UZ(6,"fa-icon",6),u._uU(7,"\xa0\xa0\xa0LIKE ME "),u.qZA()()()(),u.TgZ(8,"div",7)(9,"div",8),u._uU(10," CAREER OBJECTIVE "),u.qZA(),u.TgZ(11,"div",9),u._uU(12," To secure a challenging position in a reputable organization to expand my learnings, knowledge, and skills. "),u.qZA(),u.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"span",13),u._UZ(17,"fa-icon",6),u._uU(18,"\xa0\xa0LIKES "),u.qZA()(),u.TgZ(19,"div",14)(20,"span",15),u._uU(21),u.qZA()()(),u._UZ(22,"hr",16),u.TgZ(23,"div",11)(24,"div",12)(25,"span",13)(26,"a",17),u._UZ(27,"fa-icon",6),u._uU(28,"\xa0\xa0VISITORS"),u.qZA()()(),u.TgZ(29,"div",14)(30,"span",15),u._uU(31),u.qZA()()(),u._UZ(32,"hr",16),u.TgZ(33,"div",11)(34,"div",12)(35,"span",13)(36,"a",18),u._UZ(37,"fa-icon",6),u._uU(38,"\xa0\xa0TESTIMONIAL"),u.qZA()()(),u.TgZ(39,"div",14)(40,"span",15),u._uU(41),u.qZA()()()()()()),2&t){let i;u.xp6(5),u.Q6J("disabled",null!==(i=r.visitorIP)&&void 0!==i?i:null),u.xp6(1),u.Q6J("icon",r.faThumbsUp),u.xp6(11),u.Q6J("icon",r.faThumbsUp),u.xp6(4),u.Oqu(r.countLikes),u.xp6(6),u.Q6J("icon",r.faUsers),u.xp6(4),u.Oqu(r.countvisitors),u.xp6(6),u.Q6J("icon",r.faComments),u.xp6(4),u.Oqu(r.counttestimonials)}},directives:[w0,Fn,l7],styles:["button.btn.btn-default.btn-md.btn-like[_ngcontent-%COMP%]:hover:disabled{border:2px solid #eae3d8;color:#eae3d8}"]}),n})(),Sz1=(()=>{class n{constructor(){this.title="Rick Ryan Medillo",this.faDownload=xl,this.faFacebook=CG,this.faLinkedin=pG,this.faEnvelope=us,this.faMobile=Og,this.currentYear=(new Date).getFullYear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:78,vars:6,consts:[[1,"header-banner"],[1,"container"],[1,"row"],[1,"col-md-12","d-lg-none"],[1,"header-name"],[1,"logo-menu"],[1,"col-sm-12","col-md-12","col-lg-6","offset-lg-4"],[1,"wrapper"],[1,"fr1"],["onClick","window.toggle();"],["src","assets/image/hamburger_button.png",1,"img-fluid"],[1,"pos"],[1,"toggledAnother",2,"display","block"],[1,"horizontalMenu3"],["href","#","routerLinkActive","active","routerLink","about-me"],["href","#","routerLinkActive","active","routerLink","gallery"],["href","#","routerLinkActive","active","routerLink","works"],["href","#","routerLinkActive","active","routerLink","testimonials"],["href","#","routerLinkActive","active","routerLink","contact"],[1,"column"],[1,"col-sm-12","col-md-12","col-lg-4"],[1,"col-md-12","col-lg-8"],[1,"name-position"],[1,"col-md-12","col-lg-6"],[1,"dl-button"],[1,"download-resume"],["role","button","type","submit","onclick","downloadFile('rickryan')",1,"btn","btn-primary","bntdwnld"],[3,"icon"],[1,"footer-bg"],[1,"col-sm-12","col-md-12","col-lg-8"],[1,"left-footer"],[1,"right-footer","text-center"],["href","https://www.facebook.com/mudp0et","target","_blank"],["href","https://www.linkedin.com/in/rick-ryan-medillo-7821371a1/","target","_blank"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),u._uU(6,"Rick Ryan Medillo"),u.qZA()()()(),u.TgZ(7,"div",5)(8,"div",2)(9,"div",6)(10,"div",7)(11,"div",8)(12,"a",9),u._UZ(13,"img",10),u.qZA(),u._UZ(14,"div",11),u.qZA(),u.TgZ(15,"div",12)(16,"ul",13)(17,"li")(18,"a",14),u._uU(19,"Home"),u.qZA()(),u.TgZ(20,"li")(21,"a",15),u._uU(22,"Gallery"),u.qZA()(),u.TgZ(23,"li")(24,"a",16),u._uU(25,"Works"),u.qZA()(),u.TgZ(26,"li")(27,"a",17),u._uU(28,"Testimonials"),u.qZA()(),u.TgZ(29,"li")(30,"a",18),u._uU(31,"Contact"),u.qZA()()()()()()()()()(),u.TgZ(32,"div",1)(33,"div",19)(34,"div",2)(35,"div",20),u._UZ(36,"app-sidebar"),u.qZA(),u.TgZ(37,"div",21)(38,"div",22)(39,"div",23)(40,"div",2)(41,"p"),u._uU(42," Web Designer, Front-End and Back-End "),u._UZ(43,"br"),u._uU(44,"Developer. I Design and Build Websites from Scratch. "),u.qZA()(),u.TgZ(45,"div",2)(46,"div",24)(47,"div",25)(48,"button",26),u._UZ(49,"fa-icon",27),u._uU(50,"\xa0\xa0\xa0DOWNLOAD RESUME "),u.qZA()()()()()(),u._UZ(51,"router-outlet"),u.qZA()()()(),u.TgZ(52,"div",28)(53,"div",1)(54,"div",2)(55,"div",29)(56,"div",30),u._uU(57),u.TgZ(58,"span"),u._uU(59,"Rick Ryan Medillo."),u.qZA(),u._uU(60," All Rights Reserved. "),u.qZA()(),u.TgZ(61,"div",20)(62,"div",31)(63,"h5"),u._uU(64,"CONTACT INFO"),u.qZA(),u.TgZ(65,"p"),u._UZ(66,"fa-icon",27),u._uU(67," Email: rickryan29.rr@gmail.com"),u.qZA(),u.TgZ(68,"p"),u._UZ(69,"fa-icon",27),u._uU(70," Mobile: +639611335934"),u.qZA(),u.TgZ(71,"p"),u._uU(72," Follow me on:\xa0 "),u.TgZ(73,"a",32),u._UZ(74,"fa-icon",27),u.qZA(),u._uU(75,"\xa0\xa0 "),u.TgZ(76,"a",33),u._UZ(77,"fa-icon",27),u.qZA()()()()()()()),2&t&&(u.xp6(49),u.Q6J("icon",r.faDownload),u.xp6(8),u.hij(" Copyright \xa9 ",r.currentYear," "),u.xp6(9),u.Q6J("icon",r.faEnvelope),u.xp6(3),u.Q6J("icon",r.faMobile),u.xp6(5),u.Q6J("icon",r.faFacebook),u.xp6(3),u.Q6J("icon",r.faLinkedin))},directives:[Fn,l7,Vz1,w0,b8],styles:[""]}),n})();!function(){function n(e,t,r){this.el=e,this.vcr=t,this.renderer=r,this.dtOptions={}}n.prototype.ngOnInit=function(){var e=this;this.dtTrigger?this.dtTrigger.subscribe(function(t){e.displayTable(t)}):this.displayTable(null)},n.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},n.prototype.displayTable=function(e){var t=this;e&&(this.dtOptions=e),this.dtInstance=new Promise(function(r,i){Promise.resolve(t.dtOptions).then(function(s){0===Object.keys(s).length&&0===$("tbody tr",t.el.nativeElement).length?i("Both the table and dtOptions cannot be empty"):setTimeout(function(){var h={rowCallback:function(C,v,b){if(s.columns){var z=s.columns;t.applyNgPipeTransform(C,z),t.applyNgRefTemplate(C,z,v)}s.rowCallback&&s.rowCallback(C,v,b)}};h=Object.assign({},s,h),t.dt=$(t.el.nativeElement).DataTable(h),r(t.dt)})})})},n.prototype.applyNgPipeTransform=function(e,t){t.filter(function(i){return i.ngPipeInstance&&!i.ngTemplateRef}).forEach(function(i){var s=i.ngPipeInstance,l=t.findIndex(function(b){return b.data===i.data}),h=e.childNodes.item(l),C=$(h).text(),v=s.transform(C);$(h).text(v)})},n.prototype.applyNgRefTemplate=function(e,t,r){var i=this;t.filter(function(l){return l.ngTemplateRef&&!l.ngPipeInstance}).forEach(function(l){var h=l.ngTemplateRef,C=h.ref,v=h.context,b=t.findIndex(function(I){return I.data===l.data}),z=e.childNodes.item(b);$(z).html("");var S=Object.assign({},v,null==v?void 0:v.userData,{adtData:r}),x=i.vcr.createEmbeddedView(C,S);i.renderer.appendChild(z,x.rootNodes[0])})},n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.s_b),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}})}();var Hz1=function(){function n(){}return n.forRoot=function(){return{ngModule:n}},n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[n6]]}),n}();const de=!1;function LG(n){return new u.vHH(3e3,de)}function cw1(){return"undefined"!=typeof window&&void 0!==window.document}function bE(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function T0(n){switch(n.length){case 0:return new Nf;case 1:return n[0];default:return new aG(n)}}function bG(n,e,t,r,i={},s={}){const l=[],h=[];let C=-1,v=null;if(r.forEach(b=>{const z=b.offset,S=z==C,x=S&&v||{};Object.keys(b).forEach(I=>{let K=I,o1=b[I];if("offset"!==I)switch(K=e.normalizePropertyName(K,l),o1){case"!":o1=i[I];break;case B8:o1=s[I];break;default:o1=e.normalizeStyleValue(I,K,o1,l)}x[K]=o1}),S||h.push(x),v=x,C=z}),l.length)throw function Qz1(n){return new u.vHH(3502,de)}();return h}function zE(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&wE(t,"start",n)));break;case"done":n.onDone(()=>r(t&&wE(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&wE(t,"destroy",n)))}}function wE(n,e,t){const r=t.totalTime,s=VE(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function VE(n,e,t,r,i="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!l}}function b6(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function zG(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let SE=(n,e)=>!1,wG=(n,e,t)=>[],VG=null;function HE(n){const e=n.parentNode||n.host;return e===VG?null:e}(bE()||"undefined"!=typeof Element)&&(cw1()?(VG=(()=>document.documentElement)(),SE=(n,e)=>{for(;e;){if(e===n)return!0;e=HE(e)}return!1}):SE=(n,e)=>n.contains(e),wG=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let As=null,SG=!1;function HG(n){As||(As=function uw1(){return"undefined"!=typeof document?document.body:null}()||{},SG=!!As.style&&"WebkitAppearance"in As.style);let e=!0;return As.style&&!function lw1(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in As.style,!e&&SG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in As.style)),e}const EG=SE,xG=wG;let TG=(()=>{class n{validateStyleProperty(t){return HG(t)}matchesElement(t,r){return!1}containsElement(t,r){return EG(t,r)}getParentElement(t){return HE(t)}query(t,r,i){return xG(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,l,h=[],C){return new Nf(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),EE=(()=>{class n{}return n.NOOP=new TG,n})();const xE="ng-enter",gy="ng-leave",vy="ng-trigger",yy=".ng-trigger",IG="ng-animating",TE=".ng-animating";function Is(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:AE(parseFloat(e[1]),e[2])}function AE(n,e){return"s"===e?1e3*n:n}function _y(n,e,t){return n.hasOwnProperty("duration")?n:function dw1(n,e,t){let i,s=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(LG()),{duration:0,delay:0,easing:""};i=AE(parseFloat(h[1]),h[2]);const C=h[3];null!=C&&(s=AE(parseFloat(C),h[4]));const v=h[5];v&&(l=v)}else i=n;if(!t){let h=!1,C=e.length;i<0&&(e.push(function Ez1(){return new u.vHH(3100,de)}()),h=!0),s<0&&(e.push(function xz1(){return new u.vHH(3101,de)}()),h=!0),h&&e.splice(C,0,LG())}return{duration:i,delay:s,easing:l}}(n,e,t)}function So(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function A0(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else So(n,t);return t}function DG(n,e,t){return t?e+":"+t+";":""}function kG(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=DG(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=DG(0,mw1(t),n.style[t]));n.setAttribute("style",e)}function F5(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=NE(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),bE()&&kG(n))}function Ns(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=NE(t);n.style[r]=""}),bE()&&kG(n))}function Of(n){return Array.isArray(n)?1==n.length?n[0]:rG(n):n}const IE=new RegExp("{{\\s*(.+?)\\s*}}","g");function PG(n){let e=[];if("string"==typeof n){let t;for(;t=IE.exec(n);)e.push(t[1]);IE.lastIndex=0}return e}function My(n,e,t){const r=n.toString(),i=r.replace(IE,(s,l)=>{let h=e[l];return e.hasOwnProperty(l)||(t.push(function Az1(n){return new u.vHH(3003,de)}()),h=""),h.toString()});return i==r?n:i}function Ly(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const pw1=/-+([a-z0-9])/g;function NE(n){return n.replace(pw1,(...e)=>e[1].toUpperCase())}function mw1(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function z6(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Iz1(n){return new u.vHH(3004,de)}()}}function RG(n,e){return window.getComputedStyle(n)[e]}function Lw1(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function bw1(n,e,t){if(":"==n[0]){const C=function zw1(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function $z1(n){return new u.vHH(3016,de)}()),"* => *"}}(n,t);if("function"==typeof C)return void e.push(C);n=C}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Wz1(n){return new u.vHH(3015,de)}()),e;const i=r[1],s=r[2],l=r[3];e.push(OG(i,l));"<"==s[0]&&!("*"==i&&"*"==l)&&e.push(OG(l,i))}(r,t,e)):t.push(n),t}const Vy=new Set(["true","1"]),Sy=new Set(["false","0"]);function OG(n,e){const t=Vy.has(n)||Sy.has(n),r=Vy.has(e)||Sy.has(e);return(i,s)=>{let l="*"==n||n==i,h="*"==e||e==s;return!l&&t&&"boolean"==typeof i&&(l=i?Vy.has(n):Sy.has(n)),!h&&r&&"boolean"==typeof s&&(h=s?Vy.has(e):Sy.has(e)),l&&h}}const ww1=new RegExp("s*:selfs*,?","g");function DE(n,e,t,r){return new Vw1(n).build(e,t,r)}class Vw1{constructor(e){this._driver=e}build(e,t,r){const i=new Ew1(t);this._resetContextStyleTimingState(i);const s=z6(this,Of(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function Dz1(){return new u.vHH(3006,de)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const C=h,v=C.name;v.toString().split(/\s*,\s*/).forEach(b=>{C.name=b,s.push(this.visitState(C,t))}),C.name=v}else if(1==h.type){const C=this.visitTransition(h,t);r+=C.queryCount,i+=C.depCount,l.push(C)}else t.errors.push(function kz1(){return new u.vHH(3007,de)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,l=i||{};r.styles.forEach(h=>{if(Hy(h)){const C=h;Object.keys(C).forEach(v=>{PG(C[v]).forEach(b=>{l.hasOwnProperty(b)||s.add(b)})})}}),s.size&&(Ly(s.values()),t.errors.push(function Pz1(n,e){return new u.vHH(3008,de)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=z6(this,Of(e.animation),t);return{type:1,matchers:Lw1(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ds(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>z6(this,r,t)),options:Ds(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(l=>{t.currentTime=r;const h=z6(this,l,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:s,options:Ds(e.options)}}visitAnimate(e,t){const r=function Tw1(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return kE(_y(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=kE(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=_y(t,e);return kE(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:If({});if(5==s.type)i=this.visitKeyframes(s,t);else{let l=e.styles,h=!1;if(!l){h=!0;const v={};r.easing&&(v.easing=r.easing),l=If(v)}t.currentTime+=r.duration+r.delay;const C=this.visitStyle(l,t);C.isEmptyStep=h,i=C}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(l=>{"string"==typeof l?l==B8?r.push(l):t.errors.push(function Rz1(n){return new u.vHH(3002,de)}()):r.push(l)}):r.push(e.styles);let i=!1,s=null;return r.forEach(l=>{if(Hy(l)){const h=l,C=h.easing;if(C&&(s=C,delete h.easing),!i)for(let v in h)if(h[v].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&Object.keys(l).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete l[h],void t.unsupportedCSSPropertiesFound.add(h);const C=t.collectedStyles[t.currentQuerySelector],v=C[h];let b=!0;v&&(s!=i&&s>=v.startTime&&i<=v.endTime&&(t.errors.push(function Oz1(n,e,t,r,i){return new u.vHH(3010,de)}()),b=!1),s=v.startTime),b&&(C[h]={startTime:s,endTime:i}),t.options&&function Cw1(n,e,t){const r=e.params||{},i=PG(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Tz1(n){return new u.vHH(3001,de)}())})}(l[h],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Fz1(){return new u.vHH(3011,de)}()),r;let s=0;const l=[];let h=!1,C=!1,v=0;const b=e.steps.map(R1=>{const U1=this._makeStyleAst(R1,t);let $1=null!=U1.offset?U1.offset:function xw1(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Hy(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Hy(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(U1.styles),J1=0;return null!=$1&&(s++,J1=U1.offset=$1),C=C||J1<0||J1>1,h=h||J1<v,v=J1,l.push(J1),U1});C&&t.errors.push(function Uz1(){return new u.vHH(3012,de)}()),h&&t.errors.push(function Bz1(){return new u.vHH(3200,de)}());const z=e.steps.length;let S=0;s>0&&s<z?t.errors.push(function jz1(){return new u.vHH(3202,de)}()):0==s&&(S=1/(z-1));const x=z-1,I=t.currentTime,K=t.currentAnimateTimings,o1=K.duration;return b.forEach((R1,U1)=>{const $1=S>0?U1==x?1:S*U1:l[U1],J1=$1*o1;t.currentTime=I+K.delay+J1,K.duration=J1,this._validateStyleAst(R1,t),R1.offset=$1,r.styles.push(R1)}),r}visitReference(e,t){return{type:8,animation:z6(this,Of(e.animation),t),options:Ds(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ds(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ds(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function Sw1(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ww1,"")),n=n.replace(/@\*/g,yy).replace(/@\w+/g,t=>yy+"-"+t.substr(1)).replace(/:animating/g,TE),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,b6(t.collectedStyles,t.currentQuerySelector,{});const h=z6(this,Of(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:Ds(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function qz1(){return new u.vHH(3013,de)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:_y(e.timings,t.errors,!0);return{type:12,animation:z6(this,Of(e.animation),t),timings:r,options:null}}}class Ew1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hy(n){return!Array.isArray(n)&&"object"==typeof n}function Ds(n){return n?(n=So(n)).params&&(n.params=function Hw1(n){return n?So(n):null}(n.params)):n={},n}function kE(n,e,t){return{duration:n,delay:e,easing:t}}function PE(n,e,t,r,i,s,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:l,subTimeline:h}}class Ey{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Nw1=new RegExp(":enter","g"),kw1=new RegExp(":leave","g");function RE(n,e,t,r,i,s={},l={},h,C,v=[]){return(new Pw1).buildKeyframes(n,e,t,r,i,s,l,h,C,v)}class Pw1{buildKeyframes(e,t,r,i,s,l,h,C,v,b=[]){v=v||new Ey;const z=new OE(e,t,v,i,s,b,[]);z.options=C,z.currentTimeline.setStyles([l],null,z.errors,C),z6(this,r,z);const S=z.timelines.filter(x=>x.containsAnimation());if(Object.keys(h).length){let x;for(let I=S.length-1;I>=0;I--){const K=S[I];if(K.element===t){x=K;break}}x&&!x.allowOnlyTimelineStyles()&&x.setStyles([h],null,z.errors,C)}return S.length?S.map(x=>x.buildKeyframes()):[PE(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const l=null!=r.duration?Is(r.duration):null,h=null!=r.delay?Is(r.delay):null;return 0!==l&&e.forEach(C=>{const v=t.appendInstructionToTimeline(C,l,h);s=Math.max(s,v.duration+v.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),z6(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=xy);const l=Is(s.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>z6(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Is(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),z6(this,l,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return _y(t.params?My(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(C=>{h.forwardTime((C.offset||0)*s),h.setStyles(C.styles,C.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Is(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=xy);let l=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let C=null;h.forEach((v,b)=>{t.currentQueryIndex=b;const z=t.createSubContext(e.options,v);s&&z.delayNextStep(s),v===t.element&&(C=z.currentTimeline),z6(this,e.animation,z),z.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,z.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),C&&(t.currentTimeline.mergeTimelineCollectedStyles(C),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),h=l*(t.currentQueryTotal-1);let C=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":C=h-C;break;case"full":C=r.currentStaggerTime}const b=t.currentTimeline;C&&b.delayNextStep(C);const z=b.currentTime;z6(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-z+(i.startTime-r.currentTimeline.startTime)}}const xy={};class OE{constructor(e,t,r,i,s,l,h,C){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new Ty(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Is(r.duration)),null!=r.delay&&(i.delay=Is(r.delay));const s=r.params;if(s){let l=i.params;l||(l=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=My(s[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new OE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=xy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new Rw1(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,l){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(Nw1,"."+this._enterClassName)).replace(kw1,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),h.push(...v)}return!s&&0==h.length&&l.push(function Gz1(n){return new u.vHH(3014,de)}()),h}}class Ty{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ty(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||B8,this._currentKeyframe[t]=B8}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},l=function Ow1(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=B8})):A0(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(l).forEach(h=>{const C=My(l[h],s,r);this._pendingStyles[h]=C,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:B8),this._updateStyle(h,C)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,C)=>{const v=A0(h,!0);Object.keys(v).forEach(b=>{const z=v[b];"!"==z?e.add(b):z==B8&&t.add(b)}),r||(v.offset=C/this.duration),i.push(v)});const s=e.size?Ly(e.values()):[],l=t.size?Ly(t.values()):[];if(r){const h=i[0],C=So(h);h.offset=0,C.offset=1,i=[h,C]}return PE(this.element,i,s,l,this.duration,this.startTime,this.easing,!1)}}class Rw1 extends Ty{constructor(e,t,r,i,s,l,h=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=r+t,h=t/l,C=A0(e[0],!1);C.offset=0,s.push(C);const v=A0(e[0],!1);v.offset=BG(h),s.push(v);const b=e.length-1;for(let z=1;z<=b;z++){let S=A0(e[z],!1);S.offset=BG((t+S.offset*r)/l),s.push(S)}r=l,t=0,i="",e=s}return PE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function BG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class FE{}class Fw1 extends FE{normalizePropertyName(e,t){return NE(e)}normalizeStyleValue(e,t,r,i){let s="";const l=r.toString().trim();if(Uw1[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function Nz1(n,e){return new u.vHH(3005,de)}())}return l+s}}const Uw1=(()=>function Bw1(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function jG(n,e,t,r,i,s,l,h,C,v,b,z,S){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:l,timelines:h,queriedElements:C,preStyleProps:v,postStyleProps:b,totalTime:z,errors:S}}const UE={};class qG{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function jw1(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],l=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):l}build(e,t,r,i,s,l,h,C,v,b){const z=[],S=this.ast.options&&this.ast.options.params||UE,I=this.buildStyles(r,h&&h.params||UE,z),K=C&&C.params||UE,o1=this.buildStyles(i,K,z),R1=new Set,U1=new Map,$1=new Map,J1="void"===i,v2={params:Object.assign(Object.assign({},S),K)},x2=b?[]:RE(e,t,this.ast.animation,s,l,I,o1,v2,v,z);let te=0;if(x2.forEach(o4=>{te=Math.max(o4.duration+o4.delay,te)}),z.length)return jG(t,this._triggerName,r,i,J1,I,o1,[],[],U1,$1,te,z);x2.forEach(o4=>{const X8=o4.element,SQ=b6(U1,X8,{});o4.preStyleProps.forEach(pa=>SQ[pa]=!0);const Qh=b6($1,X8,{});o4.postStyleProps.forEach(pa=>Qh[pa]=!0),X8!==t&&R1.add(X8)});const Je=Ly(R1.values());return jG(t,this._triggerName,r,i,J1,I,o1,x2,Je,U1,$1,te)}}class qw1{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=So(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!=l&&(i[s]=l)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const l=s;Object.keys(l).forEach(h=>{let C=l[h];C.length>1&&(C=My(C,i,t));const v=this.normalizer.normalizePropertyName(h,t);C=this.normalizer.normalizeStyleValue(h,v,C,t),r[v]=C})}}),r}}class Ww1{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new qw1(i.style,i.options&&i.options.params||{},r)}),GG(this.states,"true","1"),GG(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new qG(e,i,this.states))}),this.fallbackTransition=function $w1(n,e,t){return new qG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function GG(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Zw1=new Ey;class Kw1{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=DE(this._driver,t,r,[]);if(r.length)throw function Jz1(n){return new u.vHH(3503,de)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=bG(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let l;const h=new Map;if(s?(l=RE(this._driver,t,s,xE,gy,{},{},r,Zw1,i),l.forEach(b=>{const z=b6(h,b.element,{});b.postStyleProps.forEach(S=>z[S]=null)})):(i.push(function Xz1(){return new u.vHH(3300,de)}()),l=[]),i.length)throw function ew1(n){return new u.vHH(3504,de)}();h.forEach((b,z)=>{Object.keys(b).forEach(S=>{b[S]=this._driver.computeStyle(z,S,B8)})});const v=T0(l.map(b=>{const z=h.get(b.element);return this._buildPlayer(b,{},z)}));return this._playersById[e]=v,v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function tw1(n){return new u.vHH(3301,de)}();return t}listen(e,t,r,i){const s=VE(t,"","","");return zE(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const WG="ng-animate-queued",BE="ng-animate-disabled",eV1=[],$G={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tV1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ln="__ng_removed";class jE{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function sV1(n){return null!=n?n:null}(r?e.value:e),r){const s=So(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Ff="void",qE=new jE(Ff);class nV1{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,un(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function nw1(n,e){return new u.vHH(3302,de)}();if(null==r||0==r.length)throw function rw1(n){return new u.vHH(3303,de)}();if(!function aV1(n){return"start"==n||"done"==n}(r))throw function iw1(n,e){return new u.vHH(3400,de)}();const s=b6(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};s.push(l);const h=b6(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(un(e,vy),un(e,vy+"-"+t),h[t]=qE),()=>{this._engine.afterFlush(()=>{const C=s.indexOf(l);C>=0&&s.splice(C,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function sw1(n){return new u.vHH(3401,de)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),l=new GE(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(un(e,vy),un(e,vy+"-"+t),this._engine.statesByElement.set(e,h={}));let C=h[t];const v=new jE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&C&&v.absorbOptions(C.options),h[t]=v,C||(C=qE),v.value!==Ff&&C.value===v.value){if(!function lV1(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(C.params,v.params)){const K=[],o1=s.matchStyles(C.value,C.params,K),R1=s.matchStyles(v.value,v.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{Ns(e,o1),F5(e,R1)})}return}const S=b6(this._engine.playersByElement,e,[]);S.forEach(K=>{K.namespaceId==this.id&&K.triggerName==t&&K.queued&&K.destroy()});let x=s.matchTransition(C.value,v.value,e,v.params),I=!1;if(!x){if(!i)return;x=s.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:x,fromState:C,toState:v,player:l,isFallbackTransition:I}),I||(un(e,WG),l.onStart(()=>{Ho(e,WG)})),l.onDone(()=>{let K=this.players.indexOf(l);K>=0&&this.players.splice(K,1);const o1=this._engine.playersByElement.get(e);if(o1){let R1=o1.indexOf(l);R1>=0&&o1.splice(R1,1)}}),this.players.push(l),S.push(l),l}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,yy,!0);r.forEach(i=>{if(i[ln])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const h=[];if(Object.keys(s).forEach(C=>{if(l.set(C,s[C].value),this._triggers[C]){const v=this.trigger(e,C,Ff,i);v&&h.push(v)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&T0(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const l=s.name;if(i.has(l))return;i.add(l);const C=this._triggers[l].fallbackTransition,v=r[l]||qE,b=new jE(Ff),z=new GE(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:C,fromState:v,toState:b,player:z,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ln];(!s||s===$G)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){un(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,l=this._elementListeners.get(s);l&&l.forEach(h=>{if(h.name==r.triggerName){const C=VE(s,r.triggerName,r.fromState.value,r.toState.value);C._data=e,zE(r.player,h.phase,C,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class rV1{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new nV1(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let l=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const C=i.get(h);if(C){const v=r.indexOf(C);r.splice(v+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(r[h].hostElement,t)){r.splice(h+1,0,e),l=!0;break}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const l=r[i[s]].namespaceId;if(l){const h=this._fetchNamespace(l);h&&t.add(h)}}}return t}trigger(e,t,r,i){if(Ay(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ay(t))return;const s=t[ln];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),un(e,BE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ho(e,BE))}removeNode(e,t,r,i){if(Ay(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[ln]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Ay(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,yy,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,TE,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return T0(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[ln];if(r&&r.setForRemoval){if(e[ln]=$G,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(BE))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)un(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?T0(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function aw1(n){return new u.vHH(3402,de)}()}_flushAnimations(e,t){const r=new Ey,i=[],s=new Map,l=[],h=new Map,C=new Map,v=new Map,b=new Set;this.disabledNodes.forEach(z2=>{b.add(z2);const D2=this.driver.query(z2,".ng-animate-queued",!0);for(let B2=0;B2<D2.length;B2++)b.add(D2[B2])});const z=this.bodyNode,S=Array.from(this.statesByElement.keys()),x=YG(S,this.collectedEnterElements),I=new Map;let K=0;x.forEach((z2,D2)=>{const B2=xE+K++;I.set(D2,B2),z2.forEach(Me=>un(Me,B2))});const o1=[],R1=new Set,U1=new Set;for(let z2=0;z2<this.collectedLeaveElements.length;z2++){const D2=this.collectedLeaveElements[z2],B2=D2[ln];B2&&B2.setForRemoval&&(o1.push(D2),R1.add(D2),B2.hasAnimation?this.driver.query(D2,".ng-star-inserted",!0).forEach(Me=>R1.add(Me)):U1.add(D2))}const $1=new Map,J1=YG(S,Array.from(R1));J1.forEach((z2,D2)=>{const B2=gy+K++;$1.set(D2,B2),z2.forEach(Me=>un(Me,B2))}),e.push(()=>{x.forEach((z2,D2)=>{const B2=I.get(D2);z2.forEach(Me=>Ho(Me,B2))}),J1.forEach((z2,D2)=>{const B2=$1.get(D2);z2.forEach(Me=>Ho(Me,B2))}),o1.forEach(z2=>{this.processLeaveNode(z2)})});const v2=[],x2=[];for(let z2=this._namespaceList.length-1;z2>=0;z2--)this._namespaceList[z2].drainQueuedTransitions(t).forEach(B2=>{const Me=B2.player,E4=B2.element;if(v2.push(Me),this.collectedEnterElements.length){const kt=E4[ln];if(kt&&kt.setForMove){if(kt.previousTriggersValues&&kt.previousTriggersValues.has(B2.triggerName)){const ma=kt.previousTriggersValues.get(B2.triggerName),Q0=this.statesByElement.get(B2.element);Q0&&Q0[B2.triggerName]&&(Q0[B2.triggerName].value=ma)}return void Me.destroy()}}const K5=!z||!this.driver.containsElement(z,E4),H6=$1.get(E4),Y0=I.get(E4),w3=this._buildInstruction(B2,r,Y0,H6,K5);if(w3.errors&&w3.errors.length)return void x2.push(w3);if(K5)return Me.onStart(()=>Ns(E4,w3.fromStyles)),Me.onDestroy(()=>F5(E4,w3.toStyles)),void i.push(Me);if(B2.isFallbackTransition)return Me.onStart(()=>Ns(E4,w3.fromStyles)),Me.onDestroy(()=>F5(E4,w3.toStyles)),void i.push(Me);const xQ=[];w3.timelines.forEach(kt=>{kt.stretchStartingKeyframe=!0,this.disabledNodes.has(kt.element)||xQ.push(kt)}),w3.timelines=xQ,r.append(E4,w3.timelines),l.push({instruction:w3,player:Me,element:E4}),w3.queriedElements.forEach(kt=>b6(h,kt,[]).push(Me)),w3.preStyleProps.forEach((kt,ma)=>{const Q0=Object.keys(kt);if(Q0.length){let ga=C.get(ma);ga||C.set(ma,ga=new Set),Q0.forEach(oI=>ga.add(oI))}}),w3.postStyleProps.forEach((kt,ma)=>{const Q0=Object.keys(kt);let ga=v.get(ma);ga||v.set(ma,ga=new Set),Q0.forEach(oI=>ga.add(oI))})});if(x2.length){const z2=[];x2.forEach(D2=>{z2.push(function ow1(n,e){return new u.vHH(3505,de)}())}),v2.forEach(D2=>D2.destroy()),this.reportError(z2)}const te=new Map,Je=new Map;l.forEach(z2=>{const D2=z2.element;r.has(D2)&&(Je.set(D2,D2),this._beforeAnimationBuild(z2.player.namespaceId,z2.instruction,te))}),i.forEach(z2=>{const D2=z2.element;this._getPreviousPlayers(D2,!1,z2.namespaceId,z2.triggerName,null).forEach(Me=>{b6(te,D2,[]).push(Me),Me.destroy()})});const o4=o1.filter(z2=>JG(z2,C,v)),X8=new Map;KG(X8,this.driver,U1,v,B8).forEach(z2=>{JG(z2,C,v)&&o4.push(z2)});const Qh=new Map;x.forEach((z2,D2)=>{KG(Qh,this.driver,new Set(z2),C,"!")}),o4.forEach(z2=>{const D2=X8.get(z2),B2=Qh.get(z2);X8.set(z2,Object.assign(Object.assign({},D2),B2))});const pa=[],HQ=[],EQ={};l.forEach(z2=>{const{element:D2,player:B2,instruction:Me}=z2;if(r.has(D2)){if(b.has(D2))return B2.onDestroy(()=>F5(D2,Me.toStyles)),B2.disabled=!0,B2.overrideTotalTime(Me.totalTime),void i.push(B2);let E4=EQ;if(Je.size>1){let H6=D2;const Y0=[];for(;H6=H6.parentNode;){const w3=Je.get(H6);if(w3){E4=w3;break}Y0.push(H6)}Y0.forEach(w3=>Je.set(w3,E4))}const K5=this._buildAnimation(B2.namespaceId,Me,te,s,Qh,X8);if(B2.setRealPlayer(K5),E4===EQ)pa.push(B2);else{const H6=this.playersByElement.get(E4);H6&&H6.length&&(B2.parentPlayer=T0(H6)),i.push(B2)}}else Ns(D2,Me.fromStyles),B2.onDestroy(()=>F5(D2,Me.toStyles)),HQ.push(B2),b.has(D2)&&i.push(B2)}),HQ.forEach(z2=>{const D2=s.get(z2.element);if(D2&&D2.length){const B2=T0(D2);z2.setRealPlayer(B2)}}),i.forEach(z2=>{z2.parentPlayer?z2.syncPlayerEvents(z2.parentPlayer):z2.destroy()});for(let z2=0;z2<o1.length;z2++){const D2=o1[z2],B2=D2[ln];if(Ho(D2,gy),B2&&B2.hasAnimation)continue;let Me=[];if(h.size){let K5=h.get(D2);K5&&K5.length&&Me.push(...K5);let H6=this.driver.query(D2,TE,!0);for(let Y0=0;Y0<H6.length;Y0++){let w3=h.get(H6[Y0]);w3&&w3.length&&Me.push(...w3)}}const E4=Me.filter(K5=>!K5.destroyed);E4.length?oV1(this,D2,E4):this.processLeaveNode(D2)}return o1.length=0,pa.forEach(z2=>{this.players.push(z2),z2.onDone(()=>{z2.destroy();const D2=this.players.indexOf(z2);this.players.splice(D2,1)}),z2.play()}),pa}elementContainsData(e,t){let r=!1;const i=t[ln];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const C=!s||s==Ff;h.forEach(v=>{v.queued||!C&&v.triggerName!=i||l.push(v)})}}return(r||i)&&(l=l.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),l}_beforeAnimationBuild(e,t,r){const s=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const C of t.timelines){const v=C.element,b=v!==s,z=b6(r,v,[]);this._getPreviousPlayers(v,b,l,h,t.toState).forEach(x=>{const I=x.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),x.destroy(),z.push(x)})}Ns(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,l){const h=t.triggerName,C=t.element,v=[],b=new Set,z=new Set,S=t.timelines.map(I=>{const K=I.element;b.add(K);const o1=K[ln];if(o1&&o1.removedBeforeQueried)return new Nf(I.duration,I.delay);const R1=K!==C,U1=function cV1(n){const e=[];return QG(n,e),e}((r.get(K)||eV1).map(te=>te.getRealPlayer())).filter(te=>!!te.element&&te.element===K),$1=s.get(K),J1=l.get(K),v2=bG(0,this._normalizer,0,I.keyframes,$1,J1),x2=this._buildPlayer(I,v2,U1);if(I.subTimeline&&i&&z.add(K),R1){const te=new GE(e,h,K);te.setRealPlayer(x2),v.push(te)}return x2});v.forEach(I=>{b6(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>function iV1(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,I.element,I))}),b.forEach(I=>un(I,IG));const x=T0(S);return x.onDestroy(()=>{b.forEach(I=>Ho(I,IG)),F5(C,t.toStyles)}),z.forEach(I=>{b6(i,I,[]).push(x)}),x}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Nf(e.duration,e.delay)}}class GE{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Nf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>zE(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){b6(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ay(n){return n&&1===n.nodeType}function ZG(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function KG(n,e,t,r,i){const s=[];t.forEach(C=>s.push(ZG(C)));const l=[];r.forEach((C,v)=>{const b={};C.forEach(z=>{const S=b[z]=e.computeStyle(v,z,i);(!S||0==S.length)&&(v[ln]=tV1,l.push(v))}),n.set(v,b)});let h=0;return t.forEach(C=>ZG(C,s[h++])),l}function YG(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),s=new Map;function l(h){if(!h)return 1;let C=s.get(h);if(C)return C;const v=h.parentNode;return C=t.has(v)?v:i.has(v)?1:l(v),s.set(h,C),C}return e.forEach(h=>{const C=l(h);1!==C&&t.get(C).push(h)}),t}function un(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Ho(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function oV1(n,e,t){T0(t).onDone(()=>n.processLeaveNode(e))}function QG(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof aG?QG(r.players,e):e.push(r)}}function JG(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Iy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new rV1(e,t,r),this._timelineEngine=new Kw1(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const l=e+"-"+i;let h=this._triggerCache[l];if(!h){const C=[],b=DE(this._driver,s,C,[]);if(C.length)throw function Yz1(n,e){return new u.vHH(3404,de)}();h=function Gw1(n,e,t){return new Ww1(n,e,t)}(i,b,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,l]=zG(r);this._timelineEngine.command(s,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[l,h]=zG(r);return this._timelineEngine.listen(l,t,h,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let fV1=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&F5(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(F5(this._element,this._initialStyles),this._endStyles&&(F5(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ns(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ns(this._element,this._endStyles),this._endStyles=null),F5(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function WE(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];hV1(i)&&(e=e||{},e[i]=n[i])}return e}function hV1(n){return"display"===n||"position"===n}class XG{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:RG(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class dV1{validateStyleProperty(e){return HG(e)}matchesElement(e,t){return!1}containsElement(e,t){return EG(e,t)}getParentElement(e){return HE(e)}query(e,t,r){return xG(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,l=[]){const C={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(C.easing=s);const v={},b=l.filter(S=>S instanceof XG);(function gw1(n,e){return 0===n||0===e})(r,i)&&b.forEach(S=>{let x=S.currentSnapshot;Object.keys(x).forEach(I=>v[I]=x[I])}),t=function vw1(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],l=[];if(r.forEach(h=>{s.hasOwnProperty(h)||l.push(h),s[h]=t[h]}),l.length)for(var i=1;i<e.length;i++){let h=e[i];l.forEach(function(C){h[C]=RG(n,C)})}}return e}(e,t=t.map(S=>A0(S,!1)),v);const z=function uV1(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=WE(e[0]),e.length>1&&(r=WE(e[e.length-1]))):e&&(t=WE(e)),t||r?new fV1(n,t,r):null}(e,t);return new XG(e,t,C,z)}}let CV1=(()=>{class n extends tG{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?rG(t):t;return eW(this._renderer,null,r,"register",[i]),new pV1(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(l1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class pV1 extends class TC1{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new mV1(this._id,e,t||{},this._renderer)}}class mV1{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return eW(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function eW(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const tW="@.disabled";let gV1=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,l)=>{const h=null==l?void 0:l.parentNode(s);h&&l.removeChild(h,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let b=this._rendererCache.get(s);return b||(b=new nW("",s,this.engine),this._rendererCache.set(s,b)),b}const l=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const C=b=>{Array.isArray(b)?b.forEach(C):this.engine.registerTrigger(l,h,t,b.name,b)};return r.data.animation.forEach(C),new vV1(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,h]=s;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(Iy),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class nW{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==tW?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class vV1 extends nW{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==tW?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function yV1(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),l="";return"@"!=s.charAt(0)&&([s,l]=function _V1(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let MV1=(()=>{class n extends Iy{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(l1),u.LFG(EE),u.LFG(FE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const rW=new u.OlP("AnimationModuleType"),iW=[{provide:tG,useClass:CV1},{provide:FE,useFactory:function LV1(){return new Fw1}},{provide:Iy,useClass:MV1},{provide:u.FYo,useFactory:function bV1(n,e,t){return new gV1(n,e,t)},deps:[Ie,Iy,u.R0b]}],sW=[{provide:EE,useFactory:()=>new dV1},{provide:rW,useValue:"BrowserAnimations"},...iW],zV1=[{provide:EE,useClass:TG},{provide:rW,useValue:"NoopAnimations"},...iW];let wV1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?zV1:sW}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:sW,imports:[i5]}),n})();const aW="firebasestorage.googleapis.com",oW="storageBucket";class R3 extends D.ZR{constructor(e,t){super($E(e),`Firebase Storage: ${t} (${$E(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,R3.prototype)}_codeEquals(e){return $E(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function $E(n){return"storage/"+n}function ZE(){return new R3("unknown","An unknown error occurred, please check the error payload for server response.")}function cW(){return new R3("canceled","User canceled the upload/download.")}function lW(){return new R3("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Eo(n){return new R3("invalid-argument",n)}function uW(){return new R3("app-deleted","The Firebase app was deleted.")}function fW(n){return new R3("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uf(n,e){return new R3("invalid-format","String does not match format '"+n+"': "+e)}function Bf(n){throw new R3("internal-error","Internal error: "+n)}class st{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=st.makeFromUrl(e,t)}catch(i){return new st(e,"")}if(""===r.path)return r;throw function kV1(n){return new R3("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(J1){J1.path_=decodeURIComponent(J1.path)}const z=t.replace(/[.]/g,"\\."),$1=[{regex:h,indices:{bucket:1,path:3},postModify:function s(J1){"/"===J1.path.charAt(J1.path.length-1)&&(J1.path_=J1.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${z}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===aW?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let J1=0;J1<$1.length;J1++){const v2=$1[J1],x2=v2.regex.exec(e);if(x2){let Je=x2[v2.indices.path];Je||(Je=""),r=new st(x2[v2.indices.bucket],Je),v2.postModify(r);break}}if(null==r)throw function DV1(n){return new R3("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class FV1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Dy(n){return"string"==typeof n||n instanceof String}function hW(n){return KE()&&n instanceof Blob}function KE(){return"undefined"!=typeof Blob}function YE(n,e,t,r){if(r<e)throw Eo(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Eo(`Invalid value for '${n}'. Expected ${t} or less.`)}function j8(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function dW(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var I0=(()=>{return(n=I0||(I0={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",I0;var n})();class WV1{constructor(e,t,r,i,s,l,h,C,v,b,z){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=C,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,x)=>{this.resolve_=S,this.reject_=x,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,l=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const C=this.callback_(h,h.getResponse());!function jV1(n){return void 0!==n}(C)?s():s(C)}catch(C){l(C)}else if(null!==h){const C=ZE();C.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,C):C)}else l(i.canceled?this.appDelete_?uW():cW():function NV1(){return new R3("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new ky(!1,null,!0)):this.backoffId_=function UV1(n,e,t){let r=1,i=null,s=null,l=!1,h=0;function C(){return 2===h}let v=!1;function b(...o1){v||(v=!0,e.apply(null,o1))}function z(o1){i=setTimeout(()=>{i=null,n(x,C())},o1)}function S(){s&&clearTimeout(s)}function x(o1,...R1){if(v)return void S();if(o1)return S(),void b.call(null,o1,...R1);if(C()||l)return S(),void b.call(null,o1,...R1);let $1;r<64&&(r*=2),1===h?(h=2,$1=0):$1=1e3*(r+Math.random()),z($1)}let I=!1;function K(o1){I||(I=!0,S(),!v&&(null!==i?(o1||(h=2),clearTimeout(i),z(0)):o1||(h=1)))}return z(0),s=setTimeout(()=>{l=!0,K(!0)},t),K}((r,i)=>{if(i)return void r(!1,new ky(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const h=s.getErrorCode()===I0.NO_ERROR,C=s.getStatus();if(!h||this.isRetryStatusCode_(C)){const b=s.getErrorCode()===I0.ABORT;return void r(!1,new ky(!1,null,b))}const v=-1!==this.successCodes_.indexOf(C);r(!0,new ky(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function BV1(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||s}}class ky{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function XV1(...n){const e=function JV1(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(KE())return new Blob(n);throw new R3("unsupported-environment","This browser doesn't seem to support creating Blobs")}const w6={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class QE{constructor(e,t){this.data=e,this.contentType=t||null}}function JE(n,e){switch(n){case w6.RAW:return new QE(CW(e));case w6.BASE64:case w6.BASE64URL:return new QE(pW(n,e));case w6.DATA_URL:return new QE(function rS1(n){const e=new mW(n);return e.base64?pW(w6.BASE64,e.rest):function nS1(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Uf(w6.DATA_URL,"Malformed data URL.")}return CW(e)}(e.rest)}(e),function iS1(n){return new mW(n).contentType}(e))}throw ZE()}function CW(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function pW(n,e){switch(n){case w6.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Uf(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case w6.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Uf(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function tS1(n){return atob(n)}(e)}catch(i){throw Uf(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class mW{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Uf(w6.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function sS1(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class U5{constructor(e,t){let r=0,i="";hW(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(hW(this.data_)){const i=function eS1(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new U5(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new U5(r,!0)}}static getBlob(...e){if(KE()){const t=e.map(r=>r instanceof U5?r.data_:r);return new U5(XV1.apply(null,t))}{const t=e.map(l=>Dy(l)?JE(w6.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(l=>{for(let h=0;h<l.length;h++)i[s++]=l[h]}),new U5(i,!0)}}uploadData(){return this.data_}}function XE(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function GV1(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function gW(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function cS1(n,e){return e}class Ht{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||cS1}}let Py=null;function jf(){if(Py)return Py;const n=[];n.push(new Ht("bucket")),n.push(new Ht("generation")),n.push(new Ht("metageneration")),n.push(new Ht("name","fullPath",!0));const t=new Ht("name");t.xform=function e(s,l){return function lS1(n){return!Dy(n)||n.length<2?n:gW(n)}(l)},n.push(t);const i=new Ht("size");return i.xform=function r(s,l){return void 0!==l?Number(l):l},n.push(i),n.push(new Ht("timeCreated")),n.push(new Ht("updated")),n.push(new Ht("md5Hash",null,!0)),n.push(new Ht("cacheControl",null,!0)),n.push(new Ht("contentDisposition",null,!0)),n.push(new Ht("contentEncoding",null,!0)),n.push(new Ht("contentLanguage",null,!0)),n.push(new Ht("contentType",null,!0)),n.push(new Ht("metadata","customMetadata",!0)),Py=n,Py}function vW(n,e,t){const r=XE(e);return null===r?null:function fS1(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const l=t[s];r[l.local]=l.xform(r,e[l.server])}return function uS1(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new st(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function ex(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const yW="prefixes";class B5{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function j5(n){if(!n)throw ZE()}function Ry(n,e){return function t(r,i){const s=vW(n,i,e);return j5(null!==s),s}}function xo(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function AV1(){return new R3("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function TV1(){return new R3("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function xV1(n){return new R3("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function IV1(n){return new R3("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function qf(n){const e=xo(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function EV1(n){return new R3("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function MW(n,e,t){const i=j8(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new B5(i,"GET",Ry(n,t),l);return h.errorHandler=qf(e),h}function gS1(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const h=j8(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,b=new B5(h,"GET",function pS1(n,e){return function t(r,i){const s=function CS1(n,e,t){const r=XE(t);return null===r?null:function dS1(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[yW])for(const i of t[yW]){const s=i.replace(/\/$/,""),l=n._makeStorageReference(new st(e,s));r.prefixes.push(l)}if(t.items)for(const i of t.items){const s=n._makeStorageReference(new st(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return j5(null!==s),s}}(n,e.bucket),v);return b.urlParams=s,b.errorHandler=xo(e),b}function bW(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function MS1(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class Oy{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function tx(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){j5(!1)}return j5(!!t&&-1!==(e||["active"]).indexOf(t)),t}const wS1={STATE_CHANGED:"state_changed"},Et={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nx(n){switch(n){case"running":case"pausing":case"canceling":return Et.RUNNING;case"paused":return Et.PAUSED;case"success":return Et.SUCCESS;case"canceled":return Et.CANCELED;default:return Et.ERROR}}class VS1{constructor(e,t,r){if(function qV1(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function To(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class HS1 extends class SS1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=I0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=I0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=I0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Bf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bf("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Bf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Yn(){return new HS1}class SW{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=jf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function LS1(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),l=bW(e,r,i),h={name:l.fullPath},C=j8(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},z=ex(l,t),I=new B5(C,"POST",function x(K){let o1;tx(K);try{o1=K.getResponseHeader("X-Goog-Upload-URL")}catch(R1){j5(!1)}return j5(Dy(o1)),o1},n.maxUploadRetryTime);return I.urlParams=h,I.headers=b,I.body=z,I.errorHandler=xo(e),I}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Yn,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function bS1(n,e,t,r){const C=new B5(t,"POST",function s(v){const b=tx(v,["active","final"]);let z=null;try{z=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch(x){j5(!1)}z||j5(!1);const S=Number(z);return j5(!isNaN(S)),new Oy(S,r.size(),"final"===b)},n.maxUploadRetryTime);return C.headers={"X-Goog-Upload-Command":"query"},C.errorHandler=xo(e),C}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Yn,t,r);this._request=s,s.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Oy(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let l;try{l=function zS1(n,e,t,r,i,s,l,h){const C=new Oy(0,0);if(l?(C.current=l.current,C.total=l.total):(C.current=0,C.total=r.size()),r.size()!==C.total)throw function RV1(){return new R3("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=C.total-C.current;let b=v;i>0&&(b=Math.min(b,i));const z=C.current,I={"X-Goog-Upload-Command":b===v?"upload, finalize":"upload","X-Goog-Upload-Offset":`${C.current}`},K=r.slice(z,z+b);if(null===K)throw lW();const $1=new B5(t,"POST",function o1(J1,v2){const x2=tx(J1,["active","final"]),te=C.current+b,Je=r.size();let o4;return o4="final"===x2?Ry(e,s)(J1,v2):null,new Oy(te,Je,"final"===x2,o4)},e.maxUploadRetryTime);return $1.headers=I,$1.body=K.uploadData(),$1.progressCallback=h||null,$1.errorHandler=xo(n),$1}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(C){return this._error=C,void this._transition("error")}const h=this._ref.storage._makeRequest(l,Yn,i,s);this._request=h,h.getPromise().then(C=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(C.current),C.finalized?(this._metadata=C.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=MW(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Yn,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function zW(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},C=function h(){let $1="";for(let J1=0;J1<2;J1++)$1+=Math.random().toString().slice(2);return $1}();l["Content-Type"]="multipart/related; boundary="+C;const v=bW(e,r,i),b=ex(v,t),x=U5.getBlob("--"+C+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+C+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+C+"--");if(null===x)throw lW();const I={name:v.fullPath},K=j8(s,n.host,n._protocol),R1=n.maxUploadRetryTime,U1=new B5(K,"POST",Ry(n,t),R1);return U1.urlParams=I,U1.headers=l,U1.body=x.uploadData(),U1.errorHandler=xo(e),U1}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Yn,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=cW(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=nx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new VS1(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(nx(this._state)){case Et.SUCCESS:To(this._resolve.bind(null,this.snapshot))();break;case Et.CANCELED:case Et.ERROR:To(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(nx(this._state)){case Et.RUNNING:case Et.PAUSED:e.next&&To(e.next.bind(e,this.snapshot))();break;case Et.SUCCESS:e.complete&&To(e.complete.bind(e))();break;default:e.error&&To(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ks{constructor(e,t){this._service=e,this._location=t instanceof st?t:st.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ks(e,t)}get root(){const e=new st(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gW(this._location.path)}get storage(){return this._service}get parent(){const e=function aS1(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new st(this._location.bucket,e);return new ks(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw fW(e)}}function EW(n,e,t){return rx.apply(this,arguments)}function rx(){return(rx=(0,w1.Z)(function*(n,e,t){const i=yield xW(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield EW(n,e,i.nextPageToken))})).apply(this,arguments)}function xW(n,e){null!=e&&"number"==typeof e.maxResults&&YE("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=gS1(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Yn)}function FS1(n){n._throwIfRoot("getDownloadURL");const e=function vS1(n,e,t){const i=j8(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new B5(i,"GET",function mS1(n,e){return function t(r,i){const s=vW(n,i,e);return j5(null!==s),function hS1(n,e,t,r){const i=XE(e);if(null===i||!Dy(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(v=>{const z=n.fullPath;return j8("/b/"+l(n.bucket)+"/o/"+l(z),t,r)+dW({alt:"media",token:v})})[0]}(s,i,n.host,n._protocol)}}(n,t),l);return h.errorHandler=qf(e),h}(n.storage,n._location,jf());return n.storage.makeRequestWithTokens(e,Yn).then(t=>{if(null===t)throw function OV1(){return new R3("no-download-url","The given file does not have any download URLs.")}();return t})}function TW(n,e){const t=function oS1(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new st(n._location.bucket,t);return new ks(n.storage,r)}function AW(n,e){if(n instanceof ix){const t=n;if(null==t._bucket)throw function PV1(){return new R3("no-default-bucket","No default bucket found. Did you set the '"+oW+"' property when initializing the app?")}();const r=new ks(t,t._bucket);return null!=e?AW(r,e):r}return void 0!==e?TW(n,e):n}function qS1(n,e){if(e&&function BS1(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof ix)return function jS1(n,e){return new ks(n,e)}(n,e);throw Eo("To use ref(service, url), the first argument must be a Storage instance.")}return AW(n,e)}function IW(n,e){const t=null==e?void 0:e[oW];return null==t?null:st.makeFromBucketSpec(t,n)}class ix{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=aW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?st.makeFromBucketSpec(i,this._host):IW(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?st.makeFromBucketSpec(this._url,e):IW(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,w1.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,w1.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ks(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new FV1(uW());{const s=function QV1(n,e,t,r,i,s){const l=dW(n.urlParams),h=n.url+l,C=Object.assign({},n.headers);return function KV1(n,e){e&&(n["X-Firebase-GMPID"]=e)}(C,e),function $V1(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(C,t),function ZV1(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(C,s),function YV1(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(C,r),new WV1(h,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return(0,w1.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const NW="@firebase/storage";function PW(n,e){return qS1(n=(0,D.m9)(n),e)}function tH1(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new ix(t,r,i,e,bt.SDK_VERSION)}!function nH1(){(0,bt._registerComponent)(new Bn.wA("storage",tH1,"PUBLIC").setMultipleInstances(!0)),(0,bt.registerVersion)(NW,"0.9.6",""),(0,bt.registerVersion)(NW,"0.9.6","esm2017")}();class Fy{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class RW{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Fy(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Fy(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?l=>t(new Fy(l,this,this._ref)):{next:t.next?l=>t.next(new Fy(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class OW{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new q8(e,this._service))}get items(){return this._delegate.items.map(e=>new q8(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class q8{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function XS1(n,e){return TW(n,e)}(this._delegate,e);return new q8(t,this.storage)}get root(){return new q8(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new q8(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new RW(function WS1(n,e,t){return function DS1(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new SW(n,new U5(e),t)}(n=(0,D.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=w6.RAW,r){this._throwIfRoot("putString");const i=JE(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new RW(new SW(this._delegate,new U5(i.data,!0),s),this)}listAll(){return function YS1(n){return function PS1(n){const e={prefixes:[],items:[]};return EW(n,e).then(()=>e)}(n=(0,D.m9)(n))}(this._delegate).then(e=>new OW(e,this.storage))}list(e){return function KS1(n,e){return xW(n=(0,D.m9)(n),e)}(this._delegate,e||void 0).then(t=>new OW(t,this.storage))}getMetadata(){return function $S1(n){return function RS1(n){n._throwIfRoot("getMetadata");const e=MW(n.storage,n._location,jf());return n.storage.makeRequestWithTokens(e,Yn)}(n=(0,D.m9)(n))}(this._delegate)}updateMetadata(e){return function ZS1(n,e){return function OS1(n,e){n._throwIfRoot("updateMetadata");const t=function yS1(n,e,t,r){const s=j8(e.fullServerUrl(),n.host,n._protocol),h=ex(t,r),v=n.maxOperationRetryTime,b=new B5(s,"PATCH",Ry(n,r),v);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=h,b.errorHandler=qf(e),b}(n.storage,n._location,e,jf());return n.storage.makeRequestWithTokens(t,Yn)}(n=(0,D.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function QS1(n){return FS1(n=(0,D.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function JS1(n){return function US1(n){n._throwIfRoot("deleteObject");const e=function _S1(n,e){const r=j8(e.fullServerUrl(),n.host,n._protocol),h=new B5(r,"DELETE",function l(C,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=qf(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Yn)}(n=(0,D.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw fW(e)}}class FW{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(UW(e))throw Eo("ref() expected a child path but got a URL, use refFromURL instead.");return new q8(PW(this._delegate,e),this)}refFromURL(e){if(!UW(e))throw Eo("refFromURL() expected a full URL but got a child path, use ref() instead.");try{st.makeFromUrl(e,this._delegate.host)}catch(t){throw Eo("refFromUrl() expected a valid full URL but got an invalid one.")}return new q8(PW(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function eH1(n,e,t,r={}){!function GS1(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,D.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function UW(n){return/^[A-Za-z]+:\/\//.test(n)}function aH1(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new FW(t,r)}function BW(n){const e=function cH1(n){return new Ke.y(e=>{const t=l=>e.next(l);t(n.snapshot);const s=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){s()}}).pipe(function VV1(n,e=dV.z){return(0,N3.e)((t,r)=>{let i=null,s=null,l=null;const h=()=>{if(i){i.unsubscribe(),i=null;const v=s;s=null,r.next(v)}};function C(){const v=l+n,b=e.now();if(b<v)return i=this.schedule(void 0,v-b),void r.add(i);h()}t.subscribe((0,Ge.x)(r,v=>{s=v,l=e.now(),i||(i=e.schedule(C,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,b2.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Uy(n){return{getDownloadURL:()=>L2(void 0).pipe(re.fc,De(()=>n.getDownloadURL()),re.iC),getMetadata:()=>L2(void 0).pipe(re.fc,De(()=>n.getMetadata()),re.iC),delete:()=>(0,Ue.D)(n.delete()),child:e=>Uy(n.child(e)),updateMetadata:e=>(0,Ue.D)(n.updateMetadata(e)),put:(e,t)=>BW(n.put(e,t)),putString:(e,t,r)=>BW(n.putString(e,t,r)),list:e=>(0,Ue.D)(n.list(e)),listAll:()=>(0,Ue.D)(n.listAll())}}!function oH1(n){const e={TaskState:Et,TaskEvent:wS1,StringFormat:w6,Storage:FW,Reference:q8};n.INTERNAL.registerComponent(new Bn.wA("storage-compat",aH1,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(mV.Z);const lH1=new u.OlP("angularfire2.storageBucket"),uH1=new u.OlP("angularfire2.storage.maxUploadRetryTime"),fH1=new u.OlP("angularfire2.storage.maxOperationRetryTime"),hH1=new u.OlP("angularfire2.storage.use-emulator");let dH1=(()=>{class n{constructor(t,r,i,s,l,h,C,v,b,z){const S=(0,b3.on)(t,l,r);this.storage=(0,b3.cc)(`${S.name}.storage.${i}`,"AngularFireStorage",S.name,()=>{const x=l.runOutsideAngular(()=>S.storage(i||void 0)),I=b;return I&&x.useEmulator(...I),C&&x.setMaxUploadRetryTime(C),v&&x.setMaxOperationRetryTime(v),x},[C,v])}ref(t){return Uy(this.storage.ref(t))}refFromURL(t){return Uy(this.storage.refFromURL(t))}upload(t,r,i){return Uy(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(b3.Dh),u.LFG(b3.xv,8),u.LFG(lH1,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(re.HU),u.LFG(uH1,8),u.LFG(fH1,8),u.LFG(hH1,8),u.LFG(mf,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),CH1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),pH1=(()=>{class n{constructor(){ws.Z.registerVersion("angularfire",re.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[dH1],imports:[CH1]}),n})();function By(){return(0,N3.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ge.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var g2,mH1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},G8={},sx=sx||{},K2=mH1||self;function jy(){}function ax(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Gf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ox="closure_uid_"+(1e9*Math.random()>>>0),vH1=0;function yH1(n,e,t){return n.call.apply(n.bind,arguments)}function _H1(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function O4(n,e,t){return(O4=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yH1:_H1).apply(null,arguments)}function qy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function F4(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function N0(){this.s=this.s,this.o=this.o}var LH1={};N0.prototype.s=!1,N0.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function gH1(n){return Object.prototype.hasOwnProperty.call(n,ox)&&n[ox]||(n[ox]=++vH1)}(this);delete LH1[n]}},N0.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jW=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},qW=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function GW(n){return Array.prototype.concat.apply([],arguments)}function cx(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Gy(n){return/^[\s\xa0]*$/.test(n)}var Tt,WW=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function xt(n,e){return-1!=n.indexOf(e)}function lx(n,e){return n<e?-1:n>e?1:0}e:{var $W=K2.navigator;if($W){var ZW=$W.userAgent;if(ZW){Tt=ZW;break e}}Tt=""}function ux(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function KW(n){const e={};for(const t in n)e[t]=n[t];return e}var YW="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QW(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<YW.length;s++)t=YW[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function fx(n){return fx[" "](n),n}fx[" "]=jy;var Wy,n,wH1=xt(Tt,"Opera"),Ao=xt(Tt,"Trident")||xt(Tt,"MSIE"),JW=xt(Tt,"Edge"),hx=JW||Ao,XW=xt(Tt,"Gecko")&&!(xt(Tt.toLowerCase(),"webkit")&&!xt(Tt,"Edge"))&&!(xt(Tt,"Trident")||xt(Tt,"MSIE"))&&!xt(Tt,"Edge"),VH1=xt(Tt.toLowerCase(),"webkit")&&!xt(Tt,"Edge");function e$(){var n=K2.document;return n?n.documentMode:void 0}e:{var dx="",Cx=(n=Tt,XW?/rv:([^\);]+)(\)|;)/.exec(n):JW?/Edge\/([\d\.]+)/.exec(n):Ao?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):VH1?/WebKit\/(\S+)/.exec(n):wH1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Cx&&(dx=Cx?Cx[1]:""),Ao){var px=e$();if(null!=px&&px>parseFloat(dx)){Wy=String(px);break e}}Wy=dx}var SH1={};var EH1=K2.document&&Ao&&(e$()||parseInt(Wy,10))||void 0,xH1=function(){if(!K2.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{K2.addEventListener("test",jy,e),K2.removeEventListener("test",jy,e)}catch(t){}return n}();function at(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Wf(n,e){if(at.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(XW){e:{try{fx(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:TH1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wf.Z.h.call(this)}}at.prototype.h=function(){this.defaultPrevented=!0},F4(Wf,at);var TH1={2:"touch",3:"pen",4:"mouse"};Wf.prototype.h=function(){Wf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var $f="closure_listenable_"+(1e6*Math.random()|0),AH1=0;function IH1(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++AH1,this.ca=this.fa=!1}function $y(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Zy(n){this.src=n,this.g={},this.h=0}function gx(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=jW(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($y(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function vx(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}Zy.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=vx(n,e,r,i);return-1<l?(e=n[l],t||(e.fa=!1)):((e=new IH1(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var yx="closure_lm_"+(1e6*Math.random()|0),_x={};function n$(n,e,t,r,i){if(r&&r.once)return i$(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)n$(n,e[s],t,r,i);return null}return t=zx(t),n&&n[$f]?n.N(e,t,Gf(r)?!!r.capture:!!r,i):r$(n,e,t,!1,r,i)}function r$(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var l=Gf(i)?!!i.capture:!!i,h=Lx(n);if(h||(n[yx]=h=new Zy(n)),(t=h.add(e,t,r,l,s)).proxy)return t;if(r=function NH1(){var e=DH1;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)xH1||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(a$(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function i$(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)i$(n,e[s],t,r,i);return null}return t=zx(t),n&&n[$f]?n.O(e,t,Gf(r)?!!r.capture:!!r,i):r$(n,e,t,!0,r,i)}function s$(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)s$(n,e[s],t,r,i);else r=Gf(r)?!!r.capture:!!r,t=zx(t),n&&n[$f]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=vx(s=n.g[e],t,r,i))&&($y(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Lx(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vx(e,t,r,i)),(t=-1<n?e[n]:null)&&Mx(t))}function Mx(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[$f])gx(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(a$(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Lx(e))?(gx(t,n),0==t.h&&(t.src=null,e[yx]=null)):$y(n)}}}function a$(n){return n in _x?_x[n]:_x[n]="on"+n}function DH1(n,e){if(n.ca)n=!0;else{e=new Wf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Mx(n),n=t.call(r,e)}return n}function Lx(n){return(n=n[yx])instanceof Zy?n:null}var bx="__closure_events_fn_"+(1e9*Math.random()>>>0);function zx(n){return"function"==typeof n?n:(n[bx]||(n[bx]=function(e){return n.handleEvent(e)}),n[bx])}function z4(){N0.call(this),this.i=new Zy(this),this.P=this,this.I=null}function U4(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new at(e,n);else if(e instanceof at)e.target=e.target||n;else{var i=e;QW(e=new at(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];i=Ky(l,r,!0,e)&&i}if(i=Ky(l=e.g=n,r,!0,e)&&i,i=Ky(l,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Ky(l=e.g=t[s],r,!1,e)&&i}function Ky(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.ca&&l.capture==t){var h=l.listener,C=l.ia||l.src;l.fa&&gx(n.i,l),i=!1!==h.call(C,r)&&i}}return i&&!r.defaultPrevented}F4(z4,N0),z4.prototype[$f]=!0,z4.prototype.removeEventListener=function(n,e,t,r){s$(this,n,e,t,r)},z4.prototype.M=function(){if(z4.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)$y(t[r]);delete n.g[e],n.h--}}this.I=null},z4.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},z4.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var wx=K2.JSON.stringify;function kH1(){var n=c$;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Sx,o$=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new RH1,n=>n.reset());class RH1{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function OH1(n){K2.setTimeout(()=>{throw n},0)}function Vx(n,e){Sx||function FH1(){var n=K2.Promise.resolve(void 0);Sx=function(){n.then(UH1)}}(),Hx||(Sx(),Hx=!0),c$.add(n,e)}var Hx=!1,c$=new class PH1{constructor(){this.h=this.g=null}add(e,t){const r=o$.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function UH1(){for(var n;n=kH1();){try{n.h.call(n.g)}catch(t){OH1(t)}var e=o$;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Hx=!1}function Yy(n,e){z4.call(this),this.h=n||1,this.g=e||K2,this.j=O4(this.kb,this),this.l=Date.now()}function Ex(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function xx(n,e,t){if("function"==typeof n)t&&(n=O4(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=O4(n.handleEvent,n)}return 2147483647<Number(e)?-1:K2.setTimeout(n,e||0)}function l$(n){n.g=xx(()=>{n.g=null,n.i&&(n.i=!1,l$(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}F4(Yy,z4),(g2=Yy.prototype).da=!1,g2.S=null,g2.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),U4(this,"tick"),this.da&&(Ex(this),this.start()))}},g2.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},g2.M=function(){Yy.Z.M.call(this),Ex(this),delete this.g};class BH1 extends N0{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:l$(this)}M(){super.M(),this.g&&(K2.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zf(n){N0.call(this),this.h=n,this.g={}}F4(Zf,N0);var u$=[];function f$(n,e,t,r){Array.isArray(t)||(t&&(u$[0]=t.toString()),t=u$);for(var i=0;i<t.length;i++){var s=n$(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function h$(n){ux(n.g,function(e,t){this.g.hasOwnProperty(t)&&Mx(e)},n),n.g={}}function Qy(){this.g=!0}function Io(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function WH1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<i.length;l++)i[l]=""}}}return wx(t)}catch(h){return e}}(n,t)+(r?" "+r:"")})}Zf.prototype.M=function(){Zf.Z.M.call(this),h$(this)},Zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qy.prototype.Aa=function(){this.g=!1},Qy.prototype.info=function(){};var Ps={},d$=null;function Jy(){return d$=d$||new z4}function C$(n){at.call(this,Ps.Ma,n)}function Kf(n){const e=Jy();U4(e,new C$(e,n))}function p$(n,e){at.call(this,Ps.STAT_EVENT,n),this.stat=e}function At(n){const e=Jy();U4(e,new p$(e,n))}function m$(n,e){at.call(this,Ps.Na,n),this.size=e}function Yf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return K2.setTimeout(function(){n()},e)}Ps.Ma="serverreachability",F4(C$,at),Ps.STAT_EVENT="statevent",F4(p$,at),Ps.Na="timingevent",F4(m$,at);var Xy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},g$={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Tx(){}function y$(){}Tx.prototype.h=null;var Nx,Qf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ax(){at.call(this,"d")}function Ix(){at.call(this,"c")}function e_(){}function Jf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Zf(this),this.P=$H1,this.W=new Yy(n=hx?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _$}function _$(){this.i=null,this.g="",this.h=!1}F4(Ax,at),F4(Ix,at),F4(e_,Tx),e_.prototype.g=function(){return new XMLHttpRequest},e_.prototype.i=function(){return{}},Nx=new e_;var $H1=45e3,Dx={},t_={};function kx(n,e,t){n.K=1,n.v=a_(W8(e)),n.s=t,n.U=!0,M$(n,null)}function M$(n,e){n.F=Date.now(),Xf(n),n.A=W8(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),x$(t.h,"t",r),n.C=0,t=n.l.H,n.h=new _$,n.g=X$(n.l,t?e:null,!n.s),0<n.O&&(n.L=new BH1(O4(n.Ia,n,n.g),n.O)),f$(n.V,n.g,"readystatechange",n.gb),e=n.H?KW(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Kf(1),function jH1(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var l="",h=s.split("&"),C=0;C<h.length;C++){var v=h[C].split("=");if(1<v.length){var b=v[0];v=v[1];var z=b.split("_");l=2<=z.length&&"type"==z[1]?l+(b+"=")+v+"&":l+(b+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.X,n.s)}function L$(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function b$(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=ZH1(n,t),i==t_){4==e&&(n.o=4,At(14),r=!1),Io(n.j,n.m,null,"[Incomplete Response]");break}if(i==Dx){n.o=4,At(15),Io(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Io(n.j,n.m,i,null),Px(n,i)}L$(n)&&i!=t_&&i!=Dx&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,At(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Zx(e),e.L=!0,At(11))):(Io(n.j,n.m,t,"[Invalid Chunked Response]"),Rs(n),eh(n))}function ZH1(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?t_:(t=Number(e.substring(t,r)),isNaN(t)?Dx:(r+=1)+t>e.length?t_:(e=e.substr(r,t),n.C=r+t,e))}function Xf(n){n.Y=Date.now()+n.P,z$(n,n.P)}function z$(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Yf(O4(n.eb,n),e)}function n_(n){n.B&&(K2.clearTimeout(n.B),n.B=null)}function eh(n){0==n.l.G||n.I||K$(n.l,n)}function Rs(n){n_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ex(n.W),h$(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Px(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Fx(t.i,n)))if(t.I=n.N,!n.J&&Fx(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Yf(O4(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;h_(t),u_(t)}$x(t),At(18)}if(1>=I$(t.i)&&t.ka){try{t.ka()}catch(v){}t.ka=void 0}}else Us(t,11)}else if((n.J||t.g==n)&&h_(t),!Gy(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.U=v[0],v=v[1],2==t.G)if("c"==v[0]){t.J=v[1],t.la=v[2];const b=v[3];null!=b&&(t.ma=b,t.h.info("VER="+t.ma));const z=v[4];null!=z&&(t.za=z,t.h.info("SVER="+t.za));const S=v[5];null!=S&&"number"==typeof S&&0<S&&(t.K=r=1.5*S,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const x=n.g;if(x){const I=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var s=r.i;!s.g&&(xt(I,"spdy")||xt(I,"quic")||xt(I,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Ux(s,s.h),s.h=null))}if(r.D){const K=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(r.sa=K,g3(r.F,r.D,K))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var l=n;if((r=t).oa=J$(r,r.H?r.la:null,r.W),l.J){N$(r.i,l);var h=l,C=r.K;C&&h.setTimeout(C),h.B&&(n_(h),Xf(h)),r.g=l}else $$(r);0<t.l.length&&f_(t)}else"stop"!=v[0]&&"close"!=v[0]||Us(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Us(t,7):Gx(t):"noop"!=v[0]&&t.j&&t.j.wa(v),t.A=0)}Kf(4)}catch(v){}}function Rx(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ax(n)||"string"==typeof n)qW(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(ax(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function KH1(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(ax(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function No(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof No)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Ox(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Os(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Os(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Os(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(g2=Jf.prototype).setTimeout=function(n){this.P=n},g2.gb=function(n){n=n.target;const e=this.L;e&&3==$8(n)?e.l():this.Ia(n)},g2.Ia=function(n){try{if(n==this.g)e:{const b=$8(this.g);var e=this.g.Da();const z=this.g.ba();if(!(3>b)&&(3!=b||hx||this.g&&(this.h.h||this.g.ga()||B$(this.g)))){this.I||4!=b||7==e||Kf(8==e||0>=z?3:2),n_(this);var t=this.g.ba();this.N=t;t:if(L$(this)){var r=B$(this.g);n="";var i=r.length,s=4==$8(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Rs(this),eh(this);var l="";break t}this.h.i=new K2.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==t,function qH1(n,e,t,r,i,s,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.X,b,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,C=this.g;if((h=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gy(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,At(12),Rs(this),eh(this);break e}Io(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Px(this,t)}this.U?(b$(this,b,l),hx&&this.i&&3==b&&(f$(this.V,this.W,"tick",this.fb),this.W.start())):(Io(this.j,this.m,l,null),Px(this,l)),4==b&&Rs(this),this.i&&!this.I&&(4==b?K$(this.l,this):(this.i=!1,Xf(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,At(12)):(this.o=0,At(13)),Rs(this),eh(this)}}}catch(b){}},g2.fb=function(){if(this.g){var n=$8(this.g),e=this.g.ga();this.C<e.length&&(n_(this),b$(this,n,e),this.i&&4!=n&&Xf(this))}},g2.cancel=function(){this.I=!0,Rs(this)},g2.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function GH1(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Kf(3),At(17)),Rs(this),this.o=2,eh(this)):z$(this,this.Y-n)},(g2=No.prototype).R=function(){Ox(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},g2.T=function(){return Ox(this),this.g.concat()},g2.get=function(n,e){return Os(this.h,n)?this.h[n]:e},g2.set=function(n,e){Os(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},g2.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var w$=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fs(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Fs){this.g=void 0!==e?e:n.g,r_(this,n.j),this.s=n.s,i_(this,n.i),s_(this,n.m),this.l=n.l,e=n.h;var t=new rh;t.i=e.i,e.g&&(t.g=new No(e.g),t.h=e.h),V$(this,t),this.o=n.o}else n&&(t=String(n).match(w$))?(this.g=!!e,r_(this,t[1]||"",!0),this.s=th(t[2]||""),i_(this,t[3]||"",!0),s_(this,t[4]),this.l=th(t[5]||"",!0),V$(this,t[6]||"",!0),this.o=th(t[7]||"")):(this.g=!!e,this.h=new rh(null,this.g))}function W8(n){return new Fs(n)}function r_(n,e,t){n.j=t?th(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function i_(n,e,t){n.i=t?th(e,!0):e}function s_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function V$(n,e,t){e instanceof rh?(n.h=e,function iE1(n,e){e&&!n.j&&(D0(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(H$(this,r),x$(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=nh(e,nE1)),n.h=new rh(e,n.g))}function g3(n,e,t){n.h.set(e,t)}function a_(n){return g3(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function th(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,XH1),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function XH1(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Fs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(nh(e,S$,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(nh(e,S$,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(nh(t,"/"==t.charAt(0)?tE1:eE1,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",nh(t,rE1)),n.join("")};var S$=/[#\/\?@]/g,eE1=/[#\?:]/g,tE1=/[#\?]/g,nE1=/[#\?@]/g,rE1=/#/g;function rh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function D0(n){n.g||(n.g=new No,n.h=0,n.i&&function YH1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function H$(n,e){D0(n),e=Do(n,e),Os(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Os((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Ox(n)))}function E$(n,e){return D0(n),e=Do(n,e),Os(n.g.h,e)}function x$(n,e,t){H$(n,e),0<t.length&&(n.i=null,n.g.set(Do(n,e),cx(t)),n.h+=t.length)}function Do(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function T$(n){this.l=n||aE1,n=K2.PerformanceNavigationTiming?0<(n=K2.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(K2.g&&K2.g.Ea&&K2.g.Ea()&&K2.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(g2=rh.prototype).add=function(n,e){D0(this),this.i=null,n=Do(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},g2.forEach=function(n,e){D0(this),this.g.forEach(function(t,r){qW(t,function(i){n.call(e,i,r,this)},this)},this)},g2.T=function(){D0(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},g2.R=function(n){D0(this);var e=[];if("string"==typeof n)E$(this,n)&&(e=GW(e,this.g.get(Do(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=GW(e,n[t])}return e},g2.set=function(n,e){return D0(this),this.i=null,E$(this,n=Do(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},g2.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},g2.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var l=i;""!==r[s]&&(l+="="+encodeURIComponent(String(r[s]))),n.push(l)}}return this.i=n.join("&")};var aE1=10;function A$(n){return!!n.h||!!n.g&&n.g.size>=n.j}function I$(n){return n.h?1:n.g?n.g.size:0}function Fx(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ux(n,e){n.g?n.g.add(e):n.h=e}function N$(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function D$(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return cx(n.i)}function Bx(){}function oE1(){this.g=new Bx}function cE1(n,e,t){const r=t||"";try{Rx(n,function(i,s){let l=i;Gf(i)&&(l=wx(i)),e.push(r+s+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function o_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function ih(n){this.l=n.$b||null,this.j=n.ib||!1}function c_(n,e){z4.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=jx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}T$.prototype.cancel=function(){if(this.i=D$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Bx.prototype.stringify=function(n){return K2.JSON.stringify(n,void 0)},Bx.prototype.parse=function(n){return K2.JSON.parse(n,void 0)},F4(ih,Tx),ih.prototype.g=function(){return new c_(this.l,this.j)},ih.prototype.i=function(n){return function(){return n}}({}),F4(c_,z4);var jx=0;function k$(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function sh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ah(n)}function ah(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(g2=c_.prototype).open=function(n,e){if(this.readyState!=jx)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ah(this)},g2.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||K2).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},g2.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sh(this)),this.readyState=jx},g2.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ah(this)),this.g&&(this.readyState=3,ah(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==K2.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;k$(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},g2.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?sh(this):ah(this),3==this.readyState&&k$(this)}},g2.Ua=function(n){this.g&&(this.response=this.responseText=n,sh(this))},g2.Ta=function(n){this.g&&(this.response=n,sh(this))},g2.ha=function(){this.g&&sh(this)},g2.setRequestHeader=function(n,e){this.v.append(n,e)},g2.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},g2.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(c_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var uE1=K2.JSON.parse;function n4(n){z4.call(this),this.headers=new No,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=P$,this.K=this.L=!1}F4(n4,z4);var P$="",fE1=/^https?$/i,hE1=["POST","PUT"];function CE1(n){return"content-type"==n.toLowerCase()}function R$(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,O$(n),l_(n)}function O$(n){n.D||(n.D=!0,U4(n,"complete"),U4(n,"error"))}function F$(n){if(n.h&&void 0!==sx&&(!n.C[1]||4!=$8(n)||2!=n.ba()))if(n.v&&4==$8(n))xx(n.Fa,0,n);else if(U4(n,"readystatechange"),4==$8(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(w$)[1]||null;if(!i&&K2.self&&K2.self.location){var s=K2.self.location.protocol;i=s.substr(0,s.length-1)}r=!fE1.test(i?i.toLowerCase():"")}t=r}if(t)U4(n,"complete"),U4(n,"success");else{n.m=6;try{var l=2<$8(n)?n.g.statusText:""}catch(C){l=""}n.j=l+" ["+n.ba()+"]",O$(n)}}finally{l_(n)}}}function l_(n,e){if(n.g){U$(n);const t=n.g,r=n.C[0]?jy:null;n.g=null,n.C=null,e||U4(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function U$(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(K2.clearTimeout(n.A),n.A=null)}function $8(n){return n.g?n.g.readyState:0}function B$(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case P$:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function qx(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function pE1(n){let e="";return ux(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):g3(n,e,t))}function oh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function j$(n){this.za=0,this.l=[],this.h=new Qy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=oh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=oh("baseRetryDelayMs",5e3,n),this.$a=oh("retryDelaySeedMs",1e4,n),this.Ya=oh("forwardChannelMaxRetries",2,n),this.ra=oh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new T$(n&&n.concurrentRequestLimit),this.Ca=new oE1,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Gx(n){if(q$(n),3==n.G){var e=n.V++,t=W8(n.F);g3(t,"SID",n.J),g3(t,"RID",e),g3(t,"TYPE","terminate"),ch(n,t),(e=new Jf(n,n.h,e,void 0)).K=2,e.v=a_(W8(t)),t=!1,K2.navigator&&K2.navigator.sendBeacon&&(t=K2.navigator.sendBeacon(e.v.toString(),"")),!t&&K2.Image&&((new Image).src=e.v,t=!0),t||(e.g=X$(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Xf(e)}Q$(n)}function u_(n){n.g&&(Zx(n),n.g.cancel(),n.g=null)}function q$(n){u_(n),n.u&&(K2.clearTimeout(n.u),n.u=null),h_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&K2.clearTimeout(n.m),n.m=null)}function Wx(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&f_(n)}function f_(n){A$(n.i)||n.m||(n.m=!0,Vx(n.Ha,n),n.C=0)}function G$(n,e){var t;t=e?e.m:n.V++;const r=W8(n.F);g3(r,"SID",n.J),g3(r,"RID",t),g3(r,"AID",n.U),ch(n,r),n.o&&n.s&&qx(r,n.o,n.s),t=new Jf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=W$(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Ux(n.i,t),kx(t,r,e)}function ch(n,e){n.j&&Rx({},function(t,r){g3(e,r,t)})}function W$(n,e,t){t=Math.min(n.l.length,t);var r=n.j?O4(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=i[0].h,l.push("ofs="+s)):s=0:l.push("ofs="+s);let h=!0;for(let C=0;C<t;C++){let v=i[C].h;const b=i[C].g;if(v-=s,0>v)s=Math.max(0,i[C].h-100),h=!1;else try{cE1(b,l,"req"+v+"_")}catch(z){r&&r(b)}}if(h){r=l.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function $$(n){n.g||n.u||(n.Y=1,Vx(n.Ga,n),n.A=0)}function $x(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Yf(O4(n.Ga,n),Y$(n,n.A)),n.A++,0))}function Zx(n){null!=n.B&&(K2.clearTimeout(n.B),n.B=null)}function Z$(n){n.g=new Jf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=W8(n.oa);g3(e,"RID","rpc"),g3(e,"SID",n.J),g3(e,"CI",n.N?"0":"1"),g3(e,"AID",n.U),ch(n,e),g3(e,"TYPE","xmlhttp"),n.o&&n.s&&qx(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=a_(W8(e)),t.s=null,t.U=!0,M$(t,n)}function h_(n){null!=n.v&&(K2.clearTimeout(n.v),n.v=null)}function K$(n,e){var t=null;if(n.g==e){h_(n),Zx(n),n.g=null;var r=2}else{if(!Fx(n.i,e))return;t=e.D,N$(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;U4(r=Jy(),new m$(r,t,e,i)),f_(n)}else $$(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function mE1(n,e){return!(I$(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Yf(O4(n.Ha,n,e),Y$(n,n.C)),n.C++,0)))}(n,e)||2==r&&$x(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Us(n,5);break;case 4:Us(n,10);break;case 3:Us(n,6);break;default:Us(n,2)}}function Y$(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Us(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=O4(n.jb,n);t||(t=new Fs("//www.google.com/images/cleardot.gif"),K2.location&&"http"==K2.location.protocol||r_(t,"https"),a_(t)),function lE1(n,e){const t=new Qy;if(K2.Image){const r=new Image;r.onload=qy(o_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=qy(o_,t,r,"TestLoadImage: error",!1,e),r.onabort=qy(o_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=qy(o_,t,r,"TestLoadImage: timeout",!1,e),K2.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else At(2);n.G=0,n.j&&n.j.va(e),Q$(n),q$(n)}function Q$(n){n.G=0,n.I=-1,n.j&&((0!=D$(n.i).length||0!=n.l.length)&&(n.i.i.length=0,cx(n.l),n.l.length=0),n.j.ua())}function J$(n,e,t){let r=function QH1(n){return n instanceof Fs?W8(n):new Fs(n,void 0)}(t);if(""!=r.i)e&&i_(r,e+"."+r.i),s_(r,r.m);else{const i=K2.location;r=function JH1(n,e,t,r){var i=new Fs(null,void 0);return n&&r_(i,n),e&&i_(i,e),t&&s_(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&ux(n.aa,function(i,s){g3(r,s,i)}),t=n.sa,(e=n.D)&&t&&g3(r,e,t),g3(r,"VER",n.ma),ch(n,r),r}function X$(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new n4(t&&n.Ba&&!n.qa?new ih({ib:!0}):n.qa)).L=n.H,e}function eZ(){}function d_(){if(Ao&&!(10<=Number(EH1)))throw Error("Environmental error: no available transport.")}function V6(n,e){z4.call(this),this.g=new j$(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Gy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gy(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ko(this)}function tZ(n){Ax.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function nZ(){Ix.call(this),this.status=1}function ko(n){this.g=n}(g2=n4.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Nx.g(),this.C=function v$(n){return n.h||(n.h=n.i())}(this.u?this.u:Nx),this.g.onreadystatechange=O4(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void R$(this,s)}n=t||"";const i=new No(this.headers);r&&Rx(r,function(s,l){i.set(l,s)}),r=function bH1(n){e:{var e=CE1;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=K2.FormData&&n instanceof K2.FormData,!(0<=jW(hE1,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,l){this.g.setRequestHeader(l,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{U$(this),0<this.B&&((this.K=function dE1(n){return Ao&&function HH1(){return function zH1(n){var e=SH1;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=WW(String(Wy)).split("."),t=WW("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",s=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=lx(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||lx(0==i[2].length,0==s[2].length)||lx(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=O4(this.pa,this)):this.A=xx(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){R$(this,s)}},g2.pa=function(){void 0!==sx&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,U4(this,"timeout"),this.abort(8))},g2.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,U4(this,"complete"),U4(this,"abort"),l_(this))},g2.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),l_(this,!0)),n4.Z.M.call(this)},g2.Fa=function(){this.s||(this.F||this.v||this.l?F$(this):this.cb())},g2.cb=function(){F$(this)},g2.ba=function(){try{return 2<$8(this)?this.g.status:-1}catch(n){return-1}},g2.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},g2.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),uE1(e)}},g2.Da=function(){return this.m},g2.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(g2=j$.prototype).ma=8,g2.G=1,g2.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},g2.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Jf(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=KW(s),QW(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=W$(this,i,e),g3(t=W8(this.F),"RID",n),g3(t,"CVER",22),this.D&&g3(t,"X-HTTP-Session-Id",this.D),ch(this,t),this.o&&s&&qx(t,this.o,s),Ux(this.i,i),this.Ra&&g3(t,"TYPE","init"),this.ja?(g3(t,"$req",e),g3(t,"SID","null"),i.$=!0,kx(i,t,null)):kx(i,t,e),this.G=2}}else 3==this.G&&(n?G$(this,n):0==this.l.length||A$(this.i)||G$(this))},g2.Ga=function(){if(this.u=null,Z$(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Yf(O4(this.bb,this),n)}},g2.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,At(10),u_(this),Z$(this))},g2.ab=function(){null!=this.v&&(this.v=null,u_(this),$x(this),At(19))},g2.jb=function(n){n?(this.h.info("Successfully pinged google.com"),At(2)):(this.h.info("Failed to ping google.com"),At(1))},(g2=eZ.prototype).xa=function(){},g2.wa=function(){},g2.va=function(){},g2.ua=function(){},g2.Oa=function(){},d_.prototype.g=function(n,e){return new V6(n,e)},F4(V6,z4),V6.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Vx(O4(n.hb,n,e))),At(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=J$(n,null,n.W),f_(n)},V6.prototype.close=function(){Gx(this.g)},V6.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Wx(this.g,e)}else this.v?((e={}).__data__=wx(n),Wx(this.g,e)):Wx(this.g,n)},V6.prototype.M=function(){this.g.j=null,delete this.j,Gx(this.g),delete this.g,V6.Z.M.call(this)},F4(tZ,Ax),F4(nZ,Ix),F4(ko,eZ),ko.prototype.xa=function(){U4(this.g,"a")},ko.prototype.wa=function(n){U4(this.g,new tZ(n))},ko.prototype.va=function(n){U4(this.g,new nZ(n))},ko.prototype.ua=function(){U4(this.g,"b")},d_.prototype.createWebChannel=d_.prototype.g,V6.prototype.send=V6.prototype.u,V6.prototype.open=V6.prototype.m,V6.prototype.close=V6.prototype.close,Xy.NO_ERROR=0,Xy.TIMEOUT=8,Xy.HTTP_ERROR=6,g$.COMPLETE="complete",y$.EventType=Qf,Qf.OPEN="a",Qf.CLOSE="b",Qf.ERROR="c",Qf.MESSAGE="d",z4.prototype.listen=z4.prototype.N,n4.prototype.listenOnce=n4.prototype.O,n4.prototype.getLastError=n4.prototype.La,n4.prototype.getLastErrorCode=n4.prototype.Da,n4.prototype.getStatus=n4.prototype.ba,n4.prototype.getResponseJson=n4.prototype.Qa,n4.prototype.getResponseText=n4.prototype.ga,n4.prototype.send=n4.prototype.ea;var gE1=G8.createWebChannelTransport=function(){return new d_},vE1=G8.getStatEventTarget=function(){return Jy()},Kx=G8.ErrorCode=Xy,yE1=G8.EventType=g$,_E1=G8.Event=Ps,rZ=G8.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ME1=G8.FetchXmlHttpFactory=ih,C_=G8.WebChannel=y$,LE1=G8.XhrIo=n4;const iZ="@firebase/firestore";class B4{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}B4.UNAUTHENTICATED=new B4(null),B4.GOOGLE_CREDENTIALS=new B4("google-credentials-uid"),B4.FIRST_PARTY=new B4("first-party-uid"),B4.MOCK_USER=new B4("mock-user");let Po="9.8.0";const k0=new jn.Yd("@firebase/firestore");function Yx(){return k0.logLevel}function Q1(n,...e){if(k0.logLevel<=jn.in.DEBUG){const t=e.map(Qx);k0.debug(`Firestore (${Po}): ${n}`,...t)}}function r4(n,...e){if(k0.logLevel<=jn.in.ERROR){const t=e.map(Qx);k0.error(`Firestore (${Po}): ${n}`,...t)}}function lh(n,...e){if(k0.logLevel<=jn.in.WARN){const t=e.map(Qx);k0.warn(`Firestore (${Po}): ${n}`,...t)}}function Qx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function _2(n="Unexpected state"){const e=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: `+n;throw r4(e),new Error(e)}function q2(n,e){n||_2()}function u2(n,e){return n}const _1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F1 extends D.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class w4{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class sZ{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wE1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(B4.UNAUTHENTICATED))}shutdown(){}}class VE1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SE1{constructor(e){this.t=e,this.currentUser=B4.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let l=new w4;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new w4,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const v=l;e.enqueueRetryable((0,w1.Z)(function*(){yield v.promise,yield s(r.currentUser)}))},C=v=>{Q1("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>C(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?C(v):(Q1("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new w4)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q1("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q2("string"==typeof r.accessToken),new sZ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q2(null===e||"string"==typeof e),new B4(e)}}class HE1{constructor(e,t,r){this.type="FirstParty",this.user=B4.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class EE1{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new HE1(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(B4.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aZ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xE1{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&Q1("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.p;return this.p=s.token,Q1("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q1("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):Q1("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(q2("string"==typeof t.token),this.p=t.token,new aZ(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class S6{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function TE1(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}S6.A=-1;class oZ{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=TE1(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ee(n,e){return n<e?-1:n>e?1:0}function Ro(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function cZ(n){return n+"\0"}class $3{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new F1(_1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new F1(_1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new F1(_1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F1(_1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $3.fromMillis(Date.now())}static fromDate(e){return $3.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $3(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class F2{constructor(e){this.timestamp=e}static fromTimestamp(e){return new F2(e)}static min(){return new F2(new $3(0,0))}static max(){return new F2(new $3(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function lZ(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uZ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class uh{constructor(e,t,r){void 0===t?t=0:t>e.length&&_2(),void 0===r?r=e.length-t:r>e.length-t&&_2(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===uh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof uh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),l=t.get(i);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ge extends uh{construct(e,t,r){return new ge(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new F1(_1.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ge(t)}static emptyPath(){return new ge([])}}const AE1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class u4 extends uh{construct(e,t,r){return new u4(e,t,r)}static isValidIdentifier(e){return AE1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),u4.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new u4(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new F1(_1.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new F1(_1.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const C=e[i+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new F1(_1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=C,i+=2}else"`"===h?(l=!l,i++):"."!==h||l?(r+=h,i++):(s(),i++)}if(s(),l)throw new F1(_1.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new u4(t)}static emptyPath(){return new u4([])}}class Oo{constructor(e){this.fields=e,e.sort(u4.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class f4{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new f4(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new f4(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}f4.EMPTY_BYTE_STRING=new f4("");const NE1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function P0(n){if(q2(!!n),"string"==typeof n){let e=0;const t=NE1.exec(n);if(q2(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:O3(n.seconds),nanos:O3(n.nanos)}}function O3(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function js(n){return"string"==typeof n?f4.fromBase64String(n):f4.fromUint8Array(n)}function Jx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fZ(n){const e=n.mapValue.fields.__previous_value__;return Jx(e)?fZ(e):e}function fh(n){const e=P0(n.mapValue.fields.__local_write_time__.timestampValue);return new $3(e.seconds,e.nanos)}class DE1{constructor(e,t,r,i,s,l,h,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=C}}class Z8{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Z8("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Z8&&e.projectId===this.projectId&&e.database===this.database}}function hh(n){return null==n}function dh(n){return 0===n&&1/n==-1/0}function hZ(n){return"number"==typeof n&&Number.isInteger(n)&&!dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class s2{constructor(e){this.path=e}static fromPath(e){return new s2(ge.fromString(e))}static fromName(e){return new s2(ge.fromString(e).popFirst(5))}static empty(){return new s2(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new s2(new ge(e.slice()))}}const R0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},p_={nullValue:"NULL_VALUE"};function qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jx(n)?4:mZ(n)?9007199254740991:10:_2()}function q5(n,e){if(n===e)return!0;const t=qs(n);if(t!==qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fh(n).isEqual(fh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=P0(r.timestampValue),l=P0(i.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,js(n.bytesValue).isEqual(js(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return O3(r.geoPointValue.latitude)===O3(i.geoPointValue.latitude)&&O3(r.geoPointValue.longitude)===O3(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return O3(r.integerValue)===O3(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=O3(r.doubleValue),l=O3(i.doubleValue);return s===l?dh(s)===dh(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return Ro(n.arrayValue.values||[],e.arrayValue.values||[],q5);case 10:return function(r,i){const s=r.mapValue.fields||{},l=i.mapValue.fields||{};if(lZ(s)!==lZ(l))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===l[h]||!q5(s[h],l[h])))return!1;return!0}(n,e);default:return _2()}var i}function Ch(n,e){return void 0!==(n.values||[]).find(t=>q5(t,e))}function O0(n,e){if(n===e)return 0;const t=qs(n),r=qs(e);if(t!==r)return ee(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ee(n.booleanValue,e.booleanValue);case 2:return function(i,s){const l=O3(i.integerValue||i.doubleValue),h=O3(s.integerValue||s.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,e);case 3:return dZ(n.timestampValue,e.timestampValue);case 4:return dZ(fh(n),fh(e));case 5:return ee(n.stringValue,e.stringValue);case 6:return function(i,s){const l=js(i),h=js(s);return l.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const l=i.split("/"),h=s.split("/");for(let C=0;C<l.length&&C<h.length;C++){const v=ee(l[C],h[C]);if(0!==v)return v}return ee(l.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const l=ee(O3(i.latitude),O3(s.latitude));return 0!==l?l:ee(O3(i.longitude),O3(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const l=i.values||[],h=s.values||[];for(let C=0;C<l.length&&C<h.length;++C){const v=O0(l[C],h[C]);if(v)return v}return ee(l.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===R0.mapValue&&s===R0.mapValue)return 0;if(i===R0.mapValue)return 1;if(s===R0.mapValue)return-1;const l=i.fields||{},h=Object.keys(l),C=s.fields||{},v=Object.keys(C);h.sort(),v.sort();for(let b=0;b<h.length&&b<v.length;++b){const z=ee(h[b],v[b]);if(0!==z)return z;const S=O0(l[h[b]],C[v[b]]);if(0!==S)return S}return ee(h.length,v.length)}(n.mapValue,e.mapValue);default:throw _2()}}function dZ(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ee(n,e);const t=P0(n),r=P0(e),i=ee(t.seconds,r.seconds);return 0!==i?i:ee(t.nanos,r.nanos)}function Fo(n){return Xx(n)}function Xx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=P0(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?js(n.bytesValue).toBase64():"referenceValue"in n?s2.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const l of r.values||[])s?s=!1:i+=",",i+=Xx(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",l=!0;for(const h of i)l?l=!1:s+=",",s+=`${h}:${Xx(r.fields[h])}`;return s+"}"}(n.mapValue):_2();var e}function Gs(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function eT(n){return!!n&&"integerValue"in n}function ph(n){return!!n&&"arrayValue"in n}function CZ(n){return!!n&&"nullValue"in n}function pZ(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function m_(n){return!!n&&"mapValue"in n}function mh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=mh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mZ(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function kE1(n){return"nullValue"in n?p_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Gs(Z8.empty(),s2.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_2()}function PE1(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Gs(Z8.empty(),s2.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?R0:_2()}function gZ(n,e){const t=O0(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function vZ(n,e){const t=O0(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ot{constructor(e){this.value=e}static empty(){return new ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!m_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(t)}setAll(e){let t=u4.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const C=this.getFieldsMap(t);this.applyChanges(C,r,i),r={},i=[],t=h.popLast()}l?r[h.lastSegment()]=mh(l):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());m_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return q5(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];m_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Bs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ot(mh(this.value))}}function yZ(n){const e=[];return Bs(n.fields,(t,r)=>{const i=new u4([t]);if(m_(r)){const s=yZ(r.mapValue).fields;if(0===s.length)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new Oo(e)}class u3{constructor(e,t,r,i,s,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=l}static newInvalidDocument(e){return new u3(e,0,F2.min(),F2.min(),ot.empty(),0)}static newFoundDocument(e,t,r){return new u3(e,1,t,F2.min(),r,0)}static newNoDocument(e,t){return new u3(e,2,t,F2.min(),ot.empty(),0)}static newUnknownDocument(e,t){return new u3(e,3,t,F2.min(),ot.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof u3&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new u3(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class g_{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function tT(n){return n.fields.find(e=>2===e.kind)}function Ws(n){return n.fields.filter(e=>2!==e.kind)}g_.UNKNOWN_ID=-1;class v_{constructor(e,t){this.fieldPath=e,this.kind=t}}class gh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gh(0,Qn.min())}}function _Z(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=F2.fromTimestamp(1e9===r?new $3(t+1,0):new $3(t,r));return new Qn(i,s2.empty(),e)}function RE1(n){return new Qn(n.readTime,n.key,-1)}class Qn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qn(F2.min(),s2.empty(),-1)}static max(){return new Qn(F2.max(),s2.empty(),-1)}}function MZ(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=s2.comparator(n.documentKey,e.documentKey),0!==t?t:ee(n.largestBatchId,e.largestBatchId))}class Z3{constructor(e,t){this.comparator=e,this.root=t||j4.EMPTY}insert(e,t){return new Z3(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,j4.BLACK,null,null))}remove(e){return new Z3(this.comparator,this.root.remove(e,this.comparator).copy(null,null,j4.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new y_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new y_(this.root,e,this.comparator,!1)}getReverseIterator(){return new y_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new y_(this.root,e,this.comparator,!0)}}class y_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class j4{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:j4.RED,this.left=null!=i?i:j4.EMPTY,this.right=null!=s?s:j4.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new j4(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return j4.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return j4.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,j4.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,j4.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _2();const e=this.left.check();if(e!==this.right.check())throw _2();return e+(this.isRed()?0:1)}}j4.EMPTY=null,j4.RED=!0,j4.BLACK=!1,j4.EMPTY=new class{constructor(){this.size=0}get key(){throw _2()}get value(){throw _2()}get color(){throw _2()}get left(){throw _2()}get right(){throw _2()}copy(n,e,t,r,i){return this}insert(n,e,t){return new j4(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class a3{constructor(e){this.comparator=e,this.data=new Z3(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LZ(this.data.getIterator())}getIteratorFrom(e){return new LZ(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof a3)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new a3(this.comparator);return t.data=e,t}}class LZ{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Uo(n){return n.hasNext()?n.getNext():void 0}class OE1{constructor(e,t=null,r=[],i=[],s=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=h,this.P=null}}function bZ(n,e=null,t=[],r=[],i=null,s=null,l=null){return new OE1(n,e,t,r,i,s,l)}function $s(n){const e=u2(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Fo(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fo(r)).join(",")),e.P=t}return e.P}function vh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!ZE1(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!q5(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!HZ(n.startAt,e.startAt)&&HZ(n.endAt,e.endAt)}function __(n){return s2.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function M_(n,e){return n.filters.filter(t=>t instanceof q4&&t.field.isEqual(e))}function zZ(n,e,t){let r=p_,i=!0;for(const s of M_(n,e)){let l=p_,h=!0;switch(s.op){case"<":case"<=":l=kE1(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,h=!1;break;case"!=":case"not-in":l=p_}gZ({value:r,inclusive:i},{value:l,inclusive:h})<0&&(r=l,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];gZ({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function wZ(n,e,t){let r=R0,i=!0;for(const s of M_(n,e)){let l=R0,h=!0;switch(s.op){case">=":case">":l=PE1(s.value),h=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,h=!1;break;case"!=":case"not-in":l=R0}vZ({value:r,inclusive:i},{value:l,inclusive:h})>0&&(r=l,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];vZ({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class q4 extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new UE1(e,t,r):"array-contains"===t?new qE1(e,r):"in"===t?new GE1(e,r):"not-in"===t?new WE1(e,r):"array-contains-any"===t?new $E1(e,r):new q4(e,t,r)}static V(e,t,r){return"in"===t?new BE1(e,r):new jE1(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(O0(t,this.value)):null!==t&&qs(this.value)===qs(t)&&this.v(O0(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _2()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class UE1 extends q4{constructor(e,t,r){super(e,t,r),this.key=s2.fromName(r.referenceValue)}matches(e){const t=s2.comparator(e.key,this.key);return this.v(t)}}class BE1 extends q4{constructor(e,t){super(e,"in",t),this.keys=VZ(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jE1 extends q4{constructor(e,t){super(e,"not-in",t),this.keys=VZ(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function VZ(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>s2.fromName(r.referenceValue))}class qE1 extends q4{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ph(t)&&Ch(t.arrayValue,this.value)}}class GE1 extends q4{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ch(this.value.arrayValue,t)}}class WE1 extends q4{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ch(this.value.arrayValue,t)}}class $E1 extends q4{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ph(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ch(this.value.arrayValue,r))}}class F0{constructor(e,t){this.position=e,this.inclusive=t}}class Bo{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZE1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function SZ(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(r=s.field.isKeyField()?s2.comparator(s2.fromName(l.referenceValue),t.key):O0(l,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function HZ(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!q5(n.position[t],e.position[t]))return!1;return!0}class K8{constructor(e,t=null,r=[],i=[],s=null,l="F",h=null,C=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=C,this.D=null,this.C=null}}function EZ(n,e,t,r,i,s,l,h){return new K8(n,e,t,r,i,s,l,h)}function jo(n){return new K8(n)}function nT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function rT(n){for(const e of n.filters)if(e.S())return e.field;return null}function iT(n){return null!==n.collectionGroup}function qo(n){const e=u2(n);if(null===e.D){e.D=[];const t=rT(e),r=nT(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Bo(t)),e.D.push(new Bo(u4.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Bo(u4.keyField(),s))}}}return e.D}function fn(n){const e=u2(n);if(!e.C)if("F"===e.limitType)e.C=bZ(e.path,e.collectionGroup,qo(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of qo(e))t.push(new Bo(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new F0(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new F0(e.startAt.position,e.startAt.inclusive):null;e.C=bZ(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function xZ(n,e,t){return new K8(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yh(n,e){return vh(fn(n),fn(e))&&n.limitType===e.limitType}function TZ(n){return`${$s(fn(n))}|lt:${n.limitType}`}function sT(n){return`Query(target=${function FE1(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Fo(r.value)}`;var r}).join(", ")}]`),hh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Fo(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Fo(t)).join(",")),`Target(${e})`}(fn(n))}; limitType=${n.limitType})`}function aT(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):s2.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,l){const h=SZ(i,s,l);return i.inclusive?h<=0:h<0}(t.startAt,qo(t),r)||t.endAt&&!function(i,s,l){const h=SZ(i,s,l);return i.inclusive?h>=0:h>0}(t.endAt,qo(t),r)));var t,r}function AZ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IZ(n){return(e,t)=>{let r=!1;for(const i of qo(n)){const s=YE1(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function YE1(n,e,t){const r=n.field.isKeyField()?s2.comparator(e.key,t.key):function(i,s,l){const h=s.data.field(i),C=l.data.field(i);return null!==h&&null!==C?O0(h,C):_2()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _2()}}function NZ(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function DZ(n){return{integerValue:""+n}}function kZ(n,e){return hZ(e)?DZ(e):NZ(n,e)}class L_{constructor(){this._=void 0}}function QE1(n,e,t){return n instanceof Go?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Zs?RZ(n,e):n instanceof Ks?OZ(n,e):function(r,i){const s=PZ(r,i),l=FZ(s)+FZ(r.k);return eT(s)&&eT(r.k)?DZ(l):NZ(r.M,l)}(n,e)}function JE1(n,e,t){return n instanceof Zs?RZ(n,e):n instanceof Ks?OZ(n,e):t}function PZ(n,e){return n instanceof Wo?eT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Go extends L_{}class Zs extends L_{constructor(e){super(),this.elements=e}}function RZ(n,e){const t=UZ(e);for(const r of n.elements)t.some(i=>q5(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ks extends L_{constructor(e){super(),this.elements=e}}function OZ(n,e){let t=UZ(e);for(const r of n.elements)t=t.filter(i=>!q5(i,r));return{arrayValue:{values:t}}}class Wo extends L_{constructor(e,t){super(),this.M=e,this.k=t}}function FZ(n){return O3(n.integerValue||n.doubleValue)}function UZ(n){return ph(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _h{constructor(e,t){this.field=e,this.transform=t}}class ex1{constructor(e,t){this.version=e,this.transformResults=t}}class i4{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new i4}static exists(e){return new i4(void 0,e)}static updateTime(e){return new i4(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class z_{}function tx1(n,e,t){n instanceof Mh?function(r,i,s){const l=r.value.clone(),h=GZ(r.fieldTransforms,i,s.transformResults);l.setAll(h),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Ys?function(r,i,s){if(!b_(r.precondition,i))return void i.convertToUnknownDocument(s.version);const l=GZ(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(qZ(r)),h.setAll(l),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function oT(n,e,t){var i;n instanceof Mh?function(r,i,s){if(!b_(r.precondition,i))return;const l=r.value.clone(),h=WZ(r.fieldTransforms,s,i);l.setAll(h),i.convertToFoundDocument(jZ(i),l).setHasLocalMutations()}(n,e,t):n instanceof Ys?function(r,i,s){if(!b_(r.precondition,i))return;const l=WZ(r.fieldTransforms,s,i),h=i.data;h.setAll(qZ(r)),h.setAll(l),i.convertToFoundDocument(jZ(i),h).setHasLocalMutations()}(n,e,t):b_(n.precondition,i=e)&&i.convertToNoDocument(F2.min())}function nx1(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=PZ(r.transform,i||null);null!=s&&(null==t&&(t=ot.empty()),t.set(r.field,s))}return t||null}function BZ(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ro(t,r,(i,s)=>function XE1(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Zs&&r instanceof Zs||t instanceof Ks&&r instanceof Ks?Ro(t.elements,r.elements,q5):t instanceof Wo&&r instanceof Wo?q5(t.k,r.k):t instanceof Go&&r instanceof Go);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function jZ(n){return n.isFoundDocument()?n.version:F2.min()}class Mh extends z_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ys extends z_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function qZ(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function GZ(n,e,t){const r=new Map;q2(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,h=e.data.field(s.field);r.set(s.field,JE1(l,h,t[i]))}return r}function WZ(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,QE1(s,l,e))}return r}class Lh extends z_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class cT extends z_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class rx1{constructor(e){this.count=e}}var s4,ve;function $Z(n){switch(n){default:return _2();case _1.CANCELLED:case _1.UNKNOWN:case _1.DEADLINE_EXCEEDED:case _1.RESOURCE_EXHAUSTED:case _1.INTERNAL:case _1.UNAVAILABLE:case _1.UNAUTHENTICATED:return!1;case _1.INVALID_ARGUMENT:case _1.NOT_FOUND:case _1.ALREADY_EXISTS:case _1.PERMISSION_DENIED:case _1.FAILED_PRECONDITION:case _1.ABORTED:case _1.OUT_OF_RANGE:case _1.UNIMPLEMENTED:case _1.DATA_LOSS:return!0}}function ZZ(n){if(void 0===n)return r4("GRPC error has no .code"),_1.UNKNOWN;switch(n){case s4.OK:return _1.OK;case s4.CANCELLED:return _1.CANCELLED;case s4.UNKNOWN:return _1.UNKNOWN;case s4.DEADLINE_EXCEEDED:return _1.DEADLINE_EXCEEDED;case s4.RESOURCE_EXHAUSTED:return _1.RESOURCE_EXHAUSTED;case s4.INTERNAL:return _1.INTERNAL;case s4.UNAVAILABLE:return _1.UNAVAILABLE;case s4.UNAUTHENTICATED:return _1.UNAUTHENTICATED;case s4.INVALID_ARGUMENT:return _1.INVALID_ARGUMENT;case s4.NOT_FOUND:return _1.NOT_FOUND;case s4.ALREADY_EXISTS:return _1.ALREADY_EXISTS;case s4.PERMISSION_DENIED:return _1.PERMISSION_DENIED;case s4.FAILED_PRECONDITION:return _1.FAILED_PRECONDITION;case s4.ABORTED:return _1.ABORTED;case s4.OUT_OF_RANGE:return _1.OUT_OF_RANGE;case s4.UNIMPLEMENTED:return _1.UNIMPLEMENTED;case s4.DATA_LOSS:return _1.DATA_LOSS;default:return _2()}}(ve=s4||(s4={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";class U0{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return uZ(this.inner)}size(){return this.innerSize}}const ix1=new Z3(s2.comparator);function hn(){return ix1}const sx1=new Z3(s2.comparator);function lT(...n){let e=sx1;for(const t of n)e=e.insert(t.key,t);return e}function bh(){return new U0(n=>n.toString(),(n,e)=>n.isEqual(e))}const ax1=new Z3(s2.comparator),ox1=new a3(s2.comparator);function Pe(...n){let e=ox1;for(const t of n)e=e.add(t);return e}const cx1=new a3(ee);function w_(){return cx1}class zh{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,t)),new zh(F2.min(),r,w_(),hn(),Pe())}}class wh{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new wh(f4.EMPTY_BYTE_STRING,t,Pe(),Pe(),Pe())}}class V_{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class KZ{constructor(e,t){this.targetId=e,this.$=t}}class YZ{constructor(e,t,r=f4.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class QZ{constructor(){this.B=0,this.L=XZ(),this.U=f4.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Pe(),t=Pe(),r=Pe();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_2()}}),new wh(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=XZ()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class lx1{constructor(e){this.nt=e,this.st=new Map,this.it=hn(),this.rt=JZ(),this.ot=new a3(ee)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:_2()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const s=i.target;if(__(s))if(0===r){const l=new s2(s.path);this.ct(t,l,u3.newNoDocument(l,F2.min()))}else q2(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,l)=>{const h=this.wt(l);if(h){if(s.current&&__(h.target)){const C=new s2(h.target.path);null!==this.it.get(C)||this.It(l,C)||this.ct(l,C,u3.newNoDocument(C,e))}s.j&&(t.set(l,s.H()),s.J())}});let r=Pe();this.rt.forEach((s,l)=>{let h=!0;l.forEachWhile(C=>{const v=this.wt(C);return!v||2===v.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.it.forEach((s,l)=>l.setReadTime(e));const i=new zh(e,t,this.ot,this.it,r);return this.it=hn(),this.rt=JZ(),this.ot=new a3(ee),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new QZ,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new a3(ee),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Q1("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new QZ),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function JZ(){return new Z3(s2.comparator)}function XZ(){return new Z3(s2.comparator)}const ux1={asc:"ASCENDING",desc:"DESCENDING"},fx1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class hx1{constructor(e,t){this.databaseId=e,this.N=t}}function Vh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eK(n,e){return n.N?e.toBase64():e.toUint8Array()}function dx1(n,e){return Vh(n,e.toTimestamp())}function V4(n){return q2(!!n),F2.fromTimestamp(function(e){const t=P0(e);return new $3(t.seconds,t.nanos)}(n))}function uT(n,e){return(t=n,new ge(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function tK(n){const e=ge.fromString(n);return q2(uK(e)),e}function Sh(n,e){return uT(n.databaseId,e.path)}function G5(n,e){const t=tK(e);if(t.get(1)!==n.databaseId.projectId)throw new F1(_1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new F1(_1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new s2(rK(t))}function fT(n,e){return uT(n.databaseId,e)}function nK(n){const e=tK(n);return 4===e.length?ge.emptyPath():rK(e)}function Hh(n){return new ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rK(n){return q2(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iK(n,e,t){return{name:Sh(n,e),fields:t.value.mapValue.fields}}function sK(n,e,t){const r=G5(n,e.name),i=V4(e.updateTime),s=new ot({mapValue:{fields:e.fields}}),l=u3.newFoundDocument(r,i,s);return t&&l.setHasCommittedMutations(),t?l.setHasCommittedMutations():l}function Eh(n,e){let t;if(e instanceof Mh)t={update:iK(n,e.key,e.value)};else if(e instanceof Lh)t={delete:Sh(n,e.key)};else if(e instanceof Ys)t={update:iK(n,e.key,e.data),updateMask:Lx1(e.fieldMask)};else{if(!(e instanceof cT))return _2();t={verify:Sh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const l=s.transform;if(l instanceof Go)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Zs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ks)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Wo)return{fieldPath:s.field.canonicalString(),increment:l.k};throw _2()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:dx1(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_2()),t;var i}function hT(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?i4.updateTime(V4(i.updateTime)):void 0!==i.exists?i4.exists(i.exists):i4.none():i4.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,l){let h=null;"setToServerValue"in l?(q2("REQUEST_TIME"===l.setToServerValue),h=new Go):"appendMissingElements"in l?h=new Zs(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new Ks(l.removeAllFromArray.values||[]):"increment"in l?h=new Wo(s,l.increment):_2();const C=u4.fromServerFormat(l.fieldPath);return new _h(C,h)}(n,i)):[];var i;if(e.update){const i=G5(n,e.update.name),s=new ot({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Oo((e.updateMask.fieldPaths||[]).map(v=>u4.fromServerFormat(v)));return new Ys(i,s,l,t,r)}return new Mh(i,s,t,r)}if(e.delete){const i=G5(n,e.delete);return new Lh(i,t)}if(e.verify){const i=G5(n,e.verify);return new cT(i,t)}return _2()}function aK(n,e){return{documents:[fT(n,e.path)]}}function oK(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=fT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=fT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(C){if(0===C.length)return;const v=C.map(b=>function(z){if("=="===z.op){if(pZ(z.value))return{unaryFilter:{field:$o(z.field),op:"IS_NAN"}};if(CZ(z.value))return{unaryFilter:{field:$o(z.field),op:"IS_NULL"}}}else if("!="===z.op){if(pZ(z.value))return{unaryFilter:{field:$o(z.field),op:"IS_NOT_NAN"}};if(CZ(z.value))return{unaryFilter:{field:$o(z.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(z.field),op:yx1(z.op),value:z.value}}}(b));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(C){if(0!==C.length)return C.map(v=>{return{field:$o((b=v).field),direction:vx1(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=(v=e.limit,n.N||hh(v)?v:{value:v});var v,h,C;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(C=e.endAt).inclusive,values:C.position}),t}function cK(n){let e=nK(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){q2(1===r);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=lK(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(b=>{return new Bo(Zo((z=b).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction));var z}));let h=null;t.limit&&(h=function(b){let z;return z="object"==typeof b?b.value:b,hh(z)?null:z}(t.limit));let C=null;var b;t.startAt&&(C=new F0((b=t.startAt).values||[],!!b.before));let v=null;return t.endAt&&(v=function(b){return new F0(b.values||[],!b.before)}(t.endAt)),EZ(e,i,l,s,h,"F",C,v)}function lK(n){return n?void 0!==n.unaryFilter?[Mx1(n)]:void 0!==n.fieldFilter?[_x1(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>lK(e)).reduce((e,t)=>e.concat(t)):_2():[]}function vx1(n){return ux1[n]}function yx1(n){return fx1[n]}function $o(n){return{fieldPath:n.canonicalString()}}function Zo(n){return u4.fromServerFormat(n.fieldPath)}function _x1(n){return q4.create(Zo(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _2()}}(n.fieldFilter.op),n.fieldFilter.value)}function Mx1(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Zo(n.unaryFilter.field);return q4.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Zo(n.unaryFilter.field);return q4.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Zo(n.unaryFilter.field);return q4.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Zo(n.unaryFilter.field);return q4.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _2()}}function Lx1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uK(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function It(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fK(e)),e=bx1(n.get(t),e);return fK(e)}function bx1(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function fK(n){return n+"\x01\x01"}function W5(n){const e=n.length;if(q2(e>=2),2===e)return q2("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ge.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&_2(),n.charAt(l+1)){case"\x01":const h=n.substring(s,l);let C;0===i.length?C=h:(i+=h,C=i,i=""),r.push(C);break;case"\x10":i+=n.substring(s,l),i+="\0";break;case"\x11":i+=n.substring(s,l+1);break;default:_2()}s=l+2}return new ge(r)}const hK=["userId","batchId"];function S_(n,e){return[n,It(e)]}function dK(n,e,t){return[n,It(e),t]}const zx1={},wx1=["prefixPath","collectionGroup","readTime","documentId"],Vx1=["prefixPath","collectionGroup","documentId"],Sx1=["collectionGroup","readTime","prefixPath","documentId"],Hx1=["canonicalId","targetId"],Ex1=["targetId","path"],xx1=["path","targetId"],Tx1=["collectionId","parent"],Ax1=["indexId","uid"],Ix1=["uid","sequenceNumber"],Nx1=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dx1=["indexId","uid","orderedDocumentKey"],kx1=["userId","collectionPath","documentId"],Px1=["userId","collectionPath","largestBatchId"],Rx1=["userId","collectionGroup","largestBatchId"],CK=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ox1=[...CK,"documentOverlays"],pK=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fx1=[...pK,"indexConfiguration","indexState","indexEntries"],mK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class L1{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_2(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L1((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L1?t:L1.resolve(t)}catch(t){return L1.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L1.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L1.reject(t)}static resolve(e){return new L1((t,r)=>{t(e)})}static reject(e){return new L1((t,r)=>{r(e)})}static waitFor(e){return new L1((t,r)=>{let i=0,s=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++s,l&&s===i&&t()},C=>r(C))}),l=!0,s===i&&t()})}static or(e){let t=L1.resolve(!1);for(const r of e)t=t.next(i=>i?L1.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}class H_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new w4,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new xh(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=dT(r.target.error);this.At.reject(new xh(e,i))}}static open(e,t,r,i){try{return new H_(t,e.transaction(i,r))}catch(s){throw new xh(t,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Q1("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Bx1(t)}}class Jn{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Jn.Vt((0,D.z$)())&&r4("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q1("SimpleDb","Removing database:",e),Js(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,D.hl)())return!1;if(Jn.St())return!0;const e=(0,D.z$)(),t=Jn.Vt(e),r=0<t&&t<10,i=Jn.Dt(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,w1.Z)(function*(){return t.db||(Q1("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{r(l.target.result)},s.onblocked=()=>{i(new xh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const h=l.target.error;i("VersionError"===h.name?new F1(_1.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new F1(_1.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new xh(e,h))},s.onupgradeneeded=l=>{Q1("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.Pt.kt(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{Q1("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,w1.Z)(function*(){const l="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.Nt(e);const C=H_.open(s.db,e,l?"readonly":"readwrite",r),v=i(C).next(b=>(C.bt(),b)).catch(b=>(C.abort(b),L1.reject(b))).toPromise();return v.catch(()=>{}),yield C.Rt,v}catch(C){const v="FirebaseError"!==C.name&&h<3;if(Q1("SimpleDb","Transaction failed with error:",C.message,"Retrying:",v),s.close(),!v)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ux1{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Js(this.Ft.delete())}}class xh extends F1{constructor(e,t){super(_1.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Qs(n){return"IndexedDbTransactionError"===n.name}class Bx1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Q1("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Q1("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Js(r)}add(e){return Q1("SimpleDb","ADD",this.store.name,e,e),Js(this.store.add(e))}get(e){return Js(this.store.get(e)).next(t=>(void 0===t&&(t=null),Q1("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Q1("SimpleDb","DELETE",this.store.name,e),Js(this.store.delete(e))}count(){return Q1("SimpleDb","COUNT",this.store.name),Js(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.Kt(i,(l,h)=>{s.push(h)}).next(()=>s)}{const i=this.store.getAll(r.range);return new L1((s,l)=>{i.onerror=h=>{l(h.target.error)},i.onsuccess=h=>{s(h.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new L1((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}Qt(e,t){Q1("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(s,l,h)=>h.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new L1((r,i)=>{t.onerror=s=>{const l=dT(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(h=>{h?l.continue():r()}):r()}})}Kt(e,t){const r=[];return new L1((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const h=l.target.result;if(!h)return void i();const C=new Ux1(h),v=t(h.primaryKey,h.value,C);if(v instanceof L1){const b=v.catch(z=>(C.done(),L1.reject(z)));r.push(b)}C.isDone?i():null===C.Lt?h.continue():h.continue(C.Lt)}}).next(()=>L1.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Js(n){return new L1((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=dT(r.target.error);t(i)}})}let vK=!1;function dT(n){const e=Jn.Vt((0,D.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new F1("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vK||(vK=!0,setTimeout(()=>{throw r},0)),r}}return n}class yK extends gK{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function S4(n,e){const t=u2(n);return Jn.xt(t.Ht,e)}class CT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tx1(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&oT(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&oT(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(F2.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(t,r)=>BZ(t,r))&&Ro(this.baseMutations,e.baseMutations,(t,r)=>BZ(t,r))}}class pT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){q2(e.mutations.length===r.length);let i=ax1;const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new pT(e,t,r,i)}}class mT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class B0{constructor(e,t,r,i,s=F2.min(),l=F2.min(),h=f4.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h}withSequenceNumber(e){return new B0(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new B0(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new B0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class _K{constructor(e){this.Jt=e}}function MK(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:E_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Sh(i=n.Jt,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Vh(i,s.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Xs(e.version)};else{if(!e.isUnknownDocument())return _2();r.unknownDocument={path:t.path.toArray(),version:Xs(e.version)}}var i,s;return r}function E_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xs(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ea(n){const e=new $3(n.seconds,n.nanoseconds);return F2.fromTimestamp(e)}function Ko(n,e){const t=(e.baseMutations||[]).map(s=>hT(n.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(l.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(s=>hT(n.Jt,s)),i=$3.fromMillis(e.localWriteTimeMs);return new CT(e.batchId,i,t,r)}function Th(n){const e=ea(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ea(n.lastLimboFreeSnapshotVersion):F2.min();let r;var i;return void 0!==n.query.documents?(q2(1===(i=n.query).documents.length),r=fn(jo(nK(i.documents[0])))):r=fn(cK(n.query)),new B0(r,n.targetId,0,n.lastListenSequenceNumber,e,t,f4.fromBase64String(n.resumeToken))}function LK(n,e){const t=Xs(e.snapshotVersion),r=Xs(e.lastLimboFreeSnapshotVersion);let i;i=__(e.target)?aK(n.Jt,e.target):oK(n.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$s(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function gT(n){const e=cK({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?xZ(e,e.limit,"L"):e}function vT(n,e){return new mT(e.largestBatchId,hT(n.Jt,e.overlayMutation))}function bK(n,e){const t=e.path.lastSegment();return[n,It(e.path.popLast()),t]}class qx1{getBundleMetadata(e,t){return zK(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ea(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return zK(e).put({bundleId:(r=t).id,createTime:Xs(V4(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return wK(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:gT(i.bundledQuery),readTime:ea(i.readTime)};var i})}saveNamedQuery(e,t){return wK(e).put({name:(r=t).name,readTime:Xs(V4(r.readTime)),bundledQuery:r.bundledQuery});var r}}function zK(n){return S4(n,"bundles")}function wK(n){return S4(n,"namedQueries")}class yT{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new yT(e,t.uid||"")}getOverlay(e,t){return Ah(e).get(bK(this.userId,t)).next(r=>r?vT(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((s,l)=>{const h=new mT(t,l);i.push(this.Xt(e,h))}),L1.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(It(l.getCollectionPath())));const s=[];return i.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(Ah(e).Qt("collectionPathOverlayIndex",h))}),L1.waitFor(s)}getOverlaysForCollection(e,t,r){const i=bh(),s=It(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ah(e).qt("collectionPathOverlayIndex",l).next(h=>{for(const C of h){const v=vT(this.M,C);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=bh();let l;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ah(e).Wt({index:"collectionGroupOverlayIndex",range:h},(C,v,b)=>{const z=vT(this.M,v);s.size()<i||z.largestBatchId===l?(s.set(z.getKey(),z),l=z.largestBatchId):b.done()}).next(()=>s)}Xt(e,t){return Ah(e).put(function(r,i,s){const[l,h,C]=bK(i,s.mutation.key);return{userId:i,collectionPath:h,documentId:C,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Eh(r.Jt,s.mutation)}}(this.M,this.userId,t))}}function Ah(n){return S4(n,"documentOverlays")}class ta{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(O3(e.integerValue));else if("doubleValue"in e){const r=O3(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),dh(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(js(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?mZ(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):_2()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),s2.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Gx1(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function VK(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=Gx1(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}ta.fe=new ta;class Wx1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=VK(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=VK(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class $x1{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Zx1{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Ih{constructor(){this.De=new Wx1,this.Ce=new $x1(this.De),this.xe=new Zx1(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class na{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new na(this.indexId,this.documentKey,this.arrayValue,r)}}function ra(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=SK(n.arrayValue,e.arrayValue),0!==t?t:(t=SK(n.directionalValue,e.directionalValue),0!==t?t:s2.comparator(n.documentKey,e.documentKey)))}function SK(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Kx1{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=tT(e);if(void 0!==t&&!this.Be(t))return!1;const r=Ws(e);let i=0,s=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const l=r[i];if(!this.Le(this.Fe,l)||!this.Ue(this.Me[s++],l))return!1;++i}for(;i<r.length;++i){const l=r[i];if(s>=this.Me.length||!this.Ue(this.Me[s++],l))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Yx1{constructor(){this.qe=new _T}addToCollectionParentIndex(e,t){return this.qe.add(t),L1.resolve()}getCollectionParents(e,t){return L1.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return L1.resolve()}deleteFieldIndex(e,t){return L1.resolve()}getDocumentsMatchingTarget(e,t){return L1.resolve(null)}getIndexType(e,t){return L1.resolve(0)}getFieldIndexes(e,t){return L1.resolve([])}getNextCollectionGroupToUpdate(e){return L1.resolve(null)}getMinOffset(e,t){return L1.resolve(Qn.min())}updateCollectionGroup(e,t,r){return L1.resolve()}updateIndexEntries(e,t){return L1.resolve()}}class _T{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new a3(ge.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new a3(ge.comparator)).toArray()}}const x_=new Uint8Array(0);class Qx1{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new _T,this.Ge=new U0(r=>$s(r),(r,i)=>vh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const s={collectionId:r,parent:It(i)};return HK(e).put(s)}return L1.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[cZ(t),""],!1,!0);return HK(e).qt(i).next(s=>{for(const l of s){if(l.collectionId!==t)break;r.push(W5(l.parent))}return r})}addFieldIndex(e,t){const r=T_(e),i={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var s;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=T_(e),i=A_(e),s=Nh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Nh(e);let i=!0;const s=new Map;return L1.forEach(this.Qe(t),l=>this.je(e,l).next(h=>{i&&(i=!!h),s.set(l,h)})).next(()=>{if(i){let l=Pe();const h=[];return L1.forEach(s,(C,v)=>{var b;Q1("IndexedDbIndexManager",`Using index ${b=C,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map($1=>`${$1.fieldPath}:${$1.kind}`).join(",")}`} to execute ${$s(t)}`);const z=function($1,J1){const v2=tT(J1);if(void 0===v2)return null;for(const x2 of M_($1,v2.fieldPath))switch(x2.op){case"array-contains-any":return x2.value.arrayValue.values||[];case"array-contains":return[x2.value]}return null}(v,C),S=function($1,J1){const v2=new Map;for(const x2 of Ws(J1))for(const te of M_($1,x2.fieldPath))switch(te.op){case"==":case"in":v2.set(x2.fieldPath.canonicalString(),te.value);break;case"not-in":case"!=":return v2.set(x2.fieldPath.canonicalString(),te.value),Array.from(v2.values())}return null}(v,C),x=function($1,J1){const v2=[];let x2=!0;for(const te of Ws(J1)){const Je=0===te.kind?zZ($1,te.fieldPath,$1.startAt):wZ($1,te.fieldPath,$1.startAt);v2.push(Je.value),x2&&(x2=Je.inclusive)}return new F0(v2,x2)}(v,C),I=function($1,J1){const v2=[];let x2=!0;for(const te of Ws(J1)){const Je=0===te.kind?wZ($1,te.fieldPath,$1.endAt):zZ($1,te.fieldPath,$1.endAt);v2.push(Je.value),x2&&(x2=Je.inclusive)}return new F0(v2,x2)}(v,C),K=this.We(C,v,x),o1=this.We(C,v,I),R1=this.ze(C,v,S),U1=this.He(C.indexId,z,K,x.inclusive,o1,I.inclusive,R1);return L1.forEach(U1,$1=>r.Gt($1,t.limit).next(J1=>{J1.forEach(v2=>{const x2=s2.fromSegments(v2.documentKey);l.has(x2)||(l=l.add(x2),h.push(x2))})}))}).next(()=>h)}return L1.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,s,l,h){const C=(null!=t?t.length:1)*Math.max(r.length,s.length),v=C/(null!=t?t.length:1),b=[];for(let z=0;z<C;++z){const S=t?this.Je(t[z/v]):x_,x=this.Ye(e,S,r[z%v],i),I=this.Xe(e,S,s[z%v],l),K=h.map(o1=>this.Ye(e,S,o1,!0));b.push(...this.createRange(x,I,K))}return b}Ye(e,t,r,i){const s=new na(e,s2.empty(),t,r);return i?s:s.ke()}Xe(e,t,r,i){const s=new na(e,s2.empty(),t,r);return i?s.ke():s}je(e,t){const r=new Kx1(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let l=null;for(const h of s)r.$e(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(e,t){let r=2;return L1.forEach(this.Qe(t),i=>this.je(e,i).next(s=>{s?0!==r&&s.fields.length<function(l){let h=new a3(u4.comparator),C=!1;for(const v of l.filters){const b=v;b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?C=!0:h=h.add(b.field))}for(const v of l.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(C?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new Ih;for(const i of Ws(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const l=r.Ne(i.kind);ta.fe.Zt(s,l)}return r.Se()}Je(e){const t=new Ih;return ta.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Ih;return ta.fe.Zt(Gs(this.databaseId,t),r.Ne(function(i){const s=Ws(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new Ih);let s=0;for(const l of Ws(e)){const h=r[s++];for(const C of i)if(this.en(t,l.fieldPath)&&ph(h))i=this.nn(i,l,h);else{const v=C.Ne(l.kind);ta.fe.Zt(h,v)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const h of i){const C=new Ih;C.seed(h.Se()),ta.fe.Zt(l,C.Ne(t.kind)),s.push(C)}return s}en(e,t){return!!e.filters.find(r=>r instanceof q4&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=T_(e),i=A_(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(s=>{const l=[];return L1.forEach(s,h=>i.get([h.indexId,this.uid]).next(C=>{l.push(function(v,b){const z=b?new gh(b.sequenceNumber,new Qn(ea(b.readTime),new s2(W5(b.documentKey)),b.largestBatchId)):gh.empty(),S=v.fields.map(([x,I])=>new v_(u4.fromServerFormat(x),I));return new g_(v.indexId,v.collectionGroup,S,z)}(h,C))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:ee(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=T_(e),s=A_(e);return this.rn(e).next(l=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>L1.forEach(h,C=>{return s.put({indexId:C.indexId,uid:this.user.uid||"",sequenceNumber:l,readTime:Xs((S=r).readTime),documentKey:It(S.documentKey.path),largestBatchId:S.largestBatchId});var S})))}updateIndexEntries(e,t){const r=new Map;return L1.forEach(t,(i,s)=>{const l=r.get(i.collectionGroup);return(l?L1.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),L1.forEach(h,C=>this.on(e,i,C).next(v=>{const b=this.un(s,C);return v.isEqual(b)?L1.resolve():this.an(e,s,C,v,b)}))))})}cn(e,t,r,i){return Nh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Nh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Nh(e);let s=new a3(ra);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(l,h)=>{s=s.add(new na(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}un(e,t){let r=new a3(ra);const i=this.Ze(t,e);if(null==i)return r;const s=tT(t);if(null!=s){const l=e.data.field(s.fieldPath);if(ph(l))for(const h of l.arrayValue.values||[])r=r.add(new na(t.indexId,e.key,this.Je(h),i))}else r=r.add(new na(t.indexId,e.key,x_,i));return r}an(e,t,r,i,s){Q1("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,C,v,b,z){const S=h.getIterator(),x=C.getIterator();let I=Uo(S),K=Uo(x);for(;I||K;){let o1=!1,R1=!1;if(I&&K){const U1=v(I,K);U1<0?R1=!0:U1>0&&(o1=!0)}else null!=I?R1=!0:o1=!0;o1?(b(K),K=Uo(x)):R1?(z(I),I=Uo(S)):(I=Uo(S),K=Uo(x))}}(i,s,ra,h=>{l.push(this.cn(e,t,r,h))},h=>{l.push(this.hn(e,t,r,h))}),L1.waitFor(l)}rn(e){let t=1;return A_(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,h)=>ra(l,h)).filter((l,h,C)=>!h||0!==ra(l,C[h-1]));const i=[];i.push(e);for(const l of r){const h=ra(l,e),C=ra(l,t);if(0===h)i[0]=e.ke();else if(h>0&&C<0)i.push(l),i.push(l.ke());else if(C>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2)s.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,x_,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,x_,[]]));return s}getMinOffset(e,t){let r;return L1.forEach(this.Qe(t),i=>this.je(e,i).next(s=>{s?(!r||MZ(s.indexState.offset,r)<0)&&(r=s.indexState.offset):r=Qn.min()})).next(()=>r)}}function HK(n){return S4(n,"collectionParents")}function Nh(n){return S4(n,"indexEntries")}function T_(n){return S4(n,"indexConfiguration")}function A_(n){return S4(n,"indexState")}const EK={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xK(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let h=0;const C=r.Wt({range:l},(b,z,S)=>(h++,S.delete()));s.push(C.next(()=>{q2(1===h)}));const v=[];for(const b of t.mutations){const z=dK(e,b.key.path,t.batchId);s.push(i.delete(z)),v.push(b.key)}return L1.waitFor(s).next(()=>v)}function I_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _2();e=n.noDocument}return JSON.stringify(e).length}Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);class MT{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){q2(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new MT(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return j0(e).Wt({index:"userMutationsIndex",range:r},(i,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Yo(e),l=j0(e);return l.add({}).next(h=>{q2("number"==typeof h);const C=new CT(h,t,r,i),v=function(S,x,I){const K=I.baseMutations.map(R1=>Eh(S.Jt,R1)),o1=I.mutations.map(R1=>Eh(S.Jt,R1));return{userId:x,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:K,mutations:o1}}(this.M,this.userId,C),b=[];let z=new a3((S,x)=>ee(S.canonicalString(),x.canonicalString()));for(const S of i){const x=dK(this.userId,S.key.path,h);z=z.add(S.key.path.popLast()),b.push(l.put(v)),b.push(s.put(x,zx1))}return z.forEach(S=>{b.push(this.indexManager.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(()=>{this.ln[h]=C.keys()}),L1.waitFor(b).next(()=>C)})}lookupMutationBatch(e,t){return j0(e).get(t).next(r=>r?(q2(r.userId===this.userId),Ko(this.M,r)):null)}fn(e,t){return this.ln[t]?L1.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return j0(e).Wt({index:"userMutationsIndex",range:i},(l,h,C)=>{h.userId===this.userId&&(q2(h.batchId>=r),s=Ko(this.M,h)),C.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return j0(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,s,l)=>{r=s.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return j0(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Ko(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=S_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Yo(e).Wt({range:i},(l,h,C)=>{const[v,b,z]=l,S=W5(b);if(v===this.userId&&t.path.isEqual(S))return j0(e).get(z).next(x=>{if(!x)throw _2();q2(x.userId===this.userId),s.push(Ko(this.M,x))});C.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new a3(ee);const i=[];return t.forEach(s=>{const l=S_(this.userId,s.path),h=IDBKeyRange.lowerBound(l),C=Yo(e).Wt({range:h},(v,b,z)=>{const[S,x,I]=v,K=W5(x);S===this.userId&&s.path.isEqual(K)?r=r.add(I):z.done()});i.push(C)}),L1.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=S_(this.userId,r),l=IDBKeyRange.lowerBound(s);let h=new a3(ee);return Yo(e).Wt({range:l},(C,v,b)=>{const[z,S,x]=C,I=W5(S);z===this.userId&&r.isPrefixOf(I)?I.length===i&&(h=h.add(x)):b.done()}).next(()=>this.dn(e,h))}dn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(j0(e).get(s).next(l=>{if(null===l)throw _2();q2(l.userId===this.userId),r.push(Ko(this.M,l))}))}),L1.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return xK(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),L1.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return L1.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Yo(e).Wt({range:r},(s,l,h)=>{if(s[0]===this.userId){const C=W5(s[1]);i.push(C)}else h.done()}).next(()=>{q2(0===i.length)})})}containsKey(e,t){return TK(e,this.userId,t)}wn(e){return AK(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function TK(n,e,t){const r=S_(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Yo(n).Wt({range:s,jt:!0},(h,C,v)=>{const[b,z,S]=h;b===e&&z===i&&(l=!0),v.done()}).next(()=>l)}function j0(n){return S4(n,"mutations")}function Yo(n){return S4(n,"documentMutations")}function AK(n){return S4(n,"mutationQueues")}class ia{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new ia(0)}static yn(){return new ia(-1)}}class Jx1{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new ia(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>F2.fromTimestamp(new $3(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qo(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(q2(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Qo(e).Wt((l,h)=>{const C=Th(h);C.sequenceNumber<=t&&null===r.get(C.targetId)&&(i++,s.push(this.removeTargetData(e,C)))}).next(()=>L1.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Qo(e).Wt((r,i)=>{const s=Th(i);t(s)})}pn(e){return IK(e).get("targetGlobalKey").next(t=>(q2(null!==t),t))}In(e,t){return IK(e).put("targetGlobalKey",t)}Tn(e,t){return Qo(e).put(LK(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=$s(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Qo(e).Wt({range:i,index:"queryTargetsIndex"},(l,h,C)=>{const v=Th(h);vh(t,v.target)&&(s=v,C.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=q0(e);return t.forEach(l=>{const h=It(l.path);i.push(s.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,l))}),L1.waitFor(i)}removeMatchingKeys(e,t,r){const i=q0(e);return L1.forEach(t,s=>{const l=It(s.path);return L1.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=q0(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=q0(e);let s=Pe();return i.Wt({range:r,jt:!0},(l,h,C)=>{const v=W5(l[1]),b=new s2(v);s=s.add(b)}).next(()=>s)}containsKey(e,t){const r=It(t.path),i=IDBKeyRange.bound([r],[cZ(r)],!1,!0);let s=0;return q0(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([l,h],C,v)=>{0!==l&&(s++,v.done())}).next(()=>s>0)}Et(e,t){return Qo(e).get(t).next(r=>r?Th(r):null)}}function Qo(n){return S4(n,"targets")}function IK(n){return S4(n,"targetGlobal")}function q0(n){return S4(n,"targetDocuments")}function sa(n){return LT.apply(this,arguments)}function LT(){return LT=(0,w1.Z)(function*(n){if(n.code!==_1.FAILED_PRECONDITION||n.message!==mK)throw n;Q1("LocalStore","Unexpectedly lost primary lease")}),LT.apply(this,arguments)}function NK([n,e],[t,r]){const i=ee(n,t);return 0===i?ee(e,r):i}class Xx1{constructor(e){this.An=e,this.buffer=new a3(NK),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();NK(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eT1{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Q1("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,w1.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Qs(i)?Q1("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield sa(i)}yield t.Sn(e)}))}}class tT1{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return L1.resolve(S6.A);const r=new Xx1(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Q1("LruGarbageCollector","Garbage collection skipped; disabled"),L1.resolve(EK)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q1("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EK):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,s,l,h,C,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(z=>(z>this.params.maximumSequenceNumbersToCollect?(Q1("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${z}`),i=this.params.maximumSequenceNumbersToCollect):i=z,l=Date.now(),this.nthSequenceNumber(e,i))).next(z=>(r=z,h=Date.now(),this.removeTargets(e,r,t))).next(z=>(s=z,C=Date.now(),this.removeOrphanedDocuments(e,r))).next(z=>(v=Date.now(),Yx()<=jn.in.DEBUG&&Q1("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${i} in `+(h-l)+`ms\n\tRemoved ${s} targets in `+(C-h)+`ms\n\tRemoved ${z} documents in `+(v-C)+`ms\nTotal Duration: ${v-b}ms`),L1.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:z})))}}class nT1{constructor(e,t){this.db=e,this.garbageCollector=new tT1(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return N_(e,r)}removeReference(e,t,r){return N_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return N_(e,t)}On(e,t){return function(r,i){let s=!1;return AK(r).zt(l=>TK(r,l,i).next(h=>(h&&(s=!0),L1.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Mn(e,(l,h)=>{if(h<=t){const C=this.On(e,l).next(v=>{if(!v)return s++,r.getEntry(e,l).next(()=>(r.removeEntry(l,F2.min()),q0(e).delete([0,It(l.path)])))});i.push(C)}}).next(()=>L1.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return N_(e,t)}Mn(e,t){const r=q0(e);let i,s=S6.A;return r.Wt({index:"documentTargetsIndex"},([l,h],{path:C,sequenceNumber:v})=>{0===l?(s!==S6.A&&t(new s2(W5(i)),s),s=v,i=C):s=S6.A}).next(()=>{s!==S6.A&&t(new s2(W5(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function N_(n,e){return q0(n).put((r=n.currentSequenceNumber,{targetId:0,path:It(e.path),sequenceNumber:r}));var r}class DK{constructor(){this.changes=new U0(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,u3.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?L1.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rT1{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return aa(e).put(r)}removeEntry(e,t,r){return aa(e).delete(function(i,s){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],E_(s),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=u3.newInvalidDocument(t);return aa(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(t))},(i,s)=>{r=this.$n(t,s)}).next(()=>r)}Bn(e,t){let r={size:0,document:u3.newInvalidDocument(t)};return aa(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(t))},(i,s)=>{r={document:this.$n(t,s),size:I_(s)}}).next(()=>r)}getEntries(e,t){let r=hn();return this.Ln(e,t,(i,s)=>{const l=this.$n(i,s);r=r.insert(i,l)}).next(()=>r)}Un(e,t){let r=hn(),i=new Z3(s2.comparator);return this.Ln(e,t,(s,l)=>{const h=this.$n(s,l);r=r.insert(s,h),i=i.insert(s,I_(l))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return L1.resolve();let i=new a3(RK);t.forEach(C=>i=i.add(C));const s=IDBKeyRange.bound(Dh(i.first()),Dh(i.last())),l=i.getIterator();let h=l.getNext();return aa(e).Wt({index:"documentKeyIndex",range:s},(C,v,b)=>{const z=s2.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&RK(h,z)<0;)r(h,null),h=l.getNext();h&&h.isEqual(z)&&(r(h,v),h=l.hasNext()?l.getNext():null),h?b.Ut(Dh(h)):b.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),E_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return aa(e).qt(IDBKeyRange.bound(i,s,!0)).next(l=>{let h=hn();for(const C of l){const v=this.$n(s2.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(e,t,r,i){let s=hn();const l=PK(t,r),h=PK(t,Qn.max());return aa(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(C,v,b)=>{const z=this.$n(s2.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(z.key,z),s.size===i&&b.done()}).next(()=>s)}newChangeBuffer(e){return new iT1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return kK(e).get("remoteDocumentGlobalKey").next(t=>(q2(!!t),t))}Fn(e,t){return kK(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function jx1(n,e){let t;if(e.document)t=sK(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=s2.fromSegments(e.noDocument.path),i=ea(e.noDocument.readTime);t=u3.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _2();{const r=s2.fromSegments(e.unknownDocument.path),i=ea(e.unknownDocument.version);t=u3.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new $3(r[0],r[1]);return F2.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(F2.min()))return r}return u3.newInvalidDocument(e)}}class iT1 extends DK{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new U0(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new a3((s,l)=>ee(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const h=this.Gn.get(s);if(t.push(this.Kn.removeEntry(e,s,h.readTime)),l.isValidDocument()){const C=MK(this.Kn.M,l);i=i.add(s.path.popLast()),r+=I_(C)-h.size,t.push(this.Kn.addEntry(e,s,C))}else if(r-=h.size,this.trackRemovals){const C=MK(this.Kn.M,l.convertToNoDocument(F2.min()));t.push(this.Kn.addEntry(e,s,C))}}),i.forEach(s=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Kn.updateMetadata(e,r)),L1.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((s,l)=>{this.Gn.set(s,{size:l,readTime:r.get(s).readTime})}),r))}}function kK(n){return S4(n,"remoteDocumentGlobal")}function aa(n){return S4(n,"remoteDocumentsV14")}function Dh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function PK(n,e){const t=e.documentKey.path.toArray();return[n,E_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function RK(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=ee(t[s],r[s]),i)return i;return i=ee(t.length,r.length),i||(i=ee(t[t.length-2],r[r.length-2]),i||ee(t[t.length-1],r[r.length-1]))}class sT1{constructor(e){this.M=e}kt(e,t,r,i){const s=new H_("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hK,{unique:!0}),h.createObjectStore("documentMutations"),OK(e),function(h){h.createObjectStore("remoteDocuments")}(e));let l=L1.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),OK(e)),l=l.next(()=>function(h){const C=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:F2.min().toTimestamp(),targetCount:0};return C.put("targetGlobalKey",v)}(s))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(h,C){return C.store("mutations").qt().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hK,{unique:!0});const b=C.store("mutations"),z=v.map(S=>b.put(S));return L1.waitFor(z)})}(e,s))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Qn(s))),r<6&&i>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.jn(s)))),r<7&&i>=7&&(l=l.next(()=>this.Wn(s))),r<8&&i>=8&&(l=l.next(()=>this.zn(e,s))),r<9&&i>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.Hn(s))),r<11&&i>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(h){const C=h.createObjectStore("documentOverlays",{keyPath:kx1});C.createIndex("collectionPathOverlayIndex",Px1,{unique:!1}),C.createIndex("collectionGroupOverlayIndex",Rx1,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(h){const C=h.createObjectStore("remoteDocumentsV14",{keyPath:wx1});C.createIndex("documentKeyIndex",Vx1),C.createIndex("collectionGroupIndex",Sx1)}(e)).next(()=>this.Jn(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Ax1}).createIndex("sequenceNumberIndex",Ix1,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Nx1}).createIndex("documentKeyIndex",Dx1,{unique:!1})}(e)})),l}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=I_(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>L1.forEach(i,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",l).next(h=>L1.forEach(h,C=>{q2(C.userId===s.userId);const v=Ko(this.M,C);return xK(e,s.userId,v).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Wt((l,h)=>{const C=new ge(l),v=[0,It(C)];s.push(t.get(v).next(b=>b?L1.resolve():t.put({targetId:0,path:It(C),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>L1.waitFor(s))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Tx1});const r=t.store("collectionParents"),i=new _T,s=l=>{if(i.add(l)){const h=l.lastSegment(),C=l.popLast();return r.put({collectionId:h,parent:It(C)})}};return t.store("remoteDocuments").Wt({jt:!0},(l,h)=>{const C=new ge(l);return s(C.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([l,h,C],v)=>{const b=W5(h);return s(b.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const s=Th(i),l=LK(this.M,s);return t.put(l)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((s,l)=>{const h=t.store("remoteDocumentsV14"),C=(v=l,v.document?new s2(ge.fromString(v.document.name).popFirst(5)):v.noDocument?s2.fromSegments(v.noDocument.path):v.unknownDocument?s2.fromSegments(v.unknownDocument.path):_2()).path.toArray();var v;const b={prefixPath:C.slice(0,C.length-2),collectionGroup:C[C.length-2],documentId:C[C.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(h.put(b))}).next(()=>L1.waitFor(i))}}function OK(n){n.createObjectStore("targetDocuments",{keyPath:Ex1}).createIndex("documentTargetsIndex",xx1,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Hx1,{unique:!0}),n.createObjectStore("targetGlobal")}const bT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zT{constructor(e,t,r,i,s,l,h,C,v,b,z=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=s,this.window=l,this.document=h,this.Xn=v,this.Zn=b,this.ts=z,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=S=>Promise.resolve(),!zT.vt())throw new F1(_1.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nT1(this,i),this.hs=t+"main",this.M=new _K(C),this.ls=new Jn(this.hs,this.ts,new sT1(this.M)),this.fs=new Jx1(this.referenceDelegate,this.M),this.ds=new rT1(this.M),this._s=new qx1,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===b&&r4("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new F1(_1.FAILED_PRECONDITION,bT);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new S6(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,w1.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,w1.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,w1.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>D_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Qs(e))return Q1("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Q1("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return kh(e).get("owner").next(t=>L1.resolve(this.Ps(t)))}Vs(e){return D_(e).delete(this.clientId)}vs(){var e=this;return(0,w1.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=S4(r,"clientMetadata");return i.qt().next(s=>{const l=e.Ds(s,18e5),h=s.filter(C=>-1===l.indexOf(C));return L1.forEach(h,C=>i.delete(C.clientId)).next(()=>h)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?L1.resolve(!0):kh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new F1(_1.FAILED_PRECONDITION,bT);return!1}}return!(!this.networkEnabled||!this.inForeground)||D_(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const l=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||l&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Q1("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,w1.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new yK(t,S6.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>D_(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return MT.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Qx1(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return yT.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Q1("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=14===(l=this.ts)?Fx1:13===l?pK:12===l?Ox1:11===l?CK:void _2();var l;let h;return this.ls.runTransaction(e,i,s,C=>(h=new yK(C,this.es?this.es.next():S6.A),"readwrite-primary"===t?this.Es(h).next(v=>!!v||this.As(h)).next(v=>{if(!v)throw r4(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new F1(_1.FAILED_PRECONDITION,mK);return r(h)}).next(v=>this.bs(h).next(()=>v)):this.$s(h).next(()=>r(h)))).then(C=>(h.raiseOnCommittedEvent(),C))}$s(e){return kh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new F1(_1.FAILED_PRECONDITION,bT)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kh(e).put("owner",t)}static vt(){return Jn.vt()}Rs(e){const t=kh(e);return t.get("owner").next(r=>this.Ps(r)?(Q1("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):L1.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(r4(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,D.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Q1("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return r4("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){r4("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kh(n){return S4(n,"owner")}function D_(n){return S4(n,"clientMetadata")}function wT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class aT1{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return s2.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):iT(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new s2(t)).next(r=>{let i=lT();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let s=lT();return this.indexManager.getCollectionParents(e,i).next(l=>L1.forEach(l,h=>{const C=(v=t,b=h.child(i),new K8(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,b;return this.zs(e,C,r).next(v=>{v.forEach((b,z)=>{s=s.insert(b,z)})})}).next(()=>s))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const l of s)for(const h of l.mutations){const C=h.key;let v=i.get(C);null==v&&(v=u3.newInvalidDocument(C),i=i.insert(C,v)),oT(h,v,l.localWriteTime),v.isFoundDocument()||(i=i.remove(C))}}).next(()=>(i.forEach((s,l)=>{aT(t,l)||(i=i.remove(s))}),i))}}class VT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Pe(),i=Pe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new VT(e,t.fromCache,r,i)}}class FK{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(s=>s||this.ei(e,t,i,r)).next(s=>s||this.ni(e,t))}ti(e,t){return L1.resolve(null)}ei(e,t,r,i){return function KE1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(F2.min())?this.ni(e,t):this.Zs.Ks(e,r).next(s=>{const l=this.si(t,s);return this.ii(t,l,r,i)?this.ni(e,t):(Yx()<=jn.in.DEBUG&&Q1("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sT(t)),this.ri(e,l,t,_Z(i,-1)))})}si(e,t){let r=new a3(IZ(e));return t.forEach((i,s)=>{aT(e,s)&&(r=r.add(s))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,t){return Yx()<=jn.in.DEBUG&&Q1("QueryEngine","Using full collection scan to execute query:",sT(t)),this.Zs.Qs(e,t,Qn.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class oT1{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new Z3(ee),this.ai=new U0(s=>$s(s),vh),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new aT1(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function UK(n,e,t,r){return new oT1(n,e,t,r)}function BK(n,e){return ST.apply(this,arguments)}function ST(){return ST=(0,w1.Z)(function*(n,e){const t=u2(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(s=>(i=s,t.li(e),t.Bs.getAllMutationBatches(r))).next(s=>{const l=[],h=[];let C=Pe();for(const v of i){l.push(v.batchId);for(const b of v.mutations)C=C.add(b.key)}for(const v of s){h.push(v.batchId);for(const b of v.mutations)C=C.add(b.key)}return t.fi.Ks(r,C).next(v=>({di:v,removedBatchIds:l,addedBatchIds:h}))})})}),ST.apply(this,arguments)}function cT1(n,e){const t=u2(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.hi.newChangeBuffer({trackRemovals:!0});return function(l,h,C,v){const b=C.batch,z=b.keys();let S=L1.resolve();return z.forEach(x=>{S=S.next(()=>v.getEntry(h,x)).next(I=>{const K=C.docVersions.get(x);q2(null!==K),I.version.compareTo(K)<0&&(b.applyToRemoteDocument(I,C),I.isValidDocument()&&(I.setReadTime(C.commitVersion),v.addEntry(I)))})}),S.next(()=>l.Bs.removeMutationBatch(h,b))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function jK(n){const e=u2(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function lT1(n,e){const t=u2(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const h=[];e.targetChanges.forEach((v,b)=>{const z=i.get(b);if(!z)return;h.push(t.fs.removeMatchingKeys(s,v.removedDocuments,b).next(()=>t.fs.addMatchingKeys(s,v.addedDocuments,b)));let S=z.withSequenceNumber(s.currentSequenceNumber);var x,I,K;e.targetMismatches.has(b)?S=S.withResumeToken(f4.EMPTY_BYTE_STRING,F2.min()).withLastLimboFreeSnapshotVersion(F2.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,r)),i=i.insert(b,S),I=S,K=v,(0===(x=z).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0)&&h.push(t.fs.updateTargetData(s,S))});let C=hn();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,v))}),h.push(qK(s,l,e.documentUpdates).next(v=>{C=v})),!r.isEqual(F2.min())){const v=t.fs.getLastRemoteSnapshotVersion(s).next(b=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(v)}return L1.waitFor(h).next(()=>l.apply(s)).next(()=>t.fi.Gs(s,C)).next(()=>C)}).then(s=>(t.ui=i,s))}function qK(n,e,t){let r=Pe();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let s=hn();return t.forEach((l,h)=>{const C=i.get(l);h.isNoDocument()&&h.version.isEqual(F2.min())?(e.removeEntry(l,h.readTime),s=s.insert(l,h)):!C.isValidDocument()||h.version.compareTo(C.version)>0||0===h.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(h),s=s.insert(l,h)):Q1("LocalStore","Ignoring outdated watch update for ",l,". Current version:",C.version," Watch version:",h.version)}),s})}function uT1(n,e){const t=u2(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Jo(n,e){const t=u2(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(s=>s?(i=s,L1.resolve(i)):t.fs.allocateTargetId(r).next(l=>(i=new B0(e,l,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Xo(n,e,t){return HT.apply(this,arguments)}function HT(){return HT=(0,w1.Z)(function*(n,e,t){const r=u2(n),i=r.ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Qs(l))throw l;Q1("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),HT.apply(this,arguments)}function k_(n,e,t){const r=u2(n);let i=F2.min(),s=Pe();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,C,v){const b=u2(h),z=b.ai.get(v);return void 0!==z?L1.resolve(b.ui.get(z)):b.fs.getTargetData(C,v)}(r,l,fn(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(l,h.targetId).next(C=>{s=C})}).next(()=>r.oi.Qs(l,e,t?i:F2.min(),t?s:Pe())).next(h=>($K(r,AZ(e),h),{documents:h,_i:s})))}function GK(n,e){const t=u2(n),r=u2(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.Et(s,e).next(l=>l?l.target:null))}function WK(n,e){const t=u2(n),r=t.ci.get(e)||F2.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,_Z(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>($K(t,e,i),i))}function $K(n,e,t){let r=F2.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ci.set(e,r)}function ET(){return ET=(0,w1.Z)(function*(n,e,t,r){const i=u2(n);let s=Pe(),l=hn();for(const v of t){const b=e.wi(v.metadata.name);v.document&&(s=s.add(b));const z=e.mi(v);z.setReadTime(e.gi(v.metadata.readTime)),l=l.insert(b,z)}const h=i.hi.newChangeBuffer({trackRemovals:!0}),C=yield Jo(i,(v=r,fn(jo(ge.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>qK(v,h,l).next(b=>(h.apply(v),b)).next(b=>i.fs.removeMatchingKeysForTargetId(v,C.targetId).next(()=>i.fs.addMatchingKeys(v,s,C.targetId)).next(()=>i.fi.Gs(v,b)).next(()=>b)))}),ET.apply(this,arguments)}function hT1(n,e){return xT.apply(this,arguments)}function xT(){return xT=(0,w1.Z)(function*(n,e,t=Pe()){const r=yield Jo(n,fn(gT(e.bundledQuery))),i=u2(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const l=V4(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i._s.saveNamedQuery(s,e);const h=r.withResumeToken(f4.EMPTY_BYTE_STRING,l);return i.ui=i.ui.insert(h.targetId,h),i.fs.updateTargetData(s,h).next(()=>i.fs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.fs.addMatchingKeys(s,t,r.targetId)).next(()=>i._s.saveNamedQuery(s,e))})}),xT.apply(this,arguments)}class dT1{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return L1.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:V4(r.createTime)}),L1.resolve()}getNamedQuery(e,t){return L1.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:gT(r.bundledQuery),readTime:V4(r.readTime)}),L1.resolve();var r}}class CT1{constructor(){this.overlays=new Z3(s2.comparator),this.Ii=new Map}getOverlay(e,t){return L1.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Xt(e,t,s)}),L1.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),L1.resolve()}getOverlaysForCollection(e,t,r){const i=bh(),s=t.length+1,l=new s2(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const C=h.getNext().value,v=C.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&C.largestBatchId>r&&i.set(C.getKey(),C)}return L1.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Z3((v,b)=>v-b);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let b=s.get(v.largestBatchId);null===b&&(b=bh(),s=s.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const h=bh(),C=s.getIterator();for(;C.hasNext()&&(C.getNext().value.forEach((v,b)=>h.set(v,b)),!(h.size()>=i)););return L1.resolve(h)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const l=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new mT(t,r));let s=this.Ii.get(t);void 0===s&&(s=Pe(),this.Ii.set(t,s)),this.Ii.set(t,s.add(r.key))}}class TT{constructor(){this.Ti=new a3(H4.Ei),this.Ai=new a3(H4.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new H4(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new H4(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new s2(new ge([])),r=new H4(t,e),i=new H4(t,e+1),s=[];return this.Ai.forEachInRange([r,i],l=>{this.Pi(l),s.push(l.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new s2(new ge([])),r=new H4(t,e),i=new H4(t,e+1);let s=Pe();return this.Ai.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new H4(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class H4{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return s2.comparator(e.key,t.key)||ee(e.Ci,t.Ci)}static Ri(e,t){return ee(e.Ci,t.Ci)||s2.comparator(e.key,t.key)}}class pT1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new a3(H4.Ei)}checkEmpty(e){return L1.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const s=this.xi;this.xi++;const l=new CT(s,t,r,i);this.Bs.push(l);for(const h of i)this.Ni=this.Ni.add(new H4(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return L1.resolve(l)}lookupMutationBatch(e,t){return L1.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),s=i<0?0:i;return L1.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return L1.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return L1.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new H4(t,0),i=new H4(t,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],l=>{const h=this.ki(l.Ci);s.push(h)}),L1.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new a3(ee);return t.forEach(i=>{const s=new H4(i,0),l=new H4(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,l],h=>{r=r.add(h.Ci)})}),L1.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;s2.isDocumentKey(s)||(s=s.child(""));const l=new H4(new s2(s),0);let h=new a3(ee);return this.Ni.forEachWhile(C=>{const v=C.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(h=h.add(C.Ci)),!0)},l),L1.resolve(this.Oi(h))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){q2(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return L1.forEach(t.mutations,i=>{const s=new H4(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new H4(t,0),i=this.Ni.firstAfterOrEqual(r);return L1.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return L1.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class mT1{constructor(e){this.$i=e,this.docs=new Z3(s2.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return L1.resolve(r?r.document.mutableCopy():u3.newInvalidDocument(t))}getEntries(e,t){let r=hn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():u3.newInvalidDocument(i))}),L1.resolve(r)}getAllFromCollection(e,t,r){let i=hn();const s=new s2(t.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:h,value:{document:C}}=l.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||MZ(RE1(C),r)<=0||(i=i.insert(C.key,C.mutableCopy()))}return L1.resolve(i)}getAllFromCollectionGroup(e,t,r,i){_2()}Bi(e,t){return L1.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gT1(this)}getSize(e){return L1.resolve(this.size)}}class gT1 extends DK{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),L1.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class vT1{constructor(e){this.persistence=e,this.Li=new U0(t=>$s(t),vh),this.lastRemoteSnapshotVersion=F2.min(),this.highestTargetId=0,this.Ui=0,this.qi=new TT,this.targetCount=0,this.Ki=ia.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),L1.resolve()}getLastRemoteSnapshotVersion(e){return L1.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L1.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),L1.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),L1.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new ia(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,L1.resolve()}updateTargetData(e,t){return this.Tn(t),L1.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,L1.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Li.forEach((l,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Li.delete(l),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),L1.waitFor(s).next(()=>i)}getTargetCount(e){return L1.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return L1.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),L1.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),L1.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),L1.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return L1.resolve(r)}containsKey(e,t){return L1.resolve(this.qi.containsKey(t))}}class yT1{constructor(e,t){this.Gi={},this.overlays={},this.es=new S6(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new vT1(this),this.indexManager=new Yx1,this.ds=new mT1(r=>this.referenceDelegate.Qi(r)),this.M=new _K(t),this._s=new dT1(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CT1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new pT1(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Q1("MemoryPersistence","Starting transaction:",e);const i=new _T1(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,t){return L1.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class _T1 extends gK{constructor(e){super(),this.currentSequenceNumber=e}}class AT{constructor(e){this.persistence=e,this.Hi=new TT,this.Ji=null}static Yi(e){return new AT(e)}get Xi(){if(this.Ji)return this.Ji;throw _2()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),L1.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),L1.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),L1.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L1.forEach(this.Xi,r=>{const i=s2.fromPath(r);return this.Zi(e,i).next(s=>{s||t.removeEntry(i,F2.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return L1.or([()=>L1.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function ZK(n,e){return`firestore_clients_${n}_${e}`}function KK(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function IT(n,e){return`firestore_targets_${n}_${e}`}class P_{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let s,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(s=new F1(i.error.code,i.error.message))),l?new P_(e,t,i.state,s):(r4("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ph{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new F1(r.error.code,r.error.message))),s?new Ph(e,r.state,i):(r4("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class R_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=w_();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=hZ(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new R_(e,s):(r4("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class NT{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new NT(t.clientId,t.onlineState):(r4("SharedClientState",`Failed to parse online state: ${e}`),null)}}class DT{constructor(){this.activeTargetIds=w_()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kT{constructor(e,t,r,i,s){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Z3(ee),this.started=!1,this.cr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.hr=ZK(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new DT),this.dr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,w1.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const s=e.getItem(ZK(e.persistenceKey,i));if(s){const l=R_.tr(i,s);l&&(e.ar=e.ar.insert(l.clientId,l))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(IT(this.persistenceKey,e));if(r){const i=Ph.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(IT(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Q1("SharedClientState","READ",e,t),t}setItem(e,t){Q1("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Q1("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Q1("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void r4("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,w1.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(s){let l=S6.A;if(null!=s)try{const h=JSON.parse(s);q2("number"==typeof h),l=h}catch(h){r4("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(r.newValue);i!==S6.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Fr(s)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new P_(this.currentUser,e,t,r),s=KK(this.persistenceKey,this.currentUser,e);this.setItem(s,i.er())}Ar(e){const t=KK(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=IT(this.persistenceKey,e),s=new Ph(e,t,r);this.setItem(i,s.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return R_.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return P_.tr(new B4(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return Ph.tr(i,t)}pr(e){return NT.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,w1.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Q1("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),s=this.Tr(r),l=[],h=[];return s.forEach(C=>{i.has(C)||l.push(C)}),i.forEach(C=>{s.has(C)||h.push(C)}),this.syncEngine.Lr(l,h).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=w_();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class YK{constructor(){this.Ur=new DT,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new DT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MT1{Kr(e){}shutdown(){}}class QK{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Q1("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Q1("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const LT1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class bT1{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class zT1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,s){const l=this.ho(e,t);Q1("RestConnection","Sending: ",l,r);const h={};return this.lo(h,i,s),this.fo(e,l,h,r).then(C=>(Q1("RestConnection","Received: ",C),C),C=>{throw lh("RestConnection",`${e} failed with error: `,C,"url: ",l,"request:",r),C})}_o(e,t,r,i,s){return this.co(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Po,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.uo}/v1/${t}:${LT1[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,l)=>{const h=new LE1;h.listenOnce(yE1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Kx.NO_ERROR:const v=h.getResponseJson();Q1("Connection","XHR received:",JSON.stringify(v)),s(v);break;case Kx.TIMEOUT:Q1("Connection",'RPC "'+e+'" timed out'),l(new F1(_1.DEADLINE_EXCEEDED,"Request time out"));break;case Kx.HTTP_ERROR:const b=h.getStatus();if(Q1("Connection",'RPC "'+e+'" failed with status:',b,"response text:",h.getResponseText()),b>0){const z=h.getResponseJson().error;if(z&&z.status&&z.message){const S=function(x){const I=x.toLowerCase().replace(/_/g,"-");return Object.values(_1).indexOf(I)>=0?I:_1.UNKNOWN}(z.status);l(new F1(S,z.message))}else l(new F1(_1.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new F1(_1.UNAVAILABLE,"Connection failed."));break;default:_2()}}finally{Q1("Connection",'RPC "'+e+'" completed.')}});const C=JSON.stringify(i);h.send(t,"POST",C,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gE1(),l=vE1(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new ME1({})),this.lo(h.initMessageHeaders,t,r),(0,D.uI)()||(0,D.b$)()||(0,D.d)()||(0,D.w1)()||(0,D.Mn)()||(0,D.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const C=i.join("");Q1("Connection","Creating WebChannel: "+C,h);const v=s.createWebChannel(C,h);let b=!1,z=!1;const S=new bT1({Jr:I=>{z?Q1("Connection","Not sending because WebChannel is closed:",I):(b||(Q1("Connection","Opening WebChannel transport."),v.open(),b=!0),Q1("Connection","WebChannel sending:",I),v.send(I))},Yr:()=>v.close()}),x=(I,K,o1)=>{I.listen(K,R1=>{try{o1(R1)}catch(U1){setTimeout(()=>{throw U1},0)}})};return x(v,C_.EventType.OPEN,()=>{z||Q1("Connection","WebChannel transport opened.")}),x(v,C_.EventType.CLOSE,()=>{z||(z=!0,Q1("Connection","WebChannel transport closed"),S.ro())}),x(v,C_.EventType.ERROR,I=>{z||(z=!0,lh("Connection","WebChannel transport errored:",I),S.ro(new F1(_1.UNAVAILABLE,"The operation could not be completed")))}),x(v,C_.EventType.MESSAGE,I=>{var K;if(!z){const o1=I.data[0];q2(!!o1);const R1=o1,U1=R1.error||(null===(K=R1[0])||void 0===K?void 0:K.error);if(U1){Q1("Connection","WebChannel received error:",U1);const $1=U1.status;let J1=function(x2){const te=s4[x2];if(void 0!==te)return ZZ(te)}($1),v2=U1.message;void 0===J1&&(J1=_1.INTERNAL,v2="Unknown error status: "+$1+" with message "+U1.message),z=!0,S.ro(new F1(J1,v2)),v.close()}else Q1("Connection","WebChannel received:",o1),S.oo(o1)}}),x(l,_E1.STAT_EVENT,I=>{I.stat===rZ.PROXY?Q1("Connection","Detected buffering proxy"):I.stat===rZ.NOPROXY&&Q1("Connection","Detected no buffering proxy")}),setTimeout(()=>{S.io()},0),S}}function JK(){return"undefined"!=typeof window?window:null}function O_(){return"undefined"!=typeof document?document:null}function Rh(n){return new hx1(n,!0)}class PT{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Q1("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class XK{constructor(e,t,r,i,s,l,h,C){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=C,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new PT(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,w1.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,w1.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,w1.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===_1.RESOURCE_EXHAUSTED?(r4(t.toString()),r4("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===_1.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new F1(_1.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,w1.Z)(function*(){e.state=0,e.start()}))}jo(e){return Q1("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Q1("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wT1 extends XK{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.M=s}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function px1(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(C=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:_2(),i=e.targetChange.targetIds||[],s=function(C,v){return C.N?(q2(void 0===v||"string"==typeof v),f4.fromBase64String(v||"")):(q2(void 0===v||v instanceof Uint8Array),f4.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(C){const v=void 0===C.code?_1.UNKNOWN:ZZ(C.code);return new F1(v,C.message||"")}(l);t=new YZ(r,i,s,h||null)}else if("documentChange"in e){const r=e.documentChange,i=G5(n,r.document.name),s=V4(r.document.updateTime),l=new ot({mapValue:{fields:r.document.fields}}),h=u3.newFoundDocument(i,s,l);t=new V_(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,i=G5(n,r.document),s=r.readTime?V4(r.readTime):F2.min(),l=u3.newNoDocument(i,s);t=new V_([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=G5(n,r.document);t=new V_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return _2();{const r=e.filter,s=new rx1(r.count||0);t=new KZ(r.targetId,s)}}var C;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return F2.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?F2.min():s.readTime?V4(s.readTime):F2.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Hh(this.M),t.addTarget=function(i,s){let l;const h=s.target;return l=__(h)?{documents:aK(i,h)}:{query:oK(i,h)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?l.resumeToken=eK(i,s.resumeToken):s.snapshotVersion.compareTo(F2.min())>0&&(l.readTime=Vh(i,s.snapshotVersion.toTimestamp())),l}(this.M,e);const r=function gx1(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _2()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Hh(this.M),t.removeTarget=e,this.Lo(t)}}class VT1 extends XK{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(q2(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function mx1(n,e){return n&&n.length>0?(q2(void 0!==e),n.map(t=>function(r,i){let s=V4(r.updateTime?r.updateTime:i);return s.isEqual(F2.min())&&(s=V4(i)),new ex1(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=V4(e.commitTime);return this.listener.tu(r,t)}return q2(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Hh(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Eh(this.M,r))};this.Lo(t)}}class ST1 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new F1(_1.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F1(_1.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F1(_1.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class HT1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(r4(t),this.uu=!1):Q1("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class ET1{constructor(e,t,r,i,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(h=>{r.enqueueAndForget((0,w1.Z)(function*(){var C;G0(l)&&(Q1("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,w1.Z)(function*(v){const b=u2(v);b.wu.add(4),yield e9(b),b.yu.set("Unknown"),b.wu.delete(4),yield Oh(b)}),function(v){return C.apply(this,arguments)})(l))}))}),this.yu=new HT1(r,i)}}function Oh(n){return RT.apply(this,arguments)}function RT(){return RT=(0,w1.Z)(function*(n){if(G0(n))for(const e of n.mu)yield e(!0)}),RT.apply(this,arguments)}function e9(n){return OT.apply(this,arguments)}function OT(){return OT=(0,w1.Z)(function*(n){for(const e of n.mu)yield e(!1)}),OT.apply(this,arguments)}function F_(n,e){const t=u2(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),BT(t)?UT(t):n9(t).Mo()&&FT(t,e))}function Fh(n,e){const t=u2(n),r=n9(t);t._u.delete(e),r.Mo()&&eY(t,e),0===t._u.size&&(r.Mo()?r.$o():G0(t)&&t.yu.set("Unknown"))}function FT(n,e){n.pu.Z(e.targetId),n9(n).Ho(e)}function eY(n,e){n.pu.Z(e),n9(n).Jo(e)}function UT(n){n.pu=new lx1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),n9(n).start(),n.yu.au()}function BT(n){return G0(n)&&!n9(n).ko()&&n._u.size>0}function G0(n){return 0===u2(n).wu.size}function tY(n){n.pu=void 0}function xT1(n){return jT.apply(this,arguments)}function jT(){return jT=(0,w1.Z)(function*(n){n._u.forEach((e,t)=>{FT(n,e)})}),jT.apply(this,arguments)}function TT1(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,w1.Z)(function*(n,e){tY(n),BT(n)?(n.yu.lu(e),UT(n)):n.yu.set("Unknown")}),qT.apply(this,arguments)}function AT1(n,e,t){return GT.apply(this,arguments)}function GT(){return GT=(0,w1.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof YZ&&2===e.state&&e.cause)try{yield(r=(0,w1.Z)(function*(i,s){const l=s.cause;for(const h of s.targetIds)i._u.has(h)&&(yield i.remoteSyncer.rejectListen(h,l),i._u.delete(h),i.pu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Q1("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield U_(n,r)}else if(e instanceof V_?n.pu.ut(e):e instanceof KZ?n.pu._t(e):n.pu.ht(e),!t.isEqual(F2.min()))try{const r=yield jK(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const l=i.pu.yt(s);return l.targetChanges.forEach((h,C)=>{if(h.resumeToken.approximateByteSize()>0){const v=i._u.get(C);v&&i._u.set(C,v.withResumeToken(h.resumeToken,s))}}),l.targetMismatches.forEach(h=>{const C=i._u.get(h);if(!C)return;i._u.set(h,C.withResumeToken(f4.EMPTY_BYTE_STRING,C.snapshotVersion)),eY(i,h);const v=new B0(C.target,h,1,C.sequenceNumber);FT(i,v)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Q1("RemoteStore","Failed to raise snapshot:",r),yield U_(n,r)}var r}),GT.apply(this,arguments)}function U_(n,e,t){return WT.apply(this,arguments)}function WT(){return WT=(0,w1.Z)(function*(n,e,t){if(!Qs(e))throw e;n.wu.add(1),yield e9(n),n.yu.set("Offline"),t||(t=()=>jK(n.localStore)),n.asyncQueue.enqueueRetryable((0,w1.Z)(function*(){Q1("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Oh(n)}))}),WT.apply(this,arguments)}function nY(n,e){return e().catch(t=>U_(n,t,e))}function t9(n){return $T.apply(this,arguments)}function $T(){return $T=(0,w1.Z)(function*(n){const e=u2(n),t=W0(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;IT1(e);)try{const i=yield uT1(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,NT1(e,i)}catch(i){yield U_(e,i)}rY(e)&&iY(e)}),$T.apply(this,arguments)}function IT1(n){return G0(n)&&n.du.length<10}function NT1(n,e){n.du.push(e);const t=W0(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function rY(n){return G0(n)&&!W0(n).ko()&&n.du.length>0}function iY(n){W0(n).start()}function DT1(n){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,w1.Z)(function*(n){W0(n).nu()}),ZT.apply(this,arguments)}function kT1(n){return KT.apply(this,arguments)}function KT(){return KT=(0,w1.Z)(function*(n){const e=W0(n);for(const t of n.du)e.Zo(t.mutations)}),KT.apply(this,arguments)}function PT1(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=(0,w1.Z)(function*(n,e,t){const r=n.du.shift(),i=pT.from(r,e,t);yield nY(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield t9(n)}),YT.apply(this,arguments)}function RT1(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,w1.Z)(function*(n,e){var t;e&&W0(n).Xo&&(yield(t=(0,w1.Z)(function*(r,i){if($Z(s=i.code)&&s!==_1.ABORTED){const l=r.du.shift();W0(r).Fo(),yield nY(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield t9(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),rY(n)&&iY(n)}),QT.apply(this,arguments)}function sY(n,e){return JT.apply(this,arguments)}function JT(){return JT=(0,w1.Z)(function*(n,e){const t=u2(n);t.asyncQueue.verifyOperationInProgress(),Q1("RemoteStore","RemoteStore received new credentials");const r=G0(t);t.wu.add(3),yield e9(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Oh(t)}),JT.apply(this,arguments)}function XT(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,w1.Z)(function*(n,e){const t=u2(n);e?(t.wu.delete(2),yield Oh(t)):e||(t.wu.add(2),yield e9(t),t.yu.set("Unknown"))}),eA.apply(this,arguments)}function n9(n){return n.Iu||(n.Iu=function(e,t,r){const i=u2(e);return i.iu(),new wT1(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:xT1.bind(null,n),eo:TT1.bind(null,n),zo:AT1.bind(null,n)}),n.mu.push(function(){var e=(0,w1.Z)(function*(t){t?(n.Iu.Fo(),BT(n)?UT(n):n.yu.set("Unknown")):(yield n.Iu.stop(),tY(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function W0(n){return n.Tu||(n.Tu=function(e,t,r){const i=u2(e);return i.iu(),new VT1(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:DT1.bind(null,n),eo:RT1.bind(null,n),eu:kT1.bind(null,n),tu:PT1.bind(null,n)}),n.mu.push(function(){var e=(0,w1.Z)(function*(t){t?(n.Tu.Fo(),yield t9(n)):(yield n.Tu.stop(),n.du.length>0&&(Q1("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class tA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new w4,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,h=new tA(e,t,l,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F1(_1.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r9(n,e){if(r4("AsyncQueue",`${e}: ${n}`),Qs(n))return new F1(_1.UNAVAILABLE,`${e}: ${n}`);throw n}class i9{constructor(e){this.comparator=e?(t,r)=>e(t,r)||s2.comparator(t.key,r.key):(t,r)=>s2.comparator(t.key,r.key),this.keyedMap=lT(),this.sortedSet=new Z3(this.comparator)}static emptySet(e){return new i9(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof i9)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new i9;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class aY{constructor(){this.Eu=new Z3(s2.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):_2():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class s9{constructor(e,t,r,i,s,l,h,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=C}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(l=>{s.push({type:0,doc:l})}),new s9(e,t,i9.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class OT1{constructor(){this.Ru=void 0,this.listeners=[]}}class FT1{constructor(){this.queries=new U0(e=>TZ(e),yh),this.onlineState="Unknown",this.bu=new Set}}function nA(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,w1.Z)(function*(n,e){const t=u2(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new OT1),i)try{s.Ru=yield t.onListen(r)}catch(l){const h=r9(l,`Initialization of query '${sT(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.Pu(t.onlineState),s.Ru&&e.Vu(s.Ru)&&aA(t)}),rA.apply(this,arguments)}function iA(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,w1.Z)(function*(n,e){const t=u2(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),sA.apply(this,arguments)}function UT1(n,e){const t=u2(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const h of l.listeners)h.Vu(i)&&(r=!0);l.Ru=i}}r&&aA(t)}function BT1(n,e,t){const r=u2(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function aA(n){n.bu.forEach(e=>{e.next()})}class oA{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new s9(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=s9.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class jT1{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class oY{constructor(e){this.M=e}wi(e){return G5(this.M,e)}mi(e){return e.metadata.exists?sK(this.M,e.document,!1):u3.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return V4(e)}}class qT1{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cY(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=ge.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new oY(this.M);for(const i of e)if(i.metadata.queries){const s=r.wi(i.metadata.name);for(const l of i.metadata.queries){const h=(t.get(l)||Pe()).add(s);t.set(l,h)}}return t}complete(){var e=this;return(0,w1.Z)(function*(){const t=yield function fT1(n,e,t,r){return ET.apply(this,arguments)}(e.localStore,new oY(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield hT1(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function cY(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class lY{constructor(e){this.key=e}}class uY{constructor(e){this.key=e}}class fY{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Pe(),this.mutatedKeys=Pe(),this.Gu=IZ(e),this.Qu=new i9(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new aY,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,h=!1;const C="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,z)=>{const S=i.get(b),x=aT(this.query,z)?z:null,I=!!S&&this.mutatedKeys.has(S.key),K=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let o1=!1;S&&x?S.data.isEqual(x.data)?I!==K&&(r.track({type:3,doc:x}),o1=!0):this.Hu(S,x)||(r.track({type:2,doc:x}),o1=!0,(C&&this.Gu(x,C)>0||v&&this.Gu(x,v)<0)&&(h=!0)):!S&&x?(r.track({type:0,doc:x}),o1=!0):S&&!x&&(r.track({type:1,doc:S}),o1=!0,(C||v)&&(h=!0)),o1&&(x?(l=l.add(x),s=K?s.add(b):s.delete(b)):(l=l.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),s=s.delete(b.key),r.track({type:1,doc:b})}return{Qu:l,zu:r,ii:h,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((v,b)=>function(z,S){const x=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _2()}};return x(z)-x(S)}(v.type,b.type)||this.Gu(v.doc,b.doc)),this.Ju(r);const l=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,C=h!==this.qu;return this.qu=h,0!==s.length||C?{snapshot:new s9(this.query,e.Qu,i,s,e.mutatedKeys,0===h,C,!1),Xu:l}:{Xu:l}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new aY,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Pe(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new uY(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new lY(r))}),t}ta(e){this.Uu=e._i,this.Ku=Pe();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return s9.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class GT1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class WT1{constructor(e){this.key=e,this.na=!1}}class $T1{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.sa={},this.ia=new U0(h=>TZ(h),yh),this.ra=new Map,this.oa=new Set,this.ua=new Z3(s2.comparator),this.aa=new Map,this.ca=new TT,this.ha={},this.la=new Map,this.fa=ia.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function ZT1(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,w1.Z)(function*(n,e){const t=TA(n);let r,i;const s=t.ia.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const l=yield Jo(t.localStore,fn(e));t.isPrimaryClient&&F_(t.remoteStore,l);const h=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield lA(t,e,r,"current"===h)}return i}),cA.apply(this,arguments)}function lA(n,e,t,r){return uA.apply(this,arguments)}function uA(){return uA=(0,w1.Z)(function*(n,e,t,r){n._a=(b,z,S)=>{return(x=(0,w1.Z)(function*(I,K,o1,R1){let U1=K.view.Wu(o1);U1.ii&&(U1=yield k_(I.localStore,K.query,!1).then(({documents:v2})=>K.view.Wu(v2,U1)));const $1=R1&&R1.targetChanges.get(K.targetId),J1=K.view.applyChanges(U1,I.isPrimaryClient,$1);return _A(I,K.targetId,J1.Xu),J1.snapshot}),function(I,K,o1,R1){return x.apply(this,arguments)})(n,b,z,S);var x};const i=yield k_(n.localStore,e,!0),s=new fY(e,i._i),l=s.Wu(i.documents),h=wh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),C=s.applyChanges(l,n.isPrimaryClient,h);_A(n,t,C.Xu);const v=new GT1(e,t,s);return n.ia.set(e,v),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),C.snapshot}),uA.apply(this,arguments)}function KT1(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,w1.Z)(function*(n,e){const t=u2(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(s=>!yh(s,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xo(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Fh(t.remoteStore,r.targetId),a9(t,r.targetId)}).catch(sa))):(a9(t,r.targetId),yield Xo(t.localStore,r.targetId,!0))}),fA.apply(this,arguments)}function hA(){return hA=(0,w1.Z)(function*(n,e,t){const r=AA(n);try{const i=yield function(s,l){const h=u2(s),C=$3.now(),v=l.reduce((z,S)=>z.add(S.key),Pe());let b;return h.persistence.runTransaction("Locally write mutations","readwrite",z=>h.fi.Ks(z,v).next(S=>{b=S;const x=[];for(const I of l){const K=nx1(I,b.get(I.key));null!=K&&x.push(new Ys(I.key,K,yZ(K.value.mapValue),i4.exists(!0)))}return h.Bs.addMutationBatch(z,C,x,l)})).then(z=>(z.applyToLocalDocumentSet(b),{batchId:z.batchId,changes:b}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,h){let C=s.ha[s.currentUser.toKey()];C||(C=new Z3(ee)),C=C.insert(l,h),s.ha[s.currentUser.toKey()]=C}(r,i.batchId,t),yield Y8(r,i.changes),yield t9(r.remoteStore)}catch(i){const s=r9(i,"Failed to persist write");t.reject(s)}}),hA.apply(this,arguments)}function hY(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,w1.Z)(function*(n,e){const t=u2(n);try{const r=yield lT1(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.aa.get(s);l&&(q2(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.na=!0:i.modifiedDocuments.size>0?q2(l.na):i.removedDocuments.size>0&&(q2(l.na),l.na=!1))}),yield Y8(t,r,e)}catch(r){yield sa(r)}}),dA.apply(this,arguments)}function dY(n,e,t){const r=u2(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((s,l)=>{const h=l.view.Pu(e);h.snapshot&&i.push(h.snapshot)}),function(s,l){const h=u2(s);h.onlineState=l;let C=!1;h.queries.forEach((v,b)=>{for(const z of b.listeners)z.Pu(l)&&(C=!0)}),C&&aA(h)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function QT1(n,e,t){return CA.apply(this,arguments)}function CA(){return CA=(0,w1.Z)(function*(n,e,t){const r=u2(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),s=i&&i.key;if(s){let l=new Z3(s2.comparator);l=l.insert(s,u3.newNoDocument(s,F2.min()));const h=Pe().add(s),C=new zh(F2.min(),new Map,new a3(ee),l,h);yield hY(r,C),r.ua=r.ua.remove(s),r.aa.delete(e),MA(r)}else yield Xo(r.localStore,e,!1).then(()=>a9(r,e,t)).catch(sa)}),CA.apply(this,arguments)}function JT1(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,w1.Z)(function*(n,e){const t=u2(n),r=e.batch.batchId;try{const i=yield cT1(t.localStore,e);yA(t,r,null),vA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Y8(t,i)}catch(i){yield sa(i)}}),pA.apply(this,arguments)}function XT1(n,e,t){return mA.apply(this,arguments)}function mA(){return mA=(0,w1.Z)(function*(n,e,t){const r=u2(n);try{const i=yield function(s,l){const h=u2(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let v;return h.Bs.lookupMutationBatch(C,l).next(b=>(q2(null!==b),v=b.keys(),h.Bs.removeMutationBatch(C,b))).next(()=>h.Bs.performConsistencyCheck(C)).next(()=>h.fi.Ks(C,v))})}(r.localStore,e);yA(r,e,t),vA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Y8(r,i)}catch(i){yield sa(i)}}),mA.apply(this,arguments)}function gA(){return gA=(0,w1.Z)(function*(n,e){const t=u2(n);G0(t.remoteStore)||Q1("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const l=u2(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.Bs.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=r9(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),gA.apply(this,arguments)}function vA(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function yA(n,e,t){const r=u2(n);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function a9(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||CY(n,r)})}function CY(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(Fh(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),MA(n))}function _A(n,e,t){for(const r of t)r instanceof lY?(n.ca.addReference(r.key,e),tA1(n,r)):r instanceof uY?(Q1("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||CY(n,r.key)):_2()}function tA1(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Q1("SyncEngine","New document in limbo: "+t),n.oa.add(r),MA(n))}function MA(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new s2(ge.fromString(e)),r=n.fa.next();n.aa.set(r,new WT1(t)),n.ua=n.ua.insert(t,r),F_(n.remoteStore,new B0(fn(jo(t.path)),r,2,S6.A))}}function Y8(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=(0,w1.Z)(function*(n,e,t){const r=u2(n),i=[],s=[],l=[];var h;r.ia.isEmpty()||(r.ia.forEach((h,C)=>{l.push(r._a(C,e,t).then(v=>{if(v){r.isPrimaryClient&&r.sharedClientState.updateQueryState(C.targetId,v.fromCache?"not-current":"current"),i.push(v);const b=VT.Ys(C.targetId,v);s.push(b)}}))}),yield Promise.all(l),r.sa.zo(i),yield(h=(0,w1.Z)(function*(C,v){const b=u2(C);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",z=>L1.forEach(v,S=>L1.forEach(S.Hs,x=>b.persistence.referenceDelegate.addReference(z,S.targetId,x)).next(()=>L1.forEach(S.Js,x=>b.persistence.referenceDelegate.removeReference(z,S.targetId,x)))))}catch(z){if(!Qs(z))throw z;Q1("LocalStore","Failed to update sequence numbers: "+z)}for(const z of v){const S=z.targetId;if(!z.fromCache){const x=b.ui.get(S),K=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);b.ui=b.ui.insert(S,K)}}}),function(C,v){return h.apply(this,arguments)})(r.localStore,s))}),LA.apply(this,arguments)}function nA1(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,w1.Z)(function*(n,e){const t=u2(n);if(!t.currentUser.isEqual(e)){Q1("SyncEngine","User change. New user:",e.toKey());const r=yield BK(t.localStore,e);t.currentUser=e,(i=t).la.forEach(l=>{l.forEach(h=>{h.reject(new F1(_1.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Y8(t,r.di)}var i}),bA.apply(this,arguments)}function rA1(n,e){const t=u2(n),r=t.aa.get(e);if(r&&r.na)return Pe().add(r.key);{let i=Pe();const s=t.ra.get(e);if(!s)return i;for(const l of s){const h=t.ia.get(l);i=i.unionWith(h.view.ju)}return i}}function iA1(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,w1.Z)(function*(n,e){const t=u2(n),r=yield k_(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&_A(t,e.targetId,i.Xu),i}),zA.apply(this,arguments)}function sA1(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,w1.Z)(function*(n,e){const t=u2(n);return WK(t.localStore,e).then(r=>Y8(t,r))}),wA.apply(this,arguments)}function aA1(n,e,t,r){return VA.apply(this,arguments)}function VA(){return VA=(0,w1.Z)(function*(n,e,t,r){const i=u2(n),s=yield function(l,h){const C=u2(l),v=u2(C.Bs);return C.persistence.runTransaction("Lookup mutation documents","readonly",b=>v.fn(b,h).next(z=>z?C.fi.Ks(b,z):L1.resolve(null)))}(i.localStore,e);var h;null!==s?("pending"===t?yield t9(i.remoteStore):"acknowledged"===t||"rejected"===t?(yA(i,e,r||null),vA(i,e),h=e,u2(u2(i.localStore).Bs)._n(h)):_2(),yield Y8(i,s)):Q1("SyncEngine","Cannot apply mutation batch with id: "+e)}),VA.apply(this,arguments)}function SA(){return SA=(0,w1.Z)(function*(n,e){const t=u2(n);if(TA(t),AA(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield pY(t,r.toArray());t.da=!0,yield XT(t.remoteStore,!0);for(const s of i)F_(t.remoteStore,s)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(a9(t,l),Xo(t.localStore,l,!0))),Fh(t.remoteStore,l)}),yield i,yield pY(t,r),function(s){const l=u2(s);l.aa.forEach((h,C)=>{Fh(l.remoteStore,C)}),l.ca.Si(),l.aa=new Map,l.ua=new Z3(s2.comparator)}(t),t.da=!1,yield XT(t.remoteStore,!1)}}),SA.apply(this,arguments)}function pY(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,w1.Z)(function*(n,e,t){const r=u2(n),i=[],s=[];for(const l of e){let h;const C=r.ra.get(l);if(C&&0!==C.length){h=yield Jo(r.localStore,fn(C[0]));for(const v of C){const b=r.ia.get(v),z=yield iA1(r,b);z.snapshot&&s.push(z.snapshot)}}else{const v=yield GK(r.localStore,l);h=yield Jo(r.localStore,v),yield lA(r,mY(v),l,!1)}i.push(h)}return r.sa.zo(s),i}),HA.apply(this,arguments)}function mY(n){return EZ(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function cA1(n){const e=u2(n);return u2(u2(e.localStore).persistence).Fs()}function lA1(n,e,t,r){return EA.apply(this,arguments)}function EA(){return EA=(0,w1.Z)(function*(n,e,t,r){const i=u2(n);if(i.da)return void Q1("SyncEngine","Ignoring unexpected query state notification.");const s=i.ra.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield WK(i.localStore,AZ(s[0])),h=zh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Y8(i,l,h);break}case"rejected":yield Xo(i.localStore,e,!0),a9(i,e,r);break;default:_2()}}),EA.apply(this,arguments)}function uA1(n,e,t){return xA.apply(this,arguments)}function xA(){return xA=(0,w1.Z)(function*(n,e,t){const r=TA(n);if(r.da){for(const i of e){if(r.ra.has(i)){Q1("SyncEngine","Adding an already active target "+i);continue}const s=yield GK(r.localStore,i),l=yield Jo(r.localStore,s);yield lA(r,mY(s),l.targetId,!1),F_(r.remoteStore,l)}for(const i of t)r.ra.has(i)&&(yield Xo(r.localStore,i,!1).then(()=>{Fh(r.remoteStore,i),a9(r,i)}).catch(sa))}}),xA.apply(this,arguments)}function TA(n){const e=u2(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hY.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rA1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QT1.bind(null,e),e.sa.zo=UT1.bind(null,e.eventManager),e.sa.wa=BT1.bind(null,e.eventManager),e}function AA(n){const e=u2(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JT1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XT1.bind(null,e),e}class gY{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,w1.Z)(function*(){t.M=Rh(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return UK(this.persistence,new FK,e.initialUser,this.M)}ya(e){return new yT1(AT.Yi,this.M)}ga(e){return new YK}terminate(){var e=this;return(0,w1.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vY extends gY{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,w1.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield AA(r.Ta.syncEngine),yield t9(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return UK(this.persistence,new FK,e.initialUser,this.M)}pa(e){return new eT1(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=wT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new zT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,JK(),O_(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new YK}}class hA1 extends vY{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,w1.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof kT&&(r.sharedClientState.syncEngine={$r:aA1.bind(null,i),Br:lA1.bind(null,i),Lr:uA1.bind(null,i),Fs:cA1.bind(null,i),Fr:sA1.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var s=(0,w1.Z)(function*(l){yield function oA1(n,e){return SA.apply(this,arguments)}(r.Ta.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):l||r.gcScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}ga(e){const t=JK();if(!kT.vt(t))throw new F1(_1.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=wT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class IA{initialize(e,t){var r=this;return(0,w1.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>dY(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=nA1.bind(null,r.syncEngine),yield XT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new FT1}createDatastore(e){const t=Rh(e.databaseInfo.databaseId),r=new zT1(e.databaseInfo);return new ST1(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=h=>dY(this.syncEngine,h,0),l=QK.vt()?new QK:new MT1,new ET1(t,r,i,s,l);var t,r,i,s,l}createSyncEngine(e,t){return function(r,i,s,l,h,C,v){const b=new $T1(r,i,s,l,h,C);return v&&(b.da=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,w1.Z)(function*(t){const r=u2(t);Q1("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield e9(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yY(n,e=10240){let t=0;return{read:()=>(0,w1.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,w1.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class B_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class dA1{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new w4,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,w1.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,w1.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,w1.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const s=yield e.Sa(i);return new jT1(JSON.parse(s),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,w1.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,w1.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,w1.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class CA1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,w1.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new F1(_1.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,w1.Z)(function*(s,l){const h=u2(s),C=Hh(h.M)+"/documents",v={documents:l.map(x=>Sh(h.M,x))},b=yield h._o("BatchGetDocuments",C,v),z=new Map;b.forEach(x=>{const I=function Cx1(n,e){return"found"in e?function(t,r){q2(!!r.found);const i=G5(t,r.found.name),s=V4(r.found.updateTime),l=new ot({mapValue:{fields:r.found.fields}});return u3.newFoundDocument(i,s,l)}(n,e):"missing"in e?function(t,r){q2(!!r.missing),q2(!!r.readTime);const i=G5(t,r.missing),s=V4(r.readTime);return u3.newNoDocument(i,s)}(n,e):_2()}(h.M,x);z.set(I.key.toString(),I)});const S=[];return l.forEach(x=>{const I=z.get(x.toString());q2(!!I),S.push(I)}),S}),function(s,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,w1.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=s2.fromPath(i);e.mutations.push(new cT(s,e.precondition(s)))}),yield(r=(0,w1.Z)(function*(i,s){const l=u2(i),h=Hh(l.M)+"/documents",C={writes:s.map(v=>Eh(l.M,v))};yield l.co("Commit",h,C)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _2();t=F2.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new F1(_1.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?i4.updateTime(t):i4.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(F2.min()))throw new F1(_1.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return i4.updateTime(t)}return i4.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pA1{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.xa=r.maxAttempts,this.No=new PT(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,w1.Z)(function*(){const t=new CA1(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Ma(s)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!hh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!$Z(t)}return!1}}class mA1{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=B4.UNAUTHENTICATED,this.clientId=oZ.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,w1.Z)(function*(h){Q1("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Q1("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,w1.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F1(_1.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new w4;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,w1.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=r9(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function _Y(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,w1.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Q1("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,w1.Z)(function*(s){r.isEqual(s)||(yield BK(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),NA.apply(this,arguments)}function MY(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,w1.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield kA(n);Q1("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>sY(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>sY(e.remoteStore,s)),n.onlineComponents=e}),DA.apply(this,arguments)}function kA(n){return PA.apply(this,arguments)}function PA(){return PA=(0,w1.Z)(function*(n){return n.offlineComponents||(Q1("FirestoreClient","Using default OfflineComponentProvider"),yield _Y(n,new gY)),n.offlineComponents}),PA.apply(this,arguments)}function j_(n){return RA.apply(this,arguments)}function RA(){return RA=(0,w1.Z)(function*(n){return n.onlineComponents||(Q1("FirestoreClient","Using default OnlineComponentProvider"),yield MY(n,new IA)),n.onlineComponents}),RA.apply(this,arguments)}function LY(n){return kA(n).then(e=>e.persistence)}function OA(n){return kA(n).then(e=>e.localStore)}function bY(n){return j_(n).then(e=>e.remoteStore)}function FA(n){return j_(n).then(e=>e.syncEngine)}function o9(n){return UA.apply(this,arguments)}function UA(){return UA=(0,w1.Z)(function*(n){const e=yield j_(n),t=e.eventManager;return t.onListen=ZT1.bind(null,e.syncEngine),t.onUnlisten=KT1.bind(null,e.syncEngine),t}),UA.apply(this,arguments)}function zY(n,e,t={}){const r=new w4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return function(i,s,l,h,C){const v=new B_({next:z=>{s.enqueueAndForget(()=>iA(i,b));const S=z.docs.has(l);!S&&z.fromCache?C.reject(new F1(_1.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&z.fromCache&&h&&"server"===h.source?C.reject(new F1(_1.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(z)},error:z=>C.reject(z)}),b=new oA(jo(l.path),v,{includeMetadataChanges:!0,ku:!0});return nA(i,b)}(yield o9(n),n.asyncQueue,e,t,r)})),r.promise}function wY(n,e,t={}){const r=new w4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return function(i,s,l,h,C){const v=new B_({next:z=>{s.enqueueAndForget(()=>iA(i,b)),z.fromCache&&"server"===h.source?C.reject(new F1(_1.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(z)},error:z=>C.reject(z)}),b=new oA(l,v,{includeMetadataChanges:!0,ku:!0});return nA(i,b)}(yield o9(n),n.asyncQueue,e,t,r)})),r.promise}const VY=new Map;function BA(n,e,t){if(!t)throw new F1(_1.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SY(n,e,t,r){if(!0===e&&!0===r)throw new F1(_1.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HY(n){if(!s2.isDocumentKey(n))throw new F1(_1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EY(n){if(s2.isDocumentKey(n))throw new F1(_1.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function q_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_2()}function me(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new F1(_1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=q_(n);throw new F1(_1.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xY(n,e){if(e<=0)throw new F1(_1.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class TY{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new F1(_1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new F1(_1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,SY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TY({}),this._settingsFrozen=!1,e instanceof Z8?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new F1(_1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Z8(i.options.projectId)}(e))}get app(){if(!this._app)throw new F1(_1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new F1(_1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TY(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wE1;switch(t.type){case"gapi":const r=t.client;return q2(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new EE1(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new F1(_1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=VY.get(e);t&&(Q1("ComponentProvider","Removing Datastore"),VY.delete(e),t.terminate())}(this),Promise.resolve()}}class f3{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $5(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new f3(this.firestore,e,this._key)}}class ct{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ct(this.firestore,e,this._query)}}class $5 extends ct{constructor(e,t,r){super(e,t,jo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new f3(this.firestore,null,new s2(e))}withConverter(e){return new $5(this.firestore,e,this._path)}}function AY(n,e,...t){if(n=(0,D.m9)(n),BA("collection","path",e),n instanceof Uh){const r=ge.fromString(e,...t);return EY(r),new $5(n,null,r)}{if(!(n instanceof f3||n instanceof $5))throw new F1(_1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ge.fromString(e,...t));return EY(r),new $5(n.firestore,null,r)}}function G_(n,e,...t){if(n=(0,D.m9)(n),1===arguments.length&&(e=oZ.R()),BA("doc","path",e),n instanceof Uh){const r=ge.fromString(e,...t);return HY(r),new f3(n,null,new s2(r))}{if(!(n instanceof f3||n instanceof $5))throw new F1(_1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ge.fromString(e,...t));return HY(r),new f3(n.firestore,n instanceof $5?n.converter:null,new s2(r))}}function IY(n,e){return n=(0,D.m9)(n),e=(0,D.m9)(e),(n instanceof f3||n instanceof $5)&&(e instanceof f3||e instanceof $5)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function NY(n,e){return n=(0,D.m9)(n),e=(0,D.m9)(e),n instanceof ct&&e instanceof ct&&n.firestore===e.firestore&&yh(n._query,e._query)&&n.converter===e.converter}class SA1{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new PT(this,"async_queue_retry"),this.Qa=()=>{const t=O_();t&&Q1("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=O_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=O_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new w4;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,w1.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Qs(t))throw t;Q1("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,r4("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=tA.createAndSchedule(this,e,t,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&_2()}verifyOperationInProgress(){}Ja(){var e=this;return(0,w1.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function jA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class HA1{constructor(){this._progressObserver={},this._taskCompletionResolver=new w4,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class v3 extends Uh{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new SA1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||DY(this),this._firestoreClient.terminate()}}function a4(n){return n._firestoreClient||DY(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function DY(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new DE1(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new mA1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function kY(n,e,t){const r=new w4;return n.asyncQueue.enqueue((0,w1.Z)(function*(){try{yield _Y(n,t),yield MY(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(s=i).name?s.code===_1.FAILED_PRECONDITION||s.code===_1.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var s})).then(()=>r.promise)}function PY(n){if(n._initialized||n._terminated)throw new F1(_1.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Q8{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new F1(_1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new u4(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Z5{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Z5(f4.fromBase64String(e))}catch(t){throw new F1(_1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Z5(f4.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class oa{constructor(e){this._methodName=e}}class W_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new F1(_1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new F1(_1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}const RA1=/^__.*__$/;class OA1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mh(e,this.data,t,this.fieldTransforms)}}class RY{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OY(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _2()}}class $_{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new $_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Y_(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(OY(this.ec)&&RA1.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class FA1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Rh(e)}lc(e,t,r,i=!1){return new $_({ec:e,methodName:t,hc:r,path:u4.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ca(n){const e=n._freezeSettings(),t=Rh(n._databaseId);return new FA1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Z_(n,e,t,r,i,s={}){const l=n.lc(s.merge||s.mergeFields?2:0,e,t,i);$A("Data must be an object, but it was:",l,r);const h=BY(r,l);let C,v;if(s.merge)C=new Oo(l.fieldMask),v=l.fieldTransforms;else if(s.mergeFields){const b=[];for(const z of s.mergeFields){const S=ZA(e,z,t);if(!l.contains(S))throw new F1(_1.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);qY(b,S)||b.push(S)}C=new Oo(b),v=l.fieldTransforms.filter(z=>C.covers(z.field))}else C=null,v=l.fieldTransforms;return new OA1(new ot(h),C,v)}class Bh extends oa{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function FY(n,e,t){return new $_({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class qA extends oa{_toFieldTransform(e){return new _h(e.path,new Go)}isEqual(e){return e instanceof qA}}class UA1 extends oa{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=FY(this,e,!0),r=this.fc.map(s=>la(s,t)),i=new Zs(r);return new _h(e.path,i)}isEqual(e){return this===e}}class BA1 extends oa{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=FY(this,e,!0),r=this.fc.map(s=>la(s,t)),i=new Ks(r);return new _h(e.path,i)}isEqual(e){return this===e}}class jA1 extends oa{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Wo(e.M,kZ(e.M,this.dc));return new _h(e.path,t)}isEqual(e){return this===e}}function GA(n,e,t,r){const i=n.lc(1,e,t);$A("Data must be an object, but it was:",i,r);const s=[],l=ot.empty();Bs(r,(C,v)=>{const b=K_(e,C,t);v=(0,D.m9)(v);const z=i.oc(b);if(v instanceof Bh)s.push(b);else{const S=la(v,z);null!=S&&(s.push(b),l.set(b,S))}});const h=new Oo(s);return new RY(l,h,i.fieldTransforms)}function WA(n,e,t,r,i,s){const l=n.lc(1,e,t),h=[ZA(e,r,t)],C=[i];if(s.length%2!=0)throw new F1(_1.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<s.length;S+=2)h.push(ZA(e,s[S])),C.push(s[S+1]);const v=[],b=ot.empty();for(let S=h.length-1;S>=0;--S)if(!qY(v,h[S])){const x=h[S];let I=C[S];I=(0,D.m9)(I);const K=l.oc(x);if(I instanceof Bh)v.push(x);else{const o1=la(I,K);null!=o1&&(v.push(x),b.set(x,o1))}}const z=new Oo(v);return new RY(b,z,l.fieldTransforms)}function UY(n,e,t,r=!1){return la(t,n.lc(r?4:3,e))}function la(n,e){if(jY(n=(0,D.m9)(n)))return $A("Unsupported field value:",e,n),BY(n,e);if(n instanceof oa)return function(t,r){if(!OY(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const l of t){let h=la(l,r.uc(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,D.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return kZ(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=$3.fromDate(t);return{timestampValue:Vh(r.M,i)}}if(t instanceof $3){const i=new $3(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Vh(r.M,i)}}if(t instanceof W_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Z5)return{bytesValue:eK(r.M,t._byteString)};if(t instanceof f3){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${q_(t)}`)}(n,e)}function BY(n,e){const t={};return uZ(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(n,(r,i)=>{const s=la(i,e.sc(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function jY(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $3||n instanceof W_||n instanceof Z5||n instanceof f3||n instanceof oa)}function $A(n,e,t){if(!jY(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=q_(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function ZA(n,e,t){if((e=(0,D.m9)(e))instanceof Q8)return e._internalPath;if("string"==typeof e)return K_(n,e);throw Y_("Field path arguments must be of type string or ",n,!1,void 0,t)}const qA1=new RegExp("[~\\*/\\[\\]]");function K_(n,e,t){if(e.search(qA1)>=0)throw Y_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Q8(...e.split("."))._internalPath}catch(r){throw Y_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Y_(n,e,t,r,i){const s=r&&!r.isEmpty(),l=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let C="";return(s||l)&&(C+=" (found",s&&(C+=` in field ${r}`),l&&(C+=` in document ${i}`),C+=")"),new F1(_1.INVALID_ARGUMENT,h+n+C)}function qY(n,e){return n.some(t=>t.isEqual(e))}class jh{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new f3(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new GA1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Q_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class GA1 extends jh{data(){return super.data()}}function Q_(n,e){return"string"==typeof e?K_(n,e):e instanceof Q8?e._internalPath:e._delegate._internalPath}class ua{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class J8 extends jh{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Q_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class qh extends J8{data(e={}){return super.data(e)}}class $0{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ua(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new qh(this._firestore,this._userDataWriter,r.key,r,new ua(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new F1(_1.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new qh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ua(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const h=new qh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ua(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let C=-1,v=-1;return 0!==l.type&&(C=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),v=s.indexOf(l.doc.key)),{type:WA1(l.type),doc:h,oldIndex:C,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WA1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _2()}}function GY(n,e){return n instanceof J8&&e instanceof J8?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $0&&e instanceof $0&&n._firestore===e._firestore&&NY(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function WY(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new F1(_1.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gh{}function Z0(n,...e){for(const t of e)n=t._apply(n);return n}class $A1 extends Gh{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=ca(e.firestore),r=function(i,s,l,h,C,v,b){let z;if(C.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new F1(_1.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){JY(b,v);const x=[];for(const I of b)x.push(QY(h,i,I));z={arrayValue:{values:x}}}else z=QY(h,i,b)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||JY(b,v),z=UY(l,"where",b,"in"===v||"not-in"===v);const S=q4.create(C,v,z);return function(x,I){if(I.S()){const o1=rT(x);if(null!==o1&&!o1.isEqual(I.field))throw new F1(_1.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o1.toString()}' and '${I.field.toString()}'`);const R1=nT(x);null!==R1&&XY(0,I.field,R1)}const K=function(o1,R1){for(const U1 of o1.filters)if(R1.indexOf(U1.op)>=0)return U1.op;return null}(x,function(o1){switch(o1){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(I.op));if(null!==K)throw new F1(_1.INVALID_ARGUMENT,K===I.op?`Invalid query. You cannot use more than one '${I.op.toString()}' filter.`:`Invalid query. You cannot use '${I.op.toString()}' filters with '${K.toString()}' filters.`)}(i,S),S}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new ct(e.firestore,e.converter,function(i,s){const l=i.filters.concat([s]);return new K8(i.path,i.collectionGroup,i.explicitOrderBy.slice(),l,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class KA1 extends Gh{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new F1(_1.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new F1(_1.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Bo(i,s);return function(h,C){if(null===nT(h)){const v=rT(h);null!==v&&XY(0,v,C.field)}}(r,l),l}(e._query,this._c,this.gc);return new ct(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new K8(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class $Y extends Gh{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new ct(e.firestore,e.converter,xZ(e._query,this.yc,this.Ic))}}class ZY extends Gh{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=YY(e,this.type,this.Tc,this.Ec);return new ct(e.firestore,e.converter,(i=t,new K8((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class KY extends Gh{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=YY(e,this.type,this.Tc,this.Ec);return new ct(e.firestore,e.converter,(i=t,new K8((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function YY(n,e,t,r){if(t[0]=(0,D.m9)(t[0]),t[0]instanceof jh)return function(i,s,l,h,C){if(!h)throw new F1(_1.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const b of qo(i))if(b.field.isKeyField())v.push(Gs(s,h.key));else{const z=h.data.field(b.field);if(Jx(z))throw new F1(_1.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===z){const S=b.field.canonicalString();throw new F1(_1.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}v.push(z)}return new F0(v,C)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ca(n.firestore);return function(s,l,h,C,v,b){const z=s.explicitOrderBy;if(v.length>z.length)throw new F1(_1.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let x=0;x<v.length;x++){const I=v[x];if(z[x].field.isKeyField()){if("string"!=typeof I)throw new F1(_1.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof I}`);if(!iT(s)&&-1!==I.indexOf("/"))throw new F1(_1.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${C}() must be a plain document ID, but '${I}' contains a slash.`);const K=s.path.child(ge.fromString(I));if(!s2.isDocumentKey(K))throw new F1(_1.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${C}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const o1=new s2(K);S.push(Gs(l,o1))}else{const K=UY(h,C,I);S.push(K)}}return new F0(S,b)}(n._query,n.firestore._databaseId,i,e,t,r)}}function QY(n,e,t){if("string"==typeof(t=(0,D.m9)(t))){if(""===t)throw new F1(_1.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iT(e)&&-1!==t.indexOf("/"))throw new F1(_1.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ge.fromString(t));if(!s2.isDocumentKey(r))throw new F1(_1.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gs(n,new s2(r))}if(t instanceof f3)return Gs(n,t._key);throw new F1(_1.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${q_(t)}.`)}function JY(n,e){if(!Array.isArray(n)||0===n.length)throw new F1(_1.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new F1(_1.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function XY(n,e,t){if(!t.isEqual(e))throw new F1(_1.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const rI1={maxAttempts:5};class KA{convertValue(e,t="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return O3(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _2()}}convertObject(e,t){const r={};return Bs(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new W_(O3(e.latitude),O3(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fZ(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fh(e));default:return null}}convertTimestamp(e){const t=P0(e);return new $3(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ge.fromString(e);q2(uK(r));const i=new Z8(r.get(1),r.get(3)),s=new s2(r.popFirst(5));return i.isEqual(t)||r4(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function J_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class iI1 extends KA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Z5(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new f3(this.firestore,null,t)}}class eQ{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ca(e)}set(e,t,r){this._verifyNotCommitted();const i=K0(e,this._firestore),s=J_(i.converter,t,r),l=Z_(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,i4.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=K0(e,this._firestore);let l;return l="string"==typeof(t=(0,D.m9)(t))||t instanceof Q8?WA(this._dataReader,"WriteBatch.update",s._key,t,r,i):GA(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,i4.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=K0(e,this._firestore);return this._mutations=this._mutations.concat(new Lh(t._key,i4.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new F1(_1.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function K0(n,e){if((n=(0,D.m9)(n)).firestore!==e)throw new F1(_1.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class fa extends KA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Z5(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new f3(this.firestore,null,t)}}function tQ(n,e,t){n=me(n,f3);const r=me(n.firestore,v3),i=J_(n.converter,e,t);return c9(r,[Z_(ca(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,i4.none())])}function nQ(n,e,t,...r){n=me(n,f3);const i=me(n.firestore,v3),s=ca(i);let l;return l="string"==typeof(e=(0,D.m9)(e))||e instanceof Q8?WA(s,"updateDoc",n._key,e,t,r):GA(s,"updateDoc",n._key,e),c9(i,[l.toMutation(n._key,i4.exists(!0))])}function rQ(n,...e){var t,r,i;n=(0,D.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||jA(e[l])||(s=e[l],l++);const h={includeMetadataChanges:s.includeMetadataChanges};if(jA(e[l])){const z=e[l];e[l]=null===(t=z.next)||void 0===t?void 0:t.bind(z),e[l+1]=null===(r=z.error)||void 0===r?void 0:r.bind(z),e[l+2]=null===(i=z.complete)||void 0===i?void 0:i.bind(z)}let C,v,b;if(n instanceof f3)v=me(n.firestore,v3),b=jo(n._key.path),C={next:z=>{e[l]&&e[l](YA(v,n,z))},error:e[l+1],complete:e[l+2]};else{const z=me(n,ct);v=me(z.firestore,v3),b=z._query;const S=new fa(v);C={next:x=>{e[l]&&e[l](new $0(v,S,z,x))},error:e[l+1],complete:e[l+2]},WY(n._query)}return function(z,S,x,I){const K=new B_(I),o1=new oA(S,K,x);return z.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return nA(yield o9(z),o1)})),()=>{K.Aa(),z.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return iA(yield o9(z),o1)}))}}(a4(v),b,h,C)}function c9(n,e){return function(t,r){const i=new w4;return t.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return function YT1(n,e,t){return hA.apply(this,arguments)}(yield FA(t),r,i)})),i.promise}(a4(n),e)}function YA(n,e,t){const r=t.docs.get(e._key),i=new fa(n);return new J8(n,i,e._key,r,new ua(t.hasPendingWrites,t.fromCache),e.converter)}class CI1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ca(e)}get(e){const t=K0(e,this._firestore),r=new iI1(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return _2();const s=i[0];if(s.isFoundDocument())return new jh(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new jh(this._firestore,r,t._key,null,t.converter);throw _2()})}set(e,t,r){const i=K0(e,this._firestore),s=J_(i.converter,t,r),l=Z_(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=K0(e,this._firestore);let l;return l="string"==typeof(t=(0,D.m9)(t))||t instanceof Q8?WA(this._dataReader,"Transaction.update",s._key,t,r,i):GA(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=K0(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=K0(e,this._firestore),r=new fa(this._firestore);return super.get(e).then(i=>new J8(this._firestore,r,t._key,i._document,new ua(!1,!1),t.converter))}}function QA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new F1("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function sQ(){if("undefined"==typeof Uint8Array)throw new F1("unimplemented","Uint8Arrays are not available in this environment.")}function aQ(){if(!function IE1(){return"undefined"!=typeof atob}())throw new F1("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Po=bt.SDK_VERSION,(0,bt._registerComponent)(new Bn.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new v3(i,new SE1(t.getProvider("auth-internal")),new xE1(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),(0,bt.registerVersion)(iZ,"3.4.9",n),(0,bt.registerVersion)(iZ,"3.4.9","esm2017")}();class Wh{constructor(e){this._delegate=e}static fromBase64String(e){return aQ(),new Wh(Z5.fromBase64String(e))}static fromUint8Array(e){return sQ(),new Wh(Z5.fromUint8Array(e))}toBase64(){return aQ(),this._delegate.toBase64()}toUint8Array(){return sQ(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JA(n){return function bI1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class zI1{enableIndexedDbPersistence(e,t){return function xA1(n,e){PY(n=me(n,v3));const t=a4(n),r=n._freezeSettings(),i=new IA;return kY(t,i,new vY(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function TA1(n){PY(n=me(n,v3));const e=a4(n),t=n._freezeSettings(),r=new IA;return kY(e,r,new hA1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function AA1(n){if(n._initialized&&!n._terminated)throw new F1(_1.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new w4;return n._queue.enqueueAndForgetEvenWhileRestricted((0,w1.Z)(function*(){try{yield(t=(0,w1.Z)(function*(r){if(!Jn.vt())return Promise.resolve();const i=r+"main";yield Jn.delete(i)}),function(r){return t.apply(this,arguments)})(wT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class oQ{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Z8||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&lh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function wA1(n,e,t,r={}){var i;const s=(n=me(n,Uh))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&lh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,h;if("string"==typeof r.mockUserToken)l=r.mockUserToken,h=B4.MOCK_USER;else{l=(0,D.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new F1(_1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new B4(C)}n._authCredentials=new VE1(new sZ(l,h))}}(this._delegate,e,t,r)}enableNetwork(){return function NA1(n){return function gA1(n){return n.asyncQueue.enqueue((0,w1.Z)(function*(){const e=yield LY(n),t=yield bY(n);return e.setNetworkEnabled(!0),function(r){const i=u2(r);return i.wu.delete(0),Oh(i)}(t)}))}(a4(n=me(n,v3)))}(this._delegate)}disableNetwork(){return function DA1(n){return function vA1(n){return n.asyncQueue.enqueue((0,w1.Z)(function*(){const e=yield LY(n),t=yield bY(n);return e.setNetworkEnabled(!1),(r=(0,w1.Z)(function*(i){const s=u2(i);s.wu.add(0),yield e9(s),s.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(a4(n=me(n,v3)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,SY("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function IA1(n){return function(e){const t=new w4;return e.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return function eA1(n,e){return gA.apply(this,arguments)}(yield FA(e),t)})),t.promise}(a4(n=me(n,v3)))}(this._delegate)}onSnapshotsInSync(e){return function dI1(n,e){return function MA1(n,e){const t=new B_(e);return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return r=yield o9(n),i=t,u2(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return r=yield o9(n),i=t,void u2(r).bu.delete(i);var r,i}))}}(a4(n=me(n,v3)),jA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new F1("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new l9(this,AY(this._delegate,e))}catch(t){throw Nt(t,"collection()","Firestore.collection()")}}doc(e){try{return new dn(this,G_(this._delegate,e))}catch(t){throw Nt(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Dt(this,function VA1(n,e){if(n=me(n,Uh),BA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new F1(_1.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ct(n,null,(t=e,new K8(ge.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Nt(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function pI1(n,e,t){n=me(n,v3);const r=Object.assign(Object.assign({},rI1),t);return function(i){if(i.maxAttempts<1)throw new F1(_1.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function LA1(n,e,t){const r=new w4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){const i=yield(s=n,j_(s).then(l=>l.datastore));var s;new pA1(n.asyncQueue,i,t,e,r).run()})),r.promise}(a4(n),i=>e(new CI1(n,i)),r)}(this._delegate,t=>e(new cQ(this,t)))}batch(){return a4(this._delegate),new lQ(new eQ(this._delegate,e=>c9(this._delegate,e)))}loadBundle(e){return function kA1(n,e){const t=a4(n=me(n,v3)),r=new HA1;return function bA1(n,e,t,r){const i=function(s,l){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,C=function(C,v){if(C instanceof Uint8Array)return yY(C,v);if(C instanceof ArrayBuffer)return yY(new Uint8Array(C),v);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new dA1(C,l);var C}(t,Rh(e));n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){!function fA1(n,e,t){const r=u2(n);var i;(i=(0,w1.Z)(function*(s,l,h){try{const C=yield l.getMetadata();if(yield function(S,x){const I=u2(S),K=V4(x.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",o1=>I._s.getBundleMetadata(o1,x.id)).then(o1=>!!o1&&o1.createTime.compareTo(K)>=0)}(s.localStore,C))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(S=C).totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}),Promise.resolve(new Set);h._updateProgress(cY(C));const v=new qT1(C,s.localStore,l.M);let b=yield l.ma();for(;b;){const S=yield v.Fu(b);S&&h._updateProgress(S),b=yield l.ma()}const z=yield v.complete();return yield Y8(s,z.Lu,void 0),yield function(S,x){const I=u2(S);return I.persistence.runTransaction("Save bundle","readwrite",K=>I._s.saveBundleMetadata(K,x))}(s.localStore,C),h._completeWith(z.progress),Promise.resolve(z.Bu)}catch(C){return lh("SyncEngine",`Loading bundle failed with ${C}`),h._failWith(C),Promise.resolve(new Set)}var S}),function(s,l,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield FA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function PA1(n,e){return function zA1(n,e){return n.asyncQueue.enqueue((0,w1.Z)(function*(){return function(t,r){const i=u2(t);return i.persistence.runTransaction("Get named query","readonly",s=>i._s.getNamedQuery(s,r))}(yield OA(n),e)}))}(a4(n=me(n,v3)),e).then(t=>t?new ct(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Dt(this,t):null)}}class X_ extends KA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wh(new Z5(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return dn.forKey(t,this.firestore,null)}}class cQ{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new X_(e)}get(e){const t=da(e);return this._delegate.get(t).then(r=>new $h(this._firestore,new J8(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=da(e);return r?(QA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=da(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=da(e);return this._delegate.delete(t),this}}class lQ{constructor(e){this._delegate=e}set(e,t,r){const i=da(e);return r?(QA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=da(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=da(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ha{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new qh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zh(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ha.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new ha(e,new X_(e),t),i.set(t,s)),s}}ha.INSTANCES=new WeakMap;class dn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new X_(e)}static forPath(e,t,r){if(e.length%2!=0)throw new F1("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new dn(t,new f3(t._delegate,r,new s2(e)))}static forKey(e,t,r){return new dn(t,new f3(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new l9(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new l9(this.firestore,AY(this._delegate,e))}catch(t){throw Nt(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,D.m9)(e))instanceof f3&&IY(this._delegate,e)}set(e,t){t=QA("DocumentReference.set",t);try{return t?tQ(this._delegate,e,t):tQ(this._delegate,e)}catch(r){throw Nt(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?nQ(this._delegate,e):nQ(this._delegate,e,t,...r)}catch(i){throw Nt(i,"updateDoc()","DocumentReference.update()")}}delete(){return function fI1(n){return c9(me(n.firestore,v3),[new Lh(n._key,i4.none())])}(this._delegate)}onSnapshot(...e){const t=uQ(e),r=fQ(e,i=>new $h(this.firestore,new J8(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return rQ(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function aI1(n){n=me(n,f3);const e=me(n.firestore,v3),t=a4(e),r=new fa(e);return function yA1(n,e){const t=new w4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return(r=(0,w1.Z)(function*(i,s,l){try{const h=yield function(C,v){const b=u2(C);return b.persistence.runTransaction("read document","readonly",z=>b.fi.Ls(z,v))}(i,s);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new F1(_1.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const C=r9(h,`Failed to get document '${s} from cache`);l.reject(C)}}),function(i,s,l){return r.apply(this,arguments)})(yield OA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new J8(e,r,n._key,i,new ua(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function oI1(n){n=me(n,f3);const e=me(n.firestore,v3);return zY(a4(e),n._key,{source:"server"}).then(t=>YA(e,n,t))}(this._delegate):function sI1(n){n=me(n,f3);const e=me(n.firestore,v3);return zY(a4(e),n._key).then(t=>YA(e,n,t))}(this._delegate),t.then(r=>new $h(this.firestore,new J8(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new dn(this.firestore,this._delegate.withConverter(e?ha.getInstance(this.firestore,e):null))}}function Nt(n,e,t){return n.message=n.message.replace(e,t),n}function uQ(n){for(const e of n)if("object"==typeof e&&!JA(e))return e;return{}}function fQ(n,e){var t,r;let i;return i=JA(n[0])?n[0]:JA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class $h{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new dn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return GY(this._delegate,e._delegate)}}class Zh extends $h{data(e){const t=this._delegate.data(e);return function zE1(n,e){n||_2()}(void 0!==t),t}}class Dt{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new X_(e)}where(e,t,r){try{return new Dt(this.firestore,Z0(this._delegate,function ZA1(n,e,t){const r=e,i=Q_("where",n);return new $A1(i,r,t)}(e,t,r)))}catch(i){throw Nt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Dt(this.firestore,Z0(this._delegate,function YA1(n,e="asc"){const t=e,r=Q_("orderBy",n);return new KA1(r,t)}(e,t)))}catch(r){throw Nt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Dt(this.firestore,Z0(this._delegate,function QA1(n){return xY("limit",n),new $Y("limit",n,"F")}(e)))}catch(t){throw Nt(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Dt(this.firestore,Z0(this._delegate,function JA1(n){return xY("limitToLast",n),new $Y("limitToLast",n,"L")}(e)))}catch(t){throw Nt(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Dt(this.firestore,Z0(this._delegate,function XA1(...n){return new ZY("startAt",n,!0)}(...e)))}catch(t){throw Nt(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Dt(this.firestore,Z0(this._delegate,function eI1(...n){return new ZY("startAfter",n,!1)}(...e)))}catch(t){throw Nt(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Dt(this.firestore,Z0(this._delegate,function tI1(...n){return new KY("endBefore",n,!1)}(...e)))}catch(t){throw Nt(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Dt(this.firestore,Z0(this._delegate,function nI1(...n){return new KY("endAt",n,!0)}(...e)))}catch(t){throw Nt(t,"endAt()","Query.endAt()")}}isEqual(e){return NY(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function lI1(n){n=me(n,ct);const e=me(n.firestore,v3),t=a4(e),r=new fa(e);return function _A1(n,e){const t=new w4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return(r=(0,w1.Z)(function*(i,s,l){try{const h=yield k_(i,s,!0),C=new fY(s,h._i),v=C.Wu(h.documents),b=C.applyChanges(v,!1);l.resolve(b.snapshot)}catch(h){const C=r9(h,`Failed to execute query '${s} against cache`);l.reject(C)}}),function(i,s,l){return r.apply(this,arguments)})(yield OA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new $0(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function uI1(n){n=me(n,ct);const e=me(n.firestore,v3),t=a4(e),r=new fa(e);return wY(t,n._query,{source:"server"}).then(i=>new $0(e,r,n,i))}(this._delegate):function cI1(n){n=me(n,ct);const e=me(n.firestore,v3),t=a4(e),r=new fa(e);return WY(n._query),wY(t,n._query).then(i=>new $0(e,r,n,i))}(this._delegate),t.then(r=>new XA(this.firestore,new $0(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=uQ(e),r=fQ(e,i=>new XA(this.firestore,new $0(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return rQ(this._delegate,t,r)}withConverter(e){return new Dt(this.firestore,this._delegate.withConverter(e?ha.getInstance(this.firestore,e):null))}}class VI1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Zh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class XA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Dt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Zh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new VI1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Zh(this._firestore,r))})}isEqual(e){return GY(this._delegate,e._delegate)}}class l9 extends Dt{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new dn(this.firestore,e):null}doc(e){try{return new dn(this.firestore,void 0===e?G_(this._delegate):G_(this._delegate,e))}catch(t){throw Nt(t,"doc()","CollectionReference.doc()")}}add(e){return function hI1(n,e){const t=me(n.firestore,v3),r=G_(n),i=J_(n.converter,e);return c9(t,[Z_(ca(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,i4.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new dn(this.firestore,t))}isEqual(e){return IY(this._delegate,e._delegate)}withConverter(e){return new l9(this.firestore,this._delegate.withConverter(e?ha.getInstance(this.firestore,e):null))}}function da(n){return me(n,f3)}class eI{constructor(...e){this._delegate=new Q8(...e)}static documentId(){return new eI(u4.keyField().canonicalString())}isEqual(e){return(e=(0,D.m9)(e))instanceof Q8&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ca{constructor(e){this._delegate=e}static serverTimestamp(){const e=function gI1(){return new qA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ca(e)}static delete(){const e=function mI1(){return new Bh("deleteField")}();return e._methodName="FieldValue.delete",new Ca(e)}static arrayUnion(...e){const t=function vI1(...n){return new UA1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ca(t)}static arrayRemove(...e){const t=function yI1(...n){return new BA1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ca(t)}static increment(e){const t=function _I1(n){return new jA1("increment",n)}(e);return t._methodName="FieldValue.increment",new Ca(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const SI1={Firestore:oQ,GeoPoint:W_,Timestamp:$3,Blob:Wh,Transaction:cQ,WriteBatch:lQ,DocumentReference:dn,DocumentSnapshot:$h,Query:Dt,QueryDocumentSnapshot:Zh,QuerySnapshot:XA,CollectionReference:l9,FieldPath:eI,FieldValue:Ca,setLogLevel:function wI1(n){!function bE1(n){k0.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function hQ(n,e){return function xI1(n,e=dV.z){return new Ke.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function tI(n,e){return hQ(n,e).pipe((0,b2.U)(t=>({payload:t,type:"query"})))}function eM(n,e){return tI(n,e).pipe(mt(void 0),By(),(0,b2.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,h)=>{const C=i.find(b=>b.doc.ref.isEqual(l.ref)),v=null==t?void 0:t.payload.docs.find(b=>b.ref.isEqual(l.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(l.metadata)||!C&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),s}))}function dQ(n,e,t){return eM(n,t).pipe(J4((r,i)=>function AI1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function II1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return nI(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return nI(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nI(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),pV(),(0,b2.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function nI(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function CQ(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function EI1(n){(function HI1(n,e){n.INTERNAL.registerComponent(new Bn.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},SI1)))})(n,(e,t)=>new oQ(e,t,new zI1)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(mV.Z);class pQ{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=eM(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,b2.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(mt(void 0),By(),D4(([r,i])=>i.length>0||!r),(0,b2.U)(([r,i])=>i),re.iC)}auditTrail(e){return this.stateChanges(e).pipe(J4((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CQ(e);return dQ(this.query,t,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return tI(this.query,this.afs.schedulers.outsideAngular).pipe((0,b2.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),re.iC)}get(e){return(0,Ue.D)(this.query.get(e)).pipe(re.iC)}add(e){return this.ref.add(e)}doc(e){return new mQ(this.ref.doc(e),this.afs)}}class mQ{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=yQ(r,t);return new pQ(i,s,this.afs)}snapshotChanges(){return function TI1(n,e){return hQ(n,e).pipe(mt(void 0),By(),(0,b2.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,b2.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ue.D)(this.ref.get(e)).pipe(re.iC)}}class NI1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?eM(this.query,this.afs.schedulers.outsideAngular).pipe((0,b2.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),D4(t=>t.length>0),re.iC):eM(this.query,this.afs.schedulers.outsideAngular).pipe(re.iC)}auditTrail(e){return this.stateChanges(e).pipe(J4((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CQ(e);return dQ(this.query,t,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return tI(this.query,this.afs.schedulers.outsideAngular).pipe((0,b2.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),re.iC)}get(e){return(0,Ue.D)(this.query.get(e)).pipe(re.iC)}}const gQ=new u.OlP("angularfire2.enableFirestorePersistence"),vQ=new u.OlP("angularfire2.firestore.persistenceSettings"),DI1=new u.OlP("angularfire2.firestore.settings"),kI1=new u.OlP("angularfire2.firestore.use-emulator");function yQ(n,e=(t=>t)){return{query:e(n),ref:n}}let PI1=(()=>{class n{constructor(t,r,i,s,l,h,C,v,b,z,S,x,I,K,o1,R1,U1){this.schedulers=C;const $1=(0,b3.on)(t,h,r),J1=b;z&&JS($1,h,S,I,K,o1,x,R1),[this.firestore,this.persistenceEnabled$]=(0,b3.cc)(`${$1.name}.firestore`,"AngularFirestore",$1.name,()=>{const v2=h.runOutsideAngular(()=>$1.firestore());if(s&&v2.settings(s),J1&&v2.useEmulator(...J1),i&&!ht(l)){const x2=()=>{try{return(0,Ue.D)(v2.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(te){return"undefined"!=typeof console&&console.warn(te),L2(!1)}};return[v2,h.runOutsideAngular(x2)]}return[v2,L2(!1)]},[s,J1,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=yQ(i,r),h=this.schedulers.ngZone.run(()=>s);return new pQ(h,l,this)}collectionGroup(t,r){const i=r||(l=>l),s=this.firestore.collectionGroup(t);return new NI1(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new mQ(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(b3.Dh),u.LFG(b3.xv,8),u.LFG(gQ,8),u.LFG(DI1,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(re.HU),u.LFG(vQ,8),u.LFG(kI1,8),u.LFG(gf,8),u.LFG(WS,8),u.LFG($S,8),u.LFG(ZS,8),u.LFG(KS,8),u.LFG(YS,8),u.LFG(QS,8),u.LFG(mf,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),RI1=(()=>{class n{constructor(){ws.Z.registerVersion("angularfire",re.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:gQ,useValue:!0},{provide:vQ,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[PI1]}),n})();var _Q=A(655),OI1=A(7982);const LQ="firebase_screen_id",iI="outlet",Kh="screen_class",bQ="screen_name";let JI1=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const sI={},XI1=n=>{const e=[n[Kh],n[iI]].join("#");if(sI.hasOwnProperty(e))return sI[e];{const t=JI1++;return sI[e]=t,t}},sN1=new u.OlP("angularfire2.analytics.analyticsCollectionEnabled"),aN1=new u.OlP("angularfire2.analytics.appVersion"),oN1=new u.OlP("angularfire2.analytics.appName"),cN1=new u.OlP("angularfire2.analytics.debugMode"),lN1=new u.OlP("angularfire2.analytics.config"),tM="dataLayer";let Yh=(()=>{class n{constructor(t,r,i,s,l,h,C,v,b){if(this.analyticsInitialized=new Promise(()=>{}),function q3(n){return n===Z4}(C)){window[tM]=window[tM]||[];const S=(...K)=>"config"===K[0]&&"firebase"===K[2].origin&&(this.measurementId=K[1],!0),x=K=>{window.gtag=(...o1)=>{K&&K(...o1),"event"===o1[0]&&o1[2].send_to===this.measurementId&&(s&&(o1[2].app_name=s),i&&(o1[2].app_version=i)),l&&"undefined"!=typeof console&&console.info(...o1),function(...R1){window[tM].push(arguments)}(...o1)}};window[tM].some(S)?(this.analyticsInitialized=Promise.resolve(),x()):this.analyticsInitialized=new Promise(K=>{x((...o1)=>{S(...o1)&&K()})}),h&&this.updateConfig(h),l&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const z=L2(void 0).pipe((0,hf.Q)(b.outsideAngular),De(OI1.Gb),De(S=>S?v.runOutsideAngular(()=>A.e(643).then(A.bind(A,8643))):f5.E),(0,b2.U)(()=>(0,b3.cc)("analytics","AngularFireAnalytics",t.name,()=>{const S=t.analytics();return!1===r&&S.setAnalyticsCollectionEnabled(!1),S},[t,r,h,l])),SS({bufferSize:1,refCount:!1}));return(0,b3.pX)(this,z,v)}updateConfig(t){return(0,_Q.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(b3.Ot),u.LFG(sN1,8),u.LFG(aN1,8),u.LFG(oN1,8),u.LFG(cN1,8),u.LFG(lN1,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(re.HU))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),wQ=(()=>{class n{constructor(t,r,i,s){if(this.disposables=[],ws.Z.registerVersion("angularfire",re.q4.full,"compat-user-tracking"),ht(r))this.initialized=Promise.resolve();else{let l;this.initialized=s.runOutsideAngular(()=>new Promise(h=>l=h)),this.disposables=[i.authState.subscribe(h=>{t.setUserId(null==h?void 0:h.uid),l()}),i.credential.subscribe(h=>{if(h){const C=h.user.isAnonymous?"anonymous":h.additionalUserInfo.providerId;h.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:C}),t.logEvent("login",{method:C})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yh),u.LFG(u.Lbi),u.LFG(gf),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),mN1=(()=>{class n{constructor(t,r,i,s,l,h){if(ws.Z.registerVersion("angularfire",re.q4.full,"compat-screen-tracking"),!r||!t)return this;l.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(D4(i=>i instanceof F6)).pipe(De(i=>{var s;const h=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,x=>x.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",C=n.routerState.root.children.map(x=>x).find(x=>x.outlet===i.snapshot.outlet);if(!C)return L2(null);let v=C;for(;v.firstChild;)v=v.firstChild;const b=v.pathFromRoot.map(x=>{var I;return null===(I=x.routeConfig)||void 0===I?void 0:I.path}).filter(x=>x).join("/")||"/",z={[bQ]:b,page_path:`/${h}`,firebase_event_origin:"auto",firebase_screen:b,[iI]:i.snapshot.outlet};e&&(z.page_title=e.getTitle());let S=C.component;if(S){if(S===Ir){let x=i.snapshot;for(;x.firstChild;)x=x.firstChild;S=x.component}}else S=i.snapshot.component;if("string"==typeof S)return L2(Object.assign(Object.assign({},z),{[Kh]:S}));if(S){const x=t.resolveComponentFactory(S);return L2(Object.assign(Object.assign({},z),{[Kh]:x.selector}))}return L2(null)}),D4(i=>!!i),(0,b2.U)(i=>Object.assign({firebase_screen_class:i[Kh],[LQ]:XI1(i)},i)),function FI1(n,e,t,r){return(0,N3.e)((i,s)=>{let l;e&&"function"!=typeof e?({duration:t,element:l,connector:r}=e):l=e;const h=new Map,C=I=>{h.forEach(I),I(s)},v=I=>C(K=>K.error(I));let b=0,z=!1;const S=new Ge.Q(s,I=>{try{const K=n(I);let o1=h.get(K);if(!o1){h.set(K,o1=r?r():new C3.x);const R1=function x(I,K){const o1=new Ke.y(R1=>{b++;const U1=K.subscribe(R1);return()=>{U1.unsubscribe(),0==--b&&z&&S.unsubscribe()}});return o1.key=I,o1}(K,o1);if(s.next(R1),t){const U1=(0,Ge.x)(o1,()=>{o1.complete(),null==U1||U1.unsubscribe()},void 0,void 0,()=>h.delete(K));S.add((0,c6.Xf)(t(R1)).subscribe(U1))}}o1.next(l?l(I):I)}catch(K){v(K)}},()=>C(I=>I.complete()),v,()=>h.clear(),()=>(z=!0,0===b));i.subscribe(S)})}(i=>i[iI]),(0,n3.z)(i=>i.pipe(pV((s,l)=>JSON.stringify(s)===JSON.stringify(l)),mt(void 0),By(),(0,b2.U)(([s,l])=>s?Object.assign({firebase_previous_class:s[Kh],firebase_previous_screen:s[bQ],firebase_previous_id:s[LQ]},l):l)))))(r,i,s).pipe(De(C=>(0,_Q.mG)(this,void 0,void 0,function*(){return h&&(yield h.initialized),yield t.logEvent("screen_view",C)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yh),u.LFG(P3,8),u.LFG(s5,8),u.LFG(u._Vd),u.LFG(u.R0b),u.LFG(wQ,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),gN1=(()=>{class n{constructor(t,r,i){ws.Z.registerVersion("angularfire",re.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yh),u.LFG(mN1,8),u.LFG(wQ,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Yh]}),n})();const VQ_firebaseConfig={apiKey:"AIzaSyAC1b-XIKuTK9W12RTqynckEL_erWODNCU",authDomain:"rickryanmedillo-7e31a.firebaseapp.com",databaseURL:"https://rickryanmedillo-7e31a-default-rtdb.firebaseio.com",projectId:"rickryanmedillo-7e31a",storageBucket:"rickryanmedillo-7e31a.appspot.com",messagingSenderId:"798061190719",appId:"1:798061190719:web:e8dc1c89aabb2b3fe9628a",measurementId:"G-3P2QXQHE9J"};let vN1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[Sz1]}),n.\u0275inj=u.cJS({providers:[t6],imports:[[i5,Zp1,mu1,xC1,uf1,mj,wp1,Hz1,wV1,b3.hO.initializeApp(VQ_firebaseConfig),gN1,cc1,RI1,pH1,Lc1,tp1.forRoot()]]}),n})();(0,u.G48)(),ni().bootstrapModule(vN1).catch(n=>console.error(n))},7982:(c2,z1,A)=>{A.d(z1,{Gb:()=>u.Gb});var u=A(579)},5867:(c2,z1,A)=>{A.d(z1,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=A(9681);(0,u.registerVersion)("firebase","9.8.1","app")},127:(c2,z1,A)=>{A.d(z1,{Z:()=>u.Z});var u=A(7271);u.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(c2,z1,A)=>{A.r(z1);var u=A(5861),t1=A(7271),R=A(2090),h1=A(9681),g1=A(655),b1=A(1877),l1=A(4859);const O1=function j1(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},G1=function V1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},m1=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),o2=new b1.Yd("@firebase/auth");function t2(y,...p){o2.logLevel<=b1.in.ERROR&&o2.error(`Auth (${h1.SDK_VERSION}): ${y}`,...p)}function A1(y,...p){throw B1(y,...p)}function H1(y,...p){return B1(y,...p)}function E1(y,p,g){const M=Object.assign(Object.assign({},G1()),{[p]:g});return new R.LL("auth","Firebase",M).create(p,{appName:y.name})}function X1(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&A1(y,"argument-error"),E1(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function B1(y,...p){if("string"!=typeof y){const g=p[0],M=[...p.slice(1)];return M[0]&&(M[0].appName=y.name),y._errorFactory.create(g,...M)}return m1.create(y,...p)}function q(y,p,...g){if(!y)throw B1(p,...g)}function U(y){const p="INTERNAL ASSERTION FAILED: "+y;throw t2(p),new Error(p)}function e1(y,p){y||U(p)}const d1=new Map;function c1(y){e1(y instanceof Function,"Expected a class definition");let p=d1.get(y);return p?(e1(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,d1.set(y,p),p)}function M2(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function k2(){return"http:"===Ee()||"https:"===Ee()}function Ee(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Le{constructor(p,g){this.shortDelay=p,this.longDelay=g,e1(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function a2(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(k2()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ce(y,p){e1(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class V3{static initialize(p,g,M){this.fetchImpl=p,g&&(this.headersImpl=g),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void U("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void U("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void U("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},S3=new Le(3e4,6e4);function O2(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function P2(y,p,g,M){return Re.apply(this,arguments)}function Re(){return(Re=(0,u.Z)(function*(y,p,g,M,V={}){return x4(y,V,(0,u.Z)(function*(){let T={},X={};M&&("GET"===p?X=M:T={body:JSON.stringify(M)});const M1=(0,R.xO)(Object.assign({key:y.config.apiKey},X)).slice(1),Y1=yield y._getAdditionalHeaders();return Y1["Content-Type"]="application/json",y.languageCode&&(Y1["X-Firebase-Locale"]=y.languageCode),V3.fetch()(F3(y,y.config.apiHost,g,M1),Object.assign({method:p,headers:Y1,referrerPolicy:"no-referrer"},T))}))})).apply(this,arguments)}function x4(y,p,g){return o3.apply(this,arguments)}function o3(){return(o3=(0,u.Z)(function*(y,p,g){y._canInitEmulator=!1;const M=Object.assign(Object.assign({},ie),p);try{const V=new _3(y),T=yield Promise.race([g(),V.promise]);V.clearNetworkTimeout();const X=yield T.json();if("needConfirmation"in X)throw h3(y,"account-exists-with-different-credential",X);if(T.ok&&!("errorMessage"in X))return X;{const M1=T.ok?X.errorMessage:X.error.message,[Y1,l2]=M1.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Y1)throw h3(y,"credential-already-in-use",X);if("EMAIL_EXISTS"===Y1)throw h3(y,"email-already-in-use",X);const A2=M[Y1]||Y1.toLowerCase().replace(/[_\s]+/g,"-");if(l2)throw E1(y,A2,l2);A1(y,A2)}}catch(V){if(V instanceof R.ZR)throw V;A1(y,"network-request-failed")}})).apply(this,arguments)}function be(y,p,g,M){return y3.apply(this,arguments)}function y3(){return(y3=(0,u.Z)(function*(y,p,g,M,V={}){const T=yield P2(y,p,g,M,V);return"mfaPendingCredential"in T&&A1(y,"multi-factor-auth-required",{_serverResponse:T}),T})).apply(this,arguments)}function F3(y,p,g,M){const V=`${p}${g}?${M}`;return y.config.emulator?Ce(y.config,V):`${y.config.apiScheme}://${V}`}class _3{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,M)=>{this.timer=setTimeout(()=>M(H1(this.auth,"network-request-failed")),S3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function h3(y,p,g){const M={appName:y.name};g.email&&(M.email=g.email),g.phoneNumber&&(M.phoneNumber=g.phoneNumber);const V=H1(y,p,M);return V.customData._tokenResponse=g,V}function M3(){return(M3=(0,u.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function he(y,p){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,u.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function K3(y,p){return H3.apply(this,arguments)}function H3(){return(H3=(0,u.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function We(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function c4(){return(c4=(0,u.Z)(function*(y,p=!1){const g=(0,R.m9)(y),M=yield g.getIdToken(p),V=h2(M);q(V&&V.exp&&V.auth_time&&V.iat,g.auth,"internal-error");const T="object"==typeof V.firebase?V.firebase:void 0,X=null==T?void 0:T.sign_in_provider;return{claims:V,token:M,authTime:We(Z2(V.auth_time)),issuedAtTime:We(Z2(V.iat)),expirationTime:We(Z2(V.exp)),signInProvider:X||null,signInSecondFactor:(null==T?void 0:T.sign_in_second_factor)||null}})).apply(this,arguments)}function Z2(y){return 1e3*Number(y)}function h2(y){const[p,g,M]=y.split(".");if(void 0===p||void 0===g||void 0===M)return t2("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,R.tV)(g);return V?JSON.parse(V):(t2("Failed to decode base64 JWT payload"),null)}catch(V){return t2("Caught error parsing JWT payload as JSON",V),null}}function ye(y,p){return Y3.apply(this,arguments)}function Y3(){return(Y3=(0,u.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(M){throw M instanceof R.ZR&&G2(M)&&y.auth.currentUser===y&&(yield y.auth.signOut()),M}})).apply(this,arguments)}function G2({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Q3{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const V=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const M=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),M)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Xe{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=We(this.lastLoginAt),this.creationTime=We(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $e(y){return O.apply(this,arguments)}function O(){return(O=(0,u.Z)(function*(y){var p;const g=y.auth,M=yield y.getIdToken(),V=yield ye(y,K3(g,{idToken:M}));q(null==V?void 0:V.users.length,g,"internal-error");const T=V.users[0];y._notifyReloadListener(T);const X=(null===(p=T.providerUserInfo)||void 0===p?void 0:p.length)?B(T.providerUserInfo):[],M1=T1(y.providerData,X),A2=!!y.isAnonymous&&!(y.email&&T.passwordHash||(null==M1?void 0:M1.length)),H2={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:M1,metadata:new Xe(T.createdAt,T.lastLoginAt),isAnonymous:A2};Object.assign(y,H2)})).apply(this,arguments)}function Q(){return(Q=(0,u.Z)(function*(y){const p=(0,R.m9)(y);yield $e(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function T1(y,p){return[...y.filter(M=>!p.some(V=>V.providerId===M.providerId)),...p]}function B(y){return y.map(p=>{var{providerId:g}=p,M=(0,g1._T)(p,["providerId"]);return{providerId:g,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function j(){return(j=(0,u.Z)(function*(y,p){const g=yield x4(y,{},(0,u.Z)(function*(){const M=(0,R.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:V,apiKey:T}=y.config,X=F3(y,V,"/v1/token",`key=${T}`),M1=yield y._getAdditionalHeaders();return M1["Content-Type"]="application/x-www-form-urlencoded",V3.fetch()(X,{method:"POST",headers:M1,body:M})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class s1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){q(p.idToken,"internal-error"),q(void 0!==p.idToken,"internal-error"),q(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function y2(y){const p=h2(y);return q(p,"internal-error"),q(void 0!==p.exp,"internal-error"),q(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var M=this;return(0,u.Z)(function*(){return q(!M.accessToken||M.refreshToken,p,"user-token-expired"),g||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(p,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var M=this;return(0,u.Z)(function*(){const{accessToken:V,refreshToken:T,expiresIn:X}=yield function n1(y,p){return j.apply(this,arguments)}(p,g);M.updateTokensAndExpiration(V,T,Number(X))})()}updateTokensAndExpiration(p,g,M){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(p,g){const{refreshToken:M,accessToken:V,expirationTime:T}=g,X=new s1;return M&&(q("string"==typeof M,"internal-error",{appName:p}),X.refreshToken=M),V&&(q("string"==typeof V,"internal-error",{appName:p}),X.accessToken=V),T&&(q("number"==typeof T,"internal-error",{appName:p}),X.expirationTime=T),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new s1,this.toJSON())}_performRefresh(){return U("not implemented")}}function y1(y,p){q("string"==typeof y||void 0===y,"internal-error",{appName:p})}class D1{constructor(p){var{uid:g,auth:M,stsTokenManager:V}=p,T=(0,g1._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=M,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=T.displayName||null,this.email=T.email||null,this.emailVerified=T.emailVerified||!1,this.phoneNumber=T.phoneNumber||null,this.photoURL=T.photoURL||null,this.isAnonymous=T.isAnonymous||!1,this.tenantId=T.tenantId||null,this.providerData=T.providerData?[...T.providerData]:[],this.metadata=new Xe(T.createdAt||void 0,T.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const M=yield ye(g,g.stsTokenManager.getToken(g.auth,p));return q(M,g.auth,"internal-error"),g.accessToken!==M&&(g.accessToken=M,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),M})()}getIdTokenResult(p){return function E3(y){return c4.apply(this,arguments)}(this,p)}reload(){return function Y(y){return Q.apply(this,arguments)}(this)}_assign(p){this!==p&&(q(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new D1(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var M=this;return(0,u.Z)(function*(){let V=!1;p.idToken&&p.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(p),V=!0),g&&(yield $e(M)),yield M.auth._persistUserIfCurrent(M),V&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield ye(p,function V2(y,p){return M3.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var M,V,T,X,M1,Y1,l2,A2;const H2=null!==(M=g.displayName)&&void 0!==M?M:void 0,Ye=null!==(V=g.email)&&void 0!==V?V:void 0,v4=null!==(T=g.phoneNumber)&&void 0!==T?T:void 0,V8=null!==(X=g.photoURL)&&void 0!==X?X:void 0,B9=null!==(M1=g.tenantId)&&void 0!==M1?M1:void 0,W6=null!==(Y1=g._redirectEventId)&&void 0!==Y1?Y1:void 0,Pr=null!==(l2=g.createdAt)&&void 0!==l2?l2:void 0,Rr=null!==(A2=g.lastLoginAt)&&void 0!==A2?A2:void 0,{uid:Oi,emailVerified:Or,isAnonymous:P3,providerData:Fi,stsTokenManager:Ui}=g;q(Oi&&Ui,p,"internal-error");const Bi=s1.fromJSON(this.name,Ui);q("string"==typeof Oi,p,"internal-error"),y1(H2,p.name),y1(Ye,p.name),q("boolean"==typeof Or,p,"internal-error"),q("boolean"==typeof P3,p,"internal-error"),y1(v4,p.name),y1(V8,p.name),y1(B9,p.name),y1(W6,p.name),y1(Pr,p.name),y1(Rr,p.name);const Fn=new D1({uid:Oi,auth:p,email:Ye,emailVerified:Or,displayName:H2,isAnonymous:P3,photoURL:V8,phoneNumber:v4,tenantId:B9,stsTokenManager:Bi,createdAt:Pr,lastLoginAt:Rr});return Fi&&Array.isArray(Fi)&&(Fn.providerData=Fi.map(x5=>Object.assign({},x5))),W6&&(Fn._redirectEventId=W6),Fn}static _fromIdTokenResponse(p,g,M=!1){return(0,u.Z)(function*(){const V=new s1;V.updateFromServerResponse(g);const T=new D1({uid:g.localId,auth:p,stsTokenManager:V,isAnonymous:M});return yield $e(T),T})()}}const q1=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,M){var V=this;return(0,u.Z)(function*(){V.storage[g]=M})()}_get(g){var M=this;return(0,u.Z)(function*(){const V=M.storage[g];return void 0===V?null:V})()}_remove(g){var M=this;return(0,u.Z)(function*(){delete M.storage[g]})()}_addListener(g,M){}_removeListener(g,M){}}return y.type="NONE",y})();function p2(y,p,g){return`firebase:${y}:${p}:${g}`}class I2{constructor(p,g,M){this.persistence=p,this.auth=g,this.userKey=M;const{config:V,name:T}=this.auth;this.fullUserKey=p2(this.userKey,V.apiKey,T),this.fullPersistenceKey=p2("persistence",V.apiKey,T),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?D1._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const M=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,M?g.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,M="authUser"){return(0,u.Z)(function*(){if(!g.length)return new I2(c1(q1),p,M);const V=(yield Promise.all(g.map(function(){var l2=(0,u.Z)(function*(A2){if(yield A2._isAvailable())return A2});return function(A2){return l2.apply(this,arguments)}}()))).filter(l2=>l2);let T=V[0]||c1(q1);const X=p2(M,p.config.apiKey,p.name);let M1=null;for(const l2 of g)try{const A2=yield l2._get(X);if(A2){const H2=D1._fromJSON(p,A2);l2!==T&&(M1=H2),T=l2;break}}catch(A2){}const Y1=V.filter(l2=>l2._shouldAllowMigration);return T._shouldAllowMigration&&Y1.length?(T=Y1[0],M1&&(yield T._set(X,M1.toJSON())),yield Promise.all(g.map(function(){var l2=(0,u.Z)(function*(A2){if(A2!==T)try{yield A2._remove(X)}catch(H2){}});return function(A2){return l2.apply(this,arguments)}}())),new I2(T,p,M)):new I2(T,p,M)})()}}function pe(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(_e(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(se(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(T4(p))return"Blackberry";if(qe(p))return"Webos";if(U3(p))return"Safari";if((p.includes("chrome/")||h4(p))&&!p.includes("edge/"))return"Chrome";if(xe(p))return"Android";{const M=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function se(y=(0,R.z$)()){return/firefox\//i.test(y)}function U3(y=(0,R.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function h4(y=(0,R.z$)()){return/crios\//i.test(y)}function _e(y=(0,R.z$)()){return/iemobile/i.test(y)}function xe(y=(0,R.z$)()){return/android/i.test(y)}function T4(y=(0,R.z$)()){return/blackberry/i.test(y)}function qe(y=(0,R.z$)()){return/webos/i.test(y)}function x3(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)}function d4(y=(0,R.z$)()){return x3(y)||xe(y)||qe(y)||T4(y)||/windows phone/i.test(y)||_e(y)}function Pt(y,p=[]){let g;switch(y){case"Browser":g=pe((0,R.z$)());break;case"Worker":g=`${pe((0,R.z$)())}-${y}`;break;default:g=y}const M=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${h1.SDK_VERSION}/${M}`}class B3{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const M=T=>new Promise((X,M1)=>{try{X(p(T))}catch(Y1){M1(Y1)}});M.onAbort=g,this.queue.push(M);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===p)return;const M=[];try{for(const V of g.queue)yield V(p),V.onAbort&&M.push(V.onAbort)}catch(V){M.reverse();for(const T of M)try{T()}catch(X){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:V.message})}})()}}class n2{constructor(p,g,M){this.app=p,this.heartbeatServiceProvider=g,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f1(this),this.idTokenSubscription=new f1(this),this.beforeStateQueue=new B3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,g){var M=this;return g&&(this._popupRedirectResolver=c1(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var V,T;if(!M._deleted&&(M.persistenceManager=yield I2.create(M,p),!M._deleted)){if(null===(V=M._popupRedirectResolver)||void 0===V?void 0:V._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch(X){}yield M.initializeCurrentUser(g),M.lastNotifiedUid=(null===(T=M.currentUser)||void 0===T?void 0:T.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var M;const V=yield g.assertedPersistence.getCurrentUser();let T=V,X=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const M1=null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId,Y1=null==T?void 0:T._redirectEventId,l2=yield g.tryRedirectSignIn(p);(!M1||M1===Y1)&&(null==l2?void 0:l2.user)&&(T=l2.user,X=!0)}if(!T)return g.directlySetCurrentUser(null);if(!T._redirectEventId){if(X)try{yield g.beforeStateQueue.runMiddleware(T)}catch(M1){T=V,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(M1))}return T?g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)}return q(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let M=null;try{M=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(V){yield g._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield $e(p)}catch(M){if("auth/network-request-failed"!==M.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function w2(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const M=p?(0,R.m9)(p):null;return M&&q(M.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(M&&M._clone(g))})()}_updateCurrentUser(p,g=!1){var M=this;return(0,u.Z)(function*(){if(!M._deleted)return p&&q(M.tenantId===p.tenantId,M,"tenant-id-mismatch"),g||(yield M.beforeStateQueue.runMiddleware(p)),M.queue((0,u.Z)(function*(){yield M.directlySetCurrentUser(p),M.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(c1(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new R.LL("auth","Firebase",p())}onAuthStateChanged(p,g,M){return this.registerStateListener(this.authStateSubscription,p,g,M)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,M){return this.registerStateListener(this.idTokenSubscription,p,g,M)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var M=this;return(0,u.Z)(function*(){const V=yield M.getOrInitRedirectPersistenceManager(g);return null===p?V.removeCurrentUser():V.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const M=p&&c1(p)||g._popupRedirectResolver;q(M,g,"argument-error"),g.redirectPersistenceManager=yield I2.create(g,[c1(M._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var M,V;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(M=g._currentUser)||void 0===M?void 0:M._redirectEventId)===p?g._currentUser:(null===(V=g.redirectUser)||void 0===V?void 0:V._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,M,V){if(this._deleted)return()=>{};const T="function"==typeof g?g:g.next.bind(g),X=this._isInitialized?Promise.resolve():this._initializationPromise;return q(X,this,"internal-error"),X.then(()=>T(this.currentUser)),"function"==typeof g?p.addObserver(g,M,V):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Pt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var g;const M={"X-Client-Version":p.clientVersion};p.app.options.appId&&(M["X-Firebase-gmpid"]=p.app.options.appId);const V=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return V&&(M["X-Firebase-Client"]=V),M})()}}function F(y){return(0,R.m9)(y)}class f1{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function d2(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Y2(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class ze{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return U("not implemented")}_getIdTokenResponse(p){return U("not implemented")}_linkToIdToken(p,g){return U("not implemented")}_getReauthenticationResolver(p){return U("not implemented")}}function j3(y,p){return S2.apply(this,arguments)}function S2(){return(S2=(0,u.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:resetPassword",O2(y,p))})).apply(this,arguments)}function Rt(y,p){return G4.apply(this,arguments)}function G4(){return(G4=(0,u.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Xn(y,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,u.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:update",O2(y,p))})).apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithPassword",O2(y,p))})).apply(this,arguments)}function ut(y,p){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:sendOobCode",O2(y,p))})).apply(this,arguments)}function we(y,p){return x6.apply(this,arguments)}function x6(){return(x6=(0,u.Z)(function*(y,p){return ut(y,p)})).apply(this,arguments)}function Y5(y,p){return T3.apply(this,arguments)}function T3(){return(T3=(0,u.Z)(function*(y,p){return ut(y,p)})).apply(this,arguments)}function C4(y,p){return e6.apply(this,arguments)}function e6(){return(e6=(0,u.Z)(function*(y,p){return ut(y,p)})).apply(this,arguments)}function Q5(y,p){return ft.apply(this,arguments)}function ft(){return(ft=(0,u.Z)(function*(y,p){return ut(y,p)})).apply(this,arguments)}function J5(){return(J5=(0,u.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithEmailLink",O2(y,p))})).apply(this,arguments)}function X5(){return(X5=(0,u.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithEmailLink",O2(y,p))})).apply(this,arguments)}class A3 extends ze{constructor(p,g,M,V=null){super("password",M),this._email=p,this._password=g,this._tenantId=V}static _fromEmailAndPassword(p,g){return new A3(p,g,"password")}static _fromEmailAndCode(p,g,M=null){return new A3(p,g,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function e3(y,p){return Ft.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function I4(y,p){return J5.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:A1(p,"internal-error")}})()}_linkToIdToken(p,g){var M=this;return(0,u.Z)(function*(){switch(M.signInMethod){case"password":return Rt(p,{idToken:g,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function er(y,p){return X5.apply(this,arguments)}(p,{idToken:g,email:M._email,oobCode:M._password});default:A1(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ut(y,p){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithIdp",O2(y,p))})).apply(this,arguments)}class W4 extends ze{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new W4(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):A1("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:V}=g,T=(0,g1._T)(g,["providerId","signInMethod"]);if(!M||!V)return null;const X=new W4(M,V);return X.idToken=T.idToken||void 0,X.accessToken=T.accessToken||void 0,X.secret=T.secret,X.nonce=T.nonce,X.pendingToken=T.pendingToken||null,X}_getIdTokenResponse(p){return Ut(p,this.buildRequest())}_linkToIdToken(p,g){const M=this.buildRequest();return M.idToken=g,Ut(p,M)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Ut(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,R.xO)(g)}return p}}function nr(y,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:sendVerificationCode",O2(y,p))})).apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithPhoneNumber",O2(y,p))})).apply(this,arguments)}function J0(){return(J0=(0,u.Z)(function*(y,p){const g=yield be(y,"POST","/v1/accounts:signInWithPhoneNumber",O2(y,p));if(g.temporaryProof)throw h3(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const t6={USER_NOT_FOUND:"user-not-found"};function X0(){return(X0=(0,u.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithPhoneNumber",O2(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),t6)})).apply(this,arguments)}class T6 extends ze{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new T6({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new T6({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function ir(y,p){return sr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function u9(y,p){return J0.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function f9(y,p){return X0.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:M,verificationCode:V}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:M,code:V}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:M,phoneNumber:V,temporaryProof:T}=p;return M||g||V||T?new T6({verificationId:g,verificationCode:M,phoneNumber:V,temporaryProof:T}):null}}class e5{constructor(p){var g,M,V,T,X,M1;const Y1=(0,R.zd)((0,R.pd)(p)),l2=null!==(g=Y1.apiKey)&&void 0!==g?g:null,A2=null!==(M=Y1.oobCode)&&void 0!==M?M:null,H2=function ar(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Y1.mode)&&void 0!==V?V:null);q(l2&&A2&&H2,"argument-error"),this.apiKey=l2,this.operation=H2,this.code=A2,this.continueUrl=null!==(T=Y1.continueUrl)&&void 0!==T?T:null,this.languageCode=null!==(X=Y1.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(M1=Y1.tenantId)&&void 0!==M1?M1:null}static parseLink(p){const g=function e8(y){const p=(0,R.zd)((0,R.pd)(y)).link,g=p?(0,R.zd)((0,R.pd)(p)).deep_link_id:null,M=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(M?(0,R.zd)((0,R.pd)(M)).link:null)||M||g||p||y}(p);try{return new e5(g)}catch(M){return null}}}let t8=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,M){return A3._fromEmailAndPassword(g,M)}static credentialWithLink(g,M){const V=e5.parseLink(M);return q(V,"argument-error"),A3._fromEmailAndCode(g,V.code,V.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class J3{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class A6 extends J3{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class $4 extends A6{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return q("providerId"in g&&"signInMethod"in g,"argument-error"),W4._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return q(p.idToken||p.accessToken,"argument-error"),W4._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return $4.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return $4.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:M,oauthTokenSecret:V,pendingToken:T,nonce:X,providerId:M1}=p;if(!M&&!V&&!g&&!T||!M1)return null;try{return new $4(M1)._credential({idToken:g,accessToken:M,nonce:X,pendingToken:T})}catch(Y1){return null}}}let I6=(()=>{class y extends A6{constructor(){super("facebook.com")}static credential(g){return W4._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(M){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),or=(()=>{class y extends A6{constructor(){super("google.com"),this.addScope("profile")}static credential(g,M){return W4._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:M})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:M,oauthAccessToken:V}=g;if(!M&&!V)return null;try{return y.credential(M,V)}catch(T){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ei=(()=>{class y extends A6{constructor(){super("github.com")}static credential(g){return W4._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(M){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Z4 extends ze{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Ut(p,this.buildRequest())}_linkToIdToken(p,g){const M=this.buildRequest();return M.idToken=g,Ut(p,M)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Ut(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:V,pendingToken:T}=g;return M&&V&&T&&M===V?new Z4(M,T):null}static _create(p,g){return new Z4(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bt extends J3{constructor(p){q(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Bt.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Bt.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Z4.fromJSON(p);return q(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:M}=p;if(!g||!M)return null;try{return Z4._create(M,g)}catch(V){return null}}}let t5=(()=>{class y extends A6{constructor(){super("twitter.com")}static credential(g,M){return W4._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:M})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:M,oauthTokenSecret:V}=g;if(!M||!V)return null;try{return y.credential(M,V)}catch(T){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function q3(y,p){return ht.apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signUp",O2(y,p))})).apply(this,arguments)}class K4{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,M,V=!1){return(0,u.Z)(function*(){const T=yield D1._fromIdTokenResponse(p,M,V),X=cr(M);return new K4({user:T,providerId:X,_tokenResponse:M,operationType:g})})()}static _forOperation(p,g,M){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(M,!0);const V=cr(M);return new K4({user:p,providerId:V,_tokenResponse:M,operationType:g})})()}}function cr(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function r8(){return(r8=(0,u.Z)(function*(y){var p;const g=F(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new K4({user:g.currentUser,providerId:null,operationType:"signIn"});const M=yield q3(g,{returnSecureToken:!0}),V=yield K4._fromIdTokenResponse(g,"signIn",M,!0);return yield g._updateCurrentUser(V.user),V})).apply(this,arguments)}class N6 extends R.ZR{constructor(p,g,M,V){var T;super(g.code,g.message),this.operationType=M,this.user=V,Object.setPrototypeOf(this,N6.prototype),this.customData={appName:p.name,tenantId:null!==(T=p.tenantId)&&void 0!==T?T:void 0,_serverResponse:g.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(p,g,M,V){return new N6(p,g,M,V)}}function jt(y,p,g,M){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(T=>{throw"auth/multi-factor-auth-required"===T.code?N6._fromErrorAndOperation(y,T,p,M):T})}function Cn(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Te(){return(Te=(0,u.Z)(function*(y,p){const g=(0,R.m9)(y);yield ae(!0,g,p);const{providerUserInfo:M}=yield he(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),V=Cn(M||[]);return g.providerData=g.providerData.filter(T=>V.has(T.providerId)),V.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Y4(y,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(y,p,g=!1){const M=yield ye(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return K4._forOperation(y,"link",M)})).apply(this,arguments)}function ae(y,p,g){return i8.apply(this,arguments)}function i8(){return(i8=(0,u.Z)(function*(y,p,g){yield $e(p);const V=!1===y?"provider-already-linked":"no-such-provider";q(Cn(p.providerData).has(g)===y,p.auth,V)})).apply(this,arguments)}function s8(y,p){return r6.apply(this,arguments)}function r6(){return(r6=(0,u.Z)(function*(y,p,g=!1){const{auth:M}=y,V="reauthenticate";try{const T=yield ye(y,jt(M,V,p,y),g);q(T.idToken,M,"internal-error");const X=h2(T.idToken);q(X,M,"internal-error");const{sub:M1}=X;return q(y.uid===M1,M,"user-mismatch"),K4._forOperation(y,V,T)}catch(T){throw"auth/user-not-found"===(null==T?void 0:T.code)&&A1(M,"user-mismatch"),T}})).apply(this,arguments)}function X3(y,p){return a8.apply(this,arguments)}function a8(){return(a8=(0,u.Z)(function*(y,p,g=!1){const M="signIn",V=yield jt(y,M,p),T=yield K4._fromIdTokenResponse(y,M,V);return g||(yield y._updateCurrentUser(T.user)),T})).apply(this,arguments)}function mn(y,p){return k.apply(this,arguments)}function k(){return(k=(0,u.Z)(function*(y,p){return X3(F(y),p)})).apply(this,arguments)}function N(y,p){return J.apply(this,arguments)}function J(){return(J=(0,u.Z)(function*(y,p){const g=(0,R.m9)(y);return yield ae(!1,g,p.providerId),Y4(g,p)})).apply(this,arguments)}function C1(y,p){return W1.apply(this,arguments)}function W1(){return(W1=(0,u.Z)(function*(y,p){return s8((0,R.m9)(y),p)})).apply(this,arguments)}function e2(y,p){return T2.apply(this,arguments)}function T2(){return(T2=(0,u.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithCustomToken",O2(y,p))})).apply(this,arguments)}function f2(){return(f2=(0,u.Z)(function*(y,p){const g=F(y),M=yield e2(g,{token:p,returnSecureToken:!0}),V=yield K4._fromIdTokenResponse(g,"signIn",M);return yield g._updateCurrentUser(V.user),V})).apply(this,arguments)}class Ae{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ve._fromServerResponse(p,g):A1(p,"internal-error")}}class Ve extends Ae{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ve(g)}}function j2(y,p,g){var M;q((null===(M=g.url)||void 0===M?void 0:M.length)>0,y,"invalid-continue-uri"),q(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(q(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(q(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function N4(){return(N4=(0,u.Z)(function*(y,p,g){const M=(0,R.m9)(y),V={requestType:"PASSWORD_RESET",email:p};g&&j2(M,V,g),yield Y5(M,V)})).apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(y,p,g){yield j3((0,R.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function U2(){return(U2=(0,u.Z)(function*(y,p){yield Xn((0,R.m9)(y),{oobCode:p})})).apply(this,arguments)}function s6(y,p){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(y,p){const g=(0,R.m9)(y),M=yield j3(g,{oobCode:p}),V=M.requestType;switch(q(V,g,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(M.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(M.mfaInfo,g,"internal-error");default:q(M.email,g,"internal-error")}let T=null;return M.mfaInfo&&(T=Ae._fromServerResponse(F(g),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:T},operation:V}})).apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(y,p){const{data:g}=yield s6((0,R.m9)(y),p);return g.email})).apply(this,arguments)}function o8(){return(o8=(0,u.Z)(function*(y,p,g){const M=F(y),V=yield q3(M,{returnSecureToken:!0,email:p,password:g}),T=yield K4._fromIdTokenResponse(M,"signIn",V);return yield M._updateCurrentUser(T.user),T})).apply(this,arguments)}function ur(){return(ur=(0,u.Z)(function*(y,p,g){const M=(0,R.m9)(y),V={requestType:"EMAIL_SIGNIN",email:p};q(g.handleCodeInApp,M,"argument-error"),g&&j2(M,V,g),yield C4(M,V)})).apply(this,arguments)}function I3(){return(I3=(0,u.Z)(function*(y,p,g){const M=(0,R.m9)(y),V=t8.credentialWithLink(p,g||M2());return q(V._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),mn(M,V)})).apply(this,arguments)}function a6(y,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:createAuthUri",O2(y,p))})).apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(y,p){const M={identifier:p,continueUri:k2()?M2():"http://localhost"},{signinMethods:V}=yield a6((0,R.m9)(y),M);return V||[]})).apply(this,arguments)}function Cr(){return(Cr=(0,u.Z)(function*(y,p){const g=(0,R.m9)(y),V={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&j2(g.auth,V,p);const{email:T}=yield we(g.auth,V);T!==y.email&&(yield y.reload())})).apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(y,p,g){const M=(0,R.m9)(y),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&j2(M.auth,T,g);const{email:X}=yield Q5(M.auth,T);X!==y.email&&(yield y.reload())})).apply(this,arguments)}function ri(y,p){return i5.apply(this,arguments)}function i5(){return(i5=(0,u.Z)(function*(y,p){return P2(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function c8(){return(c8=(0,u.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const M=(0,R.m9)(y),T={idToken:yield M.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},X=yield ye(M,ri(M.auth,T));M.displayName=X.displayName||null,M.photoURL=X.photoUrl||null;const M1=M.providerData.find(({providerId:Y1})=>"password"===Y1);M1&&(M1.displayName=M.displayName,M1.photoURL=M.photoURL),yield M._updateTokensIfNecessary(X)})).apply(this,arguments)}function s5(y,p,g){return pr.apply(this,arguments)}function pr(){return(pr=(0,u.Z)(function*(y,p,g){const{auth:M}=y,T={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(T.email=p),g&&(T.password=g);const X=yield ye(y,Rt(M,T));yield y._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class a5{constructor(p,g,M={}){this.isNewUser=p,this.providerId=g,this.profile=M}}class ba extends a5{constructor(p,g,M,V){super(p,g,M),this.username=V}}class l8 extends a5{constructor(p,g){super(p,"facebook.com",g)}}class D6 extends ba{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class m9 extends a5{constructor(p,g){super(p,"google.com",g)}}class l4 extends ba{constructor(p,g,M){super(p,"twitter.com",g,M)}}function qt(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function La(y){var p,g;if(!y)return null;const{providerId:M}=y,V=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},T=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!M&&(null==y?void 0:y.idToken)){const X=null===(g=null===(p=h2(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(X)return new a5(T,"anonymous"!==X&&"custom"!==X?X:null)}if(!M)return null;switch(M){case"facebook.com":return new l8(T,V);case"github.com":return new D6(T,V);case"google.com":return new m9(T,V);case"twitter.com":return new l4(T,V,y.screenName||null);case"custom":case"anonymous":return new a5(T,null);default:return new a5(T,M,V)}}(g)}class o6{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new o6("enroll",p)}static _fromMfaPendingCredential(p){return new o6("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,M;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return o6._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(M=p.multiFactorSession)||void 0===M?void 0:M.idToken)return o6._fromIdtoken(p.multiFactorSession.idToken)}return null}}class f8{constructor(p,g,M){this.session=p,this.hints=g,this.signInResolver=M}static _fromError(p,g){const M=F(p),V=g.customData._serverResponse,T=(V.mfaInfo||[]).map(M1=>Ae._fromServerResponse(M,M1));q(V.mfaPendingCredential,M,"internal-error");const X=o6._fromMfaPendingCredential(V.mfaPendingCredential);return new f8(X,T,function(){var M1=(0,u.Z)(function*(Y1){const l2=yield Y1._process(M,X);delete V.mfaInfo,delete V.mfaPendingCredential;const A2=Object.assign(Object.assign({},V),{idToken:l2.idToken,refreshToken:l2.refreshToken});switch(g.operationType){case"signIn":const H2=yield K4._fromIdTokenResponse(M,g.operationType,A2);return yield M._updateCurrentUser(H2.user),H2;case"reauthenticate":return q(g.user,M,"internal-error"),K4._forOperation(g.user,g.operationType,A2);default:A1(M,"internal-error")}});return function(Y1){return M1.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function nd(y,p){return P2(y,"POST","/v2/accounts/mfaEnrollment:start",O2(y,p))}class wa{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(M=>Ae._fromServerResponse(p.auth,M)))})}static _fromUser(p){return new wa(p)}getSession(){var p=this;return(0,u.Z)(function*(){return o6._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var M=this;return(0,u.Z)(function*(){const V=p,T=yield M.getSession(),X=yield ye(M.user,V._process(M.user.auth,T,g));return yield M.user._updateTokensIfNecessary(X),M.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const M="string"==typeof p?p:p.uid,V=yield g.user.getIdToken(),T=yield ye(g.user,function mr(y,p){return P2(y,"POST","/v2/accounts/mfaEnrollment:withdraw",O2(y,p))}(g.user.auth,{idToken:V,mfaEnrollmentId:M}));g.enrolledFactors=g.enrolledFactors.filter(({uid:X})=>X!==M),yield g.user._updateTokensIfNecessary(T);try{yield g.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const Va=new WeakMap,o5="__sak";class ii{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(o5,"1"),this.storage.removeItem(o5),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const C3=(()=>{class y extends ii{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,M)=>this.onStorageEvent(g,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rd(){const y=(0,R.z$)();return U3(y)||x3(y)}()&&function d3(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=d4(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const M of Object.keys(this.listeners)){const V=this.storage.getItem(M),T=this.localCache[M];V!==T&&g(M,T,V)}}onStorageEvent(g,M=!1){if(!g.key)return void this.forAllChangedKeys((M1,Y1,l2)=>{this.notifyListeners(M1,l2)});const V=g.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const M1=this.storage.getItem(V);if(g.newValue!==M1)null!==g.newValue?this.storage.setItem(V,g.newValue):this.storage.removeItem(V);else if(this.localCache[V]===g.newValue&&!M)return}const T=()=>{const M1=this.storage.getItem(V);!M&&this.localCache[V]===M1||this.notifyListeners(V,M1)},X=this.storage.getItem(V);!function A4(){return(0,R.w1)()&&10===document.documentMode}()||X===g.newValue||g.newValue===g.oldValue?T():setTimeout(T,10)}notifyListeners(g,M){this.localCache[g]=M;const V=this.listeners[g];if(V)for(const T of Array.from(V))T(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,M,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:M,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,M){var V=()=>super._set,T=this;return(0,u.Z)(function*(){yield V().call(T,g,M),T.localCache[g]=JSON.stringify(M)})()}_get(g){var M=()=>super._get,V=this;return(0,u.Z)(function*(){const T=yield M().call(V,g);return V.localCache[g]=JSON.stringify(T),T})()}_remove(g){var M=()=>super._remove,V=this;return(0,u.Z)(function*(){yield M().call(V,g),delete V.localCache[g]})()}}return y.type="LOCAL",y})(),Ke=(()=>{class y extends ii{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,M){}_removeListener(g,M){}}return y.type="SESSION",y})();let Ha=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const M=this.receivers.find(T=>T.isListeningto(g));if(M)return M;const V=new y(g);return this.receivers.push(V),V}isListeningto(g){return this.eventTarget===g}handleEvent(g){var M=this;return(0,u.Z)(function*(){const V=g,{eventId:T,eventType:X,data:M1}=V.data,Y1=M.handlersMap[X];if(!(null==Y1?void 0:Y1.size))return;V.ports[0].postMessage({status:"ack",eventId:T,eventType:X});const l2=Array.from(Y1).map(function(){var H2=(0,u.Z)(function*(Ye){return Ye(V.origin,M1)});return function(Ye){return H2.apply(this,arguments)}}()),A2=yield function Sa(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(M){return{fulfilled:!1,reason:M}}});return function(g){return p.apply(this,arguments)}}()))}(l2);V.ports[0].postMessage({status:"done",eventId:T,eventType:X,response:A2})})()}_subscribe(g,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(M)}_unsubscribe(g,M){this.handlersMap[g]&&M&&this.handlersMap[g].delete(M),(!M||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Gt(y="",p=10){let g="";for(let M=0;M<p;M++)g+=Math.floor(10*Math.random());return y+g}class v9{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,M=50){var V=this;return(0,u.Z)(function*(){const T="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let X,M1;return new Promise((Y1,l2)=>{const A2=Gt("",20);T.port1.start();const H2=setTimeout(()=>{l2(new Error("unsupported_event"))},M);M1={messageChannel:T,onMessage(Ye){const v4=Ye;if(v4.data.eventId===A2)switch(v4.data.status){case"ack":clearTimeout(H2),X=setTimeout(()=>{l2(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Y1(v4.data.response);break;default:clearTimeout(H2),clearTimeout(X),l2(new Error("invalid_response"))}}},V.handlers.add(M1),T.port1.addEventListener("message",M1.onMessage),V.target.postMessage({eventType:p,eventId:A2,data:g},[T.port2])}).finally(()=>{M1&&V.removeMessageHandler(M1)})})()}}function Be(){return window}function pt(){return void 0!==Be().WorkerGlobalScope&&"function"==typeof Be().importScripts}function gr(){return(gr=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const ai="firebaseLocalStorageDb",l5="firebaseLocalStorage",vr="fbase_key";class k6{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function P6(y,p){return y.transaction([l5],p?"readwrite":"readonly").objectStore(l5)}function Mn(){const y=indexedDB.open(ai,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const M=y.result;try{M.createObjectStore(l5,{keyPath:vr})}catch(V){g(V)}}),y.addEventListener("success",(0,u.Z)(function*(){const M=y.result;M.objectStoreNames.contains(l5)?p(M):(M.close(),yield function oi(){const y=indexedDB.deleteDatabase(ai);return new k6(y).toPromise()}(),p(yield Mn()))}))})}function ci(y,p,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(y,p,g){const M=P6(y,!0).put({[vr]:p,value:g});return new k6(M).toPromise()})).apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(y,p){const g=P6(y,!1).get(p),M=yield new k6(g).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function yr(y,p){const g=P6(y,!0).delete(p);return new k6(g).toPromise()}const R6=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Mn()),g.db})()}_withRetries(g){var M=this;return(0,u.Z)(function*(){let V=0;for(;;)try{const T=yield M._openDb();return yield g(T)}catch(T){if(V++>3)throw T;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return pt()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Ha._getInstance(function xa(){return pt()?self:null}()),g.receiver._subscribe("keyChanged",function(){var M=(0,u.Z)(function*(V,T){return{keyProcessed:(yield g._poll()).includes(T.key)}});return function(V,T){return M.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var M=(0,u.Z)(function*(V,T){return["keyChanged"]});return function(V,T){return M.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var M,V;if(g.activeServiceWorker=yield function b2(){return gr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new v9(g.activeServiceWorker);const T=yield g.sender._send("ping",{},800);!T||(null===(M=T[0])||void 0===M?void 0:M.fulfilled)&&(null===(V=T[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var M=this;return(0,u.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Ea(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:g},M.serviceWorkerReceiverAvailable?800:50)}catch(V){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Mn();return yield ci(g,o5,"1"),yield yr(g,o5),!0}catch(g){}return!1})()}_withPendingWrite(g){var M=this;return(0,u.Z)(function*(){M.pendingWrites++;try{yield g()}finally{M.pendingWrites--}})()}_set(g,M){var V=this;return(0,u.Z)(function*(){return V._withPendingWrite((0,u.Z)(function*(){return yield V._withRetries(T=>ci(T,g,M)),V.localCache[g]=M,V.notifyServiceWorker(g)}))})()}_get(g){var M=this;return(0,u.Z)(function*(){const V=yield M._withRetries(T=>function h8(y,p){return li.apply(this,arguments)}(T,g));return M.localCache[g]=V,V})()}_remove(g){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(V=>yr(V,g)),delete M.localCache[g],M.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const M=yield g._withRetries(X=>{const M1=P6(X,!1).getAll();return new k6(M1).toPromise()});if(!M)return[];if(0!==g.pendingWrites)return[];const V=[],T=new Set;for(const{fbase_key:X,value:M1}of M)T.add(X),JSON.stringify(g.localCache[X])!==JSON.stringify(M1)&&(g.notifyListeners(X,M1),V.push(X));for(const X of Object.keys(g.localCache))g.localCache[X]&&!T.has(X)&&(g.notifyListeners(X,null),V.push(X));return V})()}notifyListeners(g,M){this.localCache[g]=M;const V=this.listeners[g];if(V)for(const T of Array.from(V))T(M)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function N3(y,p){return P2(y,"POST","/v2/accounts/mfaSignIn:start",O2(y,p))}function De(){return(De=(0,u.Z)(function*(y){return(yield P2(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mt(y){return new Promise((p,g)=>{const M=document.createElement("script");M.setAttribute("src",y),M.onload=p,M.onerror=V=>{const T=H1("internal-error");T.customData=V,g(T)},M.type="text/javascript",M.charset="UTF-8",function d8(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(M)})}function zn(y){return`__${y}${Math.floor(1e6*Math.random())}`}const k4=1e12;class n3{constructor(p){this.auth=p,this.counter=k4,this._widgets=new Map}render(p,g){const M=this.counter;return this._widgets.set(M,new wn(p,this.auth.name,g||{})),this.counter++,M}reset(p){var g;const M=p||k4;null===(g=this._widgets.get(M))||void 0===g||g.delete(),this._widgets.delete(M)}getResponse(p){var g;return(null===(g=this._widgets.get(p||k4))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var M;return null===(M=g._widgets.get(p||k4))||void 0===M||M.execute(),""})()}}class wn{constructor(p,g,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof p?document.getElementById(p):p;q(V,"argument-error",{appName:g}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ui(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<y;M++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(M){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(M){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const je=zn("rcb"),y9=new Le(3e4,6e4);class id{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Be().grecaptcha}load(p,g=""){return q(function h5(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Be().grecaptcha):new Promise((M,V)=>{const T=Be().setTimeout(()=>{V(H1(p,"network-request-failed"))},y9.get());Be()[je]=()=>{Be().clearTimeout(T),delete Be()[je];const M1=Be().grecaptcha;if(!M1)return void V(H1(p,"internal-error"));const Y1=M1.render;M1.render=(l2,A2)=>{const H2=Y1(l2,A2);return this.counter++,H2},this.hostLanguage=g,M(M1)},mt(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:je,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(T),V(H1(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Be().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class X4{load(p){return(0,u.Z)(function*(){return new n3(p)})()}clearedOneInstance(){}}const M9="recaptcha",O6={theme:"light",type:"image"};class Vn{constructor(p,g=Object.assign({},O6),M){this.parameters=g,this.type=M9,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=F(M),this.isInvisible="invisible"===this.parameters.size,q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof p?document.getElementById(p):p;q(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new X4:new id,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),M=p.getAssertedRecaptcha();return M.getResponse(g)||new Promise(T=>{const X=M1=>{!M1||(p.tokenChangeListeners.delete(X),T(M1))};p.tokenChangeListeners.add(X),p.isInvisible&&M.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(M=>M(g)),"function"==typeof p)p(g);else if("string"==typeof p){const M=Be()[p];"function"==typeof M&&M(g)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const M=document.createElement("div");g.appendChild(M),g=M}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){q(k2()&&!pt(),p.auth,"internal-error"),yield function _r(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Ta(y){return De.apply(this,arguments)}(p.auth);q(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class r3{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=T6._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Sn(){return(Sn=(0,u.Z)(function*(y,p,g){const M=F(y),V=yield d5(M,p,(0,R.m9)(g));return new r3(V,T=>mn(M,T))})).apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(y,p,g){const M=(0,R.m9)(y);yield ae(!1,M,"phone");const V=yield d5(M.auth,p,(0,R.m9)(g));return new r3(V,T=>N(M,T))})).apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(y,p,g){const M=(0,R.m9)(y),V=yield d5(M.auth,p,(0,R.m9)(g));return new r3(V,T=>C1(M,T))})).apply(this,arguments)}function d5(y,p,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(y,p,g){var M;const V=yield g.verify();try{let T;if(q("string"==typeof V,y,"argument-error"),q(g.type===M9,y,"argument-error"),T="string"==typeof p?{phoneNumber:p}:p,"session"in T){const X=T.session;if("phoneNumber"in T)return q("enroll"===X.type,y,"internal-error"),(yield nd(y,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{q("signin"===X.type,y,"internal-error");const M1=(null===(M=T.multiFactorHint)||void 0===M?void 0:M.uid)||T.multiFactorUid;return q(M1,y,"missing-multi-factor-info"),(yield N3(y,{mfaPendingCredential:X.credential,mfaEnrollmentId:M1,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield nr(y,{phoneNumber:T.phoneNumber,recaptchaToken:V});return X}}finally{g._reset()}})).apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(y,p){yield Y4((0,R.m9)(y),p)})).apply(this,arguments)}let p8=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=F(g)}verifyPhoneNumber(g,M){return d5(this.auth,g,(0,R.m9)(M))}static credential(g,M){return T6._fromVerification(g,M)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:M,temporaryProof:V}=g;return M&&V?T6._fromTokenResponse(M,V):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function F6(y,p){return p?c1(p):(q(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class di extends ze{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ut(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Ut(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Ut(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function ne(y){return X3(y.auth,new di(y),y.bypassAuthState)}function Aa(y){const{auth:p,user:g}=y;return q(g,p,"internal-error"),s8(g,new di(y),y.bypassAuthState)}function D3(y){return C5.apply(this,arguments)}function C5(){return(C5=(0,u.Z)(function*(y){const{auth:p,user:g}=y;return q(g,p,"internal-error"),Y4(g,new di(y),y.bypassAuthState)})).apply(this,arguments)}class l6{constructor(p,g,M,V,T=!1){this.auth=p,this.resolver=M,this.user=V,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(M,V){p.pendingPromise={resolve:M,reject:V};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(T){p.reject(T)}});return function(M,V){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:M,sessionId:V,postBody:T,tenantId:X,error:M1,type:Y1}=p;if(M1)return void g.reject(M1);const l2={auth:g.auth,requestUri:M,sessionId:V,tenantId:X||void 0,postBody:T||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Y1)(l2))}catch(A2){g.reject(A2)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ne;case"linkViaPopup":case"linkViaRedirect":return D3;case"reauthViaPopup":case"reauthViaRedirect":return Aa;default:A1(this.auth,"internal-error")}}resolve(p){e1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){e1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ad=new Le(2e3,1e4);function Ci(){return(Ci=(0,u.Z)(function*(y,p,g){const M=F(y);X1(y,p,J3);const V=F6(M,g);return new pi(M,"signInViaPopup",p,V).executeNotNull()})).apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(y,p,g){const M=(0,R.m9)(y);X1(M.auth,p,J3);const V=F6(M.auth,g);return new pi(M.auth,"reauthViaPopup",p,V,M).executeNotNull()})).apply(this,arguments)}function br(){return(br=(0,u.Z)(function*(y,p,g){const M=(0,R.m9)(y);X1(M.auth,p,J3);const V=F6(M.auth,g);return new pi(M.auth,"linkViaPopup",p,V,M).executeNotNull()})).apply(this,arguments)}let pi=(()=>{class y extends l6{constructor(g,M,V,T,X){super(g,M,T,X),this.provider=V,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const M=yield g.execute();return q(M,g.auth,"internal-error"),M})()}onExecution(){var g=this;return(0,u.Z)(function*(){e1(1===g.filter.length,"Popup operations only handle one event");const M=Gt();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],M),g.authWindow.associatedEvent=M,g.resolver._originValidation(g.auth).catch(V=>{g.reject(V)}),g.resolver._isIframeWebStorageSupported(g.auth,V=>{V||g.reject(H1(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(H1(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var M,V;this.pollId=(null===(V=null===(M=this.authWindow)||void 0===M?void 0:M.window)||void 0===V?void 0:V.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(H1(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ad.get())};g()}}return y.currentPopupAction=null,y})();const G3=new Map;class od extends l6{constructor(p,g,M=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,M),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let M=G3.get(g.auth._key());if(!M){try{const T=(yield function m8(y,p){return p5.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;M=()=>Promise.resolve(T)}catch(V){M=()=>Promise.reject(V)}G3.set(g.auth._key(),M)}return g.bypassAuthState||G3.set(g.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,M=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(M,p);if("unknown"!==p.type){if(p.eventId){const V=yield M.auth._redirectUserForId(p.eventId);if(V)return M.user=V,g().call(M,p);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function p5(){return(p5=(0,u.Z)(function*(y,p){const g=vi(p),M=zr(y);if(!(yield M._isAvailable()))return!1;const V="true"===(yield M._get(g));return yield M._remove(g),V})).apply(this,arguments)}function En(y,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(y,p){return zr(y)._set(vi(p),"true")})).apply(this,arguments)}function gi(y,p){G3.set(y._key(),p)}function zr(y){return c1(y._redirectPersistence)}function vi(y){return p2("pendingRedirect",y.config.apiKey,y.name)}function X2(){return(X2=(0,u.Z)(function*(y,p,g){const M=F(y);X1(y,p,J3);const V=F6(M,g);return yield En(V,M),V._openRedirect(M,p,"signInViaRedirect")})).apply(this,arguments)}function u6(){return(u6=(0,u.Z)(function*(y,p,g){const M=(0,R.m9)(y);X1(M.auth,p,J3);const V=F6(M.auth,g);yield En(V,M.auth);const T=yield v5(M);return V._openRedirect(M.auth,p,"reauthViaRedirect",T)})).apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(y,p,g){const M=(0,R.m9)(y);X1(M.auth,p,J3);const V=F6(M.auth,g);yield ae(!1,M,p.providerId),yield En(V,M.auth);const T=yield v5(M);return V._openRedirect(M.auth,p,"linkViaRedirect",T)})).apply(this,arguments)}function g5(){return(g5=(0,u.Z)(function*(y,p){return yield F(y)._initializationPromise,gt(y,p,!1)})).apply(this,arguments)}function gt(y,p){return j6.apply(this,arguments)}function j6(){return(j6=(0,u.Z)(function*(y,p,g=!1){const M=F(y),V=F6(M,p),X=yield new od(M,V,g).execute();return X&&!g&&(delete X.user._redirectEventId,yield M._persistUserIfCurrent(X.user),yield M._setRedirectUser(null,p)),X})).apply(this,arguments)}function v5(y){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(y){const p=Gt(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class y5{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(p,M)&&(g=!0,this.sendToConsumer(p,M),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Pa(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _5(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var M;if(p.error&&!_5(p)){const V=(null===(M=p.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";g.onError(H1(this.auth,V))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const M=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&M}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(g8(p))}saveEventToCache(p){this.cachedEventUids.add(g8(p)),this.lastProcessedEventTime=Date.now()}}function g8(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function _5({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Ra(y){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,u.Z)(function*(y,p={}){return P2(y,"GET","/v1/projects",p)})).apply(this,arguments)}const f6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v8=/^https?/;function Oa(){return(Oa=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Ra(y);for(const g of p)try{if(Fa(g))return}catch(M){}A1(y,"unauthorized-domain")})).apply(this,arguments)}function Fa(y){const p=M2(),{protocol:g,hostname:M}=new URL(p);if(y.startsWith("chrome-extension://")){const X=new URL(y);return""===X.hostname&&""===M?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&X.hostname===M}if(!v8.test(g))return!1;if(f6.test(y))return M===y;const V=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(M)}const z9=new Le(3e4,6e4);function Ua(){const y=Be().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let M5=null;function h6(y){return M5=M5||function Li(y){return new Promise((p,g)=>{var M,V,T;function X(){Ua(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ua(),g(H1(y,"network-request-failed"))},timeout:z9.get()})}if(null===(V=null===(M=Be().gapi)||void 0===M?void 0:M.iframes)||void 0===V?void 0:V.Iframe)p(gapi.iframes.getContext());else{if(!(null===(T=Be().gapi)||void 0===T?void 0:T.load)){const M1=zn("iframefcb");return Be()[M1]=()=>{gapi.load?X():g(H1(y,"network-request-failed"))},mt(`https://apis.google.com/js/api.js?onload=${M1}`).catch(Y1=>g(Y1))}X()}}).catch(p=>{throw M5=null,p})}(y),M5}const d6=new Le(5e3,15e3),w9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V9(y){const p=y.config;q(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Ce(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,M={apiKey:p.apiKey,appName:y.name,v:h1.SDK_VERSION},V=L5.get(y.config.apiHost);V&&(M.eid=V);const T=y._getFrameworks();return T.length&&(M.fw=T.join(",")),`${g}?${(0,R.xO)(M).slice(1)}`}function q6(){return q6=(0,u.Z)(function*(y){const p=yield h6(y),g=Be().gapi;return q(g,y,"internal-error"),p.open({where:document.body,url:V9(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w9,dontclear:!0},M=>new Promise(function(){var V=(0,u.Z)(function*(T,X){yield M.restyle({setHideOnLeave:!1});const M1=H1(y,"network-request-failed"),Y1=Be().setTimeout(()=>{X(M1)},d6.get());function l2(){Be().clearTimeout(Y1),T(M)}M.ping(l2).then(l2,()=>{X(M1)})});return function(T,X){return V.apply(this,arguments)}}()))}),q6.apply(this,arguments)}const bi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ba{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function vt(y,p,g,M,V,T){q(y.config.authDomain,y,"auth-domain-config-required"),q(y.config.apiKey,y,"invalid-api-key");const X={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:M,v:h1.SDK_VERSION,eventId:V};if(p instanceof J3){p.setDefaultLanguage(y.languageCode),X.providerId=p.providerId||"",(0,R.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Y1,l2]of Object.entries(T||{}))X[Y1]=l2}if(p instanceof A6){const Y1=p.getScopes().filter(l2=>""!==l2);Y1.length>0&&(X.scopes=Y1.join(","))}y.tenantId&&(X.tid=y.tenantId);const M1=X;for(const Y1 of Object.keys(M1))void 0===M1[Y1]&&delete M1[Y1];return`${function b5({config:y}){return y.emulator?Ce(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(M1).slice(1)}`}const _8="webStorageSupport";class M8 extends class E9{constructor(p){this.factorId=p}_process(p,g,M){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,M);case"signin":return this._finalizeSignIn(p,g.credential);default:return U("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new M8(p)}_finalizeEnroll(p,g,M){return function yn(y,p){return P2(y,"POST","/v2/accounts/mfaEnrollment:finalize",O2(y,p))}(p,{idToken:g,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function bn(y,p){return P2(y,"POST","/v2/accounts/mfaSignIn:finalize",O2(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qa=(()=>{class y{constructor(){}static assertion(g){return M8._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Ga="@firebase/auth";class $a{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(M=>{var V;p((null===(V=M)||void 0===V?void 0:V.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yt(){return window}function An(){return(An=(0,u.Z)(function*(y,p,g){var M;const{BuildInfo:V}=yt();e1(p.sessionId,"AuthEvent did not contain a session ID");const T=yield Hi(p.sessionId),X={};return x3()?X.ibi=V.packageName:xe()?X.apn=V.packageName:A1(y,"operation-not-supported-in-this-environment"),V.displayName&&(X.appDisplayName=V.displayName),X.sessionId=T,vt(y,g,p.type,void 0,null!==(M=p.eventId)&&void 0!==M?M:void 0,X)})).apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(y){const{BuildInfo:p}=yt(),g={};x3()?g.iosBundleId=p.packageName:xe()?g.androidPackageName=p.packageName:A1(y,"operation-not-supported-in-this-environment"),yield Ra(y,g)})).apply(this,arguments)}function Ya(){return(Ya=(0,u.Z)(function*(y,p,g){const{cordova:M}=yt();let V=()=>{};try{yield new Promise((T,X)=>{let M1=null;function Y1(){var H2;T();const Ye=null===(H2=M.plugins.browsertab)||void 0===H2?void 0:H2.close;"function"==typeof Ye&&Ye(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function l2(){M1||(M1=window.setTimeout(()=>{X(H1(y,"redirect-cancelled-by-user"))},2e3))}function A2(){"visible"===(null==document?void 0:document.visibilityState)&&l2()}p.addPassiveListener(Y1),document.addEventListener("resume",l2,!1),xe()&&document.addEventListener("visibilitychange",A2,!1),V=()=>{p.removePassiveListener(Y1),document.removeEventListener("resume",l2,!1),document.removeEventListener("visibilitychange",A2,!1),M1&&window.clearTimeout(M1)}})}finally{V()}})).apply(this,arguments)}function Hi(y){return L8.apply(this,arguments)}function L8(){return(L8=(0,u.Z)(function*(y){const p=Ei(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ei(y){if(e1(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let M=0;M<y.length;M++)g[M]=y.charCodeAt(M);return g}!function cd(y){(0,h1._registerComponent)(new l1.wA("auth",(p,{options:g})=>{const M=p.getProvider("app").getImmediate(),V=p.getProvider("heartbeat"),{apiKey:T,authDomain:X}=M.options;return((M1,Y1)=>{q(T&&!T.includes(":"),"invalid-api-key",{appName:M1.name}),q(!(null==X?void 0:X.includes(":")),"argument-error",{appName:M1.name});const l2={apiKey:T,authDomain:X,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pt(y)},A2=new n2(M1,Y1,l2);return function u1(y,p){const g=(null==p?void 0:p.persistence)||[],M=(Array.isArray(g)?g:[g]).map(c1);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(M,null==p?void 0:p.popupRedirectResolver)}(A2,g),A2})(M,V)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,M)=>{p.getProvider("auth-internal").initialize()})),(0,h1._registerComponent)(new l1.wA("auth-internal",p=>{const g=F(p.getProvider("auth").getImmediate());return new $a(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,h1.registerVersion)(Ga,"0.20.1",function Er(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,h1.registerVersion)(Ga,"0.20.1","esm2017")}("Browser");class Ar extends y5{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function V5(y){return b8.apply(this,arguments)}function b8(){return(b8=(0,u.Z)(function*(y){const p=yield Nn()._get(Nr(y));return p&&(yield Nn()._remove(Nr(y))),p})).apply(this,arguments)}function Ir(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const M=Math.floor(Math.random()*p.length);y.push(p.charAt(M))}return y.join("")}function Nn(){return c1(C3)}function Nr(y){return p2("authEvent",y.config.apiKey,y.name)}function oe(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,R.zd)(g.join("?"))}function H5(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:H1("no-auth-event")}}function Dn(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Ja(y=(0,R.z$)()){return!("file:"!==Dn()&&"ionic:"!==Dn()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ni(){try{const y=self.localStorage,p=Gt();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Ii(y=(0,R.z$)()){return function e4(){return(0,R.w1)()&&11===(null==document?void 0:document.documentMode)}()||function kn(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch(y){return k3()&&(0,R.hl)()}return!1}function k3(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pn(){return(function k9(){return"http:"===Dn()||"https:"===Dn()}()||(0,R.ru)()||Ja())&&!function G6(){return(0,R.b$)()||(0,R.UG)()}()&&Ni()&&!k3()}function Dr(){return Ja()&&"undefined"!=typeof document}function z8(){return(z8=(0,u.Z)(function*(){return!!Dr()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const p4={LOCAL:"local",NONE:"none",SESSION:"session"},m6=q,e7="persistence";function E5(y){return Di.apply(this,arguments)}function Di(){return(Di=(0,u.Z)(function*(y){yield y._initializationPromise;const p=n7(),g=p2(e7,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function n7(){var y;try{return(null===(y=function Xa(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const R9=q;class m4{constructor(){this.browserResolver=c1(class ja{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ke,this._completeRedirectFn=gt,this._overrideRedirectResult=gi}_openPopup(p,g,M,V){var T=this;return(0,u.Z)(function*(){var X;e1(null===(X=T.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const M1=vt(p,g,M,M2(),V);return function y8(y,p,g,M=500,V=600){const T=Math.max((window.screen.availHeight-V)/2,0).toString(),X=Math.max((window.screen.availWidth-M)/2,0).toString();let M1="";const Y1=Object.assign(Object.assign({},bi),{width:M.toString(),height:V.toString(),top:T,left:X}),l2=(0,R.z$)().toLowerCase();g&&(M1=h4(l2)?"_blank":g),se(l2)&&(p=p||"http://localhost",Y1.scrollbars="yes");const A2=Object.entries(Y1).reduce((Ye,[v4,V8])=>`${Ye}${v4}=${V8},`,"");if(function lt(y=(0,R.z$)()){var p;return x3(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(l2)&&"_self"!==M1)return function S9(y,p){const g=document.createElement("a");g.href=y,g.target=p;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(M)}(p||"",M1),new Ba(null);const H2=window.open(p||"",M1,A2);q(H2,y,"popup-blocked");try{H2.focus()}catch(Ye){}return new Ba(H2)}(p,M1,Gt())})()}_openRedirect(p,g,M,V){var T=this;return(0,u.Z)(function*(){return yield T._originValidation(p),function si(y){Be().location.href=y}(vt(p,g,M,M2(),V)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:V,promise:T}=this.eventManagers[g];return V?Promise.resolve(V):(e1(T,"If manager is not set, promise should be"),T)}const M=this.initAndGetManager(p);return this.eventManagers[g]={promise:M},M.catch(()=>{delete this.eventManagers[g]}),M}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const M=yield function Sr(y){return q6.apply(this,arguments)}(p),V=new y5(p);return M.register("authEvent",T=>(q(null==T?void 0:T.authEvent,p,"invalid-auth-event"),{status:V.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:V},g.iframes[p._key()]=M,V})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(_8,{type:_8},V=>{var T;const X=null===(T=null==V?void 0:V[0])||void 0===T?void 0:T[_8];void 0!==X&&g(!!X),A1(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function b9(y){return Oa.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return d4()||U3()||x3()}}),this.cordovaResolver=c1(class Qa{constructor(){this._redirectPersistence=Ke,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gt,this._overrideRedirectResult=gi}_initialize(p){var g=this;return(0,u.Z)(function*(){const M=p._key();let V=g.eventManagers.get(M);return V||(V=new Ar(p),g.eventManagers.set(M,V),g.attachCallbackListeners(p,V)),V})()}_openPopup(p){A1(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,M,V){var T=this;return(0,u.Z)(function*(){!function z5(y){var p,g,M,V,T,X,M1,Y1,l2,A2;const H2=yt();q("function"==typeof(null===(p=null==H2?void 0:H2.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(void 0!==(null===(g=null==H2?void 0:H2.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(T=null===(V=null===(M=null==H2?void 0:H2.cordova)||void 0===M?void 0:M.plugins)||void 0===V?void 0:V.browsertab)||void 0===T?void 0:T.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Y1=null===(M1=null===(X=null==H2?void 0:H2.cordova)||void 0===X?void 0:X.plugins)||void 0===M1?void 0:M1.browsertab)||void 0===Y1?void 0:Y1.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(A2=null===(l2=null==H2?void 0:H2.cordova)||void 0===l2?void 0:l2.InAppBrowser)||void 0===A2?void 0:A2.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const X=yield T._initialize(p);yield X.initialized(),X.resetRedirect(),function Da(){G3.clear()}(),yield T._originValidation(p);const M1=function w5(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Ir(),postBody:null,tenantId:y.tenantId,error:H1(y,"no-auth-event")}}(p,M,V);yield function x9(y,p){return Nn()._set(Nr(y),p)}(p,M1);const Y1=yield function _t(y,p,g){return An.apply(this,arguments)}(p,M1,g),l2=yield function Tr(y){const{cordova:p}=yt();return new Promise(g=>{p.plugins.browsertab.isAvailable(M=>{let V=null;M?p.plugins.browsertab.openUrl(y):V=p.InAppBrowser.open(y,function E6(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(V)})})}(Y1);return function In(y,p,g){return Ya.apply(this,arguments)}(p,X,l2)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ka(y){return xr.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:M,handleOpenURL:V,BuildInfo:T}=yt(),X=setTimeout((0,u.Z)(function*(){yield V5(p),g.onEvent(H5())}),500),M1=function(){var A2=(0,u.Z)(function*(H2){clearTimeout(X);const Ye=yield V5(p);let v4=null;Ye&&(null==H2?void 0:H2.url)&&(v4=function T9(y,p){var g,M;const V=function Ti(y){const p=oe(y),g=p.link?decodeURIComponent(p.link):void 0,M=oe(g).link,V=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return oe(V).link||V||M||g||y}(p);if(V.includes("/__/auth/callback")){const T=oe(V),X=T.firebaseError?function xi(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(T.firebaseError)):null,M1=null===(M=null===(g=null==X?void 0:X.code)||void 0===g?void 0:g.split("auth/"))||void 0===M?void 0:M[1],Y1=M1?H1(M1):null;return Y1?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Y1,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:V,postBody:null}}return null}(Ye,H2.url)),g.onEvent(v4||H5())});return function(Ye){return A2.apply(this,arguments)}}();void 0!==M&&"function"==typeof M.subscribe&&M.subscribe(null,M1);const Y1=V,l2=`${T.packageName.toLowerCase()}://`;yt().handleOpenURL=function(){var A2=(0,u.Z)(function*(H2){if(H2.toLowerCase().startsWith(l2)&&M1({url:H2}),"function"==typeof Y1)try{Y1(H2)}catch(Ye){console.error(Ye)}});return function(H2){return A2.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ke,this._completeRedirectFn=gt,this._overrideRedirectResult=gi}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,M,V){var T=this;return(0,u.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openPopup(p,g,M,V)})()}_openRedirect(p,g,M,V){var T=this;return(0,u.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openRedirect(p,g,M,V)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Dr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return R9(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function P9(){return z8.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function r7(y){return y.unwrap()}function kr(y){return i7(y)}function i7(y){const{_tokenResponse:p}=y instanceof R.ZR?y.customData:y;if(!p)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return p8.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let M;switch(g){case"google.com":M=or;break;case"facebook.com":M=I6;break;case"github.com":M=ei;break;case"twitter.com":M=t5;break;default:const{oauthIdToken:V,oauthAccessToken:T,oauthTokenSecret:X,pendingToken:M1,nonce:Y1}=p;return T||X||V||M1?M1?g.startsWith("saml.")?Z4._create(g,M1):W4._fromParams({providerId:g,signInMethod:g,pendingToken:M1,idToken:V,accessToken:T}):new $4(g).credential({idToken:V,accessToken:T,rawNonce:Y1}):null}return y instanceof R.ZR?M.credentialFromError(y):M.credentialFromResult(y)}function g4(y,p){return p.catch(g=>{throw g instanceof R.ZR&&function F9(y,p){var g;const M=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new s7(y,function g9(y,p){var g;const M=(0,R.m9)(y),V=p;return q(p.customData.operationType,M,"argument-error"),q(null===(g=V.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,M,"argument-error"),f8._fromError(M,V)}(y,p));else if(M){const V=i7(p),T=p;V&&(T.credential=V,T.tenantId=M.tenantId||void 0,T.email=M.email||void 0,T.phoneNumber=M.phoneNumber||void 0)}}(y,g),g}).then(g=>{const V=g.user;return{operationType:g.operationType,credential:kr(g),additionalUserInfo:qt(g),user:$t.getOrCreate(V)}})}function ki(y,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:M=>g4(y,g.confirm(M))}})).apply(this,arguments)}class s7{constructor(p,g){this.resolver=g,this.auth=function O9(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return g4(r7(this.auth),this.resolver.resolveSignIn(p))}}class $t{constructor(p){this._delegate=p,this.multiFactor=function _n(y){const p=(0,R.m9)(y);return Va.has(p)||Va.set(p,wa._fromUser(p)),Va.get(p)}(p)}static getOrCreate(p){return $t.USER_MAP.has(p)||$t.USER_MAP.set(p,new $t(p)),$t.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return g4(g.auth,N(g._delegate,p))})()}linkWithPhoneNumber(p,g){var M=this;return(0,u.Z)(function*(){return ki(M.auth,function sd(y,p,g){return hi.apply(this,arguments)}(M._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return g4(g.auth,function Na(y,p,g){return br.apply(this,arguments)}(g._delegate,p,m4))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield E5(F(g.auth)),function yi(y,p,g){return function m5(y,p,g){return wr.apply(this,arguments)}(y,p,g)}(g._delegate,p,m4)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return g4(g.auth,C1(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return ki(this.auth,function et(y,p,g){return tt.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return g4(this.auth,function Wt(y,p,g){return Lr.apply(this,arguments)}(this._delegate,p,m4))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield E5(F(g.auth)),function c3(y,p,g){return function ka(y,p,g){return u6.apply(this,arguments)}(y,p,g)}(g._delegate,p,m4)})()}sendEmailVerification(p){return function d9(y,p){return Cr.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function h9(y,p){return Te.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Xh(y,p){return s5((0,R.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Ma(y,p){return s5((0,R.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function C8(y,p){return Mr.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function p9(y,p){return c8.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function C9(y,p,g){return ni.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$t.USER_MAP=new WeakMap;const w8=q;let a7=(()=>{class y{constructor(g,M){if(this.app=g,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=g.options;w8(V,"invalid-api-key",{appName:g.name}),w8(V,"invalid-api-key",{appName:g.name});const T="undefined"!=typeof window?m4:void 0;this._delegate=M.initialize({options:{persistence:U9(V,g.name),popupRedirectResolver:T}}),this._delegate._updateErrorMap(O1),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$t.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,M){!function P1(y,p,g){const M=F(y);q(M._canInitEmulator,M,"emulator-config-failed"),q(/^https?:\/\//.test(p),M,"invalid-emulator-scheme");const V=!!(null==g?void 0:g.disableWarnings),T=d2(p),{host:X,port:M1}=function W2(y){const p=d2(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const M=g[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(M);if(V){const T=V[1];return{host:T,port:Y2(M.substr(T.length+1))}}{const[T,X]=M.split(":");return{host:T,port:Y2(X)}}}(p);M.config.emulator={url:`${T}//${X}${null===M1?"":`:${M1}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:X,port:M1,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Q2(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,M)}applyActionCode(g){return function N1(y,p){return U2.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return s6(this._delegate,g)}confirmPasswordReset(g,M){return function n5(y,p,g){return gn.apply(this,arguments)}(this._delegate,g,M)}createUserWithEmailAndPassword(g,M){var V=this;return(0,u.Z)(function*(){return g4(V._delegate,function dt(y,p,g){return o8.apply(this,arguments)}(V._delegate,g,M))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function r5(y,p){return Ct.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function fr(y,p){const g=e5.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){w8(Pn(),g._delegate,"operation-not-supported-in-this-environment");const M=yield function L9(y,p){return g5.apply(this,arguments)}(g._delegate,m4);return M?g4(g._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function A9(y,p){F(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,M,V){const{next:T,error:X,complete:M1}=o7(g,M,V);return this._delegate.onAuthStateChanged(T,X,M1)}onIdTokenChanged(g,M,V){const{next:T,error:X,complete:M1}=o7(g,M,V);return this._delegate.onIdTokenChanged(T,X,M1)}sendSignInLinkToEmail(g,M){return function Jh(y,p,g){return ur.apply(this,arguments)}(this._delegate,g,M)}sendPasswordResetEmail(g,M){return function i6(y,p,g){return N4.apply(this,arguments)}(this._delegate,g,M||void 0)}setPersistence(g){var M=this;return(0,u.Z)(function*(){let V;switch(function t7(y,p){m6(Object.values(p4).includes(p),y,"invalid-persistence-type"),(0,R.b$)()?m6(p!==p4.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?m6(p===p4.NONE,y,"unsupported-persistence-type"):k3()?m6(p===p4.NONE||p===p4.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):m6(p===p4.NONE||Ni(),y,"unsupported-persistence-type")}(M._delegate,g),g){case p4.SESSION:V=Ke;break;case p4.LOCAL:V=(yield c1(R6)._isAvailable())?R6:C3;break;case p4.NONE:V=q1;break;default:return A1("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return g4(this._delegate,function _a(y){return r8.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return g4(this._delegate,mn(this._delegate,g))}signInWithCustomToken(g){return g4(this._delegate,function Fe(y,p){return f2.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,M){return g4(this._delegate,function ti(y,p,g){return mn((0,R.m9)(y),t8.credential(p,g))}(this._delegate,g,M))}signInWithEmailLink(g,M){return g4(this._delegate,function hr(y,p,g){return I3.apply(this,arguments)}(this._delegate,g,M))}signInWithPhoneNumber(g,M){return ki(this._delegate,function fi(y,p,g){return Sn.apply(this,arguments)}(this._delegate,g,M))}signInWithPopup(g){var M=this;return(0,u.Z)(function*(){return w8(Pn(),M._delegate,"operation-not-supported-in-this-environment"),g4(M._delegate,function Ia(y,p,g){return Ci.apply(this,arguments)}(M._delegate,g,m4))})()}signInWithRedirect(g){var M=this;return(0,u.Z)(function*(){return w8(Pn(),M._delegate,"operation-not-supported-in-this-environment"),yield E5(M._delegate),function U6(y,p,g){return function B6(y,p,g){return X2.apply(this,arguments)}(y,p,g)}(M._delegate,g,m4)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function lr(y,p){return vn.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=p4,y})();function o7(y,p,g){let M=y;"function"!=typeof y&&({next:M,error:p,complete:g}=y);const V=M;return{next:X=>V(X&&$t.getOrCreate(X)),error:p,complete:g}}function U9(y,p){const g=function Rn(y,p){const g=n7();if(!g)return[];const M=p2(e7,y,p);switch(g.getItem(M)){case p4.NONE:return[q1];case p4.LOCAL:return[R6,Ke];case p4.SESSION:return[Ke];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(R6)&&g.push(R6),"undefined"!=typeof window)for(const M of[C3,Ke])g.includes(M)||g.push(M);return g.includes(q1)||g.push(q1),g}class Ri{constructor(){this.providerId="phone",this._delegate=new p8(r7(t1.Z.auth()))}static credential(p,g){return p8.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Ri.PHONE_SIGN_IN_METHOD=p8.PHONE_SIGN_IN_METHOD,Ri.PROVIDER_ID=p8.PROVIDER_ID;const c7=q;class ud{constructor(p,g,M=t1.Z.app()){var V;c7(null===(V=M.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new Vn(p,g,M.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Mt(y){y.INTERNAL.registerComponent(new l1.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),M=p.getProvider("auth");return new a7(g,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:t8,FacebookAuthProvider:I6,GithubAuthProvider:ei,GoogleAuthProvider:or,OAuthProvider:$4,SAMLAuthProvider:Bt,PhoneAuthProvider:Ri,PhoneMultiFactorGenerator:qa,RecaptchaVerifier:ud,TwitterAuthProvider:t5,Auth:a7,AuthCredential:ze,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.14")}(t1.Z)},8306:(c2,z1,A)=>{A.d(z1,{y:()=>W});var u=A(930),t1=A(727),R=A(8822),h1=A(4671);var l1=A(2416),p1=A(576),v1=A(2806);let W=(()=>{class V1{constructor(G1){G1&&(this._subscribe=G1)}lift(G1){const m1=new V1;return m1.source=this,m1.operator=G1,m1}subscribe(G1,m1,S1){const o2=function j1(V1){return V1&&V1 instanceof u.Lv||function a1(V1){return V1&&(0,p1.m)(V1.next)&&(0,p1.m)(V1.error)&&(0,p1.m)(V1.complete)}(V1)&&(0,t1.Nn)(V1)}(G1)?G1:new u.Hp(G1,m1,S1);return(0,v1.x)(()=>{const{operator:t2,source:A1}=this;o2.add(t2?t2.call(o2,A1):A1?this._subscribe(o2):this._trySubscribe(o2))}),o2}_trySubscribe(G1){try{return this._subscribe(G1)}catch(m1){G1.error(m1)}}forEach(G1,m1){return new(m1=G(m1))((S1,o2)=>{const t2=new u.Hp({next:A1=>{try{G1(A1)}catch(H1){o2(H1),t2.unsubscribe()}},error:o2,complete:S1});this.subscribe(t2)})}_subscribe(G1){var m1;return null===(m1=this.source)||void 0===m1?void 0:m1.subscribe(G1)}[R.L](){return this}pipe(...G1){return function b1(V1){return 0===V1.length?h1.y:1===V1.length?V1[0]:function(G1){return V1.reduce((m1,S1)=>S1(m1),G1)}}(G1)(this)}toPromise(G1){return new(G1=G(G1))((m1,S1)=>{let o2;this.subscribe(t2=>o2=t2,t2=>S1(t2),()=>m1(o2))})}}return V1.create=O1=>new V1(O1),V1})();function G(V1){var O1;return null!==(O1=null!=V1?V1:l1.v.Promise)&&void 0!==O1?O1:Promise}},7579:(c2,z1,A)=>{A.d(z1,{x:()=>l1});var u=A(8306),t1=A(727);const h1=(0,A(3888).d)(v1=>function(){v1(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var g1=A(8737),b1=A(2806);let l1=(()=>{class v1 extends u.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const a1=new p1(this,this);return a1.operator=G,a1}_throwIfClosed(){if(this.closed)throw new h1}next(G){(0,b1.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const a1=this.observers.slice();for(const j1 of a1)j1.next(G)}})}error(G){(0,b1.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:a1}=this;for(;a1.length;)a1.shift().error(G)}})}complete(){(0,b1.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:a1,isStopped:j1,observers:V1}=this;return a1||j1?t1.Lc:(V1.push(G),new t1.w0(()=>(0,g1.P)(V1,G)))}_checkFinalizedStatuses(G){const{hasError:a1,thrownError:j1,isStopped:V1}=this;a1?G.error(j1):V1&&G.complete()}asObservable(){const G=new u.y;return G.source=this,G}}return v1.create=(W,G)=>new p1(W,G),v1})();class p1 extends l1{constructor(W,G){super(),this.destination=W,this.source=G}next(W){var G,a1;null===(a1=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===a1||a1.call(G,W)}error(W){var G,a1;null===(a1=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===a1||a1.call(G,W)}complete(){var W,G;null===(G=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===G||G.call(W)}_subscribe(W){var G,a1;return null!==(a1=null===(G=this.source)||void 0===G?void 0:G.subscribe(W))&&void 0!==a1?a1:t1.Lc}}},930:(c2,z1,A)=>{A.d(z1,{Hp:()=>G1,Lv:()=>a1});var u=A(576),t1=A(727),R=A(2416),h1=A(7849),g1=A(5032);const b1=v1("C",void 0,void 0);function v1(A1,H1,E1){return{kind:A1,value:H1,error:E1}}var W=A(3410),G=A(2806);class a1 extends t1.w0{constructor(H1){super(),this.isStopped=!1,H1?(this.destination=H1,(0,t1.Nn)(H1)&&H1.add(this)):this.destination=t2}static create(H1,E1,X1){return new G1(H1,E1,X1)}next(H1){this.isStopped?o2(function p1(A1){return v1("N",A1,void 0)}(H1),this):this._next(H1)}error(H1){this.isStopped?o2(function l1(A1){return v1("E",void 0,A1)}(H1),this):(this.isStopped=!0,this._error(H1))}complete(){this.isStopped?o2(b1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(H1){this.destination.next(H1)}_error(H1){try{this.destination.error(H1)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const j1=Function.prototype.bind;function V1(A1,H1){return j1.call(A1,H1)}class O1{constructor(H1){this.partialObserver=H1}next(H1){const{partialObserver:E1}=this;if(E1.next)try{E1.next(H1)}catch(X1){m1(X1)}}error(H1){const{partialObserver:E1}=this;if(E1.error)try{E1.error(H1)}catch(X1){m1(X1)}else m1(H1)}complete(){const{partialObserver:H1}=this;if(H1.complete)try{H1.complete()}catch(E1){m1(E1)}}}class G1 extends a1{constructor(H1,E1,X1){let B1;if(super(),(0,u.m)(H1)||!H1)B1={next:null!=H1?H1:void 0,error:null!=E1?E1:void 0,complete:null!=X1?X1:void 0};else{let q;this&&R.v.useDeprecatedNextContext?(q=Object.create(H1),q.unsubscribe=()=>this.unsubscribe(),B1={next:H1.next&&V1(H1.next,q),error:H1.error&&V1(H1.error,q),complete:H1.complete&&V1(H1.complete,q)}):B1=H1}this.destination=new O1(B1)}}function m1(A1){R.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(A1):(0,h1.h)(A1)}function o2(A1,H1){const{onStoppedNotification:E1}=R.v;E1&&W.z.setTimeout(()=>E1(A1,H1))}const t2={closed:!0,next:g1.Z,error:function S1(A1){throw A1},complete:g1.Z}},727:(c2,z1,A)=>{A.d(z1,{Lc:()=>b1,w0:()=>g1,Nn:()=>l1});var u=A(576);const R=(0,A(3888).d)(v1=>function(G){v1(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((a1,j1)=>`${j1+1}) ${a1.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var h1=A(8737);class g1{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const V1 of G)V1.remove(this);else G.remove(this);const{initialTeardown:a1}=this;if((0,u.m)(a1))try{a1()}catch(V1){W=V1 instanceof R?V1.errors:[V1]}const{_teardowns:j1}=this;if(j1){this._teardowns=null;for(const V1 of j1)try{p1(V1)}catch(O1){W=null!=W?W:[],O1 instanceof R?W=[...W,...O1.errors]:W.push(O1)}}if(W)throw new R(W)}}add(W){var G;if(W&&W!==this)if(this.closed)p1(W);else{if(W instanceof g1){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._teardowns=null!==(G=this._teardowns)&&void 0!==G?G:[]).push(W)}}_hasParent(W){const{_parentage:G}=this;return G===W||Array.isArray(G)&&G.includes(W)}_addParent(W){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(W),G):G?[G,W]:W}_removeParent(W){const{_parentage:G}=this;G===W?this._parentage=null:Array.isArray(G)&&(0,h1.P)(G,W)}remove(W){const{_teardowns:G}=this;G&&(0,h1.P)(G,W),W instanceof g1&&W._removeParent(this)}}g1.EMPTY=(()=>{const v1=new g1;return v1.closed=!0,v1})();const b1=g1.EMPTY;function l1(v1){return v1 instanceof g1||v1&&"closed"in v1&&(0,u.m)(v1.remove)&&(0,u.m)(v1.add)&&(0,u.m)(v1.unsubscribe)}function p1(v1){(0,u.m)(v1)?v1():v1.unsubscribe()}},2416:(c2,z1,A)=>{A.d(z1,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(c2,z1,A)=>{A.d(z1,{E:()=>t1});const t1=new(A(8306).y)(g1=>g1.complete())},8996:(c2,z1,A)=>{A.d(z1,{D:()=>H1});var u=A(8421),t1=A(5363),R=A(9468),b1=A(8306),p1=A(2202),v1=A(576),W=A(9672);function a1(E1,X1){if(!E1)throw new Error("Iterable cannot be null");return new b1.y(B1=>{(0,W.f)(B1,X1,()=>{const q=E1[Symbol.asyncIterator]();(0,W.f)(B1,X1,()=>{q.next().then(U=>{U.done?B1.complete():B1.next(U.value)})},0,!0)})})}var j1=A(3670),V1=A(8239),O1=A(1144),G1=A(6495),m1=A(2206),S1=A(4532),o2=A(3260);function H1(E1,X1){return X1?function A1(E1,X1){if(null!=E1){if((0,j1.c)(E1))return function h1(E1,X1){return(0,u.Xf)(E1).pipe((0,R.R)(X1),(0,t1.Q)(X1))}(E1,X1);if((0,O1.z)(E1))return function l1(E1,X1){return new b1.y(B1=>{let q=0;return X1.schedule(function(){q===E1.length?B1.complete():(B1.next(E1[q++]),B1.closed||this.schedule())})})}(E1,X1);if((0,V1.t)(E1))return function g1(E1,X1){return(0,u.Xf)(E1).pipe((0,R.R)(X1),(0,t1.Q)(X1))}(E1,X1);if((0,m1.D)(E1))return a1(E1,X1);if((0,G1.T)(E1))return function G(E1,X1){return new b1.y(B1=>{let q;return(0,W.f)(B1,X1,()=>{q=E1[p1.h](),(0,W.f)(B1,X1,()=>{let U,e1;try{({value:U,done:e1}=q.next())}catch(d1){return void B1.error(d1)}e1?B1.complete():B1.next(U)},0,!0)}),()=>(0,v1.m)(null==q?void 0:q.return)&&q.return()})}(E1,X1);if((0,o2.L)(E1))return function t2(E1,X1){return a1((0,o2.Q)(E1),X1)}(E1,X1)}throw(0,S1.z)(E1)}(E1,X1):(0,u.Xf)(E1)}},8421:(c2,z1,A)=>{A.d(z1,{Xf:()=>j1});var u=A(655),t1=A(1144),R=A(8239),h1=A(8306),g1=A(3670),b1=A(2206),l1=A(4532),p1=A(6495),v1=A(3260),W=A(576),G=A(7849),a1=A(8822);function j1(A1){if(A1 instanceof h1.y)return A1;if(null!=A1){if((0,g1.c)(A1))return function V1(A1){return new h1.y(H1=>{const E1=A1[a1.L]();if((0,W.m)(E1.subscribe))return E1.subscribe(H1);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(A1);if((0,t1.z)(A1))return function O1(A1){return new h1.y(H1=>{for(let E1=0;E1<A1.length&&!H1.closed;E1++)H1.next(A1[E1]);H1.complete()})}(A1);if((0,R.t)(A1))return function G1(A1){return new h1.y(H1=>{A1.then(E1=>{H1.closed||(H1.next(E1),H1.complete())},E1=>H1.error(E1)).then(null,G.h)})}(A1);if((0,b1.D)(A1))return S1(A1);if((0,p1.T)(A1))return function m1(A1){return new h1.y(H1=>{for(const E1 of A1)if(H1.next(E1),H1.closed)return;H1.complete()})}(A1);if((0,v1.L)(A1))return function o2(A1){return S1((0,v1.Q)(A1))}(A1)}throw(0,l1.z)(A1)}function S1(A1){return new h1.y(H1=>{(function t2(A1,H1){var E1,X1,B1,q;return(0,u.mG)(this,void 0,void 0,function*(){try{for(E1=(0,u.KL)(A1);!(X1=yield E1.next()).done;)if(H1.next(X1.value),H1.closed)return}catch(U){B1={error:U}}finally{try{X1&&!X1.done&&(q=E1.return)&&(yield q.call(E1))}finally{if(B1)throw B1.error}}H1.complete()})})(A1,H1).catch(E1=>H1.error(E1))})}},6451:(c2,z1,A)=>{A.d(z1,{T:()=>b1});var u=A(8189),t1=A(8421),R=A(515),h1=A(7669),g1=A(8996);function b1(...l1){const p1=(0,h1.yG)(l1),v1=(0,h1._6)(l1,1/0),W=l1;return W.length?1===W.length?(0,t1.Xf)(W[0]):(0,u.J)(v1)((0,g1.D)(W,p1)):R.E}},5403:(c2,z1,A)=>{A.d(z1,{Q:()=>R,x:()=>t1});var u=A(930);function t1(h1,g1,b1,l1,p1){return new R(h1,g1,b1,l1,p1)}class R extends u.Lv{constructor(g1,b1,l1,p1,v1,W){super(g1),this.onFinalize=v1,this.shouldUnsubscribe=W,this._next=b1?function(G){try{b1(G)}catch(a1){g1.error(a1)}}:super._next,this._error=p1?function(G){try{p1(G)}catch(a1){g1.error(a1)}finally{this.unsubscribe()}}:super._error,this._complete=l1?function(){try{l1()}catch(G){g1.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var g1;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:b1}=this;super.unsubscribe(),!b1&&(null===(g1=this.onFinalize)||void 0===g1||g1.call(this))}}}},4004:(c2,z1,A)=>{A.d(z1,{U:()=>R});var u=A(4482),t1=A(5403);function R(h1,g1){return(0,u.e)((b1,l1)=>{let p1=0;b1.subscribe((0,t1.x)(l1,v1=>{l1.next(h1.call(g1,v1,p1++))}))})}},8189:(c2,z1,A)=>{A.d(z1,{J:()=>R});var u=A(5577),t1=A(4671);function R(h1=1/0){return(0,u.z)(t1.y,h1)}},5577:(c2,z1,A)=>{A.d(z1,{z:()=>p1});var u=A(4004),t1=A(8421),R=A(4482),h1=A(9672),g1=A(5403),l1=A(576);function p1(v1,W,G=1/0){return(0,l1.m)(W)?p1((a1,j1)=>(0,u.U)((V1,O1)=>W(a1,V1,j1,O1))((0,t1.Xf)(v1(a1,j1))),G):("number"==typeof W&&(G=W),(0,R.e)((a1,j1)=>function b1(v1,W,G,a1,j1,V1,O1,G1){const m1=[];let S1=0,o2=0,t2=!1;const A1=()=>{t2&&!m1.length&&!S1&&W.complete()},H1=X1=>S1<a1?E1(X1):m1.push(X1),E1=X1=>{V1&&W.next(X1),S1++;let B1=!1;(0,t1.Xf)(G(X1,o2++)).subscribe((0,g1.x)(W,q=>{null==j1||j1(q),V1?H1(q):W.next(q)},()=>{B1=!0},void 0,()=>{if(B1)try{for(S1--;m1.length&&S1<a1;){const q=m1.shift();O1?(0,h1.f)(W,O1,()=>E1(q)):E1(q)}A1()}catch(q){W.error(q)}}))};return v1.subscribe((0,g1.x)(W,H1,()=>{t2=!0,A1()})),()=>{null==G1||G1()}}(a1,j1,v1,G)))}},5363:(c2,z1,A)=>{A.d(z1,{Q:()=>h1});var u=A(9672),t1=A(4482),R=A(5403);function h1(g1,b1=0){return(0,t1.e)((l1,p1)=>{l1.subscribe((0,R.x)(p1,v1=>(0,u.f)(p1,g1,()=>p1.next(v1),b1),()=>(0,u.f)(p1,g1,()=>p1.complete(),b1),v1=>(0,u.f)(p1,g1,()=>p1.error(v1),b1)))})}},3099:(c2,z1,A)=>{A.d(z1,{B:()=>b1});var u=A(8996),t1=A(5698),R=A(7579),h1=A(930),g1=A(4482);function b1(p1={}){const{connector:v1=(()=>new R.x),resetOnError:W=!0,resetOnComplete:G=!0,resetOnRefCountZero:a1=!0}=p1;return j1=>{let V1=null,O1=null,G1=null,m1=0,S1=!1,o2=!1;const t2=()=>{null==O1||O1.unsubscribe(),O1=null},A1=()=>{t2(),V1=G1=null,S1=o2=!1},H1=()=>{const E1=V1;A1(),null==E1||E1.unsubscribe()};return(0,g1.e)((E1,X1)=>{m1++,!o2&&!S1&&t2();const B1=G1=null!=G1?G1:v1();X1.add(()=>{m1--,0===m1&&!o2&&!S1&&(O1=l1(H1,a1))}),B1.subscribe(X1),V1||(V1=new h1.Hp({next:q=>B1.next(q),error:q=>{o2=!0,t2(),O1=l1(A1,W,q),B1.error(q)},complete:()=>{S1=!0,t2(),O1=l1(A1,G),B1.complete()}}),(0,u.D)(E1).subscribe(V1))})(j1)}}function l1(p1,v1,...W){return!0===v1?(p1(),null):!1===v1?null:v1(...W).pipe((0,t1.q)(1)).subscribe(()=>p1())}},9468:(c2,z1,A)=>{A.d(z1,{R:()=>t1});var u=A(4482);function t1(R,h1=0){return(0,u.e)((g1,b1)=>{b1.add(R.schedule(()=>g1.subscribe(b1),h1))})}},5698:(c2,z1,A)=>{A.d(z1,{q:()=>h1});var u=A(515),t1=A(4482),R=A(5403);function h1(g1){return g1<=0?()=>u.E:(0,t1.e)((b1,l1)=>{let p1=0;b1.subscribe((0,R.x)(l1,v1=>{++p1<=g1&&(l1.next(v1),g1<=p1&&l1.complete())}))})}},8505:(c2,z1,A)=>{A.d(z1,{b:()=>g1});var u=A(576),t1=A(4482),R=A(5403),h1=A(4671);function g1(b1,l1,p1){const v1=(0,u.m)(b1)||l1||p1?{next:b1,error:l1,complete:p1}:b1;return v1?(0,t1.e)((W,G)=>{var a1;null===(a1=v1.subscribe)||void 0===a1||a1.call(v1);let j1=!0;W.subscribe((0,R.x)(G,V1=>{var O1;null===(O1=v1.next)||void 0===O1||O1.call(v1,V1),G.next(V1)},()=>{var V1;j1=!1,null===(V1=v1.complete)||void 0===V1||V1.call(v1),G.complete()},V1=>{var O1;j1=!1,null===(O1=v1.error)||void 0===O1||O1.call(v1,V1),G.error(V1)},()=>{var V1,O1;j1&&(null===(V1=v1.unsubscribe)||void 0===V1||V1.call(v1)),null===(O1=v1.finalize)||void 0===O1||O1.call(v1)}))}):h1.y}},4408:(c2,z1,A)=>{A.d(z1,{o:()=>g1});var u=A(727);class t1 extends u.w0{constructor(l1,p1){super()}schedule(l1,p1=0){return this}}const R={setInterval(...b1){const{delegate:l1}=R;return((null==l1?void 0:l1.setInterval)||setInterval)(...b1)},clearInterval(b1){const{delegate:l1}=R;return((null==l1?void 0:l1.clearInterval)||clearInterval)(b1)},delegate:void 0};var h1=A(8737);class g1 extends t1{constructor(l1,p1){super(l1,p1),this.scheduler=l1,this.work=p1,this.pending=!1}schedule(l1,p1=0){if(this.closed)return this;this.state=l1;const v1=this.id,W=this.scheduler;return null!=v1&&(this.id=this.recycleAsyncId(W,v1,p1)),this.pending=!0,this.delay=p1,this.id=this.id||this.requestAsyncId(W,this.id,p1),this}requestAsyncId(l1,p1,v1=0){return R.setInterval(l1.flush.bind(l1,this),v1)}recycleAsyncId(l1,p1,v1=0){if(null!=v1&&this.delay===v1&&!1===this.pending)return p1;R.clearInterval(p1)}execute(l1,p1){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const v1=this._execute(l1,p1);if(v1)return v1;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(l1,p1){let W,v1=!1;try{this.work(l1)}catch(G){v1=!0,W=G||new Error("Scheduled action threw falsy error")}if(v1)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:l1,scheduler:p1}=this,{actions:v1}=p1;this.work=this.state=this.scheduler=null,this.pending=!1,(0,h1.P)(v1,this),null!=l1&&(this.id=this.recycleAsyncId(p1,l1,null)),this.delay=null,super.unsubscribe()}}}},7565:(c2,z1,A)=>{A.d(z1,{v:()=>R});var u=A(6063);class t1{constructor(g1,b1=t1.now){this.schedulerActionCtor=g1,this.now=b1}schedule(g1,b1=0,l1){return new this.schedulerActionCtor(this,g1).schedule(l1,b1)}}t1.now=u.l.now;class R extends t1{constructor(g1,b1=t1.now){super(g1,b1),this.actions=[],this._active=!1,this._scheduled=void 0}flush(g1){const{actions:b1}=this;if(this._active)return void b1.push(g1);let l1;this._active=!0;do{if(l1=g1.execute(g1.state,g1.delay))break}while(g1=b1.shift());if(this._active=!1,l1){for(;g1=b1.shift();)g1.unsubscribe();throw l1}}}},4986:(c2,z1,A)=>{A.d(z1,{z:()=>R});var u=A(4408);const R=new(A(7565).v)(u.o)},6063:(c2,z1,A)=>{A.d(z1,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(c2,z1,A)=>{A.d(z1,{z:()=>u});const u={setTimeout(...t1){const{delegate:R}=u;return((null==R?void 0:R.setTimeout)||setTimeout)(...t1)},clearTimeout(t1){const{delegate:R}=u;return((null==R?void 0:R.clearTimeout)||clearTimeout)(t1)},delegate:void 0}},2202:(c2,z1,A)=>{A.d(z1,{h:()=>t1});const t1=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(c2,z1,A)=>{A.d(z1,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(c2,z1,A)=>{A.d(z1,{_6:()=>b1,jO:()=>h1,yG:()=>g1});var u=A(576);function R(l1){return l1[l1.length-1]}function h1(l1){return(0,u.m)(R(l1))?l1.pop():void 0}function g1(l1){return function t1(l1){return l1&&(0,u.m)(l1.schedule)}(R(l1))?l1.pop():void 0}function b1(l1,p1){return"number"==typeof R(l1)?l1.pop():p1}},8737:(c2,z1,A)=>{function u(t1,R){if(t1){const h1=t1.indexOf(R);0<=h1&&t1.splice(h1,1)}}A.d(z1,{P:()=>u})},3888:(c2,z1,A)=>{function u(t1){const h1=t1(g1=>{Error.call(g1),g1.stack=(new Error).stack});return h1.prototype=Object.create(Error.prototype),h1.prototype.constructor=h1,h1}A.d(z1,{d:()=>u})},2806:(c2,z1,A)=>{A.d(z1,{O:()=>h1,x:()=>R});var u=A(2416);let t1=null;function R(g1){if(u.v.useDeprecatedSynchronousErrorHandling){const b1=!t1;if(b1&&(t1={errorThrown:!1,error:null}),g1(),b1){const{errorThrown:l1,error:p1}=t1;if(t1=null,l1)throw p1}}else g1()}function h1(g1){u.v.useDeprecatedSynchronousErrorHandling&&t1&&(t1.errorThrown=!0,t1.error=g1)}},9672:(c2,z1,A)=>{function u(t1,R,h1,g1=0,b1=!1){const l1=R.schedule(function(){h1(),b1?t1.add(this.schedule(null,g1)):this.unsubscribe()},g1);if(t1.add(l1),!b1)return l1}A.d(z1,{f:()=>u})},4671:(c2,z1,A)=>{function u(t1){return t1}A.d(z1,{y:()=>u})},1144:(c2,z1,A)=>{A.d(z1,{z:()=>u});const u=t1=>t1&&"number"==typeof t1.length&&"function"!=typeof t1},2206:(c2,z1,A)=>{A.d(z1,{D:()=>t1});var u=A(576);function t1(R){return Symbol.asyncIterator&&(0,u.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(c2,z1,A)=>{function u(t1){return"function"==typeof t1}A.d(z1,{m:()=>u})},3670:(c2,z1,A)=>{A.d(z1,{c:()=>R});var u=A(8822),t1=A(576);function R(h1){return(0,t1.m)(h1[u.L])}},6495:(c2,z1,A)=>{A.d(z1,{T:()=>R});var u=A(2202),t1=A(576);function R(h1){return(0,t1.m)(null==h1?void 0:h1[u.h])}},8239:(c2,z1,A)=>{A.d(z1,{t:()=>t1});var u=A(576);function t1(R){return(0,u.m)(null==R?void 0:R.then)}},3260:(c2,z1,A)=>{A.d(z1,{L:()=>h1,Q:()=>R});var u=A(655),t1=A(576);function R(g1){return(0,u.FC)(this,arguments,function*(){const l1=g1.getReader();try{for(;;){const{value:p1,done:v1}=yield(0,u.qq)(l1.read());if(v1)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(p1)}}finally{l1.releaseLock()}})}function h1(g1){return(0,t1.m)(null==g1?void 0:g1.getReader)}},4482:(c2,z1,A)=>{A.d(z1,{A:()=>t1,e:()=>R});var u=A(576);function t1(h1){return(0,u.m)(null==h1?void 0:h1.lift)}function R(h1){return g1=>{if(t1(g1))return g1.lift(function(b1){try{return h1(b1,this)}catch(l1){this.error(l1)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(c2,z1,A)=>{function u(){}A.d(z1,{Z:()=>u})},7849:(c2,z1,A)=>{A.d(z1,{h:()=>R});var u=A(2416),t1=A(3410);function R(h1){t1.z.setTimeout(()=>{const{onUnhandledError:g1}=u.v;if(!g1)throw h1;g1(h1)})}},4532:(c2,z1,A)=>{function u(t1){return new TypeError(`You provided ${null!==t1&&"object"==typeof t1?"an invalid object":`'${t1}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(z1,{z:()=>u})},655:(c2,z1,A)=>{function h1(U,e1){var d1={};for(var c1 in U)Object.prototype.hasOwnProperty.call(U,c1)&&e1.indexOf(c1)<0&&(d1[c1]=U[c1]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var I1=0;for(c1=Object.getOwnPropertySymbols(U);I1<c1.length;I1++)e1.indexOf(c1[I1])<0&&Object.prototype.propertyIsEnumerable.call(U,c1[I1])&&(d1[c1[I1]]=U[c1[I1]])}return d1}function p1(U,e1,d1,c1){return new(d1||(d1=Promise))(function(u1,M2){function k2(w2){try{a2(c1.next(w2))}catch(Le){M2(Le)}}function Ee(w2){try{a2(c1.throw(w2))}catch(Le){M2(Le)}}function a2(w2){w2.done?u1(w2.value):function I1(u1){return u1 instanceof d1?u1:new d1(function(M2){M2(u1)})}(w2.value).then(k2,Ee)}a2((c1=c1.apply(U,e1||[])).next())})}function m1(U){return this instanceof m1?(this.v=U,this):new m1(U)}function S1(U,e1,d1){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I1,c1=d1.apply(U,e1||[]),u1=[];return I1={},M2("next"),M2("throw"),M2("return"),I1[Symbol.asyncIterator]=function(){return this},I1;function M2(Ce){c1[Ce]&&(I1[Ce]=function(V3){return new Promise(function(ie,S3){u1.push([Ce,V3,ie,S3])>1||k2(Ce,V3)})})}function k2(Ce,V3){try{!function Ee(Ce){Ce.value instanceof m1?Promise.resolve(Ce.value.v).then(a2,w2):Le(u1[0][2],Ce)}(c1[Ce](V3))}catch(ie){Le(u1[0][3],ie)}}function a2(Ce){k2("next",Ce)}function w2(Ce){k2("throw",Ce)}function Le(Ce,V3){Ce(V3),u1.shift(),u1.length&&k2(u1[0][0],u1[0][1])}}function t2(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d1,e1=U[Symbol.asyncIterator];return e1?e1.call(U):(U=function a1(U){var e1="function"==typeof Symbol&&Symbol.iterator,d1=e1&&U[e1],c1=0;if(d1)return d1.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&c1>=U.length&&(U=void 0),{value:U&&U[c1++],done:!U}}};throw new TypeError(e1?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),d1={},c1("next"),c1("throw"),c1("return"),d1[Symbol.asyncIterator]=function(){return this},d1);function c1(u1){d1[u1]=U[u1]&&function(M2){return new Promise(function(k2,Ee){!function I1(u1,M2,k2,Ee){Promise.resolve(Ee).then(function(a2){u1({value:a2,done:k2})},M2)}(k2,Ee,(M2=U[u1](M2)).done,M2.value)})}}}A.d(z1,{FC:()=>S1,KL:()=>t2,_T:()=>h1,mG:()=>p1,qq:()=>m1})},5e3:(c2,z1,A)=>{A.d(z1,{$8M:()=>d8,$Z:()=>T7,AFp:()=>ru,ALo:()=>km,AaK:()=>p1,AsE:()=>rl,BQk:()=>N7,CHM:()=>s6,CRH:()=>$m,CZH:()=>nu,CqO:()=>WC,EJc:()=>lw,EiD:()=>Nr,EpF:()=>Bc,F$t:()=>Zc,F4k:()=>qc,FYo:()=>bm,FiY:()=>j6,G48:()=>Sw,GfV:()=>wm,Gpc:()=>G,Hsn:()=>YC,IIB:()=>iw,Ikx:()=>ll,JOm:()=>V,JVY:()=>_8,L6k:()=>ja,LAX:()=>E9,LFG:()=>c3,LSH:()=>S5,Lbi:()=>ow,MAs:()=>TC,MGl:()=>k7,NdJ:()=>Gc,OlP:()=>je,Oqu:()=>nl,PXZ:()=>_w,Q6J:()=>Oc,QGY:()=>jc,Qsj:()=>pz,R0b:()=>_6,RDi:()=>jt,Rgc:()=>u0,SBq:()=>as,Sil:()=>fw,Suo:()=>Wm,TTD:()=>$4,TgZ:()=>Xi,Tol:()=>Xc,Udp:()=>Jc,VLi:()=>vw,WLB:()=>xm,X6Q:()=>Vw,XFs:()=>V2,Xpm:()=>y1,Y36:()=>Ji,YKP:()=>Vl,YNc:()=>xC,Yjl:()=>h4,Yz7:()=>ie,ZZ4:()=>Lu,_Bn:()=>gm,_UZ:()=>Uc,_Vd:()=>$7,_c5:()=>jw,_uU:()=>vp,aQg:()=>bu,c2e:()=>dg,cJS:()=>O2,cg1:()=>U7,d8E:()=>F7,dDg:()=>yg,deG:()=>y9,dqk:()=>G2,eBb:()=>Vi,eFA:()=>bg,ekj:()=>P7,g9A:()=>su,h0i:()=>c0,hGG:()=>qw,hij:()=>O7,iGM:()=>Gm,ifc:()=>Z2,ip1:()=>tu,kEZ:()=>Tl,kL8:()=>ul,kYT:()=>pe,lG2:()=>U3,lcZ:()=>Pm,mCW:()=>yt,n5z:()=>Ta,oAB:()=>I2,oJD:()=>Ai,oxw:()=>$c,pB0:()=>M8,q3G:()=>oe,q4F:()=>Vm,qLn:()=>kr,qOj:()=>Ac,qZA:()=>A7,qzn:()=>vt,r_U:()=>fg,s9C:()=>D7,sBO:()=>Hg,sIi:()=>Qi,s_b:()=>Y7,soG:()=>ro,tBr:()=>gt,tb:()=>au,tp0:()=>xn,uIk:()=>H7,vHH:()=>O1,vpe:()=>tn,wAp:()=>N2,xi3:()=>Al,xp6:()=>bd,yhl:()=>b5,ynx:()=>I7,z2F:()=>hu,z3N:()=>p6,zSh:()=>wc,zs3:()=>Y6});var u=A(7579),t1=A(727),R=A(8306),h1=A(6451),g1=A(3099);function b1(a){for(let o in a)if(a[o]===b1)return o;throw Error("Could not find renamed property on target object.")}function l1(a,o){for(const c in o)o.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=o[c])}function p1(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(p1).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const o=a.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function v1(a,o){return null==a||""===a?null===o?"":o:null==o||""===o?a:a+" "+o}const W=b1({__forward_ref__:b1});function G(a){return a.__forward_ref__=G,a.toString=function(){return p1(this())},a}function a1(a){return j1(a)?a():a}function j1(a){return"function"==typeof a&&a.hasOwnProperty(W)&&a.__forward_ref__===G}class O1 extends Error{constructor(o,c){super(function G1(a,o){return`NG0${Math.abs(a)}${o?": "+o:""}`}(o,c)),this.code=o}}function m1(a){return"string"==typeof a?a:null==a?"":String(a)}function S1(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():m1(a)}function H1(a,o){const c=o?` in ${o}`:"";throw new O1(-201,`No provider for ${S1(a)} found${c}`)}function a2(a,o){null==a&&function w2(a,o,c,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${c} ${f} ${o} <=Actual]`))}(o,a,null,"!=")}function ie(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function O2(a){return{providers:a.providers||[],imports:a.imports||[]}}function P2(a){return Re(a,y3)||Re(a,_3)}function Re(a,o){return a.hasOwnProperty(o)?a[o]:null}function be(a){return a&&(a.hasOwnProperty(F3)||a.hasOwnProperty(h3))?a[F3]:null}const y3=b1({\u0275prov:b1}),F3=b1({\u0275inj:b1}),_3=b1({ngInjectableDef:b1}),h3=b1({ngInjectorDef:b1});var V2=(()=>((V2=V2||{})[V2.Default=0]="Default",V2[V2.Host=1]="Host",V2[V2.Self=2]="Self",V2[V2.SkipSelf=4]="SkipSelf",V2[V2.Optional=8]="Optional",V2))();let M3;function Ne(a){const o=M3;return M3=a,o}function K3(a,o,c){const f=P2(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:c&V2.Optional?null:void 0!==o?o:void H1(p1(a),"Injector")}function We(a){return{toString:a}.toString()}var Oe=(()=>((Oe=Oe||{})[Oe.OnPush=0]="OnPush",Oe[Oe.Default=1]="Default",Oe))(),Z2=(()=>{return(a=Z2||(Z2={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Z2;var a})();const h2="undefined"!=typeof globalThis&&globalThis,y2="undefined"!=typeof window&&window,ye="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G2=h2||"undefined"!=typeof global&&global||y2||ye,$e={},O=[],Y=b1({\u0275cmp:b1}),Q=b1({\u0275dir:b1}),T1=b1({\u0275pipe:b1}),B=b1({\u0275mod:b1}),n1=b1({\u0275fac:b1}),j=b1({__NG_ELEMENT_ID__:b1});let s1=0;function y1(a){return We(()=>{const c={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Oe.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||O,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Z2.Emulated,id:"c",styles:a.styles||O,_:null,setInput:null,schemas:a.schemas||null,tView:null},d=a.directives,m=a.features,_=a.pipes;return f.id+=s1++,f.inputs=se(a.inputs,c),f.outputs=se(a.outputs),m&&m.forEach(L=>L(f)),f.directiveDefs=d?()=>("function"==typeof d?d():d).map(Z1):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(q1):null,f})}function Z1(a){return _e(a)||function xe(a){return a[Q]||null}(a)}function q1(a){return function T4(a){return a[T1]||null}(a)}const p2={};function I2(a){return We(()=>{const o={type:a.type,bootstrap:a.bootstrap||O,declarations:a.declarations||O,imports:a.imports||O,exports:a.exports||O,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(p2[a.id]=a.type),o})}function pe(a,o){return We(()=>{const c=qe(a,!0);c.declarations=o.declarations||O,c.imports=o.imports||O,c.exports=o.exports||O})}function se(a,o){if(null==a)return $e;const c={};for(const f in a)if(a.hasOwnProperty(f)){let d=a[f],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),c[d]=f,o&&(o[d]=m)}return c}const U3=y1;function h4(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function _e(a){return a[Y]||null}function qe(a,o){const c=a[B]||null;if(!c&&!0===o)throw new Error(`Type ${p1(a)} does not have '\u0275mod' property.`);return c}function T3(a){return Array.isArray(a)&&"object"==typeof a[1]}function C4(a){return Array.isArray(a)&&!0===a[1]}function e6(a){return 0!=(8&a.flags)}function Q5(a){return 2==(2&a.flags)}function ft(a){return 1==(1&a.flags)}function I4(a){return null!==a.template}function J5(a){return 0!=(512&a[2])}function J3(a,o){return a.hasOwnProperty(n1)?a[n1]:null}class A6{constructor(o,c,f){this.previousValue=o,this.currentValue=c,this.firstChange=f}isFirstChange(){return this.firstChange}}function $4(){return I6}function I6(a){return a.type.prototype.ngOnChanges&&(a.setInput=ei),or}function or(){const a=Z4(this),o=null==a?void 0:a.current;if(o){const c=a.previous;if(c===$e)a.previous=o;else for(let f in o)c[f]=o[f];a.current=null,this.ngOnChanges(o)}}function ei(a,o,c,f){const d=Z4(a)||function n8(a,o){return a[n6]=o}(a,{previous:$e,current:null}),m=d.current||(d.current={}),_=d.previous,L=this.declaredInputs[c],w=_[L];m[L]=new A6(w&&w.currentValue,o,_===$e),a[f]=o}$4.ngInherit=!0;const n6="__ngSimpleChanges__";function Z4(a){return a[n6]||null}let N6;function jt(a){N6=a}function Cn(){return void 0!==N6?N6:"undefined"!=typeof document?document:void 0}function Te(a){return!!a.listen}const Y4={createRenderer:(a,o)=>Cn()};function ae(a){for(;Array.isArray(a);)a=a[0];return a}function r6(a,o){return ae(o[a])}function X3(a,o){return ae(o[a.index])}function mn(a,o){return a.data[o]}function k(a,o){return a[o]}function N(a,o){const c=o[a];return T3(c)?c:c[0]}function J(a){return 4==(4&a[2])}function C1(a){return 128==(128&a[2])}function e2(a,o){return null==o?null:a[o]}function T2(a){a[18]=0}function Fe(a,o){a[5]+=o;let c=a,f=a[3];for(;null!==f&&(1===o&&1===c[5]||-1===o&&0===c[5]);)f[5]+=o,c=f,f=f[3]}const f2={lFrame:La(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function N4(){return f2.bindingsEnabled}function N1(){return f2.lFrame.lView}function U2(){return f2.lFrame.tView}function s6(a){return f2.lFrame.contextLView=a,a[8]}function Ie(){let a=lr();for(;null!==a&&64===a.type;)a=a.parent;return a}function lr(){return f2.lFrame.currentTNode}function dt(a,o){const c=f2.lFrame;c.currentTNode=a,c.isParent=o}function o8(){return f2.lFrame.isParent}function ti(){f2.lFrame.isParent=!1}function fr(){return f2.isInCheckNoChangesMode}function hr(a){f2.isInCheckNoChangesMode=a}function I3(){const a=f2.lFrame;let o=a.bindingRootIndex;return-1===o&&(o=a.bindingRootIndex=a.tView.bindingStartIndex),o}function r5(){return f2.lFrame.bindingIndex++}function Ct(a){const o=f2.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+a,c}function C9(a,o){const c=f2.lFrame;c.bindingIndex=c.bindingRootIndex=a,ri(o)}function ri(a){f2.lFrame.currentDirectiveIndex=a}function i5(a){const o=f2.lFrame.currentDirectiveIndex;return-1===o?null:a[o]}function p9(){return f2.lFrame.currentQueryIndex}function c8(a){f2.lFrame.currentQueryIndex=a}function Xh(a){const o=a[1];return 2===o.type?o.declTNode:1===o.type?a[6]:null}function Ma(a,o,c){if(c&V2.SkipSelf){let d=o,m=a;for(;!(d=d.parent,null!==d||c&V2.Host||(d=Xh(m),null===d||(m=m[15],10&d.type))););if(null===d)return!1;o=d,a=m}const f=f2.lFrame=pr();return f.currentTNode=o,f.lView=a,!0}function s5(a){const o=pr(),c=a[1];f2.lFrame=o,o.currentTNode=c.firstChild,o.lView=a,o.tView=c,o.contextLView=a,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function pr(){const a=f2.lFrame,o=null===a?null:a.child;return null===o?La(a):o}function La(a){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=o),o}function a5(){const a=f2.lFrame;return f2.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const ba=a5;function l8(){const a=a5();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function l4(){return f2.lFrame.selectedIndex}function qt(a){f2.lFrame.selectedIndex=a}function t3(){const a=f2.lFrame;return mn(a.tView,a.selectedIndex)}function za(a,o){for(let c=o.directiveStart,f=o.directiveEnd;c<f;c++){const m=a.data[c].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:L,ngAfterViewInit:w,ngAfterViewChecked:H,ngOnDestroy:E}=m;_&&(a.contentHooks||(a.contentHooks=[])).push(-c,_),L&&((a.contentHooks||(a.contentHooks=[])).push(c,L),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,L)),w&&(a.viewHooks||(a.viewHooks=[])).push(-c,w),H&&((a.viewHooks||(a.viewHooks=[])).push(c,H),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,H)),null!=E&&(a.destroyHooks||(a.destroyHooks=[])).push(c,E)}}function u8(a,o,c){g9(a,o,3,c)}function o6(a,o,c,f){(3&a[2])===c&&g9(a,o,c,f)}function f8(a,o){let c=a[2];(3&c)===o&&(c&=2047,c+=1,a[2]=c)}function g9(a,o,c,f){const m=null!=f?f:-1,_=o.length-1;let L=0;for(let w=void 0!==f?65535&a[18]:0;w<_;w++)if("number"==typeof o[w+1]){if(L=o[w],null!=f&&L>=f)break}else o[w]<0&&(a[18]+=65536),(L<m||-1==m)&&(nd(a,c,o,w),a[18]=(4294901760&a[18])+w+2),w++}function nd(a,o,c,f){const d=c[f]<0,m=c[f+1],L=a[d?-c[f]:c[f]];if(d){if(a[2]>>11<a[18]>>16&&(3&a[2])===o){a[2]+=2048;try{m.call(L)}finally{}}}else try{m.call(L)}finally{}}class mr{constructor(o,c,f){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=f}}function L2(a,o,c){const f=Te(a);let d=0;for(;d<c.length;){const m=c[d];if("number"==typeof m){if(0!==m)break;d++;const _=c[d++],L=c[d++],w=c[d++];f?a.setAttribute(o,L,w,_):o.setAttributeNS(_,L,w)}else{const _=m,L=c[++d];Q4(_)?f&&a.setProperty(o,_,L):f?a.setAttribute(o,_,L):o.setAttribute(_,L),d++}}return d}function C3(a){return 3===a||4===a||6===a}function Q4(a){return 64===a.charCodeAt(0)}function Ke(a,o){if(null!==o&&0!==o.length)if(null===a||0===a.length)a=o.slice();else{let c=-1;for(let f=0;f<o.length;f++){const d=o[f];"number"==typeof d?c=d:0===c||Sa(a,c,d,null,-1===c||2===c?o[++f]:null)}}return a}function Sa(a,o,c,f,d){let m=0,_=a.length;if(-1===o)_=-1;else for(;m<a.length;){const L=a[m++];if("number"==typeof L){if(L===o){_=-1;break}if(L>o){_=m-1;break}}}for(;m<a.length;){const L=a[m];if("number"==typeof L)break;if(L===c){if(null===f)return void(null!==d&&(a[m+1]=d));if(f===a[m+1])return void(a[m+2]=d)}m++,null!==f&&m++,null!==d&&m++}-1!==_&&(a.splice(_,0,o),m=_+1),a.splice(m++,0,c),null!==f&&a.splice(m++,0,f),null!==d&&a.splice(m++,0,d)}function Ha(a){return-1!==a}function Gt(a){return 32767&a}function Be(a,o){let c=function v9(a){return a>>16}(a),f=o;for(;c>0;)f=f[15],c--;return f}let si=!0;function pt(a){const o=si;return si=a,o}let xa=0;function Ge(a,o){const c=vr(a,o);if(-1!==c)return c;const f=o[1];f.firstCreatePass&&(a.injectorIndex=o.length,l5(f.data,a),l5(o,null),l5(f.blueprint,null));const d=k6(a,o),m=a.injectorIndex;if(Ha(d)){const _=Gt(d),L=Be(d,o),w=L[1].data;for(let H=0;H<8;H++)o[m+H]=L[_+H]|w[_+H]}return o[m+8]=d,m}function l5(a,o){a.push(0,0,0,0,0,0,0,0,o)}function vr(a,o){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===o[a.injectorIndex+8]?-1:a.injectorIndex}function k6(a,o){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,f=null,d=o;for(;null!==d;){const m=d[1],_=m.type;if(f=2===_?m.declTNode:1===_?d[6]:null,null===f)return-1;if(c++,d=d[15],-1!==f.injectorIndex)return f.injectorIndex|c<<16}return-1}function P6(a,o,c){!function ai(a,o,c){let f;"string"==typeof c?f=c.charCodeAt(0)||0:c.hasOwnProperty(j)&&(f=c[j]),null==f&&(f=c[j]=xa++);const d=255&f;o.data[a+(d>>5)]|=1<<d}(a,o,c)}function Mn(a,o,c){if(c&V2.Optional)return a;H1(o,"NodeInjector")}function ci(a,o,c,f){if(c&V2.Optional&&void 0===f&&(f=null),0==(c&(V2.Self|V2.Host))){const d=a[9],m=Ne(void 0);try{return d?d.get(o,f,c&V2.Optional):K3(o,f,c&V2.Optional)}finally{Ne(m)}}return Mn(f,o,c)}function Ln(a,o,c,f=V2.Default,d){if(null!==a){const m=function f5(a){if("string"==typeof a)return a.charCodeAt(0)||0;const o=a.hasOwnProperty(j)?a[j]:void 0;return"number"==typeof o?o>=0?255&o:li:o}(c);if("function"==typeof m){if(!Ma(o,a,f))return f&V2.Host?Mn(d,c,f):ci(o,c,f,d);try{const _=m(f);if(null!=_||f&V2.Optional)return _;H1(c)}finally{ba()}}else if("number"==typeof m){let _=null,L=vr(a,o),w=-1,H=f&V2.Host?o[16][6]:null;for((-1===L||f&V2.SkipSelf)&&(w=-1===L?k6(a,o):o[L+8],-1!==w&&N3(f,!1)?(_=o[1],L=Gt(w),o=Be(w,o)):L=-1);-1!==L;){const E=o[1];if(R6(m,L,E.data)){const P=yr(L,o,c,_,f,H);if(P!==h8)return P}w=o[L+8],-1!==w&&N3(f,o[1].data[L+8]===H)&&R6(m,L,o)?(_=E,L=Gt(w),o=Be(w,o)):L=-1}}}return ci(o,c,f,d)}const h8={};function li(){return new bn(Ie(),N1())}function yr(a,o,c,f,d,m){const _=o[1],L=_.data[a+8],E=c6(L,_,c,null==f?Q5(L)&&si:f!=_&&0!=(3&L.type),d&V2.Host&&m===L);return null!==E?u5(o,_,E,L):h8}function c6(a,o,c,f,d){const m=a.providerIndexes,_=o.data,L=1048575&m,w=a.directiveStart,E=m>>20,Z=d?L+E:a.directiveEnd;for(let r1=f?L:L+E;r1<Z;r1++){const x1=_[r1];if(r1<w&&c===x1||r1>=w&&x1.type===c)return r1}if(d){const r1=_[w];if(r1&&I4(r1)&&r1.type===c)return w}return null}function u5(a,o,c,f){let d=a[c];const m=o.data;if(function wa(a){return a instanceof mr}(d)){const _=d;_.resolving&&function o2(a,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${a}`:"";throw new O1(-200,`Circular dependency in DI detected for ${a}${c}`)}(S1(m[c]));const L=pt(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?Ne(_.injectImpl):null;Ma(a,f,V2.Default);try{d=a[c]=_.factory(void 0,m,a,f),o.firstCreatePass&&c>=f.directiveStart&&function td(a,o,c){const{ngOnChanges:f,ngOnInit:d,ngDoCheck:m}=o.type.prototype;if(f){const _=I6(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,_)}d&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,d),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,m))}(c,m[c],o)}finally{null!==w&&Ne(w),pt(L),_.resolving=!1,ba()}}return d}function R6(a,o,c){return!!(c[o+(a>>5)]&1<<a)}function N3(a,o){return!(a&V2.Self||a&V2.Host&&o)}class bn{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,f){return Ln(this._tNode,this._lView,o,f,c)}}function Ta(a){return We(()=>{const o=a.prototype.constructor,c=o[n1]||De(o),f=Object.prototype;let d=Object.getPrototypeOf(a.prototype).constructor;for(;d&&d!==f;){const m=d[n1]||De(d);if(m&&m!==c)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function De(a){return j1(a)?()=>{const o=De(a1(a));return o&&o()}:J3(a)}function d8(a){return function oi(a,o){if("class"===o)return a.classes;if("style"===o)return a.styles;const c=a.attrs;if(c){const f=c.length;let d=0;for(;d<f;){const m=c[d];if(C3(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<f&&"string"==typeof c[d];)d++;else{if(m===o)return c[d+1];d+=2}}}return null}(Ie(),a)}const zn="__parameters__",J4="__prop__metadata__";function k4(a){return function(...c){if(a){const f=a(...c);for(const d in f)this[d]=f[d]}}}function n3(a,o,c){return We(()=>{const f=k4(o);function d(...m){if(this instanceof d)return f.apply(this,m),this;const _=new d(...m);return L.annotation=_,L;function L(w,H,E){const P=w.hasOwnProperty(zn)?w[zn]:Object.defineProperty(w,zn,{value:[]})[zn];for(;P.length<=E;)P.push(null);return(P[E]=P[E]||[]).push(_),w}}return c&&(d.prototype=Object.create(c.prototype)),d.prototype.ngMetadataName=a,d.annotationCls=d,d})}function wn(a,o,c,f){return We(()=>{const d=k4(o);function m(..._){if(this instanceof m)return d.apply(this,_),this;const L=new m(..._);return function w(H,E){const P=H.constructor,Z=P.hasOwnProperty(J4)?P[J4]:Object.defineProperty(P,J4,{value:{}})[J4];Z[E]=Z.hasOwnProperty(E)&&Z[E]||[],Z[E].unshift(L),f&&f(H,E,..._)}}return c&&(m.prototype=Object.create(c.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class je{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=ie({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const y9=new je("AnalyzeForEntryComponents");function et(a,o){void 0===o&&(o=a);for(let c=0;c<a.length;c++){let f=a[c];Array.isArray(f)?(o===a&&(o=a.slice(0,c)),et(f,o)):o!==a&&o.push(f)}return o}function tt(a,o){a.forEach(c=>Array.isArray(c)?tt(c,o):o(c))}function d5(a,o,c){o>=a.length?a.push(c):a.splice(o,0,c)}function Hn(a,o){return o>=a.length-1?a.pop():a.splice(o,1)[0]}function C8(a,o){const c=[];for(let f=0;f<a;f++)c.push(o);return c}function D3(a,o,c){let f=l6(a,o);return f>=0?a[1|f]=c:(f=~f,function F6(a,o,c,f){let d=a.length;if(d==o)a.push(c,f);else if(1===d)a.push(f,a[0]),a[0]=c;else{for(d--,a.push(a[d-1],a[d]);d>o;)a[d]=a[d-2],d--;a[o]=c,a[o+1]=f}}(a,f,o,c)),f}function C5(a,o){const c=l6(a,o);if(c>=0)return a[1|c]}function l6(a,o){return function Ia(a,o,c){let f=0,d=a.length>>c;for(;d!==f;){const m=f+(d-f>>1),_=a[m<<c];if(o===_)return m<<c;_>o?d=m:f=m+1}return~(d<<c)}(a,o,1)}const m8={},p5="__NG_DI_FLAG__",En="ngTempTokenPath",Da=/\n/gm,zr="__source",vi=b1({provide:String,useValue:b1});let U6;function B6(a){const o=U6;return U6=a,o}function X2(a,o=V2.Default){if(void 0===U6)throw new O1(203,"");return null===U6?K3(a,void 0,o):U6.get(a,o&V2.Optional?null:void 0,o)}function c3(a,o=V2.Default){return(function he(){return M3}()||X2)(a1(a),o)}const u6=c3;function yi(a){const o=[];for(let c=0;c<a.length;c++){const f=a1(a[c]);if(Array.isArray(f)){if(0===f.length)throw new O1(900,"");let d,m=V2.Default;for(let _=0;_<f.length;_++){const L=f[_],w=wr(L);"number"==typeof w?-1===w?d=L.token:m|=w:d=L}o.push(c3(d,m))}else o.push(c3(f))}return o}function m5(a,o){return a[p5]=o,a.prototype[p5]=o,a}function wr(a){return a[p5]}const gt=m5(n3("Inject",a=>({token:a})),-1),j6=m5(n3("Optional"),8),xn=m5(n3("SkipSelf"),4);let d6,Sr;function Tn(a){var o;return(null===(o=function Vr(){if(void 0===d6&&(d6=null,G2.trustedTypes))try{d6=G2.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return d6}())||void 0===o?void 0:o.createHTML(a))||a}function bi(a){var o;return(null===(o=function q6(){if(void 0===Sr&&(Sr=null,G2.trustedTypes))try{Sr=G2.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Sr}())||void 0===o?void 0:o.createHTML(a))||a}class C6{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wi extends C6{getTypeName(){return"HTML"}}class Ba extends C6{getTypeName(){return"Style"}}class y8 extends C6{getTypeName(){return"Script"}}class S9 extends C6{getTypeName(){return"URL"}}class H9 extends C6{getTypeName(){return"ResourceURL"}}function p6(a){return a instanceof C6?a.changingThisBreaksApplicationSecurity:a}function vt(a,o){const c=b5(a);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function b5(a){return a instanceof C6&&a.getTypeName()||null}function _8(a){return new wi(a)}function ja(a){return new Ba(a)}function Vi(a){return new y8(a)}function E9(a){return new S9(a)}function M8(a){return new H9(a)}class Ga{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Tn(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Wa{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const f=this.inertDocument.createElement("body");c.appendChild(f)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Tn(o),c;const f=this.inertDocument.createElement("body");return f.innerHTML=Tn(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(o){const c=o.attributes;for(let d=c.length-1;0<d;d--){const _=c.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let f=o.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Er=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Za=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function yt(a){return(a=String(a)).match(Er)||a.match(Za)?a:"unsafe:"+a}function _t(a){const o={};for(const c of a.split(","))o[c]=!0;return o}function An(...a){const o={};for(const c of a)for(const f in c)c.hasOwnProperty(f)&&(o[f]=!0);return o}const Ka=_t("area,br,col,hr,img,wbr"),xr=_t("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tr=_t("rp,rt"),Hi=An(Ka,An(xr,_t("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),An(Tr,_t("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),An(Tr,xr)),L8=_t("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ei=_t("srcset"),w5=An(L8,Ei,_t("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_t("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),x9=_t("script,style,template");class V5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,f=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?f=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,f&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let d=this.checkClobberedElement(c,c.nextSibling);if(d){c=d;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!Hi.hasOwnProperty(c))return this.sanitizedSomething=!0,!x9.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const f=o.attributes;for(let d=0;d<f.length;d++){const m=f.item(d),_=m.name,L=_.toLowerCase();if(!w5.hasOwnProperty(L)){this.sanitizedSomething=!0;continue}let w=m.value;L8[L]&&(w=yt(w)),Ei[L]&&(a=w,w=(a=String(a)).split(",").map(o=>yt(o.trim())).join(", ")),this.buf.push(" ",_,'="',Ir(w),'"')}var a;return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();Hi.hasOwnProperty(c)&&!Ka.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(Ir(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const b8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,T9=/([^\#-~ |!])/g;function Ir(a){return a.replace(/&/g,"&amp;").replace(b8,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(T9,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nn;function Nr(a,o){let c=null;try{Nn=Nn||function qa(a){const o=new Wa(a);return function $a(){try{return!!(new window.DOMParser).parseFromString(Tn(""),"text/html")}catch(a){return!1}}()?new Ga(o):o}(a);let f=o?String(o):"";c=Nn.getInertBodyElement(f);let d=5,m=f;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,f=m,m=c.innerHTML,c=Nn.getInertBodyElement(f)}while(f!==m);return Tn((new V5).sanitizeChildren(xi(c)||c))}finally{if(c){const f=xi(c)||c;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function xi(a){return"content"in a&&function Ti(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var oe=(()=>((oe=oe||{})[oe.NONE=0]="NONE",oe[oe.HTML=1]="HTML",oe[oe.STYLE=2]="STYLE",oe[oe.SCRIPT=3]="SCRIPT",oe[oe.URL=4]="URL",oe[oe.RESOURCE_URL=5]="RESOURCE_URL",oe))();function Ai(a){const o=G6();return o?bi(o.sanitize(oe.HTML,a)||""):vt(a,"HTML")?bi(p6(a)):Nr(Cn(),m1(a))}function S5(a){const o=G6();return o?o.sanitize(oe.URL,a)||"":vt(a,"URL")?p6(a):yt(m1(a))}function G6(){const a=N1();return a&&a[12]}const Ni="__ngContext__";function k3(a,o){a[Ni]=o}function Dr(a){const o=function Pn(a){return a[Ni]||null}(a);return o?Array.isArray(o)?o:o.lView:null}function m4(a){return a.ngOriginalError}function O9(a,...o){a.error(...o)}class kr{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o),f=function r7(a){return a&&a.ngErrorLogger||O9}(o);f(this._console,"ERROR",o),c&&f(this._console,"ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&m4(o);for(;c&&m4(c);)c=m4(c);return c||null}}const U9=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G2))();function Mt(a){return a instanceof Function?a():a}var V=(()=>((V=V||{})[V.Important=1]="Important",V[V.DashCase=2]="DashCase",V))();function X(a,o){return undefined(a,o)}function l2(a){const o=a[3];return C4(o)?o[3]:o}function Ye(a){return V8(a[13])}function v4(a){return V8(a[4])}function V8(a){for(;null!==a&&!C4(a);)a=a[4];return a}function W6(a,o,c,f,d){if(null!=f){let m,_=!1;C4(f)?m=f:T3(f)&&(_=!0,f=f[0]);const L=ae(f);0===a&&null!==c?null==d?W9(o,c,L):Lt(o,c,L,d||null,!0):1===a&&null!==c?Lt(o,c,L,d||null,!0):2===a?function Y9(a,o,c){const f=ji(a,o);f&&function oM(a,o,c,f){Te(a)?a.removeChild(o,c,f):o.removeChild(c)}(a,f,o,c)}(o,L,_):3===a&&o.destroyNode(L),null!=m&&function uM(a,o,c,f,d){const m=c[7];m!==ae(c)&&W6(o,a,f,m,d);for(let L=10;L<c.length;L++){const w=c[L];h7(w[1],w,a,o,f,m)}}(o,a,m,c,d)}}function Or(a,o,c){if(Te(a))return a.createElement(o,c);{const f=null!==c?function r8(a){const o=a.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(c):null;return null===f?a.createElement(o):a.createElementNS(f,o)}}function l7(a,o){const c=a[9],f=c.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Fe(d,-1)),c.splice(f,1)}function j9(a,o){if(a.length<=10)return;const c=10+o,f=a[c];if(f){const d=f[17];null!==d&&d!==a&&l7(d,f),o>0&&(a[c-1][4]=f[4]);const m=Hn(a,10+o);!function P3(a,o){h7(a,o,o[11],2,null,null),o[0]=null,o[6]=null}(f[1],f);const _=m[19];null!==_&&_.detachView(m[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function q9(a,o){if(!(256&o[2])){const c=o[11];Te(c)&&c.destroyNode&&h7(a,o,c,3,null,null),function Bi(a){let o=a[13];if(!o)return G9(a[1],a);for(;o;){let c=null;if(T3(o))c=o[13];else{const f=o[10];f&&(c=f)}if(!c){for(;o&&!o[4]&&o!==a;)T3(o)&&G9(o[1],o),o=o[3];null===o&&(o=a),T3(o)&&G9(o[1],o),c=o&&o[4]}o=c}}(o)}}function G9(a,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function hd(a,o){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let f=0;f<c.length;f+=2){const d=o[c[f]];if(!(d instanceof mr)){const m=c[f+1];if(Array.isArray(m))for(let _=0;_<m.length;_+=2){const L=d[m[_]],w=m[_+1];try{w.call(L)}finally{}}else try{m.call(d)}finally{}}}}(a,o),function fd(a,o){const c=a.cleanup,f=o[7];let d=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const _=c[m+1],L="function"==typeof _?_(o):ae(o[_]),w=f[d=c[m+2]],H=c[m+3];"boolean"==typeof H?L.removeEventListener(c[m],w,H):H>=0?f[d=H]():f[d=-H].unsubscribe(),m+=2}else{const _=f[d=c[m+1]];c[m].call(_)}if(null!==f){for(let m=d+1;m<f.length;m++)f[m]();o[7]=null}}(a,o),1===o[1].type&&Te(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&C4(o[3])){c!==o[3]&&l7(c,o);const f=o[19];null!==f&&f.detachView(a)}}}function u7(a,o,c){return function aM(a,o,c){let f=o;for(;null!==f&&40&f.type;)f=(o=f).parent;if(null===f)return c[0];if(2&f.flags){const d=a.data[f.directiveStart].encapsulation;if(d===Z2.None||d===Z2.Emulated)return null}return X3(f,c)}(a,o.parent,c)}function Lt(a,o,c,f,d){Te(a)?a.insertBefore(o,c,f,d):o.insertBefore(c,f,d)}function W9(a,o,c){Te(a)?a.appendChild(o,c):o.appendChild(c)}function dd(a,o,c,f,d){null!==f?Lt(a,o,c,f,d):W9(a,o,c)}function ji(a,o){return Te(a)?a.parentNode(o):o.parentNode}function Cd(a,o,c){return $9(a,o,c)}let $9=function pd(a,o,c){return 40&a.type?X3(a,c):null};function f7(a,o,c,f){const d=u7(a,f,o),m=o[11],L=Cd(f.parent||o[6],f,o);if(null!=d)if(Array.isArray(c))for(let w=0;w<c.length;w++)dd(m,d,c[w],L,!1);else dd(m,d,c,L,!1)}function Fr(a,o){if(null!==o){const c=o.type;if(3&c)return X3(o,a);if(4&c)return K9(-1,a[o.index]);if(8&c){const f=o.child;if(null!==f)return Fr(a,f);{const d=a[o.index];return C4(d)?K9(-1,d):ae(d)}}if(32&c)return X(o,a)()||ae(a[o.index]);{const f=gd(a,o);return null!==f?Array.isArray(f)?f[0]:Fr(l2(a[16]),f):Fr(a,o.next)}}return null}function gd(a,o){return null!==o?a[16][6].projection[o.projection]:null}function K9(a,o){const c=10+a+1;if(c<o.length){const f=o[c],d=f[1].firstChild;if(null!==d)return Fr(f,d)}return o[7]}function Q9(a,o,c,f,d,m,_){for(;null!=c;){const L=f[c.index],w=c.type;if(_&&0===o&&(L&&k3(ae(L),f),c.flags|=4),64!=(64&c.flags))if(8&w)Q9(a,o,c.child,f,d,m,!1),W6(o,a,d,L,m);else if(32&w){const H=X(c,f);let E;for(;E=H();)W6(o,a,d,E,m);W6(o,a,d,L,m)}else 16&w?lM(a,o,f,c,d,m):W6(o,a,d,L,m);c=_?c.projectionNext:c.next}}function h7(a,o,c,f,d,m){Q9(c,f,a.firstChild,o,d,m,!1)}function lM(a,o,c,f,d,m){const _=c[16],w=_[6].projection[f.projection];if(Array.isArray(w))for(let H=0;H<w.length;H++)W6(o,a,d,w[H],m);else Q9(a,o,w,_[3],d,m,!0)}function vd(a,o,c){Te(a)?a.setAttribute(o,"style",c):o.style.cssText=c}function J9(a,o,c){Te(a)?""===c?a.removeAttribute(o,"class"):a.setAttribute(o,"class",c):o.className=c}function yd(a,o,c){let f=a.length;for(;;){const d=a.indexOf(o,c);if(-1===d)return d;if(0===d||a.charCodeAt(d-1)<=32){const m=o.length;if(d+m===f||a.charCodeAt(d+m)<=32)return d}c=d+1}}const _d="ng-template";function hM(a,o,c){let f=0;for(;f<a.length;){let d=a[f++];if(c&&"class"===d){if(d=a[f],-1!==yd(d.toLowerCase(),o,0))return!0}else if(1===d){for(;f<a.length&&"string"==typeof(d=a[f++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Md(a){return 4===a.type&&a.value!==_d}function dM(a,o,c){return o===(4!==a.type||c?a.value:_d)}function CM(a,o,c){let f=4;const d=a.attrs||[],m=function gM(a){for(let o=0;o<a.length;o++)if(C3(a[o]))return o;return a.length}(d);let _=!1;for(let L=0;L<o.length;L++){const w=o[L];if("number"!=typeof w){if(!_)if(4&f){if(f=2|1&f,""!==w&&!dM(a,w,c)||""===w&&1===o.length){if(Zt(f))return!1;_=!0}}else{const H=8&f?w:o[++L];if(8&f&&null!==a.attrs){if(!hM(a.attrs,H,c)){if(Zt(f))return!1;_=!0}continue}const P=pM(8&f?"class":w,d,Md(a),c);if(-1===P){if(Zt(f))return!1;_=!0;continue}if(""!==H){let Z;Z=P>m?"":d[P+1].toLowerCase();const r1=8&f?Z:null;if(r1&&-1!==yd(r1,H,0)||2&f&&H!==Z){if(Zt(f))return!1;_=!0}}}}else{if(!_&&!Zt(f)&&!Zt(w))return!1;if(_&&Zt(w))continue;_=!1,f=w|1&f}}return Zt(f)||_}function Zt(a){return 0==(1&a)}function pM(a,o,c,f){if(null===o)return-1;let d=0;if(f||!c){let m=!1;for(;d<o.length;){const _=o[d];if(_===a)return d;if(3===_||6===_)m=!0;else{if(1===_||2===_){let L=o[++d];for(;"string"==typeof L;)L=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=m?1:2}return-1}return function vM(a,o){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const f=a[c];if("number"==typeof f)return-1;if(f===o)return c;c++}return-1}(o,a)}function d7(a,o,c=!1){for(let f=0;f<o.length;f++)if(CM(a,o[f],c))return!0;return!1}function yM(a,o){e:for(let c=0;c<o.length;c++){const f=o[c];if(a.length===f.length){for(let d=0;d<a.length;d++)if(a[d]!==f[d])continue e;return!0}}return!1}function Ld(a,o){return a?":not("+o.trim()+")":o}function _M(a){let o=a[0],c=1,f=2,d="",m=!1;for(;c<a.length;){let _=a[c];if("string"==typeof _)if(2&f){const L=a[++c];d+="["+_+(L.length>0?'="'+L+'"':"")+"]"}else 8&f?d+="."+_:4&f&&(d+=" "+_);else""!==d&&!Zt(_)&&(o+=Ld(m,d),d=""),f=_,m=m||!Zt(f);c++}return""!==d&&(o+=Ld(m,d)),o}const $2={};function bd(a){zd(U2(),N1(),l4()+a,fr())}function zd(a,o,c,f){if(!f)if(3==(3&o[2])){const m=a.preOrderCheckHooks;null!==m&&u8(o,m,c)}else{const m=a.preOrderHooks;null!==m&&o6(o,m,0,c)}qt(c)}function C7(a,o){return a<<17|o<<2}function g6(a){return a>>17&32767}function X9(a){return 2|a}function $6(a){return(131068&a)>>2}function ec(a,o){return-131069&a|o<<2}function nc(a){return 1|a}function Ur(a,o){const c=a.contentQueries;if(null!==c)for(let f=0;f<c.length;f+=2){const d=c[f],m=c[f+1];if(-1!==m){const _=a.data[m];c8(d),_.contentQueries(2,o[m],m)}}}function Wi(a,o,c,f,d,m,_,L,w,H){const E=o.blueprint.slice();return E[0]=d,E[2]=140|f,T2(E),E[3]=E[15]=a,E[8]=c,E[10]=_||a&&a[10],E[11]=L||a&&a[11],E[12]=w||a&&a[12]||null,E[9]=H||a&&a[9]||null,E[6]=m,E[16]=2==o.type?a[16]:E,E}function Br(a,o,c,f,d){let m=a.data[o];if(null===m)m=function jr(a,o,c,f,d){const m=lr(),_=o8(),w=a.data[o]=function RM(a,o,c,f,d,m){return{type:c,index:f,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?m:m&&m.parent,c,o,f,d);return null===a.firstChild&&(a.firstChild=w),null!==m&&(_?null==m.child&&null!==w.parent&&(m.child=w):null===m.next&&(m.next=w)),w}(a,o,c,f,d),function d9(){return f2.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=f,m.attrs=d;const _=function vn(){const a=f2.lFrame,o=a.currentTNode;return a.isParent?o:o.parent}();m.injectorIndex=null===_?-1:_.injectorIndex}return dt(m,!0),m}function qr(a,o,c,f){if(0===c)return-1;const d=o.length;for(let m=0;m<c;m++)o.push(f),a.blueprint.push(f),a.data.push(null);return d}function $i(a,o,c){s5(o);try{const f=a.viewQuery;null!==f&&Mc(1,f,c);const d=a.template;null!==d&&kd(a,o,d,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Ur(a,o),a.staticViewQueries&&Mc(2,a.viewQuery,c);const m=a.components;null!==m&&function DM(a,o){for(let c=0;c<o.length;c++)eL(a,o[c])}(o,m)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{o[2]&=-5,l8()}}function Gr(a,o,c,f){const d=o[2];if(256==(256&d))return;s5(o);const m=fr();try{T2(o),function dr(a){return f2.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&kd(a,o,c,2,f);const _=3==(3&d);if(!m)if(_){const H=a.preOrderCheckHooks;null!==H&&u8(o,H,null)}else{const H=a.preOrderHooks;null!==H&&o6(o,H,0,null),f8(o,0)}if(function Wd(a){for(let o=Ye(a);null!==o;o=v4(o)){if(!o[2])continue;const c=o[9];for(let f=0;f<c.length;f++){const d=c[f],m=d[3];0==(1024&d[2])&&Fe(m,1),d[2]|=1024}}}(o),function JM(a){for(let o=Ye(a);null!==o;o=v4(o))for(let c=10;c<o.length;c++){const f=o[c],d=f[1];C1(f)&&Gr(d,f,d.template,f[8])}}(o),null!==a.contentQueries&&Ur(a,o),!m)if(_){const H=a.contentCheckHooks;null!==H&&u8(o,H)}else{const H=a.contentHooks;null!==H&&o6(o,H,1),f8(o,1)}!function IM(a,o){const c=a.hostBindingOpCodes;if(null!==c)try{for(let f=0;f<c.length;f++){const d=c[f];if(d<0)qt(~d);else{const m=d,_=c[++f],L=c[++f];C9(_,m),L(2,o[m])}}}finally{qt(-1)}}(a,o);const L=a.components;null!==L&&function NM(a,o){for(let c=0;c<o.length;c++)XM(a,o[c])}(o,L);const w=a.viewQuery;if(null!==w&&Mc(2,w,f),!m)if(_){const H=a.viewCheckHooks;null!==H&&u8(o,H)}else{const H=a.viewHooks;null!==H&&o6(o,H,2),f8(o,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Fe(o[3],-1))}finally{l8()}}function kM(a,o,c,f){const d=o[10],m=!fr(),_=J(o);try{m&&!_&&d.begin&&d.begin(),_&&$i(a,o,f),Gr(a,o,c,f)}finally{m&&!_&&d.end&&d.end()}}function kd(a,o,c,f,d){const m=l4(),_=2&f;try{qt(-1),_&&o.length>20&&zd(a,o,20,fr()),c(f,d)}finally{qt(m)}}function cc(a,o,c){if(e6(o)){const d=o.directiveEnd;for(let m=o.directiveStart;m<d;m++){const _=a.data[m];_.contentQueries&&_.contentQueries(1,c[m],m)}}}function lc(a,o,c){!N4()||(function GM(a,o,c,f){const d=c.directiveStart,m=c.directiveEnd;a.firstCreatePass||Ge(c,o),k3(f,o);const _=c.initialInputs;for(let L=d;L<m;L++){const w=a.data[L],H=I4(w);H&&KM(o,c,w);const E=u5(o,a,L,c);k3(E,o),null!==_&&YM(0,L-d,E,w,0,_),H&&(N(c.index,o)[8]=E)}}(a,o,c,X3(c,o)),128==(128&c.flags)&&function WM(a,o,c){const f=c.directiveStart,d=c.directiveEnd,_=c.index,L=function ni(){return f2.lFrame.currentDirectiveIndex}();try{qt(_);for(let w=f;w<d;w++){const H=a.data[w],E=o[w];ri(w),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&Cc(H,E)}}finally{qt(-1),ri(L)}}(a,o,c))}function M7(a,o,c=X3){const f=o.localNames;if(null!==f){let d=o.index+1;for(let m=0;m<f.length;m+=2){const _=f[m+1],L=-1===_?c(o,a):a[_];a[d++]=L}}}function Pd(a){const o=a.tView;return null===o||o.incompleteFirstPass?a.tView=L7(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):o}function L7(a,o,c,f,d,m,_,L,w,H){const E=20+f,P=E+d,Z=function Rd(a,o){const c=[];for(let f=0;f<o;f++)c.push(f<a?null:$2);return c}(E,P),r1="function"==typeof H?H():H;return Z[1]={type:a,blueprint:Z,template:c,queries:null,viewQuery:L,declTNode:o,data:Z.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:r1,incompleteFirstPass:!1}}function uc(a,o,c,f){const d=Lc(o);null===c?d.push(f):(d.push(c),a.firstCreatePass&&Kd(a).push(f,d.length-1))}function Ud(a,o,c){for(let f in a)if(a.hasOwnProperty(f)){const d=a[f];(c=null===c?{}:c).hasOwnProperty(f)?c[f].push(o,d):c[f]=[o,d]}return c}function nt(a,o,c,f,d,m,_,L){const w=X3(o,c);let E,H=o.inputs;!L&&null!=H&&(E=H[f])?(Jd(a,c,E,f,d),Q5(o)&&function UM(a,o){const c=N(o,a);16&c[2]||(c[2]|=64)}(c,o.index)):3&o.type&&(f=function FM(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),d=null!=_?_(d,o.value||"",f):d,Te(m)?m.setProperty(w,f,d):Q4(f)||(w.setProperty?w.setProperty(f,d):w[f]=d))}function hc(a,o,c,f){let d=!1;if(N4()){const m=function $M(a,o,c){const f=a.directiveRegistry;let d=null;if(f)for(let m=0;m<f.length;m++){const _=f[m];d7(c,_.selectors,!1)&&(d||(d=[]),P6(Ge(c,o),a,_.type),I4(_)?(jd(a,c),d.unshift(_)):d.push(_))}return d}(a,o,c),_=null===f?null:{"":-1};if(null!==m){d=!0,qd(c,a.data.length,m.length);for(let E=0;E<m.length;E++){const P=m[E];P.providersResolver&&P.providersResolver(P)}let L=!1,w=!1,H=qr(a,o,m.length,null);for(let E=0;E<m.length;E++){const P=m[E];c.mergedAttrs=Ke(c.mergedAttrs,P.hostAttrs),Gd(a,c,o,H,P),ZM(H,P,_),null!==P.contentQueries&&(c.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(c.flags|=128);const Z=P.type.prototype;!L&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),L=!0),!w&&(Z.ngOnChanges||Z.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),w=!0),H++}!function OM(a,o){const f=o.directiveEnd,d=a.data,m=o.attrs,_=[];let L=null,w=null;for(let H=o.directiveStart;H<f;H++){const E=d[H],P=E.inputs,Z=null===m||Md(o)?null:QM(P,m);_.push(Z),L=Ud(P,H,L),w=Ud(E.outputs,H,w)}null!==L&&(L.hasOwnProperty("class")&&(o.flags|=16),L.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=L,o.outputs=w}(a,c)}_&&function pc(a,o,c){if(o){const f=a.localNames=[];for(let d=0;d<o.length;d+=2){const m=c[o[d+1]];if(null==m)throw new O1(-301,!1);f.push(o[d],m)}}}(c,f,_)}return c.mergedAttrs=Ke(c.mergedAttrs,c.attrs),d}function dc(a,o,c,f,d,m){const _=m.hostBindings;if(_){let L=a.hostBindingOpCodes;null===L&&(L=a.hostBindingOpCodes=[]);const w=~o.index;(function qM(a){let o=a.length;for(;o>0;){const c=a[--o];if("number"==typeof c&&c<0)return c}return 0})(L)!=w&&L.push(w),L.push(f,d,_)}}function Cc(a,o){null!==a.hostBindings&&a.hostBindings(1,o)}function jd(a,o){o.flags|=2,(a.components||(a.components=[])).push(o.index)}function ZM(a,o,c){if(c){if(o.exportAs)for(let f=0;f<o.exportAs.length;f++)c[o.exportAs[f]]=a;I4(o)&&(c[""]=a)}}function qd(a,o,c){a.flags|=1,a.directiveStart=o,a.directiveEnd=o+c,a.providerIndexes=o}function Gd(a,o,c,f,d){a.data[f]=d;const m=d.factory||(d.factory=J3(d.type)),_=new mr(m,I4(d),null);a.blueprint[f]=_,c[f]=_,dc(a,o,0,f,qr(a,c,d.hostVars,$2),d)}function KM(a,o,c){const f=X3(o,a),d=Pd(c),m=a[10],_=b7(a,Wi(a,d,null,c.onPush?64:16,f,o,m,m.createRenderer(f,c),null,null));a[o.index]=_}function Z6(a,o,c,f,d,m){const _=X3(a,o);!function mc(a,o,c,f,d,m,_){if(null==m)Te(a)?a.removeAttribute(o,d,c):o.removeAttribute(d);else{const L=null==_?m1(m):_(m,f||"",d);Te(a)?a.setAttribute(o,d,L,c):c?o.setAttributeNS(c,d,L):o.setAttribute(d,L)}}(o[11],_,m,a.value,c,f,d)}function YM(a,o,c,f,d,m){const _=m[o];if(null!==_){const L=f.setInput;for(let w=0;w<_.length;){const H=_[w++],E=_[w++],P=_[w++];null!==L?f.setInput(c,P,H,E):c[E]=P}}}function QM(a,o){let c=null,f=0;for(;f<o.length;){const d=o[f];if(0!==d)if(5!==d){if("number"==typeof d)break;a.hasOwnProperty(d)&&(null===c&&(c=[]),c.push(d,a[d],o[f+1])),f+=2}else f+=2;else f+=4}return c}function gc(a,o,c,f){return new Array(a,!0,!1,o,null,0,f,c,null,null)}function XM(a,o){const c=N(o,a);if(C1(c)){const f=c[1];80&c[2]?Gr(f,c,f.template,c[8]):c[5]>0&&vc(c)}}function vc(a){for(let f=Ye(a);null!==f;f=v4(f))for(let d=10;d<f.length;d++){const m=f[d];if(1024&m[2]){const _=m[1];Gr(_,m,_.template,m[8])}else m[5]>0&&vc(m)}const c=a[1].components;if(null!==c)for(let f=0;f<c.length;f++){const d=N(c[f],a);C1(d)&&d[5]>0&&vc(d)}}function eL(a,o){const c=N(o,a),f=c[1];(function tL(a,o){for(let c=o.length;c<a.blueprint.length;c++)o.push(a.blueprint[c])})(f,c),$i(f,c,c[8])}function b7(a,o){return a[13]?a[14][4]=o:a[13]=o,a[14]=o,o}function yc(a){for(;a;){a[2]|=64;const o=l2(a);if(J5(a)&&!o)return a;a=o}return null}function _c(a,o,c){const f=o[10];f.begin&&f.begin();try{Gr(a,o,a.template,c)}catch(d){throw Qd(o,d),d}finally{f.end&&f.end()}}function $d(a){!function z7(a){for(let o=0;o<a.components.length;o++){const c=a.components[o],f=Dr(c),d=f[1];kM(d,f,d.template,c)}}(a[8])}function Mc(a,o,c){c8(0),o(a,c)}const sL=(()=>Promise.resolve(null))();function Lc(a){return a[7]||(a[7]=[])}function Kd(a){return a.cleanup||(a.cleanup=[])}function Qd(a,o){const c=a[9],f=c?c.get(kr,null):null;f&&f.handleError(o)}function Jd(a,o,c,f,d){for(let m=0;m<c.length;){const _=c[m++],L=c[m++],w=o[_],H=a.data[_];null!==H.setInput?H.setInput(w,d,f,L):w[L]=d}}function K6(a,o,c){const f=r6(o,a);!function Rr(a,o,c){Te(a)?a.setValue(o,c):o.textContent=c}(a[11],f,c)}function w7(a,o,c){let f=c?a.styles:null,d=c?a.classes:null,m=0;if(null!==o)for(let _=0;_<o.length;_++){const L=o[_];"number"==typeof L?m=L:1==m?d=v1(d,L):2==m&&(f=v1(f,L+": "+o[++_]+";"))}c?a.styles=f:a.stylesWithoutHost=f,c?a.classes=d:a.classesWithoutHost=d}const bc=new je("INJECTOR",-1);class zc{get(o,c=m8){if(c===m8){const f=new Error(`NullInjectorError: No provider for ${p1(o)}!`);throw f.name="NullInjectorError",f}return c}}const wc=new je("Set Injector scope."),Wr={},lL={};let Vc;function Sc(){return void 0===Vc&&(Vc=new zc),Vc}function Xd(a,o=null,c=null,f){const d=Hc(a,o,c,f);return d._resolveInjectorDefTypes(),d}function Hc(a,o=null,c=null,f){return new uL(a,c,o||Sc(),f)}class uL{constructor(o,c,f,d=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&tt(c,L=>this.processProvider(L,o,c)),tt([o],L=>this.processInjectorType(L,[],m)),this.records.set(bc,$r(void 0,this));const _=this.records.get(wc);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:p1(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,c=m8,f=V2.Default){this.assertNotDestroyed();const d=B6(this),m=Ne(void 0);try{if(!(f&V2.SkipSelf)){let L=this.records.get(o);if(void 0===L){const w=function rC(a){return"function"==typeof a||"object"==typeof a&&a instanceof je}(o)&&P2(o);L=w&&this.injectableDefInScope(w)?$r(Zi(o),Wr):null,this.records.set(o,L)}if(null!=L)return this.hydrate(o,L)}return(f&V2.Self?Sc():this.parent).get(o,c=f&V2.Optional&&c===m8?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[En]=_[En]||[]).unshift(p1(o)),d)throw _;return function L9(a,o,c,f){const d=a[En];throw o[zr]&&d.unshift(o[zr]),a.message=function g5(a,o,c,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let d=p1(o);if(Array.isArray(o))d=o.map(p1).join(" -> ");else if("object"==typeof o){let m=[];for(let _ in o)if(o.hasOwnProperty(_)){let L=o[_];m.push(_+":"+("string"==typeof L?JSON.stringify(L):p1(L)))}d=`{${m.join(", ")}}`}return`${c}${f?"("+f+")":""}[${d}]: ${a.replace(Da,"\n  ")}`}("\n"+a.message,d,c,f),a.ngTokenPath=d,a[En]=null,a}(_,o,"R3InjectorError",this.source)}throw _}finally{Ne(m),B6(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((f,d)=>o.push(p1(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O1(205,!1)}processInjectorType(o,c,f){if(!(o=a1(o)))return!1;let d=be(o);const m=null==d&&o.ngModule||void 0,_=void 0===m?o:m,L=-1!==f.indexOf(_);if(void 0!==m&&(d=be(m)),null==d)return!1;if(null!=d.imports&&!L){let E;f.push(_);try{tt(d.imports,P=>{this.processInjectorType(P,c,f)&&(void 0===E&&(E=[]),E.push(P))})}finally{}if(void 0!==E)for(let P=0;P<E.length;P++){const{ngModule:Z,providers:r1}=E[P];tt(r1,x1=>this.processProvider(x1,Z,r1||O))}}this.injectorDefTypes.add(_);const w=J3(_)||(()=>new _);this.records.set(_,$r(w,Wr));const H=d.providers;if(null!=H&&!L){const E=o;tt(H,P=>this.processProvider(P,E,H))}return void 0!==m&&void 0!==o.providers}processProvider(o,c,f){let d=S8(o=a1(o))?o:a1(o&&o.provide);const m=function hL(a,o,c){return eC(a)?$r(void 0,a.useValue):$r(Ec(a),Wr)}(o);if(S8(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=$r(void 0,Wr,!0),_.factory=()=>yi(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,m)}hydrate(o,c){return c.value===Wr&&(c.value=lL,c.value=c.factory()),"object"==typeof c.value&&c.value&&function pL(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=a1(o.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Zi(a){const o=P2(a),c=null!==o?o.factory:J3(a);if(null!==c)return c;if(a instanceof je)throw new O1(204,!1);if(a instanceof Function)return function fL(a){const o=a.length;if(o>0)throw C8(o,"?"),new O1(204,!1);const c=function x4(a){const o=a&&(a[y3]||a[_3]);if(o){const c=function o3(a){if(a.hasOwnProperty("name"))return a.name;const o=(""+a).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new O1(204,!1)}function Ec(a,o,c){let f;if(S8(a)){const d=a1(a);return J3(d)||Zi(d)}if(eC(a))f=()=>a1(a.useValue);else if(function dL(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...yi(a.deps||[]));else if(function tC(a){return!(!a||!a.useExisting)}(a))f=()=>c3(a1(a.useExisting));else{const d=a1(a&&(a.useClass||a.provide));if(!function nC(a){return!!a.deps}(a))return J3(d)||Zi(d);f=()=>new d(...yi(a.deps))}return f}function $r(a,o,c=!1){return{factory:a,value:o,multi:c?[]:void 0}}function eC(a){return null!==a&&"object"==typeof a&&vi in a}function S8(a){return"function"==typeof a}let Y6=(()=>{class a{static create(c,f){var d;if(Array.isArray(c))return Xd({name:""},f,c,"");{const m=null!==(d=c.name)&&void 0!==d?d:"";return Xd({name:m},c.parent,c.providers,m)}}}return a.THROW_IF_NOT_FOUND=m8,a.NULL=new zc,a.\u0275prov=ie({token:a,providedIn:"any",factory:()=>c3(bc)}),a.__NG_ELEMENT_ID__=-1,a})();function gC(a,o){za(Dr(a)[1],Ie())}function Ac(a){let o=function vC(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const f=[a];for(;o;){let d;if(I4(a))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new O1(903,"");d=o.\u0275dir}if(d){if(c){f.push(d);const _=a;_.inputs=Ic(a.inputs),_.declaredInputs=Ic(a.declaredInputs),_.outputs=Ic(a.outputs);const L=d.hostBindings;L&&zL(a,L);const w=d.viewQuery,H=d.contentQueries;if(w&&bL(a,w),H&&yC(a,H),l1(a.inputs,d.inputs),l1(a.declaredInputs,d.declaredInputs),l1(a.outputs,d.outputs),I4(d)&&d.data.animation){const E=a.data;E.animation=(E.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let _=0;_<m.length;_++){const L=m[_];L&&L.ngInherit&&L(a),L===Ac&&(c=!1)}}o=Object.getPrototypeOf(o)}!function LL(a){let o=0,c=null;for(let f=a.length-1;f>=0;f--){const d=a[f];d.hostVars=o+=d.hostVars,d.hostAttrs=Ke(d.hostAttrs,c=Ke(c,d.hostAttrs))}}(f)}function Ic(a){return a===$e?{}:a===O?[]:a}function bL(a,o){const c=a.viewQuery;a.viewQuery=c?(f,d)=>{o(f,d),c(f,d)}:o}function yC(a,o){const c=a.contentQueries;a.contentQueries=c?(f,d,m)=>{o(f,d,m),c(f,d,m)}:o}function zL(a,o){const c=a.hostBindings;a.hostBindings=c?(f,d)=>{o(f,d),c(f,d)}:o}let Yi=null;function Zr(){if(!Yi){const a=G2.Symbol;if(a&&a.iterator)Yi=a.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const f=o[c];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Yi=f)}}}return Yi}function Qi(a){return!!V7(a)&&(Array.isArray(a)||!(a instanceof Map)&&Zr()in a)}function V7(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Q6(a,o,c){return a[o]=c}function y4(a,o,c){return!Object.is(a[o],c)&&(a[o]=c,!0)}function H8(a,o,c,f){const d=y4(a,o,c);return y4(a,o+1,f)||d}function H7(a,o,c,f){const d=N1();return y4(d,r5(),o)&&(U2(),Z6(t3(),d,a,o,c,f)),H7}function Qr(a,o,c,f){return y4(a,r5(),c)?o+m1(c)+f:$2}function Jr(a,o,c,f,d,m){const L=H8(a,function a6(){return f2.lFrame.bindingIndex}(),c,d);return Ct(2),L?o+m1(c)+f+m1(d)+m:$2}function xC(a,o,c,f,d,m,_,L){const w=N1(),H=U2(),E=a+20,P=H.firstCreatePass?function EL(a,o,c,f,d,m,_,L,w){const H=o.consts,E=Br(o,a,4,_||null,e2(H,L));hc(o,c,E,e2(H,w)),za(o,E);const P=E.tViews=L7(2,E,f,d,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,H);return null!==o.queries&&(o.queries.template(o,E),P.queries=o.queries.embeddedTView(E)),E}(E,H,w,o,c,f,d,m,_):H.data[E];dt(P,!1);const Z=w[11].createComment("");f7(H,w,Z,P),k3(Z,w),b7(w,w[E]=gc(Z,w,Z,P)),ft(P)&&lc(H,w,P),null!=_&&M7(w,P,L)}function TC(a){return k(function ur(){return f2.lFrame.contextLView}(),20+a)}function Ji(a,o=V2.Default){const c=N1();return null===c?c3(a,o):Ln(Ie(),c,a1(a),o)}function T7(){throw new Error("invalid")}function Oc(a,o,c){const f=N1();return y4(f,r5(),o)&&nt(U2(),t3(),f,a,o,f[11],c,!1),Oc}function Fc(a,o,c,f,d){const _=d?"class":"style";Jd(a,c,o.inputs[_],_,f)}function Xi(a,o,c,f){const d=N1(),m=U2(),_=20+a,L=d[11],w=d[_]=Or(L,o,function sM(){return f2.lFrame.currentNamespace}()),H=m.firstCreatePass?function $L(a,o,c,f,d,m,_){const L=o.consts,H=Br(o,a,2,d,e2(L,m));return hc(o,c,H,e2(L,_)),null!==H.attrs&&w7(H,H.attrs,!1),null!==H.mergedAttrs&&w7(H,H.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,H),H}(_,m,d,0,o,c,f):m.data[_];dt(H,!0);const E=H.mergedAttrs;null!==E&&L2(L,w,E);const P=H.classes;null!==P&&J9(L,w,P);const Z=H.styles;return null!==Z&&vd(L,w,Z),64!=(64&H.flags)&&f7(m,d,w,H),0===function Ve(){return f2.lFrame.elementDepthCount}()&&k3(w,d),function j2(){f2.lFrame.elementDepthCount++}(),ft(H)&&(lc(m,d,H),cc(m,H,d)),null!==f&&M7(d,H),Xi}function A7(){let a=Ie();o8()?ti():(a=a.parent,dt(a,!1));const o=a;!function i6(){f2.lFrame.elementDepthCount--}();const c=U2();return c.firstCreatePass&&(za(c,a),e6(a)&&c.queries.elementEnd(a)),null!=o.classesWithoutHost&&function ii(a){return 0!=(16&a.flags)}(o)&&Fc(c,o,N1(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function rd(a){return 0!=(32&a.flags)}(o)&&Fc(c,o,N1(),o.stylesWithoutHost,!1),A7}function Uc(a,o,c,f){return Xi(a,o,c,f),A7(),Uc}function I7(a,o,c){const f=N1(),d=U2(),m=a+20,_=d.firstCreatePass?function KL(a,o,c,f,d){const m=o.consts,_=e2(m,f),L=Br(o,a,8,"ng-container",_);return null!==_&&w7(L,_,!0),hc(o,c,L,e2(m,d)),null!==o.queries&&o.queries.elementStart(o,L),L}(m,d,f,o,c):d.data[m];dt(_,!0);const L=f[m]=f[11].createComment("");return f7(d,f,L,_),k3(L,f),ft(_)&&(lc(d,f,_),cc(d,_,f)),null!=c&&M7(f,_),I7}function N7(){let a=Ie();const o=U2();return o8()?ti():(a=a.parent,dt(a,!1)),o.firstCreatePass&&(za(o,a),e6(a)&&o.queries.elementEnd(a)),N7}function Bc(){return N1()}function jc(a){return!!a&&"function"==typeof a.then}function qc(a){return!!a&&"function"==typeof a.subscribe}const WC=qc;function Gc(a,o,c,f){const d=N1(),m=U2(),_=Ie();return function ZC(a,o,c,f,d,m,_,L){const w=ft(f),E=a.firstCreatePass&&Kd(a),P=o[8],Z=Lc(o);let r1=!0;if(3&f.type||L){const r2=X3(f,o),C2=L?L(r2):r2,k1=Z.length,E2=L?ce=>L(ae(ce[f.index])):f.index;if(Te(c)){let ce=null;if(!L&&w&&(ce=function YL(a,o,c,f){const d=a.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const _=d[m];if(_===c&&d[m+1]===f){const L=o[7],w=d[m+2];return L.length>w?L[w]:null}"string"==typeof _&&(m+=2)}return null}(a,o,d,f.index)),null!==ce)(ce.__ngLastListenerFn__||ce).__ngNextListenerFn__=m,ce.__ngLastListenerFn__=m,r1=!1;else{m=Wc(f,o,P,m,!1);const Se=c.listen(C2,d,m);Z.push(m,Se),E&&E.push(d,E2,k1,k1+1)}}else m=Wc(f,o,P,m,!0),C2.addEventListener(d,m,_),Z.push(m),E&&E.push(d,E2,k1,_)}else m=Wc(f,o,P,m,!1);const x1=f.outputs;let K1;if(r1&&null!==x1&&(K1=x1[d])){const r2=K1.length;if(r2)for(let C2=0;C2<r2;C2+=2){const P4=o[K1[C2]][K1[C2+1]].subscribe(m),I8=Z.length;Z.push(m,P4),E&&E.push(d,f.index,I8,-(I8+1))}}}(m,d,d[11],_,a,o,!!c,f),Gc}function KC(a,o,c,f){try{return!1!==c(f)}catch(d){return Qd(a,d),!1}}function Wc(a,o,c,f,d){return function m(_){if(_===Function)return f;const L=2&a.flags?N(a.index,o):o;0==(32&o[2])&&yc(L);let w=KC(o,0,f,_),H=m.__ngNextListenerFn__;for(;H;)w=KC(o,0,H,_)&&w,H=H.__ngNextListenerFn__;return d&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function $c(a=1){return function D6(a){return(f2.lFrame.contextLView=function m9(a,o){for(;a>0;)o=o[15],a--;return o}(a,f2.lFrame.contextLView))[8]}(a)}function QL(a,o){let c=null;const f=function mM(a){const o=a.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(a);for(let d=0;d<o.length;d++){const m=o[d];if("*"!==m){if(null===f?d7(a,m,!0):yM(f,m))return d}else c=d}return c}function Zc(a){const o=N1()[16][6];if(!o.projection){const f=o.projection=C8(a?a.length:1,null),d=f.slice();let m=o.child;for(;null!==m;){const _=a?QL(m,a):0;null!==_&&(d[_]?d[_].projectionNext=m:f[_]=m,d[_]=m),m=m.next}}}function YC(a,o=0,c){const f=N1(),d=U2(),m=Br(d,20+a,16,null,c||null);null===m.projection&&(m.projection=o),ti(),64!=(64&m.flags)&&function w1(a,o,c){lM(o[11],0,o,c,u7(a,c,o),Cd(c.parent||o[6],c,o))}(d,f,m)}function D7(a,o,c){return k7(a,"",o,"",c),D7}function k7(a,o,c,f,d){const m=N1(),_=Qr(m,o,c,f);return _!==$2&&nt(U2(),t3(),m,a,_,m[11],d,!1),k7}function ip(a,o,c,f,d){const m=a[c+1],_=null===o;let L=f?g6(m):$6(m),w=!1;for(;0!==L&&(!1===w||_);){const E=a[L+1];sp(a[L],o)&&(w=!0,a[L+1]=f?nc(E):X9(E)),L=f?g6(E):$6(E)}w&&(a[c+1]=f?X9(m):nc(m))}function sp(a,o){return null===a||null==o||(Array.isArray(a)?a[1]:a)===o||!(!Array.isArray(a)||"string"!=typeof o)&&l6(a,o)>=0}const W3={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yc(a){return a.substring(W3.key,W3.keyEnd)}function Qc(a,o){const c=W3.textEnd;return c===o?-1:(o=W3.keyEnd=function rb(a,o,c){for(;o<c&&a.charCodeAt(o)>32;)o++;return o}(a,W3.key=o,c),s0(a,o,c))}function s0(a,o,c){for(;o<c&&a.charCodeAt(o)<=32;)o++;return o}function Jc(a,o,c){return Yt(a,o,c,!1),Jc}function P7(a,o){return Yt(a,o,null,!0),P7}function Xc(a){!function y6(a,o,c,f){const d=U2(),m=Ct(2);d.firstUpdatePass&&hp(d,null,m,f);const _=N1();if(c!==$2&&y4(_,m,c)){const L=d.data[l4()];if(gp(L,f)&&!fp(d,m)){let w=f?L.classesWithoutHost:L.stylesWithoutHost;null!==w&&(c=v1(w,c||"")),Fc(d,L,_,c,f)}else!function ub(a,o,c,f,d,m,_,L){d===$2&&(d=O);let w=0,H=0,E=0<d.length?d[0]:null,P=0<m.length?m[0]:null;for(;null!==E||null!==P;){const Z=w<d.length?d[w+1]:void 0,r1=H<m.length?m[H+1]:void 0;let K1,x1=null;E===P?(w+=2,H+=2,Z!==r1&&(x1=P,K1=r1)):null===P||null!==E&&E<P?(w+=2,x1=E):(H+=2,x1=P,K1=r1),null!==x1&&pp(a,o,c,f,x1,K1,_,L),E=w<d.length?d[w]:null,P=H<m.length?m[H]:null}}(d,L,_,_[11],_[m+1],_[m+1]=function lb(a,o,c){if(null==c||""===c)return O;const f=[],d=p6(c);if(Array.isArray(d))for(let m=0;m<d.length;m++)a(f,d[m],!0);else if("object"==typeof d)for(const m in d)d.hasOwnProperty(m)&&a(f,m,d[m]);else"string"==typeof d&&o(f,d);return f}(a,o,c),f,m)}}(D3,en,a,!0)}function en(a,o){for(let c=function tb(a){return function op(a){W3.key=0,W3.keyEnd=0,W3.value=0,W3.valueEnd=0,W3.textEnd=a.length}(a),Qc(a,s0(a,0,W3.textEnd))}(o);c>=0;c=Qc(o,c))D3(a,Yc(o),!0)}function Yt(a,o,c,f){const d=N1(),m=U2(),_=Ct(2);m.firstUpdatePass&&hp(m,a,_,f),o!==$2&&y4(d,_,o)&&pp(m,m.data[l4()],d,d[11],a,d[_+1]=function fb(a,o){return null==a||("string"==typeof o?a+=o:"object"==typeof a&&(a=p1(p6(a)))),a}(o,c),f,_)}function fp(a,o){return o>=a.expandoStartIndex}function hp(a,o,c,f){const d=a.data;if(null===d[c+1]){const m=d[l4()],_=fp(a,c);gp(m,f)&&null===o&&!_&&(o=!1),o=function dp(a,o,c,f){const d=i5(a);let m=f?o.residualClasses:o.residualStyles;if(null===d)0===(f?o.classBindings:o.styleBindings)&&(c=es(c=el(null,a,o,c,f),o.attrs,f),m=null);else{const _=o.directiveStylingLast;if(-1===_||a[_]!==d)if(c=el(d,a,o,c,f),null===m){let w=function ob(a,o,c){const f=c?o.classBindings:o.styleBindings;if(0!==$6(f))return a[g6(f)]}(a,o,f);void 0!==w&&Array.isArray(w)&&(w=el(null,a,o,w[1],f),w=es(w,o.attrs,f),function Cp(a,o,c,f){a[g6(c?o.classBindings:o.styleBindings)]=f}(a,o,f,w))}else m=function cb(a,o,c){let f;const d=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<d;m++)f=es(f,a[m].hostAttrs,c);return es(f,o.attrs,c)}(a,o,f)}return void 0!==m&&(f?o.residualClasses=m:o.residualStyles=m),c}(d,m,o,f),function JL(a,o,c,f,d,m){let _=m?o.classBindings:o.styleBindings,L=g6(_),w=$6(_);a[f]=c;let E,H=!1;if(Array.isArray(c)){const P=c;E=P[1],(null===E||l6(P,E)>0)&&(H=!0)}else E=c;if(d)if(0!==w){const Z=g6(a[L+1]);a[f+1]=C7(Z,L),0!==Z&&(a[Z+1]=ec(a[Z+1],f)),a[L+1]=function Sd(a,o){return 131071&a|o<<17}(a[L+1],f)}else a[f+1]=C7(L,0),0!==L&&(a[L+1]=ec(a[L+1],f)),L=f;else a[f+1]=C7(w,0),0===L?L=f:a[w+1]=ec(a[w+1],f),w=f;H&&(a[f+1]=X9(a[f+1])),ip(a,E,f,!0),ip(a,E,f,!1),function XL(a,o,c,f,d){const m=d?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof o&&l6(m,o)>=0&&(c[f+1]=nc(c[f+1]))}(o,E,a,f,m),_=C7(L,w),m?o.classBindings=_:o.styleBindings=_}(d,m,o,c,_,f)}}function el(a,o,c,f,d){let m=null;const _=c.directiveEnd;let L=c.directiveStylingLast;for(-1===L?L=c.directiveStart:L++;L<_&&(m=o[L],f=es(f,m.hostAttrs,d),m!==a);)L++;return null!==a&&(c.directiveStylingLast=L),f}function es(a,o,c){const f=c?1:2;let d=-1;if(null!==o)for(let m=0;m<o.length;m++){const _=o[m];"number"==typeof _?d=_:d===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),D3(a,_,!!c||o[++m]))}return void 0===a?null:a}function pp(a,o,c,f,d,m,_,L){if(!(3&o.type))return;const w=a.data,H=w[L+1];R7(function tc(a){return 1==(1&a)}(H)?mp(w,o,c,d,$6(H),_):void 0)||(R7(m)||function Vd(a){return 2==(2&a)}(H)&&(m=mp(w,null,c,d,L,_)),function fM(a,o,c,f,d){const m=Te(a);if(o)d?m?a.addClass(c,f):c.classList.add(f):m?a.removeClass(c,f):c.classList.remove(f);else{let _=-1===f.indexOf("-")?void 0:V.DashCase;if(null==d)m?a.removeStyle(c,f,_):c.style.removeProperty(f);else{const L="string"==typeof d&&d.endsWith("!important");L&&(d=d.slice(0,-10),_|=V.Important),m?a.setStyle(c,f,d,_):c.style.setProperty(f,d,L?"important":"")}}}(f,_,r6(l4(),c),d,m))}function mp(a,o,c,f,d,m){const _=null===o;let L;for(;d>0;){const w=a[d],H=Array.isArray(w),E=H?w[1]:w,P=null===E;let Z=c[d+1];Z===$2&&(Z=P?O:void 0);let r1=P?C5(Z,f):E===f?Z:void 0;if(H&&!R7(r1)&&(r1=C5(w,f)),R7(r1)&&(L=r1,_))return L;const x1=a[d+1];d=_?g6(x1):$6(x1)}if(null!==o){let w=m?o.residualClasses:o.residualStyles;null!=w&&(L=C5(w,f))}return L}function R7(a){return void 0!==a}function gp(a,o){return 0!=(a.flags&(o?16:32))}function vp(a,o=""){const c=N1(),f=U2(),d=a+20,m=f.firstCreatePass?Br(f,d,1,o,null):f.data[d],_=c[d]=function Pr(a,o){return Te(a)?a.createText(o):a.createTextNode(o)}(c[11],o);f7(f,c,_,m),dt(m,!1)}function nl(a){return O7("",a,""),nl}function O7(a,o,c){const f=N1(),d=Qr(f,a,o,c);return d!==$2&&K6(f,l4(),d),O7}function rl(a,o,c,f,d){const m=N1(),_=Jr(m,a,o,c,f,d);return _!==$2&&K6(m,l4(),_),rl}function ll(a,o,c){const f=N1();return y4(f,r5(),o)&&nt(U2(),t3(),f,a,o,f[11],c,!0),ll}function F7(a,o,c){const f=N1();if(y4(f,r5(),o)){const m=U2(),_=t3();nt(m,_,f,a,o,function Yd(a,o,c){return(null===a||I4(a))&&(c=function i8(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[o.index])),c[11]}(i5(m.data),_,f),c,!0)}return F7}const x8=void 0;var bb=["en",[["a","p"],["AM","PM"],x8],[["AM","PM"],x8,x8],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],x8,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],x8,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",x8,"{1} 'at' {0}",x8],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Pp(a){const c=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===f?1:5}];let T8={};function U7(a){const o=function wb(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=Rp(o);if(c)return c;const f=o.split("-")[0];if(c=Rp(f),c)return c;if("en"===f)return bb;throw new Error(`Missing locale data for the locale "${a}".`)}function ul(a){return U7(a)[N2.PluralCase]}function Rp(a){return a in T8||(T8[a]=G2.ng&&G2.ng.common&&G2.ng.common.locales&&G2.ng.common.locales[a]),T8[a]}var N2=(()=>((N2=N2||{})[N2.LocaleId=0]="LocaleId",N2[N2.DayPeriodsFormat=1]="DayPeriodsFormat",N2[N2.DayPeriodsStandalone=2]="DayPeriodsStandalone",N2[N2.DaysFormat=3]="DaysFormat",N2[N2.DaysStandalone=4]="DaysStandalone",N2[N2.MonthsFormat=5]="MonthsFormat",N2[N2.MonthsStandalone=6]="MonthsStandalone",N2[N2.Eras=7]="Eras",N2[N2.FirstDayOfWeek=8]="FirstDayOfWeek",N2[N2.WeekendRange=9]="WeekendRange",N2[N2.DateFormat=10]="DateFormat",N2[N2.TimeFormat=11]="TimeFormat",N2[N2.DateTimeFormat=12]="DateTimeFormat",N2[N2.NumberSymbols=13]="NumberSymbols",N2[N2.NumberFormats=14]="NumberFormats",N2[N2.CurrencyCode=15]="CurrencyCode",N2[N2.CurrencySymbol=16]="CurrencySymbol",N2[N2.CurrencyName=17]="CurrencyName",N2[N2.Currencies=18]="Currencies",N2[N2.Directionality=19]="Directionality",N2[N2.PluralCase=20]="PluralCase",N2[N2.ExtraData=21]="ExtraData",N2))();const B7="en-US";let Up=B7;function yl(a,o,c,f,d){if(a=a1(a),Array.isArray(a))for(let m=0;m<a.length;m++)yl(a[m],o,c,f,d);else{const m=U2(),_=N1();let L=S8(a)?a:a1(a.provide),w=Ec(a);const H=Ie(),E=1048575&H.providerIndexes,P=H.directiveStart,Z=H.providerIndexes>>20;if(S8(a)||!a.multi){const r1=new mr(w,d,Ji),x1=Ml(L,o,d?E:E+Z,P);-1===x1?(P6(Ge(H,_),m,L),_l(m,a,o.length),o.push(L),H.directiveStart++,H.directiveEnd++,d&&(H.providerIndexes+=1048576),c.push(r1),_.push(r1)):(c[x1]=r1,_[x1]=r1)}else{const r1=Ml(L,o,E+Z,P),x1=Ml(L,o,E,E+Z),K1=r1>=0&&c[r1],r2=x1>=0&&c[x1];if(d&&!r2||!d&&!K1){P6(Ge(H,_),m,L);const C2=function hz(a,o,c,f,d){const m=new mr(a,c,Ji);return m.multi=[],m.index=o,m.componentProviders=0,mm(m,d,f&&!c),m}(d?fz:uz,c.length,d,f,w);!d&&r2&&(c[x1].providerFactory=C2),_l(m,a,o.length,0),o.push(L),H.directiveStart++,H.directiveEnd++,d&&(H.providerIndexes+=1048576),c.push(C2),_.push(C2)}else _l(m,a,r1>-1?r1:x1,mm(c[d?x1:r1],w,!d&&f));!d&&f&&r2&&c[x1].componentProviders++}}}function _l(a,o,c,f){const d=S8(o),m=function CL(a){return!!a.useClass}(o);if(d||m){const w=(m?a1(o.useClass):o).prototype.ngOnDestroy;if(w){const H=a.destroyHooks||(a.destroyHooks=[]);if(!d&&o.multi){const E=H.indexOf(c);-1===E?H.push(c,[f,w]):H[E+1].push(f,w)}else H.push(c,w)}}}function mm(a,o,c){return c&&a.componentProviders++,a.multi.push(o)-1}function Ml(a,o,c,f){for(let d=c;d<f;d++)if(o[d]===a)return d;return-1}function uz(a,o,c,f){return Ll(this.multi,[])}function fz(a,o,c,f){const d=this.multi;let m;if(this.providerFactory){const _=this.providerFactory.componentProviders,L=u5(c,c[1],this.providerFactory.index,f);m=L.slice(0,_),Ll(d,m);for(let w=_;w<L.length;w++)m.push(L[w])}else m=[],Ll(d,m);return m}function Ll(a,o){for(let c=0;c<a.length;c++)o.push((0,a[c])());return o}function gm(a,o=[]){return c=>{c.providersResolver=(f,d)=>function lz(a,o,c){const f=U2();if(f.firstCreatePass){const d=I4(a);yl(c,f.data,f.blueprint,d,!0),yl(o,f.data,f.blueprint,d,!1)}}(f,d?d(a):a,o)}}class vm{}class Mm{resolveComponentFactory(o){throw function ym(a){const o=Error(`No component factory found for ${p1(a)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=a,o}(o)}}let $7=(()=>{class a{}return a.NULL=new Mm,a})();function Cz(){return o0(Ie(),N1())}function o0(a,o){return new as(X3(a,o))}let as=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=Cz,a})();function Lm(a){return a instanceof as?a.nativeElement:a}class bm{}let pz=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function mz(){const a=N1(),c=N(Ie().index,a);return function zm(a){return a[11]}(T3(c)?c:a)}(),a})(),gz=(()=>{class a{}return a.\u0275prov=ie({token:a,providedIn:"root",factory:()=>null}),a})();class wm{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Vm=new wm("13.3.6"),bl={};function Z7(a,o,c,f,d=!1){for(;null!==c;){const m=o[c.index];if(null!==m&&f.push(ae(m)),C4(m))for(let L=10;L<m.length;L++){const w=m[L],H=w[1].firstChild;null!==H&&Z7(w[1],w,H,f)}const _=c.type;if(8&_)Z7(a,o,c.child,f);else if(32&_){const L=X(c,o);let w;for(;w=L();)f.push(w)}else if(16&_){const L=gd(o,c);if(Array.isArray(L))f.push(...L);else{const w=l2(o[16]);Z7(w[1],w,L,f,!0)}}c=d?c.projectionNext:c.next}return f}class os{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return Z7(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(C4(o)){const c=o[8],f=c?c.indexOf(this):-1;f>-1&&(j9(o,f),Hn(c,f))}this._attachedToViewContainer=!1}q9(this._lView[1],this._lView)}onDestroy(o){uc(this._lView[1],this._lView,null,o)}markForCheck(){yc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_c(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Zd(a,o,c){hr(!0);try{_c(a,o,c)}finally{hr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new O1(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ui(a,o){h7(a,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new O1(902,"");this._appRef=o}}class vz extends os{constructor(o){super(o),this._view=o}detectChanges(){$d(this._view)}checkNoChanges(){!function rL(a){hr(!0);try{$d(a)}finally{hr(!1)}}(this._view)}get context(){return null}}class Sm extends $7{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=_e(o);return new zl(c,this.ngModule)}}function Hm(a){const o=[];for(let c in a)a.hasOwnProperty(c)&&o.push({propName:a[c],templateName:c});return o}class zl extends vm{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function MM(a){return a.map(_M).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Hm(this.componentDef.inputs)}get outputs(){return Hm(this.componentDef.outputs)}create(o,c,f,d){const m=(d=d||this.ngModule)?function _z(a,o){return{get:(c,f,d)=>{const m=a.get(c,bl,d);return m!==bl||f===bl?m:o.get(c,f,d)}}}(o,d.injector):o,_=m.get(bm,Y4),L=m.get(gz,null),w=_.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",E=f?function Fd(a,o,c){if(Te(a))return a.selectRootElement(o,c===Z2.ShadowDom);let f="string"==typeof o?a.querySelector(o):o;return f.textContent="",f}(w,f,this.componentDef.encapsulation):Or(_.createRenderer(null,this.componentDef),H,function yz(a){const o=a.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(H)),P=this.componentDef.onPush?576:528,Z=function mC(a,o){return{components:[],scheduler:a||U9,clean:sL,playerHandler:o||null,flags:0}}(),r1=L7(0,null,null,1,0,null,null,null,null,null),x1=Wi(null,r1,Z,P,null,null,_,w,L,m);let K1,r2;s5(x1);try{const C2=function CC(a,o,c,f,d,m){const _=c[1];c[20]=a;const w=Br(_,20,2,"#host",null),H=w.mergedAttrs=o.hostAttrs;null!==H&&(w7(w,H,!0),null!==a&&(L2(d,a,H),null!==w.classes&&J9(d,a,w.classes),null!==w.styles&&vd(d,a,w.styles)));const E=f.createRenderer(a,o),P=Wi(c,Pd(o),null,o.onPush?64:16,c[20],w,f,E,m||null,null);return _.firstCreatePass&&(P6(Ge(w,c),_,o.type),jd(_,w),qd(w,c.length,1)),b7(c,P),c[20]=P}(E,this.componentDef,x1,_,w);if(E)if(f)L2(w,E,["ng-version",Vm.full]);else{const{attrs:k1,classes:E2}=function LM(a){const o=[],c=[];let f=1,d=2;for(;f<a.length;){let m=a[f];if("string"==typeof m)2===d?""!==m&&o.push(m,a[++f]):8===d&&c.push(m);else{if(!Zt(d))break;d=m}f++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);k1&&L2(w,E,k1),E2&&E2.length>0&&J9(w,E,E2.join(" "))}if(r2=mn(r1,20),void 0!==c){const k1=r2.projection=[];for(let E2=0;E2<this.ngContentSelectors.length;E2++){const ce=c[E2];k1.push(null!=ce?Array.from(ce):null)}}K1=function pC(a,o,c,f,d){const m=c[1],_=function Bd(a,o,c){const f=Ie();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Gd(a,f,o,qr(a,o,1,null),c));const d=u5(o,a,f.directiveStart,f);k3(d,o);const m=X3(f,o);return m&&k3(m,o),d}(m,c,o);if(f.components.push(_),a[8]=_,d&&d.forEach(w=>w(_,o)),o.contentQueries){const w=Ie();o.contentQueries(1,_,w.directiveStart)}const L=Ie();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(qt(L.index),dc(c[1],L,0,L.directiveStart,L.directiveEnd,o),Cc(o,_)),_}(C2,this.componentDef,x1,Z,[gC]),$i(r1,x1,null)}finally{l8()}return new wl(this.componentType,K1,o0(r2,x1),x1,r2)}}class wl extends class dz{}{constructor(o,c,f,d,m){super(),this.location=f,this._rootLView=d,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new vz(d),this.componentType=o}get injector(){return new bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class c0{}class Vl{}const l0=new Map;class Hl extends c0{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sm(this);const f=qe(o);this._bootstrapComponents=Mt(f.bootstrap),this._r3Injector=Hc(o,c,[{provide:c0,useValue:this},{provide:$7,useValue:this.componentFactoryResolver}],p1(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,c=Y6.THROW_IF_NOT_FOUND,f=V2.Default){return o===Y6||o===c0||o===bc?this:this._r3Injector.get(o,c,f)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class El extends Vl{constructor(o){super(),this.moduleType=o,null!==qe(o)&&function bz(a){const o=new Set;!function c(f){const d=qe(f,!0),m=d.id;null!==m&&(function Em(a,o,c){if(o&&o!==c)throw new Error(`Duplicate module registered for ${a} - ${p1(o)} vs ${p1(o.name)}`)}(m,l0.get(m),f),l0.set(m,f));const _=Mt(d.imports);for(const L of _)o.has(L)||(o.add(L),c(L))}(a)}(o)}create(o){return new Hl(this.moduleType,o)}}function xm(a,o,c,f,d){return Im(N1(),I3(),a,o,c,f,d)}function Tl(a,o,c,f,d,m){return function Nm(a,o,c,f,d,m,_,L){const w=o+c;return function S7(a,o,c,f,d){const m=H8(a,o,c,f);return y4(a,o+2,d)||m}(a,w,d,m,_)?Q6(a,w+3,L?f.call(L,d,m,_):f(d,m,_)):cs(a,w+3)}(N1(),I3(),a,o,c,f,d,m)}function cs(a,o){const c=a[o];return c===$2?void 0:c}function Im(a,o,c,f,d,m,_){const L=o+c;return H8(a,L,d,m)?Q6(a,L+2,_?f.call(_,d,m):f(d,m)):cs(a,L+2)}function km(a,o){const c=U2();let f;const d=a+20;c.firstCreatePass?(f=function xz(a,o){if(o)for(let c=o.length-1;c>=0;c--){const f=o[c];if(a===f.name)return f}}(o,c.pipeRegistry),c.data[d]=f,f.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(d,f.onDestroy)):f=c.data[d];const m=f.factory||(f.factory=J3(f.type)),_=Ne(Ji);try{const L=pt(!1),w=m();return pt(L),function xL(a,o,c,f){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),o[c]=f}(c,N1(),d,w),w}finally{Ne(_)}}function Pm(a,o,c){const f=a+20,d=N1(),m=k(d,f);return A5(d,f)?function Am(a,o,c,f,d,m){const _=o+c;return y4(a,_,d)?Q6(a,_+1,m?f.call(m,d):f(d)):cs(a,_+1)}(d,I3(),o,m.transform,c,m):m.transform(c)}function Al(a,o,c,f){const d=a+20,m=N1(),_=k(m,d);return A5(m,d)?Im(m,I3(),o,_.transform,c,f,_):_.transform(c,f)}function A5(a,o){return a[1].data[o].pure}function Il(a){return o=>{setTimeout(a,void 0,o)}}const tn=class Iz extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,f){var d,m,_;let L=o,w=c||(()=>null),H=f;if(o&&"object"==typeof o){const P=o;L=null===(d=P.next)||void 0===d?void 0:d.bind(P),w=null===(m=P.error)||void 0===m?void 0:m.bind(P),H=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(w=Il(w),L&&(L=Il(L)),H&&(H=Il(H)));const E=super.subscribe({next:L,error:w,complete:H});return o instanceof t1.w0&&o.add(E),E}};function Om(){return this._results[Zr()]()}class Nl{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Zr(),f=Nl.prototype;f[c]||(f[c]=Om)}get changes(){return this._changes||(this._changes=new tn)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const f=this;f.dirty=!1;const d=et(o);(this._changesDetected=!function hi(a,o,c){if(a.length!==o.length)return!1;for(let f=0;f<a.length;f++){let d=a[f],m=o[f];if(c&&(d=c(d),m=c(m)),m!==d)return!1}return!0}(f._results,d,c))&&(f._results=d,f.length=d.length,f.last=d[this.length-1],f.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let u0=(()=>{class a{}return a.__NG_ELEMENT_ID__=Dz,a})();const Nz=u0,Fm=class extends Nz{constructor(o,c,f){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=f}createEmbeddedView(o){const c=this._declarationTContainer.tViews,f=Wi(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(f[19]=m.createEmbeddedView(c)),$i(c,f,o),new os(f)}};function Dz(){return K7(Ie(),N1())}function K7(a,o){return 4&a.type?new Fm(o,a,o0(a,o)):null}let Y7=(()=>{class a{}return a.__NG_ELEMENT_ID__=kz,a})();function kz(){return us(Ie(),N1())}const Um=Y7,Bm=class extends Um{constructor(o,c,f){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=f}get element(){return o0(this._hostTNode,this._hostLView)}get injector(){return new bn(this._hostTNode,this._hostLView)}get parentInjector(){const o=k6(this._hostTNode,this._hostLView);if(Ha(o)){const c=Be(o,this._hostLView),f=Gt(o);return new bn(c[1].data[f+8],c)}return new bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=Dl(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,f){const d=o.createEmbeddedView(c||{});return this.insert(d,f),d}createComponent(o,c,f,d,m){const _=o&&!function Sn(a){return"function"==typeof a}(o);let L;if(_)L=c;else{const P=c||{};L=P.index,f=P.injector,d=P.projectableNodes,m=P.ngModuleRef}const w=_?o:new zl(_e(o)),H=f||this.parentInjector;if(!m&&null==w.ngModule){const Z=(_?H:this.parentInjector).get(c0,null);Z&&(m=Z)}const E=w.create(H,d,void 0,m);return this.insert(E.hostView,L),E}insert(o,c){const f=o._lView,d=f[1];if(function W1(a){return C4(a[3])}(f)){const E=this.indexOf(o);if(-1!==E)this.detach(E);else{const P=f[3],Z=new Bm(P,P[6],P[3]);Z.detach(Z.indexOf(o))}}const m=this._adjustIndex(c),_=this._lContainer;!function Fn(a,o,c,f){const d=10+f,m=c.length;f>0&&(c[d-1][4]=o),f<m-10?(o[4]=c[d],d5(c,10+f,o)):(c.push(o),o[4]=null),o[3]=c;const _=o[17];null!==_&&c!==_&&function x5(a,o){const c=a[9];o[16]!==o[3][3][16]&&(a[2]=!0),null===c?a[9]=[o]:c.push(o)}(_,o);const L=o[19];null!==L&&L.insertView(a),o[2]|=128}(d,f,_,m);const L=K9(m,_),w=f[11],H=ji(w,_[7]);return null!==H&&function Fi(a,o,c,f,d,m){f[0]=d,f[6]=o,h7(a,f,c,1,d,m)}(d,_[6],w,f,H,L),o.attachToViewContainerRef(),d5(kl(_),m,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=Dl(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),f=j9(this._lContainer,c);f&&(Hn(kl(this._lContainer),c),q9(f[1],f))}detach(o){const c=this._adjustIndex(o,-1),f=j9(this._lContainer,c);return f&&null!=Hn(kl(this._lContainer),c)?new os(f):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function Dl(a){return a[8]}function kl(a){return a[8]||(a[8]=[])}function us(a,o){let c;const f=o[a.index];if(C4(f))c=f;else{let d;if(8&a.type)d=ae(f);else{const m=o[11];d=m.createComment("");const _=X3(a,o);Lt(m,ji(m,_),d,function cM(a,o){return Te(a)?a.nextSibling(o):o.nextSibling}(m,_),!1)}o[a.index]=c=gc(f,o,d,a),b7(o,c)}return new Bm(c,a,o)}class Q7{constructor(o){this.queryList=o,this.matches=null}clone(){return new Q7(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pl{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const f=null!==o.contentQueries?o.contentQueries[0]:c.length,d=[];for(let m=0;m<f;m++){const _=c.getByIndex(m);d.push(this.queries[_.indexInDeclarationView].clone())}return new Pl(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==jl(o,c).matches&&this.queries[c].setDirty()}}class jm{constructor(o,c,f=null){this.predicate=o,this.flags=c,this.read=f}}class Rl{constructor(o=[]){this.queries=o}elementStart(o,c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let f=0;f<this.length;f++){const d=null!==c?c.length:0,m=this.getByIndex(f).embeddedTView(o,d);m&&(m.indexInDeclarationView=f,null!==c?c.push(m):c=[m])}return null!==c?new Rl(c):null}template(o,c){for(let f=0;f<this.queries.length;f++)this.queries[f].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ol{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new Ol(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let f=o.parent;for(;null!==f&&8&f.type&&f.index!==c;)f=f.parent;return c===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const f=this.metadata.predicate;if(Array.isArray(f))for(let d=0;d<f.length;d++){const m=f[d];this.matchTNodeWithReadOption(o,c,Fl(c,m)),this.matchTNodeWithReadOption(o,c,c6(c,o,m,!1,!1))}else f===u0?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,c6(c,o,f,!1,!1))}matchTNodeWithReadOption(o,c,f){if(null!==f){const d=this.metadata.read;if(null!==d)if(d===as||d===Y7||d===u0&&4&c.type)this.addMatch(c.index,-2);else{const m=c6(c,o,d,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,f)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function Fl(a,o){const c=a.localNames;if(null!==c)for(let f=0;f<c.length;f+=2)if(c[f]===o)return c[f+1];return null}function Fz(a,o,c,f){return-1===c?function Oz(a,o){return 11&a.type?o0(a,o):4&a.type?K7(a,o):null}(o,a):-2===c?function Uz(a,o,c){return c===as?o0(o,a):c===u0?K7(o,a):c===Y7?us(o,a):void 0}(a,o,f):u5(a,a[1],c,o)}function qm(a,o,c,f){const d=o[19].queries[f];if(null===d.matches){const m=a.data,_=c.matches,L=[];for(let w=0;w<_.length;w+=2){const H=_[w];L.push(H<0?null:Fz(o,m[H],_[w+1],c.metadata.read))}d.matches=L}return d.matches}function Ul(a,o,c,f){const d=a.queries.getByIndex(c),m=d.matches;if(null!==m){const _=qm(a,o,d,c);for(let L=0;L<m.length;L+=2){const w=m[L];if(w>0)f.push(_[L/2]);else{const H=m[L+1],E=o[-w];for(let P=10;P<E.length;P++){const Z=E[P];Z[17]===Z[3]&&Ul(Z[1],Z,H,f)}if(null!==E[9]){const P=E[9];for(let Z=0;Z<P.length;Z++){const r1=P[Z];Ul(r1[1],r1,H,f)}}}}}return f}function Gm(a){const o=N1(),c=U2(),f=p9();c8(f+1);const d=jl(c,f);if(a.dirty&&J(o)===(2==(2&d.metadata.flags))){if(null===d.matches)a.reset([]);else{const m=d.crossesNgTemplate?Ul(c,o,f,[]):qm(c,o,d,f);a.reset(m,Lm),a.notifyOnChanges()}return!0}return!1}function Wm(a,o,c,f){const d=U2();if(d.firstCreatePass){const m=Ie();(function Ym(a,o,c){null===a.queries&&(a.queries=new Rl),a.queries.track(new Ol(o,c))})(d,new jm(o,c,f),m.index),function Bz(a,o){const c=a.contentQueries||(a.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,o)}(d,a),2==(2&c)&&(d.staticContentQueries=!0)}!function Km(a,o,c){const f=new Nl(4==(4&c));uc(a,o,f,f.destroy),null===o[19]&&(o[19]=new Pl),o[19].queries.push(new Q7(f))}(d,N1(),c)}function $m(){return function Zm(a,o){return a[19].queries[o].queryList}(N1(),p9())}function jl(a,o){return a.queries.getByIndex(o)}const iw=wn("Input",a=>({bindingPropertyName:a})),fg=wn("Output",a=>({bindingPropertyName:a}));function hs(...a){}const tu=new je("Application Initializer");let nu=(()=>{class a{constructor(c){this.appInits=c,this.resolve=hs,this.reject=hs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,d)=>{this.resolve=f,this.reject=d})}runInitializers(){if(this.initialized)return;const c=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(jc(m))c.push(m);else if(WC(m)){const _=new Promise((L,w)=>{m.subscribe({complete:L,error:w})});c.push(_)}}Promise.all(c).then(()=>{f()}).catch(d=>{this.reject(d)}),0===c.length&&f(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(c3(tu,8))},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const ru=new je("AppId",{providedIn:"root",factory:function hg(){return`${iu()}${iu()}${iu()}`}});function iu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const su=new je("Platform Initializer"),ow=new je("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),au=new je("appBootstrapListener");let dg=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const ro=new je("LocaleId",{providedIn:"root",factory:()=>u6(ro,V2.Optional|V2.SkipSelf)||function cw(){return"undefined"!=typeof $localize&&$localize.locale||B7}()}),lw=new je("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uw{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let fw=(()=>{class a{compileModuleSync(c){return new El(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const f=this.compileModuleSync(c),m=Mt(qe(c).declarations).reduce((_,L)=>{const w=_e(L);return w&&_.push(new zl(w)),_},[]);return new uw(f,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const hw=(()=>Promise.resolve(0))();function ou(a){"undefined"==typeof Zone?hw.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class _6{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tn(!1),this.onMicrotaskEmpty=new tn(!1),this.onStable=new tn(!1),this.onError=new tn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!f&&c,d.shouldCoalesceRunChangeDetection=f,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function pg(){let a=G2.requestAnimationFrame,o=G2.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&o){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Cw(a){const o=()=>{!function dw(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(G2,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,lu(a),a.isCheckStableRunning=!0,cu(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),lu(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,f,d,m,_,L)=>{try{return gg(a),c.invokeTask(d,m,_,L)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&o(),vg(a)}},onInvoke:(c,f,d,m,_,L,w)=>{try{return gg(a),c.invoke(d,m,_,L,w)}finally{a.shouldCoalesceRunChangeDetection&&o(),vg(a)}},onHasTask:(c,f,d,m)=>{c.hasTask(d,m),f===d&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,lu(a),cu(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,f,d,m)=>(c.handleError(d,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_6.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_6.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,f){return this._inner.run(o,c,f)}runTask(o,c,f,d){const m=this._inner,_=m.scheduleEventTask("NgZoneEvent: "+d,o,mg,hs,hs);try{return m.runTask(_,c,f)}finally{m.cancelTask(_)}}runGuarded(o,c,f){return this._inner.runGuarded(o,c,f)}runOutsideAngular(o){return this._outer.run(o)}}const mg={};function cu(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function lu(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function gg(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function vg(a){a._nesting--,cu(a)}class pw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tn,this.onMicrotaskEmpty=new tn,this.onStable=new tn,this.onError=new tn}run(o,c,f){return o.apply(c,f)}runGuarded(o,c,f){return o.apply(c,f)}runOutsideAngular(o){return o()}runTask(o,c,f,d){return o.apply(c,f)}}let yg=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_6.assertNotInAngularZone(),ou(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ou(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,d){let m=-1;f&&f>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==m),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:d})}whenStable(c,f,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,f,d){return[]}}return a.\u0275fac=function(c){return new(c||a)(c3(_6))},a.\u0275prov=ie({token:a,factory:a.\u0275fac}),a})(),mw=(()=>{class a{constructor(){this._applications=new Map,uu.addToWindow(this)}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){return uu.findTestabilityInTree(this,c,f)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class gw{addToWindow(o){}findTestabilityInTree(o,c,f){return null}}function vw(a){uu=a}let uu=new gw,I5=null;const _g=new je("AllowMultipleToken"),Mg=new je("PlatformOnDestroy");class _w{constructor(o,c){this.name=o,this.token=c}}function bg(a,o,c=[]){const f=`Platform: ${o}`,d=new je(f);return(m=[])=>{let _=io();if(!_||_.injector.get(_g,!1)){const L=[...c,...m,{provide:d,useValue:!0}];a?a(L):function fu(a){if(I5&&!I5.get(_g,!1))throw new O1(400,"");I5=a;const o=a.get(zg),c=a.get(su,null);c&&c.forEach(f=>f())}(function Lw(a=[],o){return Y6.create({name:o,providers:[{provide:wc,useValue:"platform"},{provide:Mg,useValue:()=>I5=null},...a]})}(L,f))}return function Mw(a){const o=io();if(!o)throw new O1(401,"");return o}()}}function io(){var a;return null!==(a=null==I5?void 0:I5.get(zg))&&void 0!==a?a:null}let zg=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const L=function bw(a,o){let c;return c="noop"===a?new pw:("zone.js"===a?void 0:a)||new _6({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),c}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),w=[{provide:_6,useValue:L}];return L.run(()=>{const H=Y6.create({providers:w,parent:this.injector,name:c.moduleType.name}),E=c.create(H),P=E.injector.get(kr,null);if(!P)throw new O1(402,"");return L.runOutsideAngular(()=>{const Z=L.onError.subscribe({next:r1=>{P.handleError(r1)}});E.onDestroy(()=>{du(this._modules,E),Z.unsubscribe()})}),function zw(a,o,c){try{const f=c();return jc(f)?f.catch(d=>{throw o.runOutsideAngular(()=>a.handleError(d)),d}):f}catch(f){throw o.runOutsideAngular(()=>a.handleError(f)),f}}(P,L,()=>{const Z=E.injector.get(nu);return Z.runInitializers(),Z.donePromise.then(()=>(function Bp(a){a2(a,"Expected localeId to be defined"),"string"==typeof a&&(Up=a.toLowerCase().replace(/_/g,"-"))}(E.injector.get(ro,B7)||B7),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,f=[]){const d=wg({},f);return function Lg(a,o,c){const f=new El(c);return Promise.resolve(f)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(c){const f=c.injector.get(hu);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(d=>f.bootstrap(d));else{if(!c.instance.ngDoBootstrap)throw new O1(403,"");c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O1(404,"");this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const c=this._injector.get(Mg,null);null==c||c(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(c3(Y6))},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function wg(a,o){return Array.isArray(o)?o.reduce(wg,a):Object.assign(Object.assign({},a),o)}let hu=(()=>{class a{constructor(c,f,d,m){this._zone=c,this._injector=f,this._exceptionHandler=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new R.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),L=new R.y(w=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{_6.assertNotInAngularZone(),ou(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{_6.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{H.unsubscribe(),E.unsubscribe()}});this.isStable=(0,h1.T)(_,L.pipe((0,g1.B)()))}bootstrap(c,f){if(!this._initStatus.done)throw new O1(405,"");let d;d=c instanceof vm?c:this._injector.get($7).resolveComponentFactory(c),this.componentTypes.push(d.componentType);const m=function yw(a){return a.isBoundToModule}(d)?void 0:this._injector.get(c0),L=d.create(Y6.NULL,[],f||d.selector,m),w=L.location.nativeElement,H=L.injector.get(yg,null),E=H&&L.injector.get(mw);return H&&E&&E.registerApplication(w,H),L.onDestroy(()=>{this.detachView(L.hostView),du(this.components,L),E&&E.unregisterApplication(w)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new O1(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;du(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(au,[]).concat(this._bootstrapListeners).forEach(d=>d(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(c3(_6),c3(Y6),c3(kr),c3(nu))},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function du(a,o){const c=a.indexOf(o);c>-1&&a.splice(c,1)}let Vg=!0,pu=!1;function Vw(){return pu=!0,Vg}function Sw(){if(pu)throw new Error("Cannot enable prod mode after platform setup.");Vg=!1}let Hg=(()=>{class a{}return a.__NG_ELEMENT_ID__=Hw,a})();function Hw(a){return function Ew(a,o,c){if(Q5(a)&&!c){const f=N(a.index,o);return new os(f,f)}return 47&a.type?new os(o[16],o):null}(Ie(),N1(),16==(16&a))}class Tg{constructor(){}supports(o){return Qi(o)}create(o){return new Pw(o)}}const kw=(a,o)=>o;class Pw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||kw}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,f=this._removalsHead,d=0,m=null;for(;c||f;){const _=!f||c&&c.currentIndex<Ig(f,d,m)?c:f,L=Ig(_,d,m),w=_.currentIndex;if(_===f)d--,f=f._nextRemoved;else if(c=c._next,null==_.previousIndex)d++;else{m||(m=[]);const H=L-d,E=w-d;if(H!=E){for(let Z=0;Z<H;Z++){const r1=Z<m.length?m[Z]:m[Z]=0,x1=r1+Z;E<=x1&&x1<H&&(m[Z]=r1+1)}m[_.previousIndex]=E-H}}L!==w&&o(_,L,w)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Qi(o))throw new O1(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,m,_,c=this._itHead,f=!1;if(Array.isArray(o)){this.length=o.length;for(let L=0;L<this.length;L++)m=o[L],_=this._trackByFn(L,m),null!==c&&Object.is(c.trackById,_)?(f&&(c=this._verifyReinsertion(c,m,_,L)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,_,L),f=!0),c=c._next}else d=0,function HL(a,o){if(Array.isArray(a))for(let c=0;c<a.length;c++)o(a[c]);else{const c=a[Zr()]();let f;for(;!(f=c.next()).done;)o(f.value)}}(o,L=>{_=this._trackByFn(d,L),null!==c&&Object.is(c.trackById,_)?(f&&(c=this._verifyReinsertion(c,L,_,d)),Object.is(c.item,L)||this._addIdentityChange(c,L)):(c=this._mismatch(c,L,_,d),f=!0),c=c._next,d++}),this.length=d;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,f,d){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,m,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(f,d))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,m,d)):o=this._addAfter(new Rw(c,f),m,d),o}_verifyReinsertion(o,c,f,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==m?o=this._reinsertAfter(m,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,m=o._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(o,c,f),this._addToMoves(o,f),o}_moveAfter(o,c,f){return this._unlink(o),this._insertAfter(o,c,f),this._addToMoves(o,f),o}_addAfter(o,c,f){return this._insertAfter(o,c,f),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,f){const d=null===c?this._itHead:c._next;return o._next=d,o._prev=c,null===d?this._itTail=o:d._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new Ag),this._linkedRecords.put(o),o.currentIndex=f,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,f=o._next;return null===c?this._itHead=f:c._next=f,null===f?this._itTail=c:f._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ag),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Rw{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yu{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===c||c<=f.currentIndex)&&Object.is(f.trackById,o))return f;return null}remove(o){const c=o._prevDup,f=o._nextDup;return null===c?this._head=f:c._nextDup=f,null===f?this._tail=c:f._prevDup=c,null===this._head}}class Ag{constructor(){this.map=new Map}put(o){const c=o.trackById;let f=this.map.get(c);f||(f=new yu,this.map.set(c,f)),f.add(o)}get(o,c){const d=this.map.get(o);return d?d.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ig(a,o,c){const f=a.previousIndex;if(null===f)return f;let d=0;return c&&f<c.length&&(d=c[f]),f+o+d}class _u{constructor(){}supports(o){return o instanceof Map||V7(o)}create(){return new Ow}}class Ow{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||V7(o)))throw new O1(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(f,d)=>{if(c&&c.key===d)this._maybeAddToChanges(c,f),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(d,f);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let f=c;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const f=o._prev;return c._next=o,c._prev=f,o._prev=c,f&&(f._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,c);const m=d._prev,_=d._next;return m&&(m._next=_),_&&(_._prev=m),d._next=null,d._prev=null,d}const f=new Fw(o);return this._records.set(o,f),f.currentValue=c,this._addToAdditions(f),f}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(f=>c(o[f],f))}}class Fw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Mu(){return new Lu([new Tg])}let Lu=(()=>{class a{constructor(c){this.factories=c}static create(c,f){if(null!=f){const d=f.factories.slice();c=c.concat(d)}return new a(c)}static extend(c){return{provide:a,useFactory:f=>a.create(c,f||Mu()),deps:[[a,new xn,new j6]]}}find(c){const f=this.factories.find(d=>d.supports(c));if(null!=f)return f;throw new O1(901,"")}}return a.\u0275prov=ie({token:a,providedIn:"root",factory:Mu}),a})();function Ng(){return new bu([new _u])}let bu=(()=>{class a{constructor(c){this.factories=c}static create(c,f){if(f){const d=f.factories.slice();c=c.concat(d)}return new a(c)}static extend(c){return{provide:a,useFactory:f=>a.create(c,f||Ng()),deps:[[a,new xn,new j6]]}}find(c){const f=this.factories.find(m=>m.supports(c));if(f)return f;throw new O1(901,"")}}return a.\u0275prov=ie({token:a,providedIn:"root",factory:Ng}),a})();const jw=bg(null,"core",[]);let qw=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(c3(hu))},a.\u0275mod=I2({type:a}),a.\u0275inj=O2({}),a})()},579:(c2,z1,A)=>{A.d(z1,{EI:()=>Y,Gb:()=>G2,Iv:()=>$e,Kz:()=>Q,Xd:()=>V2,lT:()=>Xe,xP:()=>O});var u=A(5861),t1=A(9681),R=A(1877),h1=A(2090),g1=A(4859);A(2833);const l1="analytics",p1="firebase_id",G="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",a1="https://www.googletagmanager.com/gtag/js",j1=new R.Yd("@firebase/analytics");function V1(j){return Promise.all(j.map(s1=>s1.catch(y1=>y1)))}function O1(j,s1){const y1=document.createElement("script");y1.src=`${a1}?l=${j}&id=${s1}`,y1.async=!0,document.head.appendChild(y1)}function m1(j,s1,y1,D1,Z1,q1){return S1.apply(this,arguments)}function S1(){return(S1=(0,u.Z)(function*(j,s1,y1,D1,Z1,q1){const p2=D1[Z1];try{if(p2)yield s1[p2];else{const pe=(yield V1(y1)).find(se=>se.measurementId===Z1);pe&&(yield s1[pe.appId])}}catch(I2){j1.error(I2)}j("config",Z1,q1)})).apply(this,arguments)}function o2(j,s1,y1,D1,Z1){return t2.apply(this,arguments)}function t2(){return(t2=(0,u.Z)(function*(j,s1,y1,D1,Z1){try{let q1=[];if(Z1&&Z1.send_to){let p2=Z1.send_to;Array.isArray(p2)||(p2=[p2]);const I2=yield V1(y1);for(const pe of p2){const se=I2.find(h4=>h4.measurementId===pe),U3=se&&s1[se.appId];if(!U3){q1=[];break}q1.push(U3)}}0===q1.length&&(q1=Object.values(s1)),yield Promise.all(q1),j("event",D1,Z1||{})}catch(q1){j1.error(q1)}})).apply(this,arguments)}function E1(){const j=window.document.getElementsByTagName("script");for(const s1 of Object.values(j))if(s1.src&&s1.src.includes(a1))return s1;return null}const B1=new h1.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),d1=new class e1{constructor(s1={},y1=1e3){this.throttleMetadata=s1,this.intervalMillis=y1}getThrottleMetadata(s1){return this.throttleMetadata[s1]}setThrottleMetadata(s1,y1){this.throttleMetadata[s1]=y1}deleteThrottleMetadata(s1){delete this.throttleMetadata[s1]}};function c1(j){return new Headers({Accept:"application/json","x-goog-api-key":j})}function I1(j){return u1.apply(this,arguments)}function u1(){return(u1=(0,u.Z)(function*(j){var s1;const{appId:y1,apiKey:D1}=j,Z1={method:"GET",headers:c1(D1)},q1=G.replace("{app-id}",y1),p2=yield fetch(q1,Z1);if(200!==p2.status&&304!==p2.status){let I2="";try{const pe=yield p2.json();(null===(s1=pe.error)||void 0===s1?void 0:s1.message)&&(I2=pe.error.message)}catch(pe){}throw B1.create("config-fetch-failed",{httpStatus:p2.status,responseMessage:I2})}return p2.json()})).apply(this,arguments)}function M2(j){return k2.apply(this,arguments)}function k2(){return(k2=(0,u.Z)(function*(j,s1=d1,y1){const{appId:D1,apiKey:Z1,measurementId:q1}=j.options;if(!D1)throw B1.create("no-app-id");if(!Z1){if(q1)return{measurementId:q1,appId:D1};throw B1.create("no-api-key")}const p2=s1.getThrottleMetadata(D1)||{backoffCount:0,throttleEndTimeMillis:Date.now()},I2=new Ce;return setTimeout((0,u.Z)(function*(){I2.abort()}),void 0!==y1?y1:6e4),Ee({appId:D1,apiKey:Z1,measurementId:q1},p2,I2,s1)})).apply(this,arguments)}function Ee(j,s1,y1){return a2.apply(this,arguments)}function a2(){return(a2=(0,u.Z)(function*(j,{throttleEndTimeMillis:s1,backoffCount:y1},D1,Z1=d1){const{appId:q1,measurementId:p2}=j;try{yield w2(D1,s1)}catch(I2){if(p2)return j1.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p2} provided in the "measurementId" field in the local Firebase config. [${I2.message}]`),{appId:q1,measurementId:p2};throw I2}try{const I2=yield I1(j);return Z1.deleteThrottleMetadata(q1),I2}catch(I2){if(!Le(I2)){if(Z1.deleteThrottleMetadata(q1),p2)return j1.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p2} provided in the "measurementId" field in the local Firebase config. [${I2.message}]`),{appId:q1,measurementId:p2};throw I2}const pe=503===Number(I2.customData.httpStatus)?(0,h1.$s)(y1,Z1.intervalMillis,30):(0,h1.$s)(y1,Z1.intervalMillis),se={throttleEndTimeMillis:Date.now()+pe,backoffCount:y1+1};return Z1.setThrottleMetadata(q1,se),j1.debug(`Calling attemptFetch again in ${pe} millis`),Ee(j,se,D1,Z1)}})).apply(this,arguments)}function w2(j,s1){return new Promise((y1,D1)=>{const Z1=Math.max(s1-Date.now(),0),q1=setTimeout(y1,Z1);j.addEventListener(()=>{clearTimeout(q1),D1(B1.create("fetch-throttle",{throttleEndTimeMillis:s1}))})})}function Le(j){if(!(j instanceof h1.ZR&&j.customData))return!1;const s1=Number(j.customData.httpStatus);return 429===s1||500===s1||503===s1||504===s1}class Ce{constructor(){this.listeners=[]}addEventListener(s1){this.listeners.push(s1)}abort(){this.listeners.forEach(s1=>s1())}}function V3(){return ie.apply(this,arguments)}function ie(){return(ie=(0,u.Z)(function*(){if(!(0,h1.hl)())return j1.warn(B1.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,h1.eu)()}catch(j){return j1.warn(B1.create("indexeddb-unavailable",{errorInfo:j}).message),!1}return!0})).apply(this,arguments)}function O2(){return(O2=(0,u.Z)(function*(j,s1,y1,D1,Z1,q1,p2){var I2;const pe=M2(j);pe.then(xe=>{y1[xe.measurementId]=xe.appId,j.options.measurementId&&xe.measurementId!==j.options.measurementId&&j1.warn(`The measurement ID in the local Firebase config (${j.options.measurementId}) does not match the measurement ID fetched from the server (${xe.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xe=>j1.error(xe)),s1.push(pe);const se=V3().then(xe=>{if(xe)return D1.getId()}),[U3,h4]=yield Promise.all([pe,se]);E1()||O1(q1,U3.measurementId),Z1("js",new Date);const _e=null!==(I2=null==p2?void 0:p2.config)&&void 0!==I2?I2:{};return _e.origin="firebase",_e.update=!0,null!=h4&&(_e[p1]=h4),Z1("config",U3.measurementId,_e),U3.measurementId})).apply(this,arguments)}class P2{constructor(s1){this.app=s1}_delete(){return delete Re[this.app.options.appId],Promise.resolve()}}let Re={},x4=[];const o3={};let F3,_3,be="dataLayer",y3="gtag",h3=!1;function V2(j){if(h3)throw B1.create("already-initialized");j.dataLayerName&&(be=j.dataLayerName),j.gtagName&&(y3=j.gtagName)}function he(j,s1,y1){!function M3(){const j=[];if((0,h1.ru)()&&j.push("This is a browser extension environment."),(0,h1.zI)()||j.push("Cookies are not available."),j.length>0){const s1=j.map((D1,Z1)=>`(${Z1+1}) ${D1}`).join(" "),y1=B1.create("invalid-analytics-context",{errorInfo:s1});j1.warn(y1.message)}}();const D1=j.options.appId;if(!D1)throw B1.create("no-app-id");if(!j.options.apiKey){if(!j.options.measurementId)throw B1.create("no-api-key");j1.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${j.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Re[D1])throw B1.create("already-exists",{id:D1});if(!h3){!function G1(j){let s1=[];Array.isArray(window[j])?s1=window[j]:window[j]=s1}(be);const{wrappedGtag:q1,gtagCore:p2}=function H1(j,s1,y1,D1,Z1){let q1=function(...p2){window[D1].push(arguments)};return window[Z1]&&"function"==typeof window[Z1]&&(q1=window[Z1]),window[Z1]=function A1(j,s1,y1,D1){function q1(){return(q1=(0,u.Z)(function*(p2,I2,pe){try{"event"===p2?yield o2(j,s1,y1,I2,pe):"config"===p2?yield m1(j,s1,y1,D1,I2,pe):j("set",I2)}catch(se){j1.error(se)}})).apply(this,arguments)}return function Z1(p2,I2,pe){return q1.apply(this,arguments)}}(q1,j,s1,y1),{gtagCore:q1,wrappedGtag:window[Z1]}}(Re,x4,o3,be,y3);_3=q1,F3=p2,h3=!0}return Re[D1]=function S3(j,s1,y1,D1,Z1,q1,p2){return O2.apply(this,arguments)}(j,x4,o3,s1,F3,be,y1),new P2(j)}function K3(){return(K3=(0,u.Z)(function*(j,s1,y1,D1,Z1){if(Z1&&Z1.global)j("event",y1,D1);else{const q1=yield s1;j("event",y1,Object.assign(Object.assign({},D1),{send_to:q1}))}})).apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(j,s1,y1,D1){if(D1&&D1.global)return j("set",{screen_name:y1}),Promise.resolve();j("config",yield s1,{update:!0,screen_name:y1})})).apply(this,arguments)}function E3(){return(E3=(0,u.Z)(function*(j,s1,y1,D1){if(D1&&D1.global)return j("set",{user_id:y1}),Promise.resolve();j("config",yield s1,{update:!0,user_id:y1})})).apply(this,arguments)}function Z2(){return(Z2=(0,u.Z)(function*(j,s1,y1,D1){if(D1&&D1.global){const Z1={};for(const q1 of Object.keys(y1))Z1[`user_properties.${q1}`]=y1[q1];return j("set",Z1),Promise.resolve()}j("config",yield s1,{update:!0,user_properties:y1})})).apply(this,arguments)}function y2(){return(y2=(0,u.Z)(function*(j,s1){const y1=yield j;window[`ga-disable-${y1}`]=!s1})).apply(this,arguments)}function G2(){return Q3.apply(this,arguments)}function Q3(){return(Q3=(0,u.Z)(function*(){if((0,h1.ru)()||!(0,h1.zI)()||!(0,h1.hl)())return!1;try{return yield(0,h1.eu)()}catch(j){return!1}})).apply(this,arguments)}function Xe(j,s1,y1){j=(0,h1.m9)(j),function H3(j,s1,y1,D1){return We.apply(this,arguments)}(_3,Re[j.app.options.appId],s1,y1).catch(D1=>j1.error(D1))}function $e(j,s1,y1){j=(0,h1.m9)(j),function Oe(j,s1,y1,D1){return E3.apply(this,arguments)}(_3,Re[j.app.options.appId],s1,y1).catch(D1=>j1.error(D1))}function O(j,s1,y1){j=(0,h1.m9)(j),function c4(j,s1,y1,D1){return Z2.apply(this,arguments)}(_3,Re[j.app.options.appId],s1,y1).catch(D1=>j1.error(D1))}function Y(j,s1){j=(0,h1.m9)(j),function h2(j,s1){return y2.apply(this,arguments)}(Re[j.app.options.appId],s1).catch(y1=>j1.error(y1))}function Q(j,s1,y1,D1){j=(0,h1.m9)(j),function Ne(j,s1,y1,D1,Z1){return K3.apply(this,arguments)}(_3,Re[j.app.options.appId],s1,y1,D1).catch(Z1=>j1.error(Z1))}const T1="@firebase/analytics",B="0.7.9";!function n1(){(0,t1._registerComponent)(new g1.wA(l1,(s1,{options:y1})=>he(s1.getProvider("app").getImmediate(),s1.getProvider("installations-internal").getImmediate(),y1),"PUBLIC")),(0,t1._registerComponent)(new g1.wA("analytics-internal",function j(s1){try{const y1=s1.getProvider(l1).getImmediate();return{logEvent:(D1,Z1,q1)=>Q(y1,D1,Z1,q1)}}catch(y1){throw B1.create("interop-component-reg-failed",{reason:y1})}},"PRIVATE")),(0,t1.registerVersion)(T1,B),(0,t1.registerVersion)(T1,B,"esm2017")}()},7271:(c2,z1,A)=>{A.d(z1,{Z:()=>O1});var u=A(2090),t1=A(4859),R=A(9681),h1=A(1877);class g1{constructor(m1,S1){this._delegate=m1,this.firebase=S1,(0,R._addComponent)(m1,new t1.wA("app-compat",()=>this,"PUBLIC")),this.container=m1.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(m1){this._delegate.automaticDataCollectionEnabled=m1}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(m1=>{this._delegate.checkDestroyed(),m1()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(m1,S1=R._DEFAULT_ENTRY_NAME){var o2;this._delegate.checkDestroyed();const t2=this._delegate.container.getProvider(m1);return!t2.isInitialized()&&"EXPLICIT"===(null===(o2=t2.getComponent())||void 0===o2?void 0:o2.instantiationMode)&&t2.initialize(),t2.getImmediate({identifier:S1})}_removeServiceInstance(m1,S1=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(m1).clearInstance(S1)}_addComponent(m1){(0,R._addComponent)(this._delegate,m1)}_addOrOverwriteComponent(m1){(0,R._addOrOverwriteComponent)(this._delegate,m1)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l1=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function v1(){const G1=function p1(G1){const m1={},S1={__esModule:!0,initializeApp:function A1(B1,q={}){const U=R.initializeApp(B1,q);if((0,u.r3)(m1,U.name))return m1[U.name];const e1=new G1(U,S1);return m1[U.name]=e1,e1},app:t2,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function E1(B1){const q=B1.name,U=q.replace("-compat","");if(R._registerComponent(B1)&&"PUBLIC"===B1.type){const e1=(d1=t2())=>{if("function"!=typeof d1[U])throw l1.create("invalid-app-argument",{appName:q});return d1[U]()};void 0!==B1.serviceProps&&(0,u.ZB)(e1,B1.serviceProps),S1[U]=e1,G1.prototype[U]=function(...d1){return this._getService.bind(this,q).apply(this,B1.multipleInstances?d1:[])}}return"PUBLIC"===B1.type?S1[U]:null},removeApp:function o2(B1){delete m1[B1]},useAsService:function X1(B1,q){return"serverAuth"===q?null:q},modularAPIs:R}};function t2(B1){if(!(0,u.r3)(m1,B1=B1||R._DEFAULT_ENTRY_NAME))throw l1.create("no-app",{appName:B1});return m1[B1]}return S1.default=S1,Object.defineProperty(S1,"apps",{get:function H1(){return Object.keys(m1).map(B1=>m1[B1])}}),t2.App=G1,S1}(g1);return G1.INTERNAL=Object.assign(Object.assign({},G1.INTERNAL),{createFirebaseNamespace:v1,extendNamespace:function m1(S1){(0,u.ZB)(G1,S1)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),G1}(),G=new h1.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const G1=self.firebase.SDK_VERSION;G1&&G1.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const O1=W;!function V1(G1){(0,R.registerVersion)("@firebase/app-compat","0.1.25",G1)}()},9681:(c2,z1,A)=>{A.r(z1),A.d(z1,{FirebaseError:()=>h1.ZR,SDK_VERSION:()=>y3,_DEFAULT_ENTRY_NAME:()=>a2,_addComponent:()=>V3,_addOrOverwriteComponent:()=>ie,_apps:()=>Le,_clearComponents:()=>Re,_components:()=>Ce,_getProvider:()=>O2,_registerComponent:()=>S3,_removeServiceInstance:()=>P2,deleteApp:()=>V2,getApp:()=>_3,getApps:()=>h3,initializeApp:()=>F3,onLog:()=>Ne,registerVersion:()=>he,setLogLevel:()=>K3});var u=A(5861),t1=A(4859),R=A(1877),h1=A(2090),g1=A(8766);class b1{constructor(n1){this.container=n1}getPlatformInfoString(){return this.container.getProviders().map(j=>{if(function l1(B){const n1=B.getComponent();return"VERSION"===(null==n1?void 0:n1.type)}(j)){const s1=j.getImmediate();return`${s1.library}/${s1.version}`}return null}).filter(j=>j).join(" ")}}const p1="@firebase/app",W=new R.Yd("@firebase/app"),a2="[DEFAULT]",w2={[p1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Le=new Map,Ce=new Map;function V3(B,n1){try{B.container.addComponent(n1)}catch(j){W.debug(`Component ${n1.name} failed to register with FirebaseApp ${B.name}`,j)}}function ie(B,n1){B.container.addOrOverwriteComponent(n1)}function S3(B){const n1=B.name;if(Ce.has(n1))return W.debug(`There were multiple attempts to register component ${n1}.`),!1;Ce.set(n1,B);for(const j of Le.values())V3(j,B);return!0}function O2(B,n1){const j=B.container.getProvider("heartbeat").getImmediate({optional:!0});return j&&j.triggerHeartbeat(),B.container.getProvider(n1)}function P2(B,n1,j=a2){O2(B,n1).clearInstance(j)}function Re(){Ce.clear()}const o3=new h1.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class be{constructor(n1,j,s1){this._isDeleted=!1,this._options=Object.assign({},n1),this._config=Object.assign({},j),this._name=j.name,this._automaticDataCollectionEnabled=j.automaticDataCollectionEnabled,this._container=s1,this.container.addComponent(new t1.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n1){this.checkDestroyed(),this._automaticDataCollectionEnabled=n1}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n1){this._isDeleted=n1}checkDestroyed(){if(this.isDeleted)throw o3.create("app-deleted",{appName:this._name})}}const y3="9.8.1";function F3(B,n1={}){"object"!=typeof n1&&(n1={name:n1});const j=Object.assign({name:a2,automaticDataCollectionEnabled:!1},n1),s1=j.name;if("string"!=typeof s1||!s1)throw o3.create("bad-app-name",{appName:String(s1)});const y1=Le.get(s1);if(y1){if((0,h1.vZ)(B,y1.options)&&(0,h1.vZ)(j,y1.config))return y1;throw o3.create("duplicate-app",{appName:s1})}const D1=new t1.H0(s1);for(const q1 of Ce.values())D1.addComponent(q1);const Z1=new be(B,j,D1);return Le.set(s1,Z1),Z1}function _3(B=a2){const n1=Le.get(B);if(!n1)throw o3.create("no-app",{appName:B});return n1}function h3(){return Array.from(Le.values())}function V2(B){return M3.apply(this,arguments)}function M3(){return(M3=(0,u.Z)(function*(B){const n1=B.name;Le.has(n1)&&(Le.delete(n1),yield Promise.all(B.container.getProviders().map(j=>j.delete())),B.isDeleted=!0)})).apply(this,arguments)}function he(B,n1,j){var s1;let y1=null!==(s1=w2[B])&&void 0!==s1?s1:B;j&&(y1+=`-${j}`);const D1=y1.match(/\s|\//),Z1=n1.match(/\s|\//);if(D1||Z1){const q1=[`Unable to register library "${y1}" with version "${n1}":`];return D1&&q1.push(`library name "${y1}" contains illegal characters (whitespace or "/")`),D1&&Z1&&q1.push("and"),Z1&&q1.push(`version name "${n1}" contains illegal characters (whitespace or "/")`),void W.warn(q1.join(" "))}S3(new t1.wA(`${y1}-version`,()=>({library:y1,version:n1}),"VERSION"))}function Ne(B,n1){if(null!==B&&"function"!=typeof B)throw o3.create("invalid-log-argument");(0,R.Am)(B,n1)}function K3(B){(0,R.Ub)(B)}const Oe="firebase-heartbeat-store";let E3=null;function c4(){return E3||(E3=(0,g1.X3)("firebase-heartbeat-database",1,{upgrade:(B,n1)=>{0===n1&&B.createObjectStore(Oe)}}).catch(B=>{throw o3.create("storage-open",{originalErrorMessage:B.message})})),E3}function h2(){return(h2=(0,u.Z)(function*(B){try{return(yield c4()).transaction(Oe).objectStore(Oe).get(Y3(B))}catch(n1){throw o3.create("storage-get",{originalErrorMessage:n1.message})}})).apply(this,arguments)}function y2(B,n1){return ye.apply(this,arguments)}function ye(){return(ye=(0,u.Z)(function*(B,n1){try{const s1=(yield c4()).transaction(Oe,"readwrite");return yield s1.objectStore(Oe).put(n1,Y3(B)),s1.done}catch(j){throw o3.create("storage-set",{originalErrorMessage:j.message})}})).apply(this,arguments)}function Y3(B){return`${B.name}!${B.options.appId}`}class Xe{constructor(n1){this.container=n1,this._heartbeatsCache=null;const j=this.container.getProvider("app").getImmediate();this._storage=new Y(j),this._heartbeatsCachePromise=this._storage.read().then(s1=>(this._heartbeatsCache=s1,s1))}triggerHeartbeat(){var n1=this;return(0,u.Z)(function*(){const s1=n1.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),y1=$e();if(null===n1._heartbeatsCache&&(n1._heartbeatsCache=yield n1._heartbeatsCachePromise),n1._heartbeatsCache.lastSentHeartbeatDate!==y1&&!n1._heartbeatsCache.heartbeats.some(D1=>D1.date===y1))return n1._heartbeatsCache.heartbeats.push({date:y1,agent:s1}),n1._heartbeatsCache.heartbeats=n1._heartbeatsCache.heartbeats.filter(D1=>{const Z1=new Date(D1.date).valueOf();return Date.now()-Z1<=2592e6}),n1._storage.overwrite(n1._heartbeatsCache)})()}getHeartbeatsHeader(){var n1=this;return(0,u.Z)(function*(){if(null===n1._heartbeatsCache&&(yield n1._heartbeatsCachePromise),null===n1._heartbeatsCache||0===n1._heartbeatsCache.heartbeats.length)return"";const j=$e(),{heartbeatsToSend:s1,unsentEntries:y1}=function O(B,n1=1024){const j=[];let s1=B.slice();for(const y1 of B){const D1=j.find(Z1=>Z1.agent===y1.agent);if(D1){if(D1.dates.push(y1.date),Q(j)>n1){D1.dates.pop();break}}else if(j.push({agent:y1.agent,dates:[y1.date]}),Q(j)>n1){j.pop();break}s1=s1.slice(1)}return{heartbeatsToSend:j,unsentEntries:s1}}(n1._heartbeatsCache.heartbeats),D1=(0,h1.L)(JSON.stringify({version:2,heartbeats:s1}));return n1._heartbeatsCache.lastSentHeartbeatDate=j,y1.length>0?(n1._heartbeatsCache.heartbeats=y1,yield n1._storage.overwrite(n1._heartbeatsCache)):(n1._heartbeatsCache.heartbeats=[],n1._storage.overwrite(n1._heartbeatsCache)),D1})()}}function $e(){return(new Date).toISOString().substring(0,10)}class Y{constructor(n1){this.app=n1,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,h1.hl)()&&(0,h1.eu)().then(()=>!0).catch(()=>!1)})()}read(){var n1=this;return(0,u.Z)(function*(){return(yield n1._canUseIndexedDBPromise)&&(yield function Z2(B){return h2.apply(this,arguments)}(n1.app))||{heartbeats:[]}})()}overwrite(n1){var j=this;return(0,u.Z)(function*(){var s1;if(yield j._canUseIndexedDBPromise){const D1=yield j.read();return y2(j.app,{lastSentHeartbeatDate:null!==(s1=n1.lastSentHeartbeatDate)&&void 0!==s1?s1:D1.lastSentHeartbeatDate,heartbeats:n1.heartbeats})}})()}add(n1){var j=this;return(0,u.Z)(function*(){var s1;if(yield j._canUseIndexedDBPromise){const D1=yield j.read();return y2(j.app,{lastSentHeartbeatDate:null!==(s1=n1.lastSentHeartbeatDate)&&void 0!==s1?s1:D1.lastSentHeartbeatDate,heartbeats:[...D1.heartbeats,...n1.heartbeats]})}})()}}function Q(B){return(0,h1.L)(JSON.stringify({version:2,heartbeats:B})).length}!function T1(B){S3(new t1.wA("platform-logger",n1=>new b1(n1),"PRIVATE")),S3(new t1.wA("heartbeat",n1=>new Xe(n1),"PRIVATE")),he(p1,"0.7.24",B),he(p1,"0.7.24","esm2017"),he("fire-js","")}("")},4859:(c2,z1,A)=>{A.d(z1,{H0:()=>p1,wA:()=>R,zt:()=>g1});var u=A(5861),t1=A(2090);class R{constructor(W,G,a1){this.name=W,this.instanceFactory=G,this.type=a1,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const h1="[DEFAULT]";class g1{constructor(W,G){this.name=W,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const G=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(G)){const a1=new t1.BH;if(this.instancesDeferred.set(G,a1),this.isInitialized(G)||this.shouldAutoInitialize())try{const j1=this.getOrInitializeService({instanceIdentifier:G});j1&&a1.resolve(j1)}catch(j1){}}return this.instancesDeferred.get(G).promise}getImmediate(W){var G;const a1=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),j1=null!==(G=null==W?void 0:W.optional)&&void 0!==G&&G;if(!this.isInitialized(a1)&&!this.shouldAutoInitialize()){if(j1)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:a1})}catch(V1){if(j1)return null;throw V1}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function l1(v1){return"EAGER"===v1.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:h1})}catch(G){}for(const[G,a1]of this.instancesDeferred.entries()){const j1=this.normalizeInstanceIdentifier(G);try{const V1=this.getOrInitializeService({instanceIdentifier:j1});a1.resolve(V1)}catch(V1){}}}}clearInstance(W=h1){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,u.Z)(function*(){const G=Array.from(W.instances.values());yield Promise.all([...G.filter(a1=>"INTERNAL"in a1).map(a1=>a1.INTERNAL.delete()),...G.filter(a1=>"_delete"in a1).map(a1=>a1._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=h1){return this.instances.has(W)}getOptions(W=h1){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:G={}}=W,a1=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(a1))throw Error(`${this.name}(${a1}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const j1=this.getOrInitializeService({instanceIdentifier:a1,options:G});for(const[V1,O1]of this.instancesDeferred.entries())a1===this.normalizeInstanceIdentifier(V1)&&O1.resolve(j1);return j1}onInit(W,G){var a1;const j1=this.normalizeInstanceIdentifier(G),V1=null!==(a1=this.onInitCallbacks.get(j1))&&void 0!==a1?a1:new Set;V1.add(W),this.onInitCallbacks.set(j1,V1);const O1=this.instances.get(j1);return O1&&W(O1,j1),()=>{V1.delete(W)}}invokeOnInitCallbacks(W,G){const a1=this.onInitCallbacks.get(G);if(a1)for(const j1 of a1)try{j1(W,G)}catch(V1){}}getOrInitializeService({instanceIdentifier:W,options:G={}}){let a1=this.instances.get(W);if(!a1&&this.component&&(a1=this.component.instanceFactory(this.container,{instanceIdentifier:(v1=W,v1===h1?void 0:v1),options:G}),this.instances.set(W,a1),this.instancesOptions.set(W,G),this.invokeOnInitCallbacks(a1,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,a1)}catch(j1){}var v1;return a1||null}normalizeInstanceIdentifier(W=h1){return this.component?this.component.multipleInstances?W:h1:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class p1{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const G=this.getProvider(W.name);if(G.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);G.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const G=new g1(W,this);return this.providers.set(W,G),G}getProviders(){return Array.from(this.providers.values())}}},2833:(c2,z1,A)=>{var u=A(5861),t1=A(9681),R=A(4859),h1=A(2090),g1=A(8766);const b1="@firebase/installations",v1="w:0.5.9",W="FIS_v2",G1=new h1.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function m1(F){return F instanceof h1.ZR&&F.code.includes("request-failed")}function S1({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function o2(F){return{token:F.token,requestStatus:2,expiresIn:q(F.expiresIn),creationTime:Date.now()}}function t2(F,f1){return A1.apply(this,arguments)}function A1(){return(A1=(0,u.Z)(function*(F,f1){const d2=(yield f1.json()).error;return G1.create("request-failed",{requestName:F,serverCode:d2.code,serverMessage:d2.message,serverStatus:d2.status})})).apply(this,arguments)}function H1({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function E1(F,{refreshToken:f1}){const P1=H1(F);return P1.append("Authorization",function U(F){return`${W} ${F}`}(f1)),P1}function X1(F){return B1.apply(this,arguments)}function B1(){return(B1=(0,u.Z)(function*(F){const f1=yield F();return f1.status>=500&&f1.status<600?F():f1})).apply(this,arguments)}function q(F){return Number(F.replace("s","000"))}function e1(F,f1){return d1.apply(this,arguments)}function d1(){return(d1=(0,u.Z)(function*({appConfig:F,heartbeatServiceProvider:f1},{fid:P1}){const d2=S1(F),W2=H1(F),Y2=f1.getImmediate({optional:!0});if(Y2){const S2=yield Y2.getHeartbeatsHeader();S2&&W2.append("x-firebase-client",S2)}const ze={method:"POST",headers:W2,body:JSON.stringify({fid:P1,authVersion:W,appId:F.appId,sdkVersion:v1})},j3=yield X1(()=>fetch(d2,ze));if(j3.ok){const S2=yield j3.json();return{fid:S2.fid||P1,registrationStatus:2,refreshToken:S2.refreshToken,authToken:o2(S2.authToken)}}throw yield t2("Create Installation",j3)})).apply(this,arguments)}function c1(F){return new Promise(f1=>{setTimeout(f1,F)})}const u1=/^[cdef][\w-]{21}$/;function k2(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const P1=function Ee(F){return function I1(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return u1.test(P1)?P1:""}catch(F){return""}}function a2(F){return`${F.appName}!${F.appId}`}const w2=new Map;function Le(F,f1){const P1=a2(F);ie(P1,f1),function S3(F,f1){const P1=function P2(){return!O2&&"BroadcastChannel"in self&&(O2=new BroadcastChannel("[Firebase] FID Change"),O2.onmessage=F=>{ie(F.data.key,F.data.fid)}),O2}();P1&&P1.postMessage({key:F,fid:f1}),function Re(){0===w2.size&&O2&&(O2.close(),O2=null)}()}(P1,f1)}function ie(F,f1){const P1=w2.get(F);if(P1)for(const d2 of P1)d2(f1)}let O2=null;const be="firebase-installations-store";let y3=null;function F3(){return y3||(y3=(0,g1.X3)("firebase-installations-database",1,{upgrade:(F,f1)=>{0===f1&&F.createObjectStore(be)}})),y3}function _3(F,f1){return h3.apply(this,arguments)}function h3(){return(h3=(0,u.Z)(function*(F,f1){const P1=a2(F),W2=(yield F3()).transaction(be,"readwrite"),Y2=W2.objectStore(be),Q2=yield Y2.get(P1);return yield Y2.put(f1,P1),yield W2.done,(!Q2||Q2.fid!==f1.fid)&&Le(F,f1.fid),f1})).apply(this,arguments)}function V2(F){return M3.apply(this,arguments)}function M3(){return(M3=(0,u.Z)(function*(F){const f1=a2(F),d2=(yield F3()).transaction(be,"readwrite");yield d2.objectStore(be).delete(f1),yield d2.done})).apply(this,arguments)}function he(F,f1){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,u.Z)(function*(F,f1){const P1=a2(F),W2=(yield F3()).transaction(be,"readwrite"),Y2=W2.objectStore(be),Q2=yield Y2.get(P1),ze=f1(Q2);return void 0===ze?yield Y2.delete(P1):yield Y2.put(ze,P1),yield W2.done,ze&&(!Q2||Q2.fid!==ze.fid)&&Le(F,ze.fid),ze})).apply(this,arguments)}function K3(F){return H3.apply(this,arguments)}function H3(){return(H3=(0,u.Z)(function*(F){let f1;const P1=yield he(F.appConfig,d2=>{const W2=We(d2),Y2=Oe(F,W2);return f1=Y2.registrationPromise,Y2.installationEntry});return""===P1.fid?{installationEntry:yield f1}:{installationEntry:P1,registrationPromise:f1}})).apply(this,arguments)}function We(F){return ye(F||{fid:k2(),registrationStatus:0})}function Oe(F,f1){if(0===f1.registrationStatus){if(!navigator.onLine)return{installationEntry:f1,registrationPromise:Promise.reject(G1.create("app-offline"))};const P1={fid:f1.fid,registrationStatus:1,registrationTime:Date.now()},d2=function E3(F,f1){return c4.apply(this,arguments)}(F,P1);return{installationEntry:P1,registrationPromise:d2}}return 1===f1.registrationStatus?{installationEntry:f1,registrationPromise:Z2(F)}:{installationEntry:f1}}function c4(){return(c4=(0,u.Z)(function*(F,f1){try{const P1=yield e1(F,f1);return _3(F.appConfig,P1)}catch(P1){throw m1(P1)&&409===P1.customData.serverCode?yield V2(F.appConfig):yield _3(F.appConfig,{fid:f1.fid,registrationStatus:0}),P1}})).apply(this,arguments)}function Z2(F){return h2.apply(this,arguments)}function h2(){return(h2=(0,u.Z)(function*(F){let f1=yield y2(F.appConfig);for(;1===f1.registrationStatus;)yield c1(100),f1=yield y2(F.appConfig);if(0===f1.registrationStatus){const{installationEntry:P1,registrationPromise:d2}=yield K3(F);return d2||P1}return f1})).apply(this,arguments)}function y2(F){return he(F,f1=>{if(!f1)throw G1.create("installation-not-found");return ye(f1)})}function ye(F){return function Y3(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function G2(F,f1){return Q3.apply(this,arguments)}function Q3(){return(Q3=(0,u.Z)(function*({appConfig:F,heartbeatServiceProvider:f1},P1){const d2=Xe(F,P1),W2=E1(F,P1),Y2=f1.getImmediate({optional:!0});if(Y2){const S2=yield Y2.getHeartbeatsHeader();S2&&W2.append("x-firebase-client",S2)}const ze={method:"POST",headers:W2,body:JSON.stringify({installation:{sdkVersion:v1,appId:F.appId}})},j3=yield X1(()=>fetch(d2,ze));if(j3.ok)return o2(yield j3.json());throw yield t2("Generate Auth Token",j3)})).apply(this,arguments)}function Xe(F,{fid:f1}){return`${S1(F)}/${f1}/authTokens:generate`}function $e(F){return O.apply(this,arguments)}function O(){return(O=(0,u.Z)(function*(F,f1=!1){let P1;const d2=yield he(F.appConfig,Y2=>{if(!j(Y2))throw G1.create("not-registered");const Q2=Y2.authToken;if(!f1&&s1(Q2))return Y2;if(1===Q2.requestStatus)return P1=Y(F,f1),Y2;{if(!navigator.onLine)throw G1.create("app-offline");const ze=D1(Y2);return P1=B(F,ze),ze}});return P1?yield P1:d2.authToken})).apply(this,arguments)}function Y(F,f1){return Q.apply(this,arguments)}function Q(){return(Q=(0,u.Z)(function*(F,f1){let P1=yield T1(F.appConfig);for(;1===P1.authToken.requestStatus;)yield c1(100),P1=yield T1(F.appConfig);const d2=P1.authToken;return 0===d2.requestStatus?$e(F,f1):d2})).apply(this,arguments)}function T1(F){return he(F,f1=>{if(!j(f1))throw G1.create("not-registered");return function Z1(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(f1.authToken)?Object.assign(Object.assign({},f1),{authToken:{requestStatus:0}}):f1})}function B(F,f1){return n1.apply(this,arguments)}function n1(){return(n1=(0,u.Z)(function*(F,f1){try{const P1=yield G2(F,f1),d2=Object.assign(Object.assign({},f1),{authToken:P1});return yield _3(F.appConfig,d2),P1}catch(P1){if(!m1(P1)||401!==P1.customData.serverCode&&404!==P1.customData.serverCode){const d2=Object.assign(Object.assign({},f1),{authToken:{requestStatus:0}});yield _3(F.appConfig,d2)}else yield V2(F.appConfig);throw P1}})).apply(this,arguments)}function j(F){return void 0!==F&&2===F.registrationStatus}function s1(F){return 2===F.requestStatus&&!function y1(F){const f1=Date.now();return f1<F.creationTime||F.creationTime+F.expiresIn<f1+36e5}(F)}function D1(F){const f1={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:f1})}function p2(){return(p2=(0,u.Z)(function*(F){const f1=F,{installationEntry:P1,registrationPromise:d2}=yield K3(f1);return d2?d2.catch(console.error):$e(f1).catch(console.error),P1.fid})).apply(this,arguments)}function pe(){return(pe=(0,u.Z)(function*(F,f1=!1){const P1=F;return yield se(P1),(yield $e(P1,f1)).token})).apply(this,arguments)}function se(F){return U3.apply(this,arguments)}function U3(){return(U3=(0,u.Z)(function*(F){const{registrationPromise:f1}=yield K3(F);f1&&(yield f1)})).apply(this,arguments)}function A4(F){return G1.create("missing-app-config-values",{valueName:F})}const d4="installations",Pt=F=>{const f1=F.getProvider("app").getImmediate(),P1=function lt(F){if(!F||!F.options)throw A4("App Configuration");if(!F.name)throw A4("App Name");const f1=["projectId","apiKey","appId"];for(const P1 of f1)if(!F.options[P1])throw A4(P1);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(f1);return{app:f1,appConfig:P1,heartbeatServiceProvider:(0,t1._getProvider)(f1,"heartbeat"),_delete:()=>Promise.resolve()}},B3=F=>{const f1=F.getProvider("app").getImmediate(),P1=(0,t1._getProvider)(f1,d4).getImmediate();return{getId:()=>function q1(F){return p2.apply(this,arguments)}(P1),getToken:W2=>function I2(F){return pe.apply(this,arguments)}(P1,W2)}};(function n2(){(0,t1._registerComponent)(new R.wA(d4,Pt,"PUBLIC")),(0,t1._registerComponent)(new R.wA("installations-internal",B3,"PRIVATE"))})(),(0,t1.registerVersion)(b1,"0.5.9"),(0,t1.registerVersion)(b1,"0.5.9","esm2017")},1877:(c2,z1,A)=>{A.d(z1,{Am:()=>v1,Ub:()=>p1,Yd:()=>l1,in:()=>t1});const u=[];var t1=(()=>{return(W=t1||(t1={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",t1;var W})();const R={debug:t1.DEBUG,verbose:t1.VERBOSE,info:t1.INFO,warn:t1.WARN,error:t1.ERROR,silent:t1.SILENT},h1=t1.INFO,g1={[t1.DEBUG]:"log",[t1.VERBOSE]:"log",[t1.INFO]:"info",[t1.WARN]:"warn",[t1.ERROR]:"error"},b1=(W,G,...a1)=>{if(G<W.logLevel)return;const j1=(new Date).toISOString(),V1=g1[G];if(!V1)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[V1](`[${j1}]  ${W.name}:`,...a1)};class l1{constructor(G){this.name=G,this._logLevel=h1,this._logHandler=b1,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in t1))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?R[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,t1.DEBUG,...G),this._logHandler(this,t1.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,t1.VERBOSE,...G),this._logHandler(this,t1.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,t1.INFO,...G),this._logHandler(this,t1.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,t1.WARN,...G),this._logHandler(this,t1.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,t1.ERROR,...G),this._logHandler(this,t1.ERROR,...G)}}function p1(W){u.forEach(G=>{G.setLogLevel(W)})}function v1(W,G){for(const a1 of u){let j1=null;G&&G.level&&(j1=R[G.level]),a1.userLogHandler=null===W?null:(V1,O1,...G1)=>{const m1=G1.map(S1=>{if(null==S1)return null;if("string"==typeof S1)return S1;if("number"==typeof S1||"boolean"==typeof S1)return S1.toString();if(S1 instanceof Error)return S1.message;try{return JSON.stringify(S1)}catch(o2){return null}}).filter(S1=>S1).join(" ");O1>=(null!=j1?j1:V1.logLevel)&&W({level:t1[O1].toLowerCase(),message:m1,args:G1,type:V1.name})}}}},8766:(c2,z1,A)=>{A.d(z1,{Lj:()=>A1,X3:()=>t2});var u=A(5861);let R,h1;const l1=new WeakMap,p1=new WeakMap,v1=new WeakMap,W=new WeakMap,G=new WeakMap;let V1={get(q,U,e1){if(q instanceof IDBTransaction){if("done"===U)return p1.get(q);if("objectStoreNames"===U)return q.objectStoreNames||v1.get(q);if("store"===U)return e1.objectStoreNames[1]?void 0:e1.objectStore(e1.objectStoreNames[0])}return S1(q[U])},set:(q,U,e1)=>(q[U]=e1,!0),has:(q,U)=>q instanceof IDBTransaction&&("done"===U||"store"===U)||U in q};function m1(q){return"function"==typeof q?function G1(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function b1(){return h1||(h1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...U){return q.apply(o2(this),U),S1(l1.get(this))}:function(...U){return S1(q.apply(o2(this),U))}:function(U,...e1){const d1=q.call(o2(this),U,...e1);return v1.set(d1,U.sort?U.sort():[U]),S1(d1)}}(q):(q instanceof IDBTransaction&&function j1(q){if(p1.has(q))return;const U=new Promise((e1,d1)=>{const c1=()=>{q.removeEventListener("complete",I1),q.removeEventListener("error",u1),q.removeEventListener("abort",u1)},I1=()=>{e1(),c1()},u1=()=>{d1(q.error||new DOMException("AbortError","AbortError")),c1()};q.addEventListener("complete",I1),q.addEventListener("error",u1),q.addEventListener("abort",u1)});p1.set(q,U)}(q),((q,U)=>U.some(e1=>q instanceof e1))(q,function g1(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,V1):q)}function S1(q){if(q instanceof IDBRequest)return function a1(q){const U=new Promise((e1,d1)=>{const c1=()=>{q.removeEventListener("success",I1),q.removeEventListener("error",u1)},I1=()=>{e1(S1(q.result)),c1()},u1=()=>{d1(q.error),c1()};q.addEventListener("success",I1),q.addEventListener("error",u1)});return U.then(e1=>{e1 instanceof IDBCursor&&l1.set(e1,q)}).catch(()=>{}),G.set(U,q),U}(q);if(W.has(q))return W.get(q);const U=m1(q);return U!==q&&(W.set(q,U),G.set(U,q)),U}const o2=q=>G.get(q);function t2(q,U,{blocked:e1,upgrade:d1,blocking:c1,terminated:I1}={}){const u1=indexedDB.open(q,U),M2=S1(u1);return d1&&u1.addEventListener("upgradeneeded",k2=>{d1(S1(u1.result),k2.oldVersion,k2.newVersion,S1(u1.transaction))}),e1&&u1.addEventListener("blocked",()=>e1()),M2.then(k2=>{I1&&k2.addEventListener("close",()=>I1()),c1&&k2.addEventListener("versionchange",()=>c1())}).catch(()=>{}),M2}function A1(q,{blocked:U}={}){const e1=indexedDB.deleteDatabase(q);return U&&e1.addEventListener("blocked",()=>U()),S1(e1).then(()=>{})}const H1=["get","getKey","getAll","getAllKeys","count"],E1=["put","add","delete","clear"],X1=new Map;function B1(q,U){if(!(q instanceof IDBDatabase)||U in q||"string"!=typeof U)return;if(X1.get(U))return X1.get(U);const e1=U.replace(/FromIndex$/,""),d1=U!==e1,c1=E1.includes(e1);if(!(e1 in(d1?IDBIndex:IDBObjectStore).prototype)||!c1&&!H1.includes(e1))return;const I1=function(){var u1=(0,u.Z)(function*(M2,...k2){const Ee=this.transaction(M2,c1?"readwrite":"readonly");let a2=Ee.store;return d1&&(a2=a2.index(k2.shift())),(yield Promise.all([a2[e1](...k2),c1&&Ee.done]))[0]});return function(k2){return u1.apply(this,arguments)}}();return X1.set(U,I1),I1}!function O1(q){V1=q(V1)}(q=>NQ(IQ({},q),{get:(U,e1,d1)=>B1(U,e1)||q.get(U,e1,d1),has:(U,e1)=>!!B1(U,e1)||q.has(U,e1)}))},5861:(c2,z1,A)=>{function u(R,h1,g1,b1,l1,p1,v1){try{var W=R[p1](v1),G=W.value}catch(a1){return void g1(a1)}W.done?h1(G):Promise.resolve(G).then(b1,l1)}function t1(R){return function(){var h1=this,g1=arguments;return new Promise(function(b1,l1){var p1=R.apply(h1,g1);function v1(G){u(p1,b1,l1,v1,W,"next",G)}function W(G){u(p1,b1,l1,v1,W,"throw",G)}v1(void 0)})}}A.d(z1,{Z:()=>t1})}},c2=>{c2(c2.s=3942)}]);
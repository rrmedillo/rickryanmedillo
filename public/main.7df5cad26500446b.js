"use strict";var cF1=Object.defineProperty,lF1=Object.defineProperties,uF1=Object.getOwnPropertyDescriptors,BJ=Object.getOwnPropertySymbols,fF1=Object.prototype.hasOwnProperty,dF1=Object.prototype.propertyIsEnumerable,UJ=(a2,x1,T)=>x1 in a2?cF1(a2,x1,{enumerable:!0,configurable:!0,writable:!0,value:T}):a2[x1]=T,GJ=(a2,x1)=>{for(var T in x1||(x1={}))fF1.call(x1,T)&&UJ(a2,T,x1[T]);if(BJ)for(var T of BJ(x1))dF1.call(x1,T)&&UJ(a2,T,x1[T]);return a2},jJ=(a2,x1)=>lF1(a2,uF1(x1));(self.webpackChunkangular_quickstart=self.webpackChunkangular_quickstart||[]).push([[179],{2011:(a2,x1,T)=>{T.d(x1,{Dh:()=>m1,GT:()=>b1,Ot:()=>c1,cc:()=>z1,hO:()=>G1,on:()=>Z,pX:()=>p1,xv:()=>v1});var c=T(5e3),e1=T(127),P=T(880);a2=T.hmd(a2);const f1=["ngOnDestroy"],p1=(S1,c2,t2,D1={})=>new Proxy(S1,{get:(V1,A1)=>t2.runOutsideAngular(()=>{var X1;if(S1[A1])return(null===(X1=null==D1?void 0:D1.spy)||void 0===X1?void 0:X1.get)&&D1.spy.get(A1,S1[A1]),S1[A1];if(f1.indexOf(A1)>-1)return()=>{};const U1=c2.toPromise().then(j=>{const B=j&&j[A1];return"function"==typeof B?B.bind(j):B&&B.then?B.then(t1=>t2.run(()=>t1)):t2.run(()=>B)});return new Proxy(()=>{},{get:(j,B)=>U1[B],apply:(j,B,t1)=>U1.then(h1=>{var l1;const I1=h1&&h1(...t1);return(null===(l1=null==D1?void 0:D1.spy)||void 0===l1?void 0:l1.apply)&&D1.spy.apply(A1,t1,I1),I1})})})}),b1=(S1,c2)=>{c2.forEach(t2=>{Object.getOwnPropertyNames(t2.prototype||t2).forEach(D1=>{Object.defineProperty(S1.prototype,D1,Object.getOwnPropertyDescriptor(t2.prototype||t2,D1))})})};class c1{constructor(c2){return c2}}const m1=new c.OlP("angularfire2.app.options"),v1=new c.OlP("angularfire2.app.name");function Z(S1,c2,t2){const V1="object"==typeof t2&&t2||{};V1.name=V1.name||"string"==typeof t2&&t2||"[DEFAULT]";const X1=e1.Z.apps.filter(U1=>U1&&U1.name===V1.name)[0]||c2.runOutsideAngular(()=>e1.Z.initializeApp(S1,V1));try{JSON.stringify(S1)!==JSON.stringify(X1.options)&&q("error",`${X1.name} Firebase App already initialized with different options${a2.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(U1){}return new c1(X1)}const q=(S1,...c2)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[S1](...c2)},o1={provide:c1,useFactory:Z,deps:[m1,c.R0b,[new c.FiY,v1]]};let G1=(()=>{class S1{constructor(t2){e1.Z.registerVersion("angularfire",P.q4.full,"core"),e1.Z.registerVersion("angularfire",P.q4.full,"app-compat"),e1.Z.registerVersion("angular",c.q4F.full,t2.toString())}static initializeApp(t2,D1){return{ngModule:S1,providers:[{provide:m1,useValue:t2},{provide:v1,useValue:D1}]}}}return S1.\u0275fac=function(t2){return new(t2||S1)(c.LFG(c.Lbi))},S1.\u0275mod=c.oAB({type:S1}),S1.\u0275inj=c.cJS({providers:[o1]}),S1})();function z1(S1,c2,t2,D1,V1){const[,A1,X1]=globalThis.\u0275AngularfireInstanceCache.find(U1=>U1[0]===S1)||[];if(A1)return function O1(S1,c2){try{return S1.toString()===c2.toString()}catch(t2){return S1===c2}}(V1,X1)||(g1("error",`${c2} was already initialized on the ${t2} Firebase App with different settings.${q1?" You may need to reload as Firebase is not HMR aware.":""}`),g1("warn",{is:V1,was:X1})),A1;{const U1=D1();return globalThis.\u0275AngularfireInstanceCache.push([S1,U1,V1]),U1}}const q1=!!a2.hot,g1=(S1,...c2)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[S1](...c2)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(a2,x1,T)=>{T.d(x1,{q4:()=>l0,iC:()=>un,fc:()=>f8,HU:()=>Ee,vb:()=>Fn,JM:()=>u8,nk:()=>Ha});var c=T(5e3),e1=T(5867),P=T(5861),f1=T(9681),p1=T(2090),b1=T(4859),c1=T(1877);T(2833);const v1="@firebase/remote-config",Z="0.3.8",z1=new p1.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class k2{constructor(I,J,C1,$1){this.client=I,this.storage=J,this.storageCache=C1,this.logger=$1}isCachedDataFresh(I,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const C1=Date.now()-J,$1=C1<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${C1}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${$1}.`),$1}fetch(I){var J=this;return(0,P.Z)(function*(){const[C1,$1]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if($1&&J.isCachedDataFresh(I.cacheMaxAgeMillis,C1))return $1;I.eTag=$1&&$1.eTag;const e2=yield J.client.fetch(I),E2=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===e2.status&&E2.push(J.storage.setLastSuccessfulFetchResponse(e2)),yield Promise.all(E2),e2})()}}function He(k=navigator){return k.languages&&k.languages[0]||k.language}class o2{constructor(I,J,C1,$1,e2,E2){this.firebaseInstallations=I,this.sdkVersion=J,this.namespace=C1,this.projectId=$1,this.apiKey=e2,this.appId=E2}fetch(I){var J=this;return(0,P.Z)(function*(){const[C1,$1]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),E2=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,Oe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},f2={sdk_version:J.sdkVersion,app_instance_id:C1,app_instance_id_token:$1,app_id:J.appId,language_code:He()},Te={method:"POST",headers:Oe,body:JSON.stringify(f2)},ze=fetch(E2,Te),G2=new Promise((B2,dn)=>{I.signal.addEventListener(()=>{const De=new Error("The operation was aborted.");De.name="AbortError",dn(De)})});let fn;try{yield Promise.race([ze,G2]),fn=yield ze}catch(B2){let dn="fetch-client-network";throw"AbortError"===B2.name&&(dn="fetch-timeout"),z1.create(dn,{originalErrorMessage:B2.message})}let B4=fn.status;const l5=fn.headers.get("ETag")||void 0;let b6,N1;if(200===fn.status){let B2;try{B2=yield fn.json()}catch(dn){throw z1.create("fetch-client-parse",{originalErrorMessage:dn.message})}b6=B2.entries,N1=B2.state}if("INSTANCE_STATE_UNSPECIFIED"===N1?B4=500:"NO_CHANGE"===N1?B4=304:("NO_TEMPLATE"===N1||"EMPTY_CONFIG"===N1)&&(b6={}),304!==B4&&200!==B4)throw z1.create("fetch-status",{httpStatus:B4});return{status:B4,eTag:l5,config:b6}})()}}class Ce{constructor(I,J){this.client=I,this.storage=J}fetch(I){var J=this;return(0,P.Z)(function*(){const C1=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(I,C1)})()}attemptFetch(I,{throttleEndTimeMillis:J,backoffCount:C1}){var $1=this;return(0,P.Z)(function*(){yield function w2(k,I){return new Promise((J,C1)=>{const $1=Math.max(I-Date.now(),0),e2=setTimeout(J,$1);k.addEventListener(()=>{clearTimeout(e2),C1(z1.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,J);try{const e2=yield $1.client.fetch(I);return yield $1.storage.deleteThrottleMetadata(),e2}catch(e2){if(!function Le(k){if(!(k instanceof p1.ZR&&k.customData))return!1;const I=Number(k.customData.httpStatus);return 429===I||500===I||503===I||504===I}(e2))throw e2;const E2={throttleEndTimeMillis:Date.now()+(0,p1.$s)(C1),backoffCount:C1+1};return yield $1.storage.setThrottleMetadata(E2),$1.attemptFetch(I,E2)}})()}}class D3{constructor(I,J,C1,$1,e2){this.app=I,this._client=J,this._storageCache=C1,this._storage=$1,this._logger=e2,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function F2(k,I){const J=k.target.error||void 0;return z1.create(I,{originalErrorMessage:J&&J.message})}const R2="app_namespace_store";class be{constructor(I,J,C1,$1=function l3(){return new Promise((k,I)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=C1=>{I(F2(C1,"storage-open"))},J.onsuccess=C1=>{k(C1.target.result)},J.onupgradeneeded=C1=>{0===C1.oldVersion&&C1.target.result.createObjectStore(R2,{keyPath:"compositeKey"})}}catch(J){I(z1.create("storage-open",{originalErrorMessage:J}))}})}()){this.appId=I,this.appName=J,this.namespace=C1,this.openDbPromise=$1}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var J=this;return(0,P.Z)(function*(){const C1=yield J.openDbPromise;return new Promise(($1,e2)=>{const Oe=C1.transaction([R2],"readonly").objectStore(R2),f2=J.createCompositeKey(I);try{const Te=Oe.get(f2);Te.onerror=ze=>{e2(F2(ze,"storage-get"))},Te.onsuccess=ze=>{const G2=ze.target.result;$1(G2?G2.value:void 0)}}catch(Te){e2(z1.create("storage-get",{originalErrorMessage:Te&&Te.message}))}})})()}set(I,J){var C1=this;return(0,P.Z)(function*(){const $1=yield C1.openDbPromise;return new Promise((e2,E2)=>{const f2=$1.transaction([R2],"readwrite").objectStore(R2),Te=C1.createCompositeKey(I);try{const ze=f2.put({compositeKey:Te,value:J});ze.onerror=G2=>{E2(F2(G2,"storage-set"))},ze.onsuccess=()=>{e2()}}catch(ze){E2(z1.create("storage-set",{originalErrorMessage:ze&&ze.message}))}})})()}delete(I){var J=this;return(0,P.Z)(function*(){const C1=yield J.openDbPromise;return new Promise(($1,e2)=>{const Oe=C1.transaction([R2],"readwrite").objectStore(R2),f2=J.createCompositeKey(I);try{const Te=Oe.delete(f2);Te.onerror=ze=>{e2(F2(ze,"storage-delete"))},Te.onsuccess=()=>{$1()}}catch(Te){e2(z1.create("storage-delete",{originalErrorMessage:Te&&Te.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class L3{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const J=I.storage.getLastFetchStatus(),C1=I.storage.getLastSuccessfulFetchTimestampMillis(),$1=I.storage.getActiveConfig(),e2=yield J;e2&&(I.lastFetchStatus=e2);const E2=yield C1;E2&&(I.lastSuccessfulFetchTimestampMillis=E2);const Oe=yield $1;Oe&&(I.activeConfig=Oe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function z2(){return x3.apply(this,arguments)}function x3(){return(x3=(0,P.Z)(function*(){if(!(0,p1.hl)())return!1;try{return yield(0,p1.eu)()}catch(k){return!1}})).apply(this,arguments)}!function q3(){(0,f1._registerComponent)(new b1.wA("remote-config",function k(I,{instanceIdentifier:J}){const C1=I.getProvider("app").getImmediate(),$1=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw z1.create("registration-window");if(!(0,p1.hl)())throw z1.create("indexed-db-unavailable");const{projectId:e2,apiKey:E2,appId:Oe}=C1.options;if(!e2)throw z1.create("registration-project-id");if(!E2)throw z1.create("registration-api-key");if(!Oe)throw z1.create("registration-app-id");const f2=new be(Oe,C1.name,J=J||"firebase"),Te=new L3(f2),ze=new c1.Yd(v1);ze.logLevel=c1.in.ERROR;const G2=new o2($1,f1.SDK_VERSION,J,e2,E2,Oe),fn=new Ce(G2,f2),B4=new k2(fn,f2,Te,ze),l5=new D3(C1,B4,Te,f2,ze);return function X1(k){const I=(0,p1.m9)(k);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(l5),l5},"PUBLIC").setMultipleInstances(!0)),(0,f1.registerVersion)(v1,Z),(0,f1.registerVersion)(v1,Z,"esm2017")}();var de=T(8766);const Ie="/firebase-messaging-sw.js",e4="/firebase-cloud-messaging-push-scope",I3="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fe="google.c.a.c_id",N3="google.c.a.c_l",C4="google.c.a.ts",Z2="google.c.a.e";var y2=(()=>{return(k=y2||(y2={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",y2;var k})();function ye(k){const I=new Uint8Array(k);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function t4(k){const J=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),C1=atob(J),$1=new Uint8Array(C1.length);for(let e2=0;e2<C1.length;++e2)$1[e2]=C1.charCodeAt(e2);return $1}const q2="fcm_token_details_db",t3="fcm_token_object_Store";function Ke(k){return F.apply(this,arguments)}function F(){return F=(0,P.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e2=>e2.name).includes(q2))return null;let I=null;return(yield(0,de.X3)(q2,5,{upgrade:(C1=(0,P.Z)(function*($1,e2,E2,Oe){var f2;if(e2<2||!$1.objectStoreNames.contains(t3))return;const Te=Oe.objectStore(t3),ze=yield Te.index("fcmSenderId").get(k);if(yield Te.clear(),ze)if(2===e2){const G2=ze;if(!G2.auth||!G2.p256dh||!G2.endpoint)return;I={token:G2.fcmToken,createTime:null!==(f2=G2.createTime)&&void 0!==f2?f2:Date.now(),subscriptionOptions:{auth:G2.auth,p256dh:G2.p256dh,endpoint:G2.endpoint,swScope:G2.swScope,vapidKey:"string"==typeof G2.vapidKey?G2.vapidKey:ye(G2.vapidKey)}}}else if(3===e2){const G2=ze;I={token:G2.fcmToken,createTime:G2.createTime,subscriptionOptions:{auth:ye(G2.auth),p256dh:ye(G2.p256dh),endpoint:G2.endpoint,swScope:G2.swScope,vapidKey:ye(G2.vapidKey)}}}else if(4===e2){const G2=ze;I={token:G2.fcmToken,createTime:G2.createTime,subscriptionOptions:{auth:ye(G2.auth),p256dh:ye(G2.p256dh),endpoint:G2.endpoint,swScope:G2.swScope,vapidKey:ye(G2.vapidKey)}}}}),function(e2,E2,Oe,f2){return C1.apply(this,arguments)})})).close(),yield(0,de.Lj)(q2),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),Y(I)?I:null;var C1}),F.apply(this,arguments)}function Y(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:I}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const U="firebase-messaging-store";let n1=null;function G(){return n1||(n1=(0,de.X3)("firebase-messaging-database",1,{upgrade:(k,I)=>{0===I&&k.createObjectStore(U)}})),n1}function s1(k){return y1.apply(this,arguments)}function y1(){return(y1=(0,P.Z)(function*(k){const I=D2(k),C1=yield(yield G()).transaction(U).objectStore(U).get(I);if(C1)return C1;{const $1=yield Ke(k.appConfig.senderId);if($1)return yield k1(k,$1),$1}})).apply(this,arguments)}function k1(k,I){return Z1.apply(this,arguments)}function Z1(){return(Z1=(0,P.Z)(function*(k,I){const J=D2(k),$1=(yield G()).transaction(U,"readwrite");return yield $1.objectStore(U).put(I,J),yield $1.done,I})).apply(this,arguments)}function j1(k){return p2.apply(this,arguments)}function p2(){return(p2=(0,P.Z)(function*(k){const I=D2(k),C1=(yield G()).transaction(U,"readwrite");yield C1.objectStore(U).delete(I),yield C1.done})).apply(this,arguments)}function D2({appConfig:k}){return k.appId}const se=new p1.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $3(k,I){return v4.apply(this,arguments)}function v4(){return(v4=(0,P.Z)(function*(k,I){const J=yield In(k),C1=F4(I),$1={method:"POST",headers:J,body:JSON.stringify(C1)};let e2;try{e2=yield(yield fetch(k3(k.appConfig),$1)).json()}catch(E2){throw se.create("token-subscribe-failed",{errorInfo:E2})}if(e2.error)throw se.create("token-subscribe-failed",{errorInfo:e2.error.message});if(!e2.token)throw se.create("token-subscribe-no-token");return e2.token})).apply(this,arguments)}function _e(k,I){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,P.Z)(function*(k,I){const J=yield In(k),C1=F4(I.subscriptionOptions),$1={method:"PATCH",headers:J,body:JSON.stringify(C1)};let e2;try{e2=yield(yield fetch(`${k3(k.appConfig)}/${I.token}`,$1)).json()}catch(E2){throw se.create("token-update-failed",{errorInfo:E2})}if(e2.error)throw se.create("token-update-failed",{errorInfo:e2.error.message});if(!e2.token)throw se.create("token-update-no-token");return e2.token})).apply(this,arguments)}function P4(k,I){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(k,I){const C1={method:"DELETE",headers:yield In(k)};try{const e2=yield(yield fetch(`${k3(k.appConfig)}/${I}`,C1)).json();if(e2.error)throw se.create("token-unsubscribe-failed",{errorInfo:e2.error.message})}catch($1){throw se.create("token-unsubscribe-failed",{errorInfo:$1})}})).apply(this,arguments)}function k3({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function In(k){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,P.Z)(function*({appConfig:k,installations:I}){const J=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function F4({p256dh:k,auth:I,endpoint:J,vapidKey:C1}){const $1={web:{endpoint:J,auth:I,p256dh:k}};return C1!==I3&&($1.web.applicationPubKey=C1),$1}const y4=6048e5;function m3(k){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,P.Z)(function*(k){const I=yield $2(k.swRegistration,k.vapidKey),J={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:I.endpoint,auth:ye(I.getKey("auth")),p256dh:ye(I.getKey("p256dh"))},C1=yield s1(k.firebaseDependencies);if(C1){if(Q2(C1.subscriptionOptions,J))return Date.now()>=C1.createTime+y4?O(k,{token:C1.token,createTime:Date.now(),subscriptionOptions:J}):C1.token;try{yield P4(k.firebaseDependencies,C1.token)}catch($1){console.warn($1)}return P1(k.firebaseDependencies,J)}return P1(k.firebaseDependencies,J)})).apply(this,arguments)}function W3(k){return n2.apply(this,arguments)}function n2(){return(n2=(0,P.Z)(function*(k){const I=yield s1(k.firebaseDependencies);I&&(yield P4(k.firebaseDependencies,I.token),yield j1(k.firebaseDependencies));const J=yield k.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()})).apply(this,arguments)}function O(k,I){return d1.apply(this,arguments)}function d1(){return(d1=(0,P.Z)(function*(k,I){try{const J=yield _e(k.firebaseDependencies,I),C1=Object.assign(Object.assign({},I),{token:J,createTime:Date.now()});return yield k1(k.firebaseDependencies,C1),J}catch(J){throw yield W3(k),J}})).apply(this,arguments)}function P1(k,I){return h2.apply(this,arguments)}function h2(){return(h2=(0,P.Z)(function*(k,I){const C1={token:yield $3(k,I),createTime:Date.now(),subscriptionOptions:I};return yield k1(k,C1),C1.token})).apply(this,arguments)}function $2(k,I){return Y2.apply(this,arguments)}function Y2(){return(Y2=(0,P.Z)(function*(k,I){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t4(I)})})).apply(this,arguments)}function Q2(k,I){return I.vapidKey===k.vapidKey&&I.endpoint===k.endpoint&&I.auth===k.auth&&I.p256dh===k.p256dh}function xe(k){const I={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function Z3(k,I){if(!I.notification)return;k.notification={};const J=I.notification.title;J&&(k.notification.title=J);const C1=I.notification.body;C1&&(k.notification.body=C1);const $1=I.notification.image;$1&&(k.notification.image=$1)}(I,k),function S2(k,I){!I.data||(k.data=I.data)}(I,k),function Ut(k,I){if(!I.fcmOptions)return;k.fcmOptions={};const J=I.fcmOptions.link;J&&(k.fcmOptions.link=J);const C1=I.fcmOptions.analytics_label;C1&&(k.fcmOptions.analyticsLabel=C1)}(I,k),I}function _4(k){return"object"==typeof k&&!!k&&Fe in k}function a5(k,I){const J=[];for(let C1=0;C1<k.length;C1++)J.push(k.charAt(C1)),C1<I.length&&J.push(I.charAt(C1));return J.join("")}function n3(k){return se.create("missing-app-config-values",{valueName:k})}a5("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),a5("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jt{constructor(I,J,C1){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $1=function Gt(k){if(!k||!k.options)throw n3("App Configuration Object");if(!k.name)throw n3("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:J}=k;for(const C1 of I)if(!J[C1])throw n3(C1);return{appName:k.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:$1,installations:J,analyticsProvider:C1}}_delete(){return Promise.resolve()}}function pt(k){return $e.apply(this,arguments)}function $e(){return($e=(0,P.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(Ie,{scope:e4}),k.swRegistration.update().catch(()=>{})}catch(I){throw se.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function we(k,I){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,P.Z)(function*(k,I){if(!I&&!k.swRegistration&&(yield pt(k)),I||!k.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw se.create("invalid-sw-registration");k.swRegistration=I}})).apply(this,arguments)}function i8(k,I){return R3.apply(this,arguments)}function R3(){return(R3=(0,P.Z)(function*(k,I){I?k.vapidKey=I:k.vapidKey||(k.vapidKey=I3)})).apply(this,arguments)}function cn(){return(cn=(0,P.Z)(function*(k,I){if(!navigator)throw se.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw se.create("permission-blocked");return yield i8(k,null==I?void 0:I.vapidKey),yield we(k,null==I?void 0:I.serviceWorkerRegistration),m3(k)})).apply(this,arguments)}function s8(k,I,J){return mt.apply(this,arguments)}function mt(){return(mt=(0,P.Z)(function*(k,I,J){const C1=O4(I);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(C1,{message_id:J[Fe],message_name:J[N3],message_time:J[C4],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function O4(k){switch(k){case y2.NOTIFICATION_CLICKED:return"notification_open";case y2.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ur(){return(ur=(0,P.Z)(function*(k,I){const J=I.data;if(!J.isFirebaseMessaging)return;k.onMessageHandler&&J.messageType===y2.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(xe(J)):k.onMessageHandler.next(xe(J)));const C1=J.data;_4(C1)&&"1"===C1[Z2]&&(yield s8(k,J.messageType,C1))})).apply(this,arguments)}const a8="@firebase/messaging",qt=k=>{const I=new jt(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function y6(k,I){return ur.apply(this,arguments)}(I,J)),I},fr=k=>{const I=k.getProvider("messaging").getImmediate();return{getToken:C1=>function M4(k,I){return cn.apply(this,arguments)}(I,C1)}};function X4(){return dr.apply(this,arguments)}function dr(){return(dr=(0,P.Z)(function*(){try{yield(0,p1.eu)()}catch(k){return!1}return"undefined"!=typeof window&&(0,p1.hl)()&&(0,p1.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Sa(){(0,f1._registerComponent)(new b1.wA("messaging",qt,"PUBLIC")),(0,f1._registerComponent)(new b1.wA("messaging-internal",fr,"PRIVATE")),(0,f1.registerVersion)(a8,"0.9.13"),(0,f1.registerVersion)(a8,"0.9.13","esm2017")}();var kn=T(7982),mr=T(4408),o5=T(7565);const c8=new class Va extends o5.v{}(class o8 extends mr.o{constructor(I,J){super(I,J),this.scheduler=I,this.work=J}schedule(I,J=0){return J>0?super.schedule(I,J):(this.delay=J,this.state=I,this.scheduler.flush(this),this)}execute(I,J){return J>0||this.closed?super.execute(I,J):this._execute(I,J)}requestAsyncId(I,J,C1=0){return null!=C1&&C1>0||null==C1&&this.delay>0?super.requestAsyncId(I,J,C1):I.flush(this)}});var Rn=T(4986),et=T(8505),Pn=T(5363),gr=T(9468);const l0=new c.GfV("7.3.0"),$t="__angularfire_symbol__analyticsIsSupportedValue",tt="__angularfire_symbol__analyticsIsSupported",l8="__angularfire_symbol__remoteConfigIsSupportedValue",Wt="__angularfire_symbol__remoteConfigIsSupported",c5="__angularfire_symbol__messagingIsSupportedValue",Ye="__angularfire_symbol__messagingIsSupported";globalThis[tt]||(globalThis[tt]=(0,kn.Gb)().then(k=>globalThis[$t]=k).catch(()=>globalThis[$t]=!1)),globalThis[Ye]||(globalThis[Ye]=X4().then(k=>globalThis[c5]=k).catch(()=>globalThis[c5]=!1)),globalThis[Wt]||(globalThis[Wt]=z2().then(k=>globalThis[l8]=k).catch(()=>globalThis[l8]=!1));const Ha={async:()=>globalThis[tt],sync:()=>{const k=globalThis[$t];if(void 0===k)throw new Error((k=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${k} in the constructor, first ensure that ${k} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${k})\`.`)("Analytics"));return k}};function u8(k,I,J){if(I){if(1===I.length)return I[0];const e2=I.filter(E2=>E2.app===J);if(1===e2.length)return e2[0]}return J.container.getProvider(k).getImmediate({optional:!0})}const Fn=(k,I)=>{const J=I?[I]:(0,e1.C6)(),C1=[];return J.forEach($1=>{$1.container.getProvider(k).instances.forEach(E2=>{C1.includes(E2)||C1.push(E2)})}),C1};function Zt(){}class _6{constructor(I,J=c8){this.zone=I,this.delegate=J}now(){return this.delegate.now()}schedule(I,J,C1){const $1=this.zone;return this.delegate.schedule(function(E2){$1.runGuarded(()=>{I.apply(this,[E2])})},J,C1)}}class w9{constructor(I){this.zone=I,this.task=null}call(I,J){const C1=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zt,{},Zt,Zt)),J.pipe((0,et.b)({next:C1,complete:C1,error:C1})).subscribe(I).add(C1)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ee=(()=>{class k{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new _6(Zone.current)),this.insideAngular=J.run(()=>new _6(Zone.current,Rn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(J){return new(J||k)(c.LFG(c.R0b))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function rt(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function f8(k){return k.pipe((0,Pn.Q)(rt().outsideAngular))}function un(k){return rt(),function i4(k){return function(J){return(J=J.lift(new w9(k.ngZone))).pipe((0,gr.R)(k.outsideAngular),(0,Pn.Q)(k.insideAngular))}}(rt())(k)}},2090:(a2,x1,T)=>{T.d(x1,{$s:()=>q2,BH:()=>G1,DV:()=>F2,Dv:()=>e4,G6:()=>U1,GJ:()=>ie,L:()=>m1,LL:()=>u1,Mn:()=>A1,Pz:()=>o2,Sg:()=>z1,UG:()=>g1,UI:()=>Pe,US:()=>b1,Wj:()=>Fe,Yr:()=>X1,ZB:()=>q,ZR:()=>I1,b$:()=>t2,cI:()=>He,d:()=>D1,dS:()=>C4,eu:()=>B,g5:()=>P,gK:()=>I3,gQ:()=>b3,h$:()=>c1,hl:()=>j,hu:()=>e1,jU:()=>S1,lb:()=>N3,m9:()=>Ke,ne:()=>p3,p$:()=>Z,pd:()=>q3,r3:()=>D3,ru:()=>c2,tV:()=>v1,uI:()=>q1,ug:()=>Z2,vZ:()=>R4,w1:()=>V1,w9:()=>T3,xO:()=>be,xb:()=>R2,z$:()=>O1,zI:()=>t1,zd:()=>L3});const e1=function(F,Y){if(!F)throw P(Y)},P=function(F){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+F)},f1=function(F){const Y=[];let Q=0;for(let T1=0;T1<F.length;T1++){let U=F.charCodeAt(T1);U<128?Y[Q++]=U:U<2048?(Y[Q++]=U>>6|192,Y[Q++]=63&U|128):55296==(64512&U)&&T1+1<F.length&&56320==(64512&F.charCodeAt(T1+1))?(U=65536+((1023&U)<<10)+(1023&F.charCodeAt(++T1)),Y[Q++]=U>>18|240,Y[Q++]=U>>12&63|128,Y[Q++]=U>>6&63|128,Y[Q++]=63&U|128):(Y[Q++]=U>>12|224,Y[Q++]=U>>6&63|128,Y[Q++]=63&U|128)}return Y},b1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,Y){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,T1=[];for(let U=0;U<F.length;U+=3){const n1=F[U],G=U+1<F.length,s1=G?F[U+1]:0,y1=U+2<F.length,k1=y1?F[U+2]:0;let p2=(15&s1)<<2|k1>>6,D2=63&k1;y1||(D2=64,G||(p2=64)),T1.push(Q[n1>>2],Q[(3&n1)<<4|s1>>4],Q[p2],Q[D2])}return T1.join("")},encodeString(F,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(F):this.encodeByteArray(f1(F),Y)},decodeString(F,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(F):function(F){const Y=[];let Q=0,T1=0;for(;Q<F.length;){const U=F[Q++];if(U<128)Y[T1++]=String.fromCharCode(U);else if(U>191&&U<224){const n1=F[Q++];Y[T1++]=String.fromCharCode((31&U)<<6|63&n1)}else if(U>239&&U<365){const y1=((7&U)<<18|(63&F[Q++])<<12|(63&F[Q++])<<6|63&F[Q++])-65536;Y[T1++]=String.fromCharCode(55296+(y1>>10)),Y[T1++]=String.fromCharCode(56320+(1023&y1))}else{const n1=F[Q++],G=F[Q++];Y[T1++]=String.fromCharCode((15&U)<<12|(63&n1)<<6|63&G)}}return Y.join("")}(this.decodeStringToByteArray(F,Y))},decodeStringToByteArray(F,Y){this.init_();const Q=Y?this.charToByteMapWebSafe_:this.charToByteMap_,T1=[];for(let U=0;U<F.length;){const n1=Q[F.charAt(U++)],s1=U<F.length?Q[F.charAt(U)]:0;++U;const k1=U<F.length?Q[F.charAt(U)]:64;++U;const j1=U<F.length?Q[F.charAt(U)]:64;if(++U,null==n1||null==s1||null==k1||null==j1)throw Error();T1.push(n1<<2|s1>>4),64!==k1&&(T1.push(s1<<4&240|k1>>2),64!==j1&&T1.push(k1<<6&192|j1))}return T1},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}},c1=function(F){const Y=f1(F);return b1.encodeByteArray(Y,!0)},m1=function(F){return c1(F).replace(/\./g,"")},v1=function(F){try{return b1.decodeString(F,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function Z(F){return q(void 0,F)}function q(F,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return Y}for(const Q in Y)!Y.hasOwnProperty(Q)||!o1(Q)||(F[Q]=q(F[Q],Y[Q]));return F}function o1(F){return"__proto__"!==F}class G1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,Q)=>{this.resolve=Y,this.reject=Q})}wrapCallback(Y){return(Q,T1)=>{Q?this.reject(Q):this.resolve(T1),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(Q):Y(Q,T1))}}}function z1(F,Y){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const T1=Y||"demo-project",U=F.iat||0,n1=F.sub||F.user_id;if(!n1)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const G=Object.assign({iss:`https://securetoken.google.com/${T1}`,aud:T1,iat:U,exp:U+3600,auth_time:U,sub:n1,user_id:n1,firebase:{sign_in_provider:"custom",identities:{}}},F);return[m1(JSON.stringify({alg:"none",type:"JWT"})),m1(JSON.stringify(G)),""].join(".")}function O1(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function q1(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O1())}function g1(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(F){return!1}}function S1(){return"object"==typeof self&&self.self===self}function c2(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function t2(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function D1(){return O1().indexOf("Electron/")>=0}function V1(){const F=O1();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function A1(){return O1().indexOf("MSAppHost/")>=0}function X1(){return!1}function U1(){return!g1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){return"object"==typeof indexedDB}function B(){return new Promise((F,Y)=>{try{let Q=!0;const T1="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(T1);U.onsuccess=()=>{U.result.close(),Q||self.indexedDB.deleteDatabase(T1),F(!0)},U.onupgradeneeded=()=>{Q=!1},U.onerror=()=>{var n1;Y((null===(n1=U.error)||void 0===n1?void 0:n1.message)||"")}}catch(Q){Y(Q)}})}function t1(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class I1 extends Error{constructor(Y,Q,T1){super(Q),this.code=Y,this.customData=T1,this.name="FirebaseError",Object.setPrototypeOf(this,I1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u1.prototype.create)}}class u1{constructor(Y,Q,T1){this.service=Y,this.serviceName=Q,this.errors=T1}create(Y,...Q){const T1=Q[0]||{},U=`${this.service}/${Y}`,n1=this.errors[Y],G=n1?function L2(F,Y){return F.replace(k2,(Q,T1)=>{const U=Y[T1];return null!=U?String(U):`<${T1}?>`})}(n1,T1):"Error";return new I1(U,`${this.serviceName}: ${G} (${U}).`,T1)}}const k2=/\{\$([^}]+)}/g;function He(F){return JSON.parse(F)}function o2(F){return JSON.stringify(F)}const w2=function(F){let Y={},Q={},T1={},U="";try{const n1=F.split(".");Y=He(v1(n1[0])||""),Q=He(v1(n1[1])||""),U=n1[2],T1=Q.d||{},delete Q.d}catch(n1){}return{header:Y,claims:Q,data:T1,signature:U}},T3=function(F){const Q=w2(F).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},ie=function(F){const Y=w2(F).claims;return"object"==typeof Y&&!0===Y.admin};function D3(F,Y){return Object.prototype.hasOwnProperty.call(F,Y)}function F2(F,Y){if(Object.prototype.hasOwnProperty.call(F,Y))return F[Y]}function R2(F){for(const Y in F)if(Object.prototype.hasOwnProperty.call(F,Y))return!1;return!0}function Pe(F,Y,Q){const T1={};for(const U in F)Object.prototype.hasOwnProperty.call(F,U)&&(T1[U]=Y.call(Q,F[U],U,F));return T1}function R4(F,Y){if(F===Y)return!0;const Q=Object.keys(F),T1=Object.keys(Y);for(const U of Q){if(!T1.includes(U))return!1;const n1=F[U],G=Y[U];if(l3(n1)&&l3(G)){if(!R4(n1,G))return!1}else if(n1!==G)return!1}for(const U of T1)if(!Q.includes(U))return!1;return!0}function l3(F){return null!==F&&"object"==typeof F}function be(F){const Y=[];for(const[Q,T1]of Object.entries(F))Array.isArray(T1)?T1.forEach(U=>{Y.push(encodeURIComponent(Q)+"="+encodeURIComponent(U))}):Y.push(encodeURIComponent(Q)+"="+encodeURIComponent(T1));return Y.length?"&"+Y.join("&"):""}function L3(F){const Y={};return F.replace(/^\?/,"").split("&").forEach(T1=>{if(T1){const[U,n1]=T1.split("=");Y[decodeURIComponent(U)]=decodeURIComponent(n1)}}),Y}function q3(F){const Y=F.indexOf("?");if(!Y)return"";const Q=F.indexOf("#",Y);return F.substring(Y,Q>0?Q:void 0)}class b3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Y,Q){Q||(Q=0);const T1=this.W_;if("string"==typeof Y)for(let j1=0;j1<16;j1++)T1[j1]=Y.charCodeAt(Q)<<24|Y.charCodeAt(Q+1)<<16|Y.charCodeAt(Q+2)<<8|Y.charCodeAt(Q+3),Q+=4;else for(let j1=0;j1<16;j1++)T1[j1]=Y[Q]<<24|Y[Q+1]<<16|Y[Q+2]<<8|Y[Q+3],Q+=4;for(let j1=16;j1<80;j1++){const p2=T1[j1-3]^T1[j1-8]^T1[j1-14]^T1[j1-16];T1[j1]=4294967295&(p2<<1|p2>>>31)}let k1,Z1,U=this.chain_[0],n1=this.chain_[1],G=this.chain_[2],s1=this.chain_[3],y1=this.chain_[4];for(let j1=0;j1<80;j1++){j1<40?j1<20?(k1=s1^n1&(G^s1),Z1=1518500249):(k1=n1^G^s1,Z1=1859775393):j1<60?(k1=n1&G|s1&(n1|G),Z1=2400959708):(k1=n1^G^s1,Z1=3395469782);const p2=(U<<5|U>>>27)+k1+y1+Z1+T1[j1]&4294967295;y1=s1,s1=G,G=4294967295&(n1<<30|n1>>>2),n1=U,U=p2}this.chain_[0]=this.chain_[0]+U&4294967295,this.chain_[1]=this.chain_[1]+n1&4294967295,this.chain_[2]=this.chain_[2]+G&4294967295,this.chain_[3]=this.chain_[3]+s1&4294967295,this.chain_[4]=this.chain_[4]+y1&4294967295}update(Y,Q){if(null==Y)return;void 0===Q&&(Q=Y.length);const T1=Q-this.blockSize;let U=0;const n1=this.buf_;let G=this.inbuf_;for(;U<Q;){if(0===G)for(;U<=T1;)this.compress_(Y,U),U+=this.blockSize;if("string"==typeof Y){for(;U<Q;)if(n1[G]=Y.charCodeAt(U),++G,++U,G===this.blockSize){this.compress_(n1),G=0;break}}else for(;U<Q;)if(n1[G]=Y[U],++G,++U,G===this.blockSize){this.compress_(n1),G=0;break}}this.inbuf_=G,this.total_+=Q}digest(){const Y=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let U=this.blockSize-1;U>=56;U--)this.buf_[U]=255&Q,Q/=256;this.compress_(this.buf_);let T1=0;for(let U=0;U<5;U++)for(let n1=24;n1>=0;n1-=8)Y[T1]=this.chain_[U]>>n1&255,++T1;return Y}}function p3(F,Y){const Q=new z2(F,Y);return Q.subscribe.bind(Q)}class z2{constructor(Y,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{Y(this)}).catch(T1=>{this.error(T1)})}next(Y){this.forEachObserver(Q=>{Q.next(Y)})}error(Y){this.forEachObserver(Q=>{Q.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,Q,T1){let U;if(void 0===Y&&void 0===Q&&void 0===T1)throw new Error("Missing Observer.");U=function de(F,Y){if("object"!=typeof F||null===F)return!1;for(const Q of Y)if(Q in F&&"function"==typeof F[Q])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:Q,complete:T1},void 0===U.next&&(U.next=Ie),void 0===U.error&&(U.error=Ie),void 0===U.complete&&(U.complete=Ie);const n1=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch(G){}}),this.observers.push(U),n1}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,Y)}sendOne(Y,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{Q(this.observers[Y])}catch(T1){"undefined"!=typeof console&&console.error&&console.error(T1)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ie(){}const e4=function(F,Y,Q,T1){let U;if(T1<Y?U="at least "+Y:T1>Q&&(U=0===Q?"none":"no more than "+Q),U)throw new Error(F+" failed: Was called with "+T1+(1===T1?" argument.":" arguments.")+" Expects "+U+".")};function I3(F,Y){return`${F} failed: ${Y} argument `}function Fe(F,Y,Q,T1){if((!T1||Q)&&"function"!=typeof Q)throw new Error(I3(F,Y)+"must be a valid function.")}function N3(F,Y,Q,T1){if((!T1||Q)&&("object"!=typeof Q||null===Q))throw new Error(I3(F,Y)+"must be a valid context object.")}const C4=function(F){const Y=[];let Q=0;for(let T1=0;T1<F.length;T1++){let U=F.charCodeAt(T1);if(U>=55296&&U<=56319){const n1=U-55296;T1++,e1(T1<F.length,"Surrogate pair missing trail surrogate."),U=65536+(n1<<10)+(F.charCodeAt(T1)-56320)}U<128?Y[Q++]=U:U<2048?(Y[Q++]=U>>6|192,Y[Q++]=63&U|128):U<65536?(Y[Q++]=U>>12|224,Y[Q++]=U>>6&63|128,Y[Q++]=63&U|128):(Y[Q++]=U>>18|240,Y[Q++]=U>>12&63|128,Y[Q++]=U>>6&63|128,Y[Q++]=63&U|128)}return Y},Z2=function(F){let Y=0;for(let Q=0;Q<F.length;Q++){const T1=F.charCodeAt(Q);T1<128?Y++:T1<2048?Y+=2:T1>=55296&&T1<=56319?(Y+=4,Q++):Y+=3}return Y};function q2(F,Y=1e3,Q=2){const T1=Y*Math.pow(Q,F),U=Math.round(.5*T1*(Math.random()-.5)*2);return Math.min(144e5,T1+U)}function Ke(F){return F&&F._delegate?F._delegate:F}},7358:(a2,x1,T)=>{var c=T(5e3);let e1=null;function P(){return e1}const c1=new c.OlP("DocumentToken");let m1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function v1(){return(0,c.LFG)(q)}()},providedIn:"platform"}),n})();const Z=new c.OlP("Location Initialized");let q=(()=>{class n extends m1{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){o1()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){o1()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c1))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function G1(){return new q((0,c.LFG)(c1))}()},providedIn:"platform"}),n})();function o1(){return!!window.history.pushState}function z1(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function O1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function q1(n){return n&&"?"!==n[0]?"?"+n:n}let g1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function S1(n){const e=(0,c.LFG)(c1).location;return new t2((0,c.LFG)(m1),e&&e.origin||"")}()},providedIn:"root"}),n})();const c2=new c.OlP("appBaseHref");let t2=(()=>{class n extends g1{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return z1(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+q1(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const l=this.prepareExternalUrl(i+q1(s));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,s){const l=this.prepareExternalUrl(i+q1(s));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(m1),c.LFG(c2,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),D1=(()=>{class n extends g1{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=z1(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let l=this.prepareExternalUrl(i+q1(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,s){let l=this.prepareExternalUrl(i+q1(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(m1),c.LFG(c2,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),V1=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=O1(U1(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+q1(r))}normalize(t){return n.stripTrailingSlash(function X1(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,U1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+q1(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+q1(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=q1,n.joinWithSlash=z1,n.stripTrailingSlash=O1,n.\u0275fac=function(t){return new(t||n)(c.LFG(g1),c.LFG(m1))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function A1(){return new V1((0,c.LFG)(g1),(0,c.LFG)(m1))}()},providedIn:"root"}),n})();function U1(n){return n.replace(/\/index.html$/,"")}var B=(()=>((B=B||{})[B.Decimal=0]="Decimal",B[B.Percent=1]="Percent",B[B.Currency=2]="Currency",B[B.Scientific=3]="Scientific",B))(),h1=(()=>((h1=h1||{})[h1.Format=0]="Format",h1[h1.Standalone=1]="Standalone",h1))(),l1=(()=>((l1=l1||{})[l1.Narrow=0]="Narrow",l1[l1.Abbreviated=1]="Abbreviated",l1[l1.Wide=2]="Wide",l1[l1.Short=3]="Short",l1))(),I1=(()=>((I1=I1||{})[I1.Short=0]="Short",I1[I1.Medium=1]="Medium",I1[I1.Long=2]="Long",I1[I1.Full=3]="Full",I1))(),u1=(()=>((u1=u1||{})[u1.Decimal=0]="Decimal",u1[u1.Group=1]="Group",u1[u1.List=2]="List",u1[u1.PercentSign=3]="PercentSign",u1[u1.PlusSign=4]="PlusSign",u1[u1.MinusSign=5]="MinusSign",u1[u1.Exponential=6]="Exponential",u1[u1.SuperscriptingExponent=7]="SuperscriptingExponent",u1[u1.PerMille=8]="PerMille",u1[u1.Infinity=9]="Infinity",u1[u1.NaN=10]="NaN",u1[u1.TimeSeparator=11]="TimeSeparator",u1[u1.CurrencyDecimal=12]="CurrencyDecimal",u1[u1.CurrencyGroup=13]="CurrencyGroup",u1))();function ie(n,e){return de((0,c.cg1)(n)[c.wAp.DateFormat],e)}function D3(n,e){return de((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function F2(n,e){return de((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function R2(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(void 0===r){if(e===u1.CurrencyDecimal)return t[c.wAp.NumberSymbols][u1.Decimal];if(e===u1.CurrencyGroup)return t[c.wAp.NumberSymbols][u1.Group]}return r}function b3(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function de(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Ie(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Fe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,N3={},C4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Z2=(()=>((Z2=Z2||{})[Z2.Short=0]="Short",Z2[Z2.ShortGMT=1]="ShortGMT",Z2[Z2.Long=2]="Long",Z2[Z2.Extended=3]="Extended",Z2))(),d2=(()=>((d2=d2||{})[d2.FullYear=0]="FullYear",d2[d2.Month=1]="Month",d2[d2.Date=2]="Date",d2[d2.Hours=3]="Hours",d2[d2.Minutes=4]="Minutes",d2[d2.Seconds=5]="Seconds",d2[d2.FractionalSeconds=6]="FractionalSeconds",d2[d2.Day=7]="Day",d2))(),y2=(()=>((y2=y2||{})[y2.DayPeriods=0]="DayPeriods",y2[y2.Days=1]="Days",y2[y2.Months=2]="Months",y2[y2.Eras=3]="Eras",y2))();function ye(n,e,t,r){let i=function $3(n){if(_e(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,l=1]=n.split("-").map(f=>+f);return t4(i,s-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Fe))return function v4(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-r,C=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,l,f,C,v),e}(r)}const e=new Date(n);if(!_e(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=q2(t,e)||e;let f,l=[];for(;e;){if(f=C4.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const b=l.pop();if(!b)break;e=b}}let C=i.getTimezoneOffset();r&&(C=D2(r,C),i=function se(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function pe(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(D2(e,i)-i))}(i,r,!0));let v="";return l.forEach(b=>{const x=function p2(n){if(j1[n])return j1[n];let e;switch(n){case"G":case"GG":case"GGG":e=Q(y2.Eras,l1.Abbreviated);break;case"GGGG":e=Q(y2.Eras,l1.Wide);break;case"GGGGG":e=Q(y2.Eras,l1.Narrow);break;case"y":e=F(d2.FullYear,1,0,!1,!0);break;case"yy":e=F(d2.FullYear,2,0,!0,!0);break;case"yyy":e=F(d2.FullYear,3,0,!1,!0);break;case"yyyy":e=F(d2.FullYear,4,0,!1,!0);break;case"Y":e=Z1(1);break;case"YY":e=Z1(2,!0);break;case"YYY":e=Z1(3);break;case"YYYY":e=Z1(4);break;case"M":case"L":e=F(d2.Month,1,1);break;case"MM":case"LL":e=F(d2.Month,2,1);break;case"MMM":e=Q(y2.Months,l1.Abbreviated);break;case"MMMM":e=Q(y2.Months,l1.Wide);break;case"MMMMM":e=Q(y2.Months,l1.Narrow);break;case"LLL":e=Q(y2.Months,l1.Abbreviated,h1.Standalone);break;case"LLLL":e=Q(y2.Months,l1.Wide,h1.Standalone);break;case"LLLLL":e=Q(y2.Months,l1.Narrow,h1.Standalone);break;case"w":e=k1(1);break;case"ww":e=k1(2);break;case"W":e=k1(1,!0);break;case"d":e=F(d2.Date,1);break;case"dd":e=F(d2.Date,2);break;case"c":case"cc":e=F(d2.Day,1);break;case"ccc":e=Q(y2.Days,l1.Abbreviated,h1.Standalone);break;case"cccc":e=Q(y2.Days,l1.Wide,h1.Standalone);break;case"ccccc":e=Q(y2.Days,l1.Narrow,h1.Standalone);break;case"cccccc":e=Q(y2.Days,l1.Short,h1.Standalone);break;case"E":case"EE":case"EEE":e=Q(y2.Days,l1.Abbreviated);break;case"EEEE":e=Q(y2.Days,l1.Wide);break;case"EEEEE":e=Q(y2.Days,l1.Narrow);break;case"EEEEEE":e=Q(y2.Days,l1.Short);break;case"a":case"aa":case"aaa":e=Q(y2.DayPeriods,l1.Abbreviated);break;case"aaaa":e=Q(y2.DayPeriods,l1.Wide);break;case"aaaaa":e=Q(y2.DayPeriods,l1.Narrow);break;case"b":case"bb":case"bbb":e=Q(y2.DayPeriods,l1.Abbreviated,h1.Standalone,!0);break;case"bbbb":e=Q(y2.DayPeriods,l1.Wide,h1.Standalone,!0);break;case"bbbbb":e=Q(y2.DayPeriods,l1.Narrow,h1.Standalone,!0);break;case"B":case"BB":case"BBB":e=Q(y2.DayPeriods,l1.Abbreviated,h1.Format,!0);break;case"BBBB":e=Q(y2.DayPeriods,l1.Wide,h1.Format,!0);break;case"BBBBB":e=Q(y2.DayPeriods,l1.Narrow,h1.Format,!0);break;case"h":e=F(d2.Hours,1,-12);break;case"hh":e=F(d2.Hours,2,-12);break;case"H":e=F(d2.Hours,1);break;case"HH":e=F(d2.Hours,2);break;case"m":e=F(d2.Minutes,1);break;case"mm":e=F(d2.Minutes,2);break;case"s":e=F(d2.Seconds,1);break;case"ss":e=F(d2.Seconds,2);break;case"S":e=F(d2.FractionalSeconds,1);break;case"SS":e=F(d2.FractionalSeconds,2);break;case"SSS":e=F(d2.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=U(Z2.Short);break;case"ZZZZZ":e=U(Z2.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=U(Z2.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=U(Z2.Long);break;default:return null}return j1[n]=e,e}(b);v+=x?x(i,t,C):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function t4(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function q2(n,e){const t=function k2(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(N3[t]=N3[t]||{},N3[t][e])return N3[t][e];let r="";switch(e){case"shortDate":r=ie(n,I1.Short);break;case"mediumDate":r=ie(n,I1.Medium);break;case"longDate":r=ie(n,I1.Long);break;case"fullDate":r=ie(n,I1.Full);break;case"shortTime":r=D3(n,I1.Short);break;case"mediumTime":r=D3(n,I1.Medium);break;case"longTime":r=D3(n,I1.Long);break;case"fullTime":r=D3(n,I1.Full);break;case"short":const i=q2(n,"shortTime"),s=q2(n,"shortDate");r=n4(F2(n,I1.Short),[i,s]);break;case"medium":const l=q2(n,"mediumTime"),f=q2(n,"mediumDate");r=n4(F2(n,I1.Medium),[l,f]);break;case"long":const C=q2(n,"longTime"),v=q2(n,"longDate");r=n4(F2(n,I1.Long),[C,v]);break;case"full":const b=q2(n,"fullTime"),x=q2(n,"fullDate");r=n4(F2(n,I1.Full),[b,x])}return r&&(N3[t][e]=r),r}function n4(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function t3(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.substr(l.length-e)),s+l}function F(n,e,t=0,r=!1,i=!1){return function(s,l){let f=function Y(n,e){switch(n){case d2.FullYear:return e.getFullYear();case d2.Month:return e.getMonth();case d2.Date:return e.getDate();case d2.Hours:return e.getHours();case d2.Minutes:return e.getMinutes();case d2.Seconds:return e.getSeconds();case d2.FractionalSeconds:return e.getMilliseconds();case d2.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||f>-t)&&(f+=t),n===d2.Hours)0===f&&-12===t&&(f=12);else if(n===d2.FractionalSeconds)return function Ke(n,e){return t3(n,3).substr(0,e)}(f,e);const C=R2(l,u1.MinusSign);return t3(f,e,C,r,i)}}function Q(n,e,t=h1.Format,r=!1){return function(i,s){return function T1(n,e,t,r,i,s){switch(t){case y2.Months:return function w2(n,e,t){const r=(0,c.cg1)(n),s=de([r[c.wAp.MonthsFormat],r[c.wAp.MonthsStandalone]],e);return de(s,t)}(e,i,r)[n.getMonth()];case y2.Days:return function o2(n,e,t){const r=(0,c.cg1)(n),s=de([r[c.wAp.DaysFormat],r[c.wAp.DaysStandalone]],e);return de(s,t)}(e,i,r)[n.getDay()];case y2.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(s){const v=function p3(n){const e=(0,c.cg1)(n);return b3(e),(e[c.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Ie(r):[Ie(r[0]),Ie(r[1])])}(e),b=function z2(n,e,t){const r=(0,c.cg1)(n);b3(r);const s=de([r[c.wAp.ExtraData][0],r[c.wAp.ExtraData][1]],e)||[];return de(s,t)||[]}(e,i,r),x=v.findIndex(S=>{if(Array.isArray(S)){const[A,D]=S,W=l>=A.hours&&f>=A.minutes,a1=l<D.hours||l===D.hours&&f<D.minutes;if(A.hours<D.hours){if(W&&a1)return!0}else if(W||a1)return!0}else if(S.hours===l&&S.minutes===f)return!0;return!1});if(-1!==x)return b[x]}return function He(n,e,t){const r=(0,c.cg1)(n),s=de([r[c.wAp.DayPeriodsFormat],r[c.wAp.DayPeriodsStandalone]],e);return de(s,t)}(e,i,r)[l<12?0:1];case y2.Eras:return function Le(n,e){return de((0,c.cg1)(n)[c.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function U(n){return function(e,t,r){const i=-1*r,s=R2(t,u1.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Z2.Short:return(i>=0?"+":"")+t3(l,2,s)+t3(Math.abs(i%60),2,s);case Z2.ShortGMT:return"GMT"+(i>=0?"+":"")+t3(l,1,s);case Z2.Long:return"GMT"+(i>=0?"+":"")+t3(l,2,s)+":"+t3(Math.abs(i%60),2,s);case Z2.Extended:return 0===r?"Z":(i>=0?"+":"")+t3(l,2,s)+":"+t3(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function y1(n){return t4(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function k1(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+s)/7)}else{const s=y1(t),l=function s1(n){const e=t4(n,0,1).getDay();return t4(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),f=s.getTime()-l.getTime();i=1+Math.round(f/6048e5)}return t3(i,n,R2(r,u1.MinusSign))}}function Z1(n,e=!1){return function(t,r){return t3(y1(t).getFullYear(),n,R2(r,u1.MinusSign),e)}}const j1={};function D2(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function _e(n){return n instanceof Date&&!isNaN(n.valueOf())}const Ae=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Y2(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Ut(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let _4=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Gt{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let n3=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Gt(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===s?void 0:s);else if(null!==s){const f=r.get(s);r.move(f,l),jt(f,i)}});for(let i=0,s=r.length;i<s;i++){const f=r.get(i).context;f.index=i,f.count=s,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{jt(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function jt(n,e){n.context.$implicit=e.item}let $e=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new we,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Nn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Nn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class we{constructor(){this.$implicit=null,this.ngIf=null}}function Nn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}function P3(n,e){return new c.vHH(2100,"")}const o0=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ln=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,s){var l;if(null==t||""===t||t!=t)return null;try{return ye(t,r,s||this.locale,null!==(l=null!=i?i:this.defaultTimezone)&&void 0!==l?l:void 0)}catch(f){throw P3()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(o0,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0}),n})(),c8=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function et(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function O(n,e,t){return function Bt(n,e,t,r,i,s,l=!1){let f="",C=!1;if(isFinite(n)){let v=function h2(n){let r,i,s,l,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=s,r=[],l=0;s<=f;s++,l++)r[l]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);l&&(v=function P1(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(v));let b=e.minInt,x=e.minFrac,S=e.maxFrac;if(s){const F1=s.match(Ae);if(null===F1)throw new Error(`${s} is not a valid digit info`);const W1=F1[1],J1=F1[3],v2=F1[5];null!=W1&&(b=Y2(W1)),null!=J1&&(x=Y2(J1)),null!=v2?S=Y2(v2):null!=J1&&x>S&&(S=x)}!function $2(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let l=s+n.integerLen,f=r[l];if(l>0){r.splice(Math.max(n.integerLen,l));for(let x=l;x<r.length;x++)r[x]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,l=s+1),r[0]=0;for(let x=1;x<l;x++)r[x]=0}if(f>=5)if(l-1<0){for(let x=0;x>l;x--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[l-1]++;for(;i<Math.max(0,s);i++)r.push(0);let C=0!==s;const v=e+n.integerLen,b=r.reduceRight(function(x,S,A,D){return D[A]=(S+=x)<10?S:S-10,C&&(0===D[A]&&A>=v?D.pop():C=!1),S>=10?1:0},0);b&&(r.unshift(b),n.integerLen++)}(v,x,S);let A=v.digits,D=v.integerLen;const W=v.exponent;let a1=[];for(C=A.every(F1=>!F1);D<b;D++)A.unshift(0);for(;D<0;D++)A.unshift(0);D>0?a1=A.splice(D,A.length):(a1=A,A=[0]);const H1=[];for(A.length>=e.lgSize&&H1.unshift(A.splice(-e.lgSize,A.length).join(""));A.length>e.gSize;)H1.unshift(A.splice(-e.gSize,A.length).join(""));A.length&&H1.unshift(A.join("")),f=H1.join(R2(t,r)),a1.length&&(f+=R2(t,i)+a1.join("")),W&&(f+=R2(t,u1.Exponential)+"+"+W)}else f=R2(t,u1.Infinity);return f=n<0&&!C?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,function d1(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],l=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=l[0],C=l[1]||"";t.posPre=f.substr(0,f.indexOf("#"));for(let b=0;b<C.length;b++){const x=C.charAt(b);"0"===x?t.minFrac=t.maxFrac=b+1:"#"===x?t.maxFrac=b+1:t.posSuf+=x}const v=f.split(",");if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,s){const b=i.length-t.posPre.length-t.posSuf.length,x=s.indexOf("#");t.negPre=s.substr(0,x).replace(/'/g,""),t.negSuf=s.substr(x+b).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Pe(n,e){return(0,c.cg1)(n)[c.wAp.NumberFormats][e]}(e,B.Decimal),R2(e,u1.MinusSign)),e,u1.Group,u1.Decimal,t)}(function Pn(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw P3()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16))},n.\u0275pipe=c.Yjl({name:"number",type:n,pure:!0}),n})();let $t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const tt="browser";function Ye(n){return n===tt}function K3(n){return"server"===n}let u8=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Fn((0,c.LFG)(c1),window)}),n})();class Fn{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function _6(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Zt(this.window.history)||Zt(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Zt(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ee{}class M6 extends class rt extends class b1{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function p1(n){e1||(e1=n)}(new M6)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function f8(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==t?null:function un(n){d8=d8||document.createElement("a"),d8.setAttribute("href",n);const e=d8.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ut(document.cookie,e)}}let d8,ae=null;const i4=new c.OlP("TRANSITION_ID"),L6=[{provide:c.ip1,useFactory:function h8(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[i4,c1,c.zs3],multi:!0}];class k{static init(){(0,c.VLi)(new k)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let s=i.length,l=!1;const f=function(C){l=l||C,s--,0==s&&r(l)};i.forEach(function(C){C.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let I=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const J=new c.OlP("EventManagerPlugins");let C1=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const l=i[s];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class $1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let e2=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),E2=(()=>{class n extends e2{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,i.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Oe),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Oe))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Oe(n){P().remove(n)}const f2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Te=/%COMP%/g;function N1(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?N1(n,i,t):(i=i.replace(Te,n),t.push(i))}return t}function B2(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let De=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new yr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new C8(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new u0(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=N1(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(C1),c.LFG(E2),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class yr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(f2[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=f2[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=f2[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,B2(r)):this.eventManager.addEventListener(e,t,B2(r))}}class C8 extends yr{constructor(e,t,r,i){super(e),this.component=r;const s=N1(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function l5(n){return"_ngcontent-%COMP%".replace(Te,n)}(i+"-"+r.id),this.hostAttr=function b6(n){return"_nghost-%COMP%".replace(Te,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class u0 extends yr{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=N1(i.id,i.styles,[]);for(let l=0;l<s.length;l++){const f=document.createElement("style");f.textContent=s[l],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let hh=(()=>{class n extends $1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _r=["alt","control","meta","shift"],Lr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F3={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let br=(()=>{class n extends $1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),l=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let l="";if(_r.forEach(C=>{const v=r.indexOf(C);v>-1&&(r.splice(v,1),l+=C+".")}),l+=s,0!=r.length||0===s.length)return null;const f={};return f.domEventName=i,f.fullKey=l,f}static getEventFullKey(t){let r="",i=function u5(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&F3.hasOwnProperty(e)&&(e=F3[e]))}return Lr[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),_r.forEach(s=>{s!=i&&hn[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const f0=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:tt},{provide:c.g9A,useValue:function vt(){M6.makeCurrent(),k.init()},multi:!0},{provide:c1,useFactory:function xr(){return(0,c.RDi)(document),document},deps:[]}]),d0=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function z9(){return new c.qLn},deps:[]},{provide:J,useClass:hh,multi:!0,deps:[c1,c.R0b,c.Lbi]},{provide:J,useClass:br,multi:!0,deps:[c1]},{provide:De,useClass:De,deps:[C1,E2,c.AFp]},{provide:c.FYo,useExisting:De},{provide:e2,useExisting:E2},{provide:E2,useClass:E2,deps:[c1]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:C1,useClass:C1,deps:[J,c.R0b]},{provide:Ee,useClass:I,deps:[]}];let f5=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:i4,useExisting:c.AFp},L6]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:d0,imports:[$t,c.hGG]}),n})(),d5=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c1))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Aa(){return new d5((0,c.LFG)(c1))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let Bn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):c.LFG(h0),r},providedIn:"root"}),n})(),h0=(()=>{class n extends Bn{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(r),(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c1))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function C5(n){return new h0(n.get(c1))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();var Be=T(8996),p5=T(7669);function b2(...n){const e=(0,p5.yG)(n);return(0,Be.D)(n,e)}var Qe=T(7579);class U4 extends Qe.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var We=T(8306);const{isArray:ka}=Array,{getPrototypeOf:Ra,prototype:Yt,keys:E9}=Object;function Ue(n){if(1===n.length){const e=n[0];if(ka(e))return{args:e,keys:null};if(function C0(n){return n&&"object"==typeof n&&Ra(n)===Yt}(e)){const t=E9(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var yt=T(4671),M2=T(4004);const{isArray:Sr}=Array;function Fa(n){return(0,M2.U)(e=>function Pa(n,e){return Sr(e)?n(...e):n(e)}(n,e))}function p0(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Ge=T(5403),m5=T(9672);function Gn(n,e,t){n?(0,m5.f)(t,n,e):e()}var m0=T(576);function z6(n,e){const t=(0,m0.m)(n)?n:()=>n,r=i=>i.error(t());return new We.y(e?i=>e.schedule(r,0,i):r)}const S6=(0,T(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var y8=T(8189);function Hr(...n){return function v0(){return(0,y8.J)(1)}()((0,Be.D)(n,(0,p5.yG)(n)))}var Qt=T(8421);function g5(n){return new We.y(e=>{(0,Qt.Xf)(n()).subscribe(e)})}var v5=T(515),jn=T(727),w3=T(4482);function V6(){return(0,w3.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ge.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Oa extends We.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,w3.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ge.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jn.w0.EMPTY)}return e}refCount(){return V6()(this)}}function Ne(n,e){return(0,w3.e)((t,r)=>{let i=null,s=0,l=!1;const f=()=>l&&!i&&r.complete();t.subscribe((0,Ge.x)(r,C=>{null==i||i.unsubscribe();let v=0;const b=s++;(0,Qt.Xf)(n(C,b)).subscribe(i=(0,Ge.x)(r,x=>r.next(e?e(C,x,b,v++):x),()=>{i=null,f()}))},()=>{l=!0,f()}))})}var _8=T(5698);function _t(...n){const e=(0,p5.yG)(n);return(0,w3.e)((t,r)=>{(e?Hr(n,t,e):Hr(n,t)).subscribe(r)})}function H6(n,e,t,r,i){return(s,l)=>{let f=t,C=e,v=0;s.subscribe((0,Ge.x)(l,b=>{const x=v++;C=f?n(C,b,x):(f=!0,b),r&&l.next(C)},i&&(()=>{f&&l.next(C),l.complete()})))}}function it(n,e){return(0,w3.e)(H6(n,e,arguments.length>=2,!0))}function s4(n,e){return(0,w3.e)((t,r)=>{let i=0;t.subscribe((0,Ge.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}function G4(n){return(0,w3.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,Ge.x)(t,void 0,void 0,l=>{s=(0,Qt.Xf)(n(l,G4(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}var i3=T(5577);function A6(n,e){return(0,m0.m)(e)?(0,i3.z)(n,e,1):(0,i3.z)(n,1)}function y0(n){return n<=0?()=>v5.E:(0,w3.e)((e,t)=>{let r=[];e.subscribe((0,Ge.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function je(n=T9){return(0,w3.e)((e,t)=>{let r=!1;e.subscribe((0,Ge.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function T9(){return new S6}function D9(n){return(0,w3.e)((e,t)=>{let r=!1;e.subscribe((0,Ge.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function y5(n,e){const t=arguments.length>=2;return r=>r.pipe(n?s4((i,s)=>n(i,s,r)):yt.y,(0,_8.q)(1),t?D9(e):je(()=>new S6))}var j4=T(8505);class qn{constructor(e,t){this.id=e,this.url=t}}class E6 extends qn{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class M8 extends qn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class s3 extends qn{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _0 extends qn{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class T6 extends qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _h extends qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M0 extends qn{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class st extends qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class at extends qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _5{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class D6{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class L8{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ar{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b8{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $n{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L0{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ne="primary";class Ba{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function O3(n){return new Ba(n)}const M5="ngNavigationCancelingError";function pn(n){const e=Error("NavigationCancelingError: "+n);return e[M5]=!0,e}function Ua(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const l=r[s],f=n[s];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Jt(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Er(n[i],e[i]))return!1;return!0}function Er(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Ga(n){return Array.prototype.concat.apply([],n)}function Tr(n){return n.length>0?n[n.length-1]:null}function z3(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Y3(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Be.D)(Promise.resolve(n)):b2(n)}const x8={exact:function ja(n,e,t){if(!Xt(n.segments,e.segments)||!Wn(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ja(n.children[r],e.children[r],t))return!1;return!0},subset:Dr},L5={exact:function w0(n,e){return Jt(n,e)},subset:function z0(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Er(n[t],e[t]))},ignored:()=>!0};function I6(n,e,t){return x8[t.paths](n.root,e.root,t.matrixParams)&&L5[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Dr(n,e,t){return S0(n,e,e.segments,t)}function S0(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Xt(i,t)||e.hasChildren()||!Wn(i,t,r))}if(n.segments.length===t.length){if(!Xt(n.segments,t)||!Wn(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Dr(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Xt(n.segments,i)&&Wn(n.segments,i,r)&&n.children[ne])&&S0(n.children[ne],e,s,r)}}function Wn(n,e,t){return e.every((r,i)=>L5[t](n[i].parameters,r.parameters))}class Zn{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=O3(this.queryParams)),this._queryParamMap}toString(){return N9.serialize(this)}}class X2{constructor(e,t){this.segments=e,this.children=t,this.parent=null,z3(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return x5(this)}}class u3{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=O3(this.parameters)),this._parameterMap}toString(){return S5(this)}}function Xt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class b5{}class Ir{parse(e){const t=new R9(e);return new Zn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Mt(e.root,!0)}`,r=function Wa(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${w5(t)}=${w5(i)}`).join("&"):`${w5(t)}=${w5(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function N6(n){return encodeURI(n)}(e.fragment)}`:""}`}}const N9=new Ir;function x5(n){return n.segments.map(e=>S5(e)).join("/")}function Mt(n,e){if(!n.hasChildren())return x5(n);if(e){const t=n.children[ne]?Mt(n.children[ne],!1):"",r=[];return z3(n.children,(i,s)=>{s!==ne&&r.push(`${s}:${Mt(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function V0(n,e){let t=[];return z3(n.children,(r,i)=>{i===ne&&(t=t.concat(e(r,i)))}),z3(n.children,(r,i)=>{i!==ne&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ne?[Mt(n.children[ne],!1)]:[`${i}:${Mt(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ne]?`${x5(n)}/${t[0]}`:`${x5(n)}/(${t.join("//")})`}}function Kn(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function w5(n){return Kn(n).replace(/%3B/gi,";")}function H0(n){return Kn(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function z5(n){return decodeURIComponent(n)}function w8(n){return z5(n.replace(/\+/g,"%20"))}function S5(n){return`${H0(n.path)}${function $a(n){return Object.keys(n).map(e=>`;${H0(e)}=${H0(n[e])}`).join("")}(n.parameters)}`}const A0=/^[^\/()?;=#]+/;function mn(n){const e=n.match(A0);return e?e[0]:""}const z8=/^[^=?&#]+/,Za=/^[^&#]+/;class R9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new X2([],{}):new X2([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ne]=new X2(e,t)),r}parseSegment(){const e=mn(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new u3(z5(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=mn(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=mn(this.remaining);i&&(r=i,this.capture(r))}e[z5(t)]=z5(r)}parseQueryParam(e){const t=function k9(n){const e=n.match(z8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Ka(n){const e=n.match(Za);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=w8(t),s=w8(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mn(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[ne]:new X2([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ya{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=E0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=E0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=V5(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return V5(e,this._root).map(t=>t.value)}}function E0(n,e){if(n===e.value)return e;for(const t of e.children){const r=E0(n,t);if(r)return r}return null}function V5(n,e){if(n===e.value)return[e];for(const t of e.children){const r=V5(n,t);if(r.length)return r.unshift(e),r}return[]}class gn{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function vn(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Nr extends Ya{constructor(e,t){super(e),this.snapshot=t,Rr(this,e)}toString(){return this.snapshot.toString()}}function k6(n,e){const t=function P9(n,e){const l=new Yn([],{},{},"",{},ne,e,null,n.root,-1,{});return new T0("",new gn(l,[]))}(n,e),r=new U4([new u3("",{})]),i=new U4({}),s=new U4({}),l=new U4({}),f=new U4(""),C=new R6(r,i,l,f,s,ne,e,t.root);return C.snapshot=t.root,new Nr(new gn(C,[]),t)}class R6{constructor(e,t,r,i,s,l,f,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=f,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,M2.U)(e=>O3(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,M2.U)(e=>O3(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function F9(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function kr(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Yn{constructor(e,t,r,i,s,l,f,C,v,b,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=f,this.routeConfig=C,this._urlSegment=v,this._lastPathIndex=b,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=O3(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=O3(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class T0 extends Ya{constructor(e,t){super(t),this.url=e,Rr(this,t)}toString(){return D0(this._root)}}function Rr(n,e){e.value._routerState=n,e.children.forEach(t=>Rr(n,t))}function D0(n){const e=n.children.length>0?` { ${n.children.map(D0).join(", ")} } `:"";return`${n.value}${e}`}function yn(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Jt(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Jt(e.params,t.params)||n.params.next(t.params),function b0(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Jt(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Jt(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function I0(n,e){const t=Jt(n.params,e.params)&&function qa(n,e){return Xt(n,e)&&n.every((t,r)=>Jt(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||I0(n.parent,e.parent))}function S8(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function O9(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return S8(n,r,i);return S8(n,r)})}(n,e,t);return new gn(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>S8(n,f)),l}}const r=function B9(n){return new R6(new U4(n.url),new U4(n.params),new U4(n.queryParams),new U4(n.fragment),new U4(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>S8(n,s));return new gn(r,i)}}function Lt(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function H5(n){return"object"==typeof n&&null!=n&&n.outlets}function V8(n,e,t,r,i){let s={};if(r&&z3(r,(f,C)=>{s[C]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`}),n===e)return new Zn(t,s,i);const l=Ja(n,e,t);return new Zn(l,s,i)}function Ja(n,e,t){const r={};return z3(n.children,(i,s)=>{r[s]=i===e?t:Ja(i,e,t)}),new X2(n.segments,r)}class N0{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Lt(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(H5);if(i&&i!==Tr(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class H8{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function no(n,e,t){if(n||(n=new X2([],{})),0===n.segments.length&&n.hasChildren())return Pr(n,e,t);const r=function bh(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const l=n.segments[i],f=t[r];if(H5(f))break;const C=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===C)break;if(C&&v&&"object"==typeof v&&void 0===v.outlets){if(!xt(C,v,l))return s;r+=2}else{if(!xt(C,{},l))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new X2(n.segments.slice(0,r.pathIndex),{});return s.children[ne]=new X2(n.segments.slice(r.pathIndex),n.children),Pr(s,0,i)}return r.match&&0===i.length?new X2(n.segments,{}):r.match&&!n.hasChildren()?ro(n,e,t):r.match?Pr(n,0,i):ro(n,e,t)}function Pr(n,e,t){if(0===t.length)return new X2(n.segments,{});{const r=function to(n){return H5(n[0])?n[0].outlets:{[ne]:n}}(t),i={};return z3(r,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[l]=no(n.children[l],e,s))}),z3(n.children,(s,l)=>{void 0===r[l]&&(i[l]=s)}),new X2(n.segments,i)}}function ro(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(H5(s)){const C=bt(s.outlets);return new X2(r,C)}if(0===i&&Lt(t[0])){r.push(new u3(n.segments[e].path,k0(t[0]))),i++;continue}const l=H5(s)?s.outlets[ne]:`${s}`,f=i<t.length-1?t[i+1]:null;l&&f&&Lt(f)?(r.push(new u3(l,k0(f))),i+=2):(r.push(new u3(l,{})),i++)}return new X2(r,{})}function bt(n){const e={};return z3(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ro(new X2([],{}),0,t))}),e}function k0(n){const e={};return z3(n,(t,r)=>e[r]=`${t}`),e}function xt(n,e,t){return n==t.path&&Jt(e,t.parameters)}class io{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),yn(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=vn(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,i[l],r),delete i[l]}),z3(i,(s,l)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=vn(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=vn(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=vn(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new $n(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ar(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(yn(i),i===s)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),yn(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=function Fr(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),C=f?f.module.componentFactoryResolver:null;l.attachRef=null,l.route=i,l.resolver=C,l.outlet&&l.outlet.activateWith(i,C),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Or{constructor(e,t){this.routes=e,this.module=t}}function F6(n){return"function"==typeof n}function A5(n){return n instanceof Zn}const Br=Symbol("INITIAL_VALUE");function E5(){return Ne(n=>function Vr(...n){const e=(0,p5.yG)(n),t=(0,p5.jO)(n),{args:r,keys:i}=Ue(n);if(0===r.length)return(0,Be.D)([],e);const s=new We.y(function Un(n,e,t=yt.y){return r=>{Gn(e,()=>{const{length:i}=n,s=new Array(i);let l=i,f=i;for(let C=0;C<i;C++)Gn(e,()=>{const v=(0,Be.D)(n[C],e);let b=!1;v.subscribe((0,Ge.x)(r,x=>{s[C]=x,b||(b=!0,f--),f||r.next(t(s.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>p0(i,l):yt.y));return t?s.pipe(Fa(t)):s}(n.map(e=>e.pipe((0,_8.q)(1),_t(Br)))).pipe(it((e,t)=>{let r=!1;return t.reduce((i,s,l)=>i!==Br?i:(s===Br&&(r=!0),r||!1!==s&&l!==t.length-1&&!A5(s)?i:s),e)},Br),s4(e=>e!==Br),(0,M2.U)(e=>A5(e)?e:!0===e),(0,_8.q)(1)))}class G9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new T5,this.attachRef=null}}class T5{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new G9,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let D5=(()=>{class n{constructor(t,r,i,s,l){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=s||ne,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const l=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,C=new j9(t,f,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(T5),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class j9{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===R6?this.route:e===T5?this.childContexts:this.parent.get(e,t)}}let Ur=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[D5],encapsulation:2}),n})();function O6(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Gr(r,F0(e,r))}}function Gr(n,e){n.children&&O6(n.children,e)}function F0(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function O0(n){const e=n.children&&n.children.map(O0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=Ur),t}function oe(n){return n.outlet||ne}function B0(n,e){const t=n.filter(r=>oe(r)===e);return t.push(...n.filter(r=>oe(r)!==e)),t}const ao={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function I5(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},ao):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Ua)(t,n,e);if(!s)return Object.assign({},ao);const l={};z3(s.posParams,(C,v)=>{l[v]=C.path});const f=s.consumed.length>0?Object.assign(Object.assign({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:f,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function N5(n,e,t,r,i="corrected"){if(t.length>0&&function W9(n,e,t){return t.some(r=>B6(n,e,r)&&oe(r)!==ne)}(n,t,r)){const l=new X2(e,function $9(n,e,t,r){const i={};i[ne]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&oe(s)!==ne){const l=new X2([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[oe(s)]=l}return i}(n,e,r,new X2(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function Z9(n,e,t){return t.some(r=>B6(n,e,r))}(n,t,r)){const l=new X2(n.segments,function q9(n,e,t,r,i,s){const l={};for(const f of r)if(B6(n,t,f)&&!i[oe(f)]){const C=new X2([],{});C._sourceSegment=n,C._segmentIndexShift="legacy"===s?n.segments.length:e.length,l[oe(f)]=C}return Object.assign(Object.assign({},i),l)}(n,e,t,r,n.children,i));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const s=new X2(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function B6(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function K9(n,e,t,r){return!!(oe(n)===r||r!==ne&&B6(e,t,n))&&("**"===n.path||I5(e,n,t).matched)}function oo(n,e,t){return 0===e.length&&!n.children[t]}class Qn{constructor(e){this.segmentGroup=e||null}}class a4{constructor(e){this.urlTree=e}}function U6(n){return z6(new Qn(n))}function U0(n){return z6(new a4(n))}class jr{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=N5(this.urlTree.root,[],[],this.config).segmentGroup,t=new X2(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ne).pipe((0,M2.U)(s=>this.createUrlTree(E8(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(G4(s=>{if(s instanceof a4)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Qn?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ne).pipe((0,M2.U)(i=>this.createUrlTree(E8(i),e.queryParams,e.fragment))).pipe(G4(i=>{throw i instanceof Qn?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new X2([],{[ne]:e}):e;return new Zn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,M2.U)(s=>new X2([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,Be.D)(i).pipe(A6(s=>{const l=r.children[s],f=B0(t,s);return this.expandSegmentGroup(e,f,l,s).pipe((0,M2.U)(C=>({segment:C,outlet:s})))}),it((s,l)=>(s[l.outlet]=l.segment,s),{}),function yh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?s4((i,s)=>n(i,s,r)):yt.y,y0(1),t?D9(e):je(()=>new S6))}())}expandSegment(e,t,r,i,s,l){return(0,Be.D)(r).pipe(A6(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,s,l).pipe(G4(v=>{if(v instanceof Qn)return b2(null);throw v}))),y5(f=>!!f),G4((f,C)=>{if(f instanceof S6||"EmptyError"===f.name)return oo(t,i,s)?b2(new X2([],{})):U6(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,s,l,f){return K9(i,t,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l):U6(t):U6(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?U0(s):this.lineralizeSegments(r,s).pipe((0,i3.z)(l=>{const f=new X2(l,{});return this.expandSegment(e,f,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l){const{matched:f,consumedSegments:C,remainingSegments:v,positionalParamSegments:b}=I5(t,i,s);if(!f)return U6(t);const x=this.applyRedirectCommands(C,i.redirectTo,b);return i.redirectTo.startsWith("/")?U0(x):this.lineralizeSegments(i,x).pipe((0,i3.z)(S=>this.expandSegment(e,t,r,S.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?b2(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,M2.U)(x=>(r._loadedConfig=x,new X2(i,{})))):b2(new X2(i,{}));const{matched:l,consumedSegments:f,remainingSegments:C}=I5(t,r,i);return l?this.getChildConfig(e,r,i).pipe((0,i3.z)(b=>{const x=b.module,S=b.routes,{segmentGroup:A,slicedSegments:D}=N5(t,f,C,S),W=new X2(A.segments,A.children);if(0===D.length&&W.hasChildren())return this.expandChildren(x,S,W).pipe((0,M2.U)(W1=>new X2(f,W1)));if(0===S.length&&0===D.length)return b2(new X2(f,{}));const a1=oe(r)===s;return this.expandSegment(x,W,S,D,a1?ne:s,!0).pipe((0,M2.U)(F1=>new X2(f.concat(F1.segments),F1.children)))})):U6(t)}getChildConfig(e,t,r){return t.children?b2(new Or(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?b2(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,i3.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,M2.U)(s=>(t._loadedConfig=s,s))):function B3(n){return z6(pn(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):b2(new Or([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?b2(i.map(l=>{const f=e.get(l);let C;if(function R0(n){return n&&F6(n.canLoad)}(f))C=f.canLoad(t,r);else{if(!F6(f))throw new Error("Invalid CanLoad guard");C=f(t,r)}return Y3(C)})).pipe(E5(),(0,j4.b)(l=>{if(!A5(l))return;const f=pn(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw f.url=l,f}),(0,M2.U)(l=>!0===l)):b2(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return b2(r);if(i.numberOfChildren>1||!i.children[ne])return z6(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[ne]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Zn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return z3(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[s]=t[f]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let l={};return z3(t.children,(f,C)=>{l[C]=this.createSegmentGroup(e,f,r,i)}),new X2(s,l)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function E8(n){const e={};for(const r of Object.keys(n.children)){const s=E8(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Y9(n){if(1===n.numberOfChildren&&n.children[ne]){const e=n.children[ne];return new X2(n.segments.concat(e.segments),e.children)}return n}(new X2(n.segments,e))}class L4{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Mn{constructor(e,t){this.component=e,this.route=t}}function lo(n,e,t){const r=n._root;return j6(r,e?e._root:null,t,[r.value])}function k5(n,e,t){const r=function j0(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function j6(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=vn(e);return n.children.forEach(l=>{(function fo(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const C=function Q9(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Xt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xt(n.url,e.url)||!Jt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!I0(n,e)||!Jt(n.queryParams,e.queryParams);default:return!I0(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);C?i.canActivateChecks.push(new L4(r)):(s.data=l.data,s._resolvedData=l._resolvedData),j6(n,e,s.component?f?f.children:null:t,r,i),C&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Mn(f.outlet.component,l))}else l&&b4(e,f,i),i.canActivateChecks.push(new L4(r)),j6(n,null,s.component?f?f.children:null:t,r,i)})(l,s[l.value.outlet],t,r.concat([l.value]),i),delete s[l.value.outlet]}),z3(s,(l,f)=>b4(l,t.getContext(f),i)),i}function b4(n,e,t){const r=vn(n),i=n.value;z3(r,(s,l)=>{b4(s,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new Mn(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class po{}function en(n){return new We.y(e=>e.error(n))}class mo{constructor(e,t,r,i,s,l){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l}recognize(){const e=N5(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ne);if(null===t)return null;const r=new Yn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new gn(r,t),s=new T0(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=F9(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const l=t.children[s],f=B0(e,s),C=this.processSegmentGroup(f,l,s);if(null===C)return null;r.push(...C)}const i=vo(r);return function go(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const l=this.processSegmentAgainstRoute(s,t,r,i);if(null!==l)return l}return oo(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!K9(e,t,r,i))return null;let s,l=[],f=[];if("**"===e.path){const A=r.length>0?Tr(r).parameters:{};s=new Yn(r,A,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),oe(e),e.component,e,q6(t),wt(t)+r.length,p(e))}else{const A=I5(t,e,r);if(!A.matched)return null;l=A.consumedSegments,f=A.remainingSegments,s=new Yn(l,A.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),oe(e),e.component,e,q6(t),wt(t)+l.length,p(e))}const C=function ec(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:v,slicedSegments:b}=N5(t,l,f,C.filter(A=>void 0===A.redirectTo),this.relativeLinkResolution);if(0===b.length&&v.hasChildren()){const A=this.processChildren(C,v);return null===A?null:[new gn(s,A)]}if(0===C.length&&0===b.length)return[new gn(s,[])];const x=oe(e)===i,S=this.processSegment(C,v,b,x?ne:i);return null===S?null:[new gn(s,S)]}}function W0(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vo(n){const e=[],t=new Set;for(const r of n){if(!W0(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=vo(r.children);e.push(new gn(r.value,i))}return e.filter(r=>!t.has(r))}function q6(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function wt(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function y(n){return n.data||{}}function p(n){return n.resolve||{}}function X(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Y1(n){return Ne(e=>{const t=n(e);return t?(0,Be.D)(t).pipe((0,M2.U)(()=>e)):b2(e)})}class V2 extends class T2{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Je=new c.OlP("ROUTES");class w4{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,M2.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const l=s.create(e);return new Or(Ga(l.injector.get(Je,void 0,c.XFs.Self|c.XFs.Optional)).map(O0),l)}),G4(s=>{throw t._loader$=void 0,s}));return t._loader$=new Oa(i,()=>new Qe.x).pipe(V6()),t._loader$}loadModuleFactory(e){return Y3(e()).pipe((0,i3.z)(t=>t instanceof c.YKP?b2(t):(0,Be.D)(this.compiler.compileModuleAsync(t))))}}class tc{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Jn(n){throw n}function $r(n,e,t){return e.parse("/")}function Wr(n,e){return b2(null)}const Z0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let S3=(()=>{class n{constructor(t,r,i,s,l,f,C){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qe.x,this.errorHandler=Jn,this.malformedUriErrorHandler=$r,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wr,afterPreactivation:Wr},this.urlHandlingStrategy=new tc,this.routeReuseStrategy=new V2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(c.h0i),this.console=l.get(c.c2e);const x=l.get(c.R0b);this.isNgZoneEnabled=x instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=function Lh(){return new Zn(new X2([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new w4(l,f,S=>this.triggerEvent(new _5(S)),S=>this.triggerEvent(new D6(S))),this.routerState=k6(this.currentUrlTree,this.rootComponentType),this.transitions=new U4({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(s4(i=>0!==i.id),(0,M2.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ne(i=>{let s=!1,l=!1;return b2(i).pipe((0,j4.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ne(f=>{const C=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Y0(f.source)&&(this.browserUrlTree=f.extractedUrl),b2(f).pipe(Ne(x=>{const S=this.transitions.getValue();return r.next(new E6(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),S!==this.transitions.getValue()?v5.E:Promise.resolve(x)}),function co(n,e,t,r){return Ne(i=>function G6(n,e,t,r,i){return new jr(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,M2.U)(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,j4.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function g(n,e,t,r,i){return(0,i3.z)(s=>function T8(n,e,t,r,i="emptyOnly",s="legacy"){try{const l=new mo(n,e,t,r,i,s).recognize();return null===l?en(new po):b2(l)}catch(l){return en(l)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe((0,M2.U)(l=>Object.assign(Object.assign({},s),{targetSnapshot:l}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,j4.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const A=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(A,x)}this.browserUrlTree=x.urlAfterRedirects}const S=new T6(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(S)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:A,source:D,restoredState:W,extras:a1}=f,H1=new E6(S,this.serializeUrl(A),D,W);r.next(H1);const F1=k6(A,this.rootComponentType).snapshot;return b2(Object.assign(Object.assign({},f),{targetSnapshot:F1,urlAfterRedirects:A,extras:Object.assign(Object.assign({},a1),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),v5.E}),Y1(f=>{const{targetSnapshot:C,id:v,extractedUrl:b,rawUrl:x,extras:{skipLocationChange:S,replaceUrl:A}}=f;return this.hooks.beforePreactivation(C,{navigationId:v,appliedUrlTree:b,rawUrlTree:x,skipLocationChange:!!S,replaceUrl:!!A})}),(0,j4.b)(f=>{const C=new _h(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(C)}),(0,M2.U)(f=>Object.assign(Object.assign({},f),{guards:lo(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function ho(n,e){return(0,i3.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?b2(Object.assign(Object.assign({},t),{guardsResult:!0})):function J9(n,e,t,r){return(0,Be.D)(n).pipe((0,i3.z)(i=>function $0(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?b2(s.map(f=>{const C=k5(f,e,i);let v;if(function xh(n){return n&&F6(n.canDeactivate)}(C))v=Y3(C.canDeactivate(n,e,t,r));else{if(!F6(C))throw new Error("Invalid CanDeactivate guard");v=Y3(C(n,e,t,r))}return v.pipe(y5())})).pipe(E5()):b2(!0)}(i.component,i.route,t,e,r)),y5(i=>!0!==i,!0))}(l,r,i,n).pipe((0,i3.z)(f=>f&&function so(n){return"boolean"==typeof n}(f)?function qr(n,e,t,r){return(0,Be.D)(e).pipe(A6(i=>Hr(function Co(n,e){return null!==n&&e&&e(new L8(n)),b2(!0)}(i.route.parent,r),function X9(n,e){return null!==n&&e&&e(new b8(n)),b2(!0)}(i.route,r),function q0(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function uo(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>g5(()=>b2(l.guards.map(C=>{const v=k5(C,l.node,t);let b;if(function P0(n){return n&&F6(n.canActivateChild)}(v))b=Y3(v.canActivateChild(r,n));else{if(!F6(v))throw new Error("Invalid CanActivateChild guard");b=Y3(v(r,n))}return b.pipe(y5())})).pipe(E5())));return b2(s).pipe(E5())}(n,i.path,t),function x4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return b2(!0);const i=r.map(s=>g5(()=>{const l=k5(s,e,t);let f;if(function A8(n){return n&&F6(n.canActivate)}(l))f=Y3(l.canActivate(e,n));else{if(!F6(l))throw new Error("Invalid CanActivate guard");f=Y3(l(e,n))}return f.pipe(y5())}));return b2(i).pipe(E5())}(n,i.route,t))),y5(i=>!0!==i,!0))}(r,s,n,e):b2(f)),(0,M2.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,j4.b)(f=>{if(A5(f.guardsResult)){const v=pn(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw v.url=f.guardsResult,v}const C=new M0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(C)}),s4(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Y1(f=>{if(f.guards.canActivateChecks.length)return b2(f).pipe((0,j4.b)(C=>{const v=new st(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(v)}),Ne(C=>{let v=!1;return b2(C).pipe(function M(n,e){return(0,i3.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return b2(t);let s=0;return(0,Be.D)(i).pipe(A6(l=>function z(n,e,t,r){return function E(n,e,t,r){const i=X(n);if(0===i.length)return b2({});const s={};return(0,Be.D)(i).pipe((0,i3.z)(l=>function M1(n,e,t,r){const i=k5(n,e,r);return Y3(i.resolve?i.resolve(e,t):i(e,t))}(n[l],e,t,r).pipe((0,j4.b)(f=>{s[l]=f}))),y0(1),(0,i3.z)(()=>X(s).length===i.length?b2(s):v5.E))}(n._resolve,n,e,r).pipe((0,M2.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),F9(n,t).resolve),null)))}(l.route,r,n,e)),(0,j4.b)(()=>s++),y0(1),(0,i3.z)(l=>s===i.length?b2(t):v5.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,j4.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,j4.b)(C=>{const v=new at(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(v)}))}),Y1(f=>{const{targetSnapshot:C,id:v,extractedUrl:b,rawUrl:x,extras:{skipLocationChange:S,replaceUrl:A}}=f;return this.hooks.afterPreactivation(C,{navigationId:v,appliedUrlTree:b,rawUrlTree:x,skipLocationChange:!!S,replaceUrl:!!A})}),(0,M2.U)(f=>{const C=function Qa(n,e,t){const r=S8(n,e._root,t?t._root:void 0);return new Nr(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:C})}),(0,j4.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,M2.U)(r=>(new io(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,j4.b)({next(){s=!0},complete(){s=!0}}),function I9(n){return(0,w3.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;s||l||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),G4(f=>{if(l=!0,function Mh(n){return n&&n[M5]}(f)){const C=A5(f.url);C||(this.navigated=!0,this.restoreHistory(i,!0));const v=new s3(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(v),C?setTimeout(()=>{const b=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Y0(i.source)};this.scheduleNavigation(b,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const C=new _0(i.id,this.serializeUrl(i.extractedUrl),f);r.next(C);try{i.resolve(this.errorHandler(f))}catch(v){i.reject(v)}}return v5.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},l=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(l){const C=Object.assign({},l);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(s.state=C)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,l,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){O6(t),this.config=t.map(O0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:l,queryParamsHandling:f,preserveFragment:C}=r,v=i||this.routerState.root,b=C?this.currentUrlTree.fragment:l;let x=null;switch(f){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=s||null}return null!==x&&(x=this.removeEmptyProps(x)),function _n(n,e,t,r,i){if(0===t.length)return V8(e.root,e.root,e.root,r,i);const s=function U9(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new N0(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const f={};return z3(s.outlets,(C,v)=>{f[v]="string"==typeof C?C.split("/"):C}),[...i,{outlets:f}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===l?(s.split("/").forEach((f,C)=>{0==C&&"."===f||(0==C&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,s]},[]);return new N0(t,e,r)}(t);if(s.toRoot())return V8(e.root,e.root,new X2([],{}),r,i);const l=function Xa(n,e,t){if(n.isAbsolute)return new H8(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new H8(s,s===e.root,0)}const r=Lt(n.commands[0])?0:1;return function eo(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new H8(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),f=l.processChildren?Pr(l.segmentGroup,l.index,s.commands):no(l.segmentGroup,l.index,s.commands);return V8(e.root,l.segmentGroup,f,r,i)}(v,this.currentUrlTree,t,x,null!=b?b:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=A5(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function K0(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Z0):!1===r?Object.assign({},Zr):r,A5(t))return I6(this.currentUrlTree,t,i);const s=this.parseUrl(t);return I6(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new M8(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,l){var f,C;if(this.disposed)return Promise.resolve(!1);let v,b,x;l?(v=l.resolve,b=l.reject,x=l.promise):x=new Promise((D,W)=>{v=D,b=W});const S=++this.navigationId;let A;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),A=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):A=0,this.setTransition({id:S,targetPageId:A,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:v,reject:b,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(D=>Promise.reject(D))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===l?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new s3(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Y0(n){return"imperative"!==n}let Q0=(()=>{class n{constructor(t,r,i,s,l){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=l,this.commands=null,this.onChanges=new Qe.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:R5(this.skipLocationChange),replaceUrl:R5(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:R5(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(S3),c.Y36(R6),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),$6=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Qe.x,this.subscription=t.events.subscribe(s=>{s instanceof M8&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,l){if(0!==t||r||i||s||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:R5(this.skipLocationChange),replaceUrl:R5(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:R5(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(S3),c.Y36(R6),c.Y36(g1))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function R5(n){return""===n||!!n}let yo=(()=>{class n{constructor(t,r,i,s,l,f){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=l,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(C=>{C instanceof M8&&this.update()})}ngAfterContentInit(){b2(this.links.changes,this.linksWithHrefs.changes,b2(null)).pipe((0,y8.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Be.D)(r).pipe((0,y8.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function nc(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(S3),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(Q0,8),c.Y36($6,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,Q0,5),c.Suo(i,$6,5)),2&t){let s;c.iGM(s=c.CRH())&&(r.links=s),c.iGM(s=c.CRH())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),n})();class rc{}class zh{preload(e,t){return b2(null)}}let Sh=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new w4(i,r,C=>t.triggerEvent(new _5(C)),C=>t.triggerEvent(new D6(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(s4(t=>t instanceof M8),A6(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const l=s._loadedConfig;i.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return(0,Be.D)(i).pipe((0,y8.J)(),(0,M2.U)(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?b2(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,i3.z)(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(S3),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(rc))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),_o=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof E6?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof M8&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof L0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new L0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const zt=new c.OlP("ROUTER_CONFIGURATION"),sc=new c.OlP("ROUTER_FORROOT_GUARD"),Vh=[V1,{provide:b5,useClass:Ir},{provide:S3,useFactory:function oc(n,e,t,r,i,s,l={},f,C){const v=new S3(null,n,e,t,r,i,Ga(s));return f&&(v.urlHandlingStrategy=f),C&&(v.routeReuseStrategy=C),function Eh(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,v),l.enableTracing&&v.events.subscribe(b=>{var x,S;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${b.constructor.name}`),console.log(b.toString()),console.log(b),null===(S=console.groupEnd)||void 0===S||S.call(console)}),v},deps:[b5,T5,V1,c.zs3,c.Sil,Je,zt,[class D8{},new c.FiY],[class l2{},new c.FiY]]},T5,{provide:R6,useFactory:function Mo(n){return n.routerState.root},deps:[S3]},Sh,zh,class ic{preload(e,t){return t().pipe(G4(()=>b2(null)))}},{provide:zt,useValue:{enableTracing:!1}}];function SM(){return new c.PXZ("Router",S3)}let P5=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Vh,ac(t),{provide:sc,useFactory:Ah,deps:[[S3,new c.FiY,new c.tp0]]},{provide:zt,useValue:r||{}},{provide:g1,useFactory:Hh,deps:[m1,[new c.tBr(c2),new c.FiY],zt]},{provide:_o,useFactory:VM,deps:[S3,u8,zt]},{provide:rc,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:zh},{provide:c.PXZ,multi:!0,useFactory:SM},[Kr,{provide:c.ip1,multi:!0,useFactory:Th,deps:[Kr]},{provide:lc,useFactory:cc,deps:[Kr]},{provide:c.tb,multi:!0,useExisting:lc}]]}}static forChild(t){return{ngModule:n,providers:[ac(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sc,8),c.LFG(S3,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function VM(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new _o(n,e,t)}function Hh(n,e,t={}){return t.useHash?new D1(n,e):new t2(n,e)}function Ah(n){return"guarded"}function ac(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Je,multi:!0,useValue:n}]}let Kr=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Qe.x}appInitializer(){return this.injector.get(Z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),s=this.injector.get(S3),l=this.injector.get(zt);return"disabled"===l.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?b2(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(zt),i=this.injector.get(Sh),s=this.injector.get(_o),l=this.injector.get(S3),f=this.injector.get(c.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&l.initialNavigation(),i.setUpPreloading(),s.init(),l.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Th(n){return n.appInitializer.bind(n)}function cc(n){return n.bootstrapListener.bind(n)}const lc=new c.OlP("Router Initializer");var w1=T(5861),Io={prefix:"fas",iconName:"award",icon:[384,512,[],"f559","M288 358.3c13.98-8.088 17.53-30.04 28.88-41.39c11.35-11.35 33.3-14.88 41.39-28.87c7.98-13.79 .1658-34.54 4.373-50.29C366.7 222.5 383.1 208.5 383.1 192c0-16.5-17.27-30.52-21.34-45.73c-4.207-15.75 3.612-36.5-4.365-50.29c-8.086-13.98-30.03-17.52-41.38-28.87c-11.35-11.35-14.89-33.3-28.87-41.39c-13.79-7.979-34.54-.1637-50.29-4.375C222.5 17.27 208.5 0 192 0C175.5 0 161.5 17.27 146.3 21.34C130.5 25.54 109.8 17.73 95.98 25.7C82 33.79 78.46 55.74 67.11 67.08C55.77 78.43 33.81 81.97 25.72 95.95C17.74 109.7 25.56 130.5 21.35 146.2C17.27 161.5 .0008 175.5 .0008 192c0 16.5 17.27 30.52 21.34 45.73c4.207 15.75-3.615 36.5 4.361 50.29C33.8 302 55.74 305.5 67.08 316.9c11.35 11.35 14.89 33.3 28.88 41.4c13.79 7.979 34.53 .1582 50.28 4.369C161.5 366.7 175.5 384 192 384c16.5 0 30.52-17.27 45.74-21.34C253.5 358.5 274.2 366.3 288 358.3zM112 192c0-44.27 35.81-80 80-80s80 35.73 80 80c0 44.17-35.81 80-80 80S112 236.2 112 192zM1.719 433.2c-3.25 8.188-1.781 17.48 3.875 24.25c5.656 6.75 14.53 9.898 23.12 8.148l45.19-9.035l21.43 42.27C99.46 507 107.6 512 116.7 512c.3438 0 .6641-.0117 1.008-.0273c9.5-.375 17.65-6.082 21.24-14.88l33.58-82.08c-53.71-4.639-102-28.12-138.2-63.95L1.719 433.2zM349.6 351.1c-36.15 35.83-84.45 59.31-138.2 63.95l33.58 82.08c3.594 8.797 11.74 14.5 21.24 14.88C266.6 511.1 266.1 512 267.3 512c9.094 0 17.23-4.973 21.35-13.14l21.43-42.28l45.19 9.035c8.594 1.75 17.47-1.398 23.12-8.148c5.656-6.766 7.125-16.06 3.875-24.25L349.6 351.1z"]},KC={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M320 336c0 8.844-7.156 16-16 16h-96C199.2 352 192 344.8 192 336V288H0v144C0 457.6 22.41 480 48 480h416c25.59 0 48-22.41 48-48V288h-192V336zM464 96H384V48C384 22.41 361.6 0 336 0h-160C150.4 0 128 22.41 128 48V96H48C22.41 96 0 118.4 0 144V256h512V144C512 118.4 489.6 96 464 96zM336 96h-160V48h160V96z"]},os={prefix:"fas",iconName:"calendar",icon:[448,512,[128198,128197],"f133","M96 32C96 14.33 110.3 0 128 0C145.7 0 160 14.33 160 32V64H288V32C288 14.33 302.3 0 320 0C337.7 0 352 14.33 352 32V64H400C426.5 64 448 85.49 448 112V160H0V112C0 85.49 21.49 64 48 64H96V32zM448 464C448 490.5 426.5 512 400 512H48C21.49 512 0 490.5 0 464V192H448V464z"]},cm={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"]},Sl={prefix:"fas",iconName:"comment-dots",icon:[512,512,[62075,128172,"commenting"],"f4ad","M256 31.1c-141.4 0-255.1 93.12-255.1 208c0 49.62 21.35 94.98 56.97 130.7c-12.5 50.37-54.27 95.27-54.77 95.77c-2.25 2.25-2.875 5.734-1.5 8.734c1.249 3 4.021 4.766 7.271 4.766c66.25 0 115.1-31.76 140.6-51.39c32.63 12.25 69.02 19.39 107.4 19.39c141.4 0 255.1-93.13 255.1-207.1S397.4 31.1 256 31.1zM127.1 271.1c-17.75 0-32-14.25-32-31.1s14.25-32 32-32s32 14.25 32 32S145.7 271.1 127.1 271.1zM256 271.1c-17.75 0-31.1-14.25-31.1-31.1s14.25-32 31.1-32s31.1 14.25 31.1 32S273.8 271.1 256 271.1zM383.1 271.1c-17.75 0-32-14.25-32-31.1s14.25-32 32-32s32 14.25 32 32S401.7 271.1 383.1 271.1z"]},Gl={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"]},vs={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,61443,9993],"f0e0","M464 64C490.5 64 512 85.49 512 112C512 127.1 504.9 141.3 492.8 150.4L275.2 313.6C263.8 322.1 248.2 322.1 236.8 313.6L19.2 150.4C7.113 141.3 0 127.1 0 112C0 85.49 21.49 64 48 64H464zM217.6 339.2C240.4 356.3 271.6 356.3 294.4 339.2L512 176V384C512 419.3 483.3 448 448 448H64C28.65 448 0 419.3 0 384V176L217.6 339.2z"]},q4={prefix:"fas",iconName:"graduation-cap",icon:[640,512,[127891,"mortar-board"],"f19d","M623.1 136.9l-282.7-101.2c-13.73-4.91-28.7-4.91-42.43 0L16.05 136.9C6.438 140.4 0 149.6 0 160s6.438 19.65 16.05 23.09L76.07 204.6c-11.89 15.8-20.26 34.16-24.55 53.95C40.05 263.4 32 274.8 32 288c0 9.953 4.814 18.49 11.94 24.36l-24.83 149C17.48 471.1 25 480 34.89 480H93.11c9.887 0 17.41-8.879 15.78-18.63l-24.83-149C91.19 306.5 96 297.1 96 288c0-10.29-5.174-19.03-12.72-24.89c4.252-17.76 12.88-33.82 24.94-47.03l190.6 68.23c13.73 4.91 28.7 4.91 42.43 0l282.7-101.2C633.6 179.6 640 170.4 640 160S633.6 140.4 623.1 136.9zM351.1 314.4C341.7 318.1 330.9 320 320 320c-10.92 0-21.69-1.867-32-5.555L142.8 262.5L128 405.3C128 446.6 213.1 480 320 480c105.1 0 192-33.4 192-74.67l-14.78-142.9L351.1 314.4z"]},MN={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z"]},zN={prefix:"fas",iconName:"laptop",icon:[640,512,[128187],"f109","M128 96h384v256h64v-272c0-26.38-21.62-48-48-48h-416c-26.38 0-48 21.62-48 48V352h64V96zM624 383.1h-608c-8.75 0-16 7.25-16 16v16c0 35.25 28.75 64 64 64h512c35.25 0 64-28.75 64-64v-16C640 391.2 632.8 383.1 624 383.1z"]},IN={prefix:"fas",iconName:"location-crosshairs",icon:[512,512,["location"],"f601","M176 256C176 211.8 211.8 176 256 176C300.2 176 336 211.8 336 256C336 300.2 300.2 336 256 336C211.8 336 176 300.2 176 256zM256 0C273.7 0 288 14.33 288 32V66.65C368.4 80.14 431.9 143.6 445.3 224H480C497.7 224 512 238.3 512 256C512 273.7 497.7 288 480 288H445.3C431.9 368.4 368.4 431.9 288 445.3V480C288 497.7 273.7 512 256 512C238.3 512 224 497.7 224 480V445.3C143.6 431.9 80.14 368.4 66.65 288H32C14.33 288 0 273.7 0 256C0 238.3 14.33 224 32 224H66.65C80.14 143.6 143.6 80.14 224 66.65V32C224 14.33 238.3 0 256 0zM128 256C128 326.7 185.3 384 256 384C326.7 384 384 326.7 384 256C384 185.3 326.7 128 256 128C185.3 128 128 185.3 128 256z"]},jN={prefix:"fas",iconName:"marker",icon:[512,512,[],"f5a1","M480.1 160.1L316.3 325.7L186.3 195.7L302.1 80L288.1 66.91C279.6 57.54 264.4 57.54 255 66.91L168.1 152.1C159.6 162.3 144.4 162.3 135 152.1C125.7 143.6 125.7 128.4 135 119L221.1 32.97C249.2 4.853 294.8 4.853 322.9 32.97L336 46.06L351 31.03C386.9-4.849 445.1-4.849 480.1 31.03C516.9 66.91 516.9 125.1 480.1 160.1V160.1zM229.5 412.5C181.5 460.5 120.3 493.2 53.7 506.5L28.71 511.5C20.84 513.1 12.7 510.6 7.03 504.1C1.356 499.3-1.107 491.2 .4662 483.3L5.465 458.3C18.78 391.7 51.52 330.5 99.54 282.5L163.7 218.3L293.7 348.3L229.5 412.5z"]},ev={prefix:"fas",iconName:"mobile",icon:[384,512,[128241,"mobile-android","mobile-phone"],"f3ce","M320 0H64C37.5 0 16 21.5 16 48v416C16 490.5 37.5 512 64 512h256c26.5 0 48-21.5 48-48v-416C368 21.5 346.5 0 320 0zM240 447.1C240 456.8 232.8 464 224 464H159.1C151.2 464 144 456.8 144 448S151.2 432 160 432h64C232.8 432 240 439.2 240 447.1z"]},gz={prefix:"fas",iconName:"reply",icon:[512,512,[61714,"mail-reply"],"f3e5","M8.31 189.9l176-151.1c15.41-13.3 39.69-2.509 39.69 18.16v80.05C384.6 137.9 512 170.1 512 322.3c0 61.44-39.59 122.3-83.34 154.1c-13.66 9.938-33.09-2.531-28.06-18.62c45.34-145-21.5-183.5-176.6-185.8v87.92c0 20.7-24.31 31.45-39.69 18.16l-176-151.1C-2.753 216.6-2.784 199.4 8.31 189.9z"]},EP={prefix:"fas",iconName:"user-tie",icon:[448,512,[],"f508","M352 128C352 198.7 294.7 256 224 256C153.3 256 96 198.7 96 128C96 57.31 153.3 0 224 0C294.7 0 352 57.31 352 128zM209.1 359.2L176 304H272L238.9 359.2L272.2 483.1L311.7 321.9C388.9 333.9 448 400.7 448 481.3C448 498.2 434.2 512 417.3 512H30.72C13.75 512 0 498.2 0 481.3C0 400.7 59.09 333.9 136.3 321.9L175.8 483.1L209.1 359.2z"]},DP={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M319.9 320c57.41 0 103.1-46.56 103.1-104c0-57.44-46.54-104-103.1-104c-57.41 0-103.1 46.56-103.1 104C215.9 273.4 262.5 320 319.9 320zM369.9 352H270.1C191.6 352 128 411.7 128 485.3C128 500.1 140.7 512 156.4 512h327.2C499.3 512 512 500.1 512 485.3C512 411.7 448.4 352 369.9 352zM512 160c44.18 0 80-35.82 80-80S556.2 0 512 0c-44.18 0-80 35.82-80 80S467.8 160 512 160zM183.9 216c0-5.449 .9824-10.63 1.609-15.91C174.6 194.1 162.6 192 149.9 192H88.08C39.44 192 0 233.8 0 285.3C0 295.6 7.887 304 17.62 304h199.5C196.7 280.2 183.9 249.7 183.9 216zM128 160c44.18 0 80-35.82 80-80S172.2 0 128 0C83.82 0 48 35.82 48 80S83.82 160 128 160zM551.9 192h-61.84c-12.8 0-24.88 3.037-35.86 8.24C454.8 205.5 455.8 210.6 455.8 216c0 33.71-12.78 64.21-33.16 88h199.7C632.1 304 640 295.6 640 285.3C640 233.8 600.6 192 551.9 192z"]},ZP={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M507.6 122.8c-2.904-12.09-18.25-16.13-27.04-7.338l-76.55 76.56l-83.1-.0002l0-83.1l76.55-76.56c8.791-8.789 4.75-24.14-7.336-27.04c-23.69-5.693-49.34-6.111-75.92 .2484c-61.45 14.7-109.4 66.9-119.2 129.3C189.8 160.8 192.3 186.7 200.1 210.1l-178.1 178.1c-28.12 28.12-28.12 73.69 0 101.8C35.16 504.1 53.56 512 71.1 512s36.84-7.031 50.91-21.09l178.1-178.1c23.46 7.736 49.31 10.24 76.17 6.004c62.41-9.84 114.6-57.8 129.3-119.2C513.7 172.1 513.3 146.5 507.6 122.8zM80 456c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24s24 10.74 24 24C104 445.3 93.25 456 80 456z"]};class _a1{}var Dz=T(4986),Qu=T(6451),KP=T(3099);function Iz(n,e=yt.y){return n=null!=n?n:Ma1,(0,w3.e)((t,r)=>{let i,s=!0;t.subscribe((0,Ge.x)(r,l=>{const f=e(l);(s||!n(i,f))&&(s=!1,i=f,r.next(l))}))})}function Ma1(n,e){return n===e}var YP=T(5032),re=T(880),V3=T(2011),Nz=(T(7092),T(3942)),Z6=T(4859),St=T(9681),N=T(2090),K6=T(1877);const QP="@firebase/database";let kz="";function XP(n){kz=n}class xa1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,N.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,N.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class wa1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,N.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const eF=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new xa1(e)}}catch(e){}return new wa1},Ls=eF("localStorage"),Rz=eF("sessionStorage"),v7=new K6.Yd("@firebase/database"),tF=function(){let n=1;return function(){return n++}}(),nF=function(n){const e=(0,N.dS)(n),t=new N.gQ;t.update(e);const r=t.digest();return N.US.encodeByteArray(r)},Ju=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Ju.apply(null,r):e+="object"==typeof r?(0,N.Pz)(r):r,e+=" "}return e};let bs=null,rF=!0;const iF=function(n,e){(0,N.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(v7.logLevel=K6.in.VERBOSE,bs=v7.log.bind(v7),e&&Rz.set("logging_enabled",!0)):"function"==typeof n?bs=n:(bs=null,Rz.remove("logging_enabled"))},V4=function(...n){if(!0===rF&&(rF=!1,null===bs&&!0===Rz.get("logging_enabled")&&iF(!0)),bs){const e=Ju.apply(null,n);bs(e)}},Xu=function(n){return function(...e){V4(n,...e)}},Pz=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ju(...n);v7.error(e)},U5=function(...n){const e=`FIREBASE FATAL ERROR: ${Ju(...n)}`;throw v7.error(e),new Error(e)},ct=function(...n){const e="FIREBASE WARNING: "+Ju(...n);v7.warn(e)},uv=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},B8="[MIN_NAME]",G5="[MAX_NAME]",xs=function(n,e){if(n===e)return 0;if(n===B8||e===G5)return-1;if(e===B8||n===G5)return 1;{const t=fv(n),r=fv(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Va1=function(n,e){return n===e?0:n<e?-1:1},ef=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Pz)(e))},Fz=function(n){if("object"!=typeof n||null===n)return(0,N.Pz)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,N.Pz)(e[r]),t+=":",t+=Fz(n[e[r]]);return t+="}",t},sF=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function H4(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const aF=function(n){(0,N.hu)(!uv(n),"Invalid JSON number");const r=1023;let i,s,l,f,C;0===n?(s=0,l=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=f+r,l=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const v=[];for(C=52;C;C-=1)v.push(l%2?1:0),l=Math.floor(l/2);for(C=11;C;C-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(i?1:0),v.reverse();const b=v.join("");let x="";for(C=0;C<64;C+=8){let S=parseInt(b.substr(C,8),2).toString(16);1===S.length&&(S="0"+S),x+=S}return x.toLowerCase()},Ta1=new RegExp("^-?(0*)\\d{1,10}$"),oF=-2147483648,Oz=2147483647,fv=function(n){if(Ta1.test(n)){const e=Number(n);if(e>=oF&&e<=Oz)return e}return null},y7=function(n){try{n()}catch(e){setTimeout(()=>{throw ct("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},tf=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class Ia1{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ct(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Na1{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(V4("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ct(e)}}let nf=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const dF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pF="websocket",mF="long_polling";class Uz{constructor(e,t,r,i,s=!1,l="",f=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ls.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ls.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function gF(n,e,t){let r;if((0,N.hu)("string"==typeof e,"typeof type must == string"),(0,N.hu)("object"==typeof t,"typeof params must == object"),e===pF)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==mF)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function ka1(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return H4(t,(s,l)=>{i.push(s+"="+l)}),r+i.join("&")}class Ra1{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,N.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,N.p$)(this.counters_)}}const Gz={},jz={};function qz(n){const e=n.toString();return Gz[e]||(Gz[e]=new Ra1),Gz[e]}class Fa1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&y7(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class _i{constructor(e,t,r,i,s,l,f){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=l,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xu(e),this.stats_=qz(t),this.urlFn=C=>(this.appCheckToken&&(C.ac=this.appCheckToken),gF(t,mF,C))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Fa1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $z((...s)=>{const[l,f,C,v,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=f,this.password=C;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,f]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,f)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&dF.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_i.forceAllow_=!0}static forceDisallow(){_i.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!_i.forceAllow_&&(_i.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,N.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,N.h$)(t),i=sF(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,N.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class $z{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=tF(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=$z.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(f){V4("frame writing exception"),f.stack&&V4(f.stack),V4(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||V4("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+i+"="+l.seg+"&ts"+i+"="+l.ts+"&d"+i+"="+l.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,N.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{V4("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let hv=null;"undefined"!=typeof MozWebSocket?hv=MozWebSocket:"undefined"!=typeof WebSocket&&(hv=WebSocket);let _7=(()=>{class n{constructor(t,r,i,s,l,f,C){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xu(this.connId),this.stats_=qz(r),this.connURL=n.connectionURL_(r,f,C,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,l){const f={v:"5"};return!(0,N.Yr)()&&"undefined"!=typeof location&&location.hostname&&dF.test(location.hostname)&&(f.r="f"),r&&(f.s=r),i&&(f.ls=i),s&&(f.ac=s),l&&(f.p=l),gF(t,pF,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ls.set("previous_websocket_failure",!0);try{let i;if((0,N.Yr)()){const l={headers:{"User-Agent":`Firebase/5/${kz}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,C=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;C&&(l.proxy={origin:C})}this.mySock=new hv(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==hv&&!n.forceDisallow_}static previouslyFailed(){return Ls.isInMemoryStorage||!0===Ls.get("previous_websocket_failure")}markConnectionHealthy(){Ls.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,N.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,N.Pz)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=sF(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),xF=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[_i,_7]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=_7&&_7.isAvailable();let i=r&&!_7.previouslyFailed();if(t.webSocketOnly&&(r||ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[_7];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class EF{constructor(e,t,r,i,s,l,f,C,v,b){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=l,this.onReady_=f,this.onDisconnect_=C,this.onKill_=v,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xu("c:"+this.id+":"),this.transportManager_=new xF(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=tf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ef("t",e),r=ef("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ef("t",e),r=ef("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ef("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Pz("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pz("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),tf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ls.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class TF{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class DF{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,N.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,N.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Cv extends DF{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cv}getInitialEvent(e){return(0,N.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ke{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ve(){return new ke("")}function le(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Mi(n){return n.pieces_.length-n.pieceNum_}function Xe(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ke(n.pieces_,e)}function Zz(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function rf(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function kF(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ke(e,0)}function v3(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new ke(t,0)}function ue(n){return n.pieceNum_>=n.pieces_.length}function Vt(n,e){const t=le(n),r=le(e);if(null===t)return e;if(t===r)return Vt(Xe(n),Xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function oo1(n,e){const t=rf(n,0),r=rf(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=xs(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function Kz(n,e){if(Mi(n)!==Mi(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function c6(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Mi(n)>Mi(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class co1{constructor(e,t){this.errorPrefix_=t,this.parts_=rf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,N.ug)(this.parts_[r]);RF(this)}}function RF(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ws(n))}function ws(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Yz extends DF{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Yz}getInitialEvent(e){return(0,N.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const sf=1e3;let mv,zs=(()=>{class n extends TF{constructor(t,r,i,s,l,f,C,v){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=C,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=Xu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yz.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Cv.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,l={r:s,a:t,b:r};this.log_((0,N.Pz)(l)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new N.BH,i={p:t._path.toString(),q:t._queryObject},s={action:"g",request:i,onComplete:f=>{const C=f.d;"ok"===f.s?(this.onDataUpdate_(i.p,C,!1,null),r.resolve(C)):r.reject(C)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const f=this.outstandingGets_[l];void 0===f||s!==f||(delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+l+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(l),r.promise}listen(t,r,i,s){this.initConnection_();const l=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+l),this.listens.has(f)||this.listens.set(f,new Map),(0,N.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(f).has(l),"listen() called twice for same path/queryId.");const C={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(f).set(l,C),this.connected_&&this.sendListen_(C)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const l={p:i};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,C=>{const v=C.d,b=C.s;n.warnOnListenWarnings_(v,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",C),"ok"!==b&&this.removeListen_(i,s),t.onComplete&&t.onComplete(b,v))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,N.r3)(t,"w")){const i=(0,N.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,N.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,N.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const l=s.s,f=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,N.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const l={p:t};s&&(l.q=i,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const l={p:r,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,f=>{s&&setTimeout(()=>{s(f.s,f.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,l){this.initConnection_();const f={p:r,d:i};void 0!==l&&(f.h=l),this.outstandingPuts_.push({action:t,request:f,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,N.Pz)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Pz("Unrecognized action received from server: "+(0,N.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sf,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=sf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,w1.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,f=t.lastSessionId;let C=!1,v=null;const b=function(){v?v.close():(C=!0,s())};t.realtime_={close:b,sendRequest:function(A){(0,N.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(A)}};const S=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[A,D]=yield Promise.all([t.authTokenProvider_.getToken(S),t.appCheckTokenProvider_.getToken(S)]);C?V4("getToken() completed but was canceled"):(V4("getToken() completed. Creating connection."),t.authToken_=A&&A.accessToken,t.appCheckToken_=D&&D.token,v=new EF(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,W=>{ct(W+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},f))}catch(A){t.log_("Failed to get token: "+A),C||(t.repoInfo_.nodeAdmin&&ct(A),b())}}})()}interrupt(t){V4("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){V4("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=sf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(l=>Fz(l)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new ke(t).toString();let s;if(this.listens.has(i)){const l=this.listens.get(i);s=l.get(r),l.delete(r),0===l.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){V4("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){V4("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,N.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+kz.replace(/\./g,"-")]=1,(0,N.uI)()?t["framework.cordova"]=1:(0,N.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Cv.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class fe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new fe(e,t)}}class pv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new fe(B8,e),i=new fe(B8,t);return 0!==this.compare(r,i)}minPost(){return fe.MIN}}class OF extends pv{static get __EMPTY_NODE(){return mv}static set __EMPTY_NODE(e){mv=e}compare(e,t){return xs(e.name,t.name)}isDefinedOn(e){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return fe.MIN}maxPost(){return new fe(G5,mv)}makePost(e,t){return(0,N.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new fe(e,mv)}toString(){return".key"}}const j5=new OF;class gv{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Jz,Y6=(()=>{class n{constructor(t,r,i,s,l){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:sn.EMPTY_NODE,this.right=null!=l?l:sn.EMPTY_NODE}copy(t,r,i,s,l){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=l?l:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const l=i(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===l?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return sn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return sn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class sn{constructor(e,t=sn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new sn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Y6.BLACK,null,null))}remove(e){return new sn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Y6.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new gv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new gv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new gv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new gv(this.root_,null,this.comparator_,!0,e)}}function go1(n,e){return xs(n.name,e.name)}function Qz(n,e){return xs(n,e)}sn.EMPTY_NODE=new class mo1{copy(e,t,r,i,s){return this}insert(e,t,r){return new Y6(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const BF=function(n){return"number"==typeof n?"number:"+aF(n):"string:"+n},UF=function(n){if(n.isLeafNode()){const e=n.val();(0,N.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,N.r3)(e,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===Jz||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===Jz||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let GF,jF,qF,M7=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),UF(this.priorityNode_)}static set __childrenNodeConstructor(t){GF=t}static get __childrenNodeConstructor(){return GF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ue(t)?this:".priority"===le(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=le(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,N.hu)(".priority"!==i||1===Mi(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xe(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+BF(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?aF(this.value_):this.value_,this.lazyHash_=nF(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),l=n.VALUE_TYPE_ORDER.indexOf(i);return(0,N.hu)(s>=0,"Unknown leaf type: "+r),(0,N.hu)(l>=0,"Unknown leaf type: "+i),s===l?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const a3=new class Mo1 extends pv{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?xs(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(G5,new M7("[PRIORITY-POST]",qF))}makePost(e,t){const r=jF(e);return new fe(t,new M7("[PRIORITY-POST]",r))}toString(){return".priority"}},Lo1=Math.log(2);class bo1{constructor(e){this.count=parseInt(Math.log(e+1)/Lo1,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vv=function(n,e,t,r){n.sort(e);const i=function(C,v){const b=v-C;let x,S;if(0===b)return null;if(1===b)return x=n[C],S=t?t(x):x,new Y6(S,x.node,Y6.BLACK,null,null);{const A=parseInt(b/2,10)+C,D=i(C,A),W=i(A+1,v);return x=n[A],S=t?t(x):x,new Y6(S,x.node,Y6.BLACK,D,W)}},f=function(C){let v=null,b=null,x=n.length;const S=function(D,W){const a1=x-D,H1=x;x-=D;const F1=i(a1+1,H1),W1=n[a1],J1=t?t(W1):W1;A(new Y6(J1,W1.node,W,null,F1))},A=function(D){v?(v.left=D,v=D):(b=D,v=D)};for(let D=0;D<C.count;++D){const W=C.nextBitIsOne(),a1=Math.pow(2,C.count-(D+1));W?S(a1,Y6.BLACK):(S(a1,Y6.BLACK),S(a1,Y6.RED))}return b}(new bo1(n.length));return new sn(r||e,f)};let Xz;const L7={};class U8{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,N.hu)(L7&&a3,"ChildrenNode.ts has not been loaded"),Xz=Xz||new U8({".priority":L7},{".priority":a3}),Xz}get(e){const t=(0,N.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof sn?t:null}hasIndex(e){return(0,N.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,N.hu)(e!==j5,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(fe.Wrap);let f,l=s.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=s.getNext();f=i?vv(r,e.getCompare()):L7;const C=e.toString(),v=Object.assign({},this.indexSet_);v[C]=e;const b=Object.assign({},this.indexes_);return b[C]=f,new U8(b,v)}addToIndexes(e,t){const r=(0,N.UI)(this.indexes_,(i,s)=>{const l=(0,N.DV)(this.indexSet_,s);if((0,N.hu)(l,"Missing index implementation for "+s),i===L7){if(l.isDefinedOn(e.node)){const f=[],C=t.getIterator(fe.Wrap);let v=C.getNext();for(;v;)v.name!==e.name&&f.push(v),v=C.getNext();return f.push(e),vv(f,l.getCompare())}return L7}{const f=t.get(e.name);let C=i;return f&&(C=C.remove(new fe(e.name,f))),C.insert(e,e.node)}});return new U8(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,N.UI)(this.indexes_,i=>{if(i===L7)return i;{const s=t.get(e.name);return s?i.remove(new fe(e.name,s)):i}});return new U8(r,this.indexSet_)}}let af,J2=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&UF(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return af||(af=new n(new sn(Qz),null,U8.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||af}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?af:r}}getChild(t){const r=le(t);return null===r?this:this.getImmediateChild(r).getChild(Xe(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,N.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new fe(t,r);let s,l;r.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(i,this.children_));const f=s.isEmpty()?af:this.priorityNode_;return new n(s,f,l)}}updateChild(t,r){const i=le(t);if(null===i)return r;{(0,N.hu)(".priority"!==le(t)||1===Mi(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Xe(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,l=!0;if(this.forEachChild(a3,(f,C)=>{r[f]=C.val(t),i++,l&&n.INTEGER_REGEXP_.test(f)?s=Math.max(s,Number(f)):l=!1}),!t&&l&&s<2*i){const f=[];for(const C in r)f[C]=r[C];return f}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+BF(this.getPriority().val())+":"),this.forEachChild(a3,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":nF(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const l=s.getPredecessorKey(new fe(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new fe(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new fe(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,fe.Wrap);let l=s.peek();for(;null!=l&&r.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,fe.Wrap);let l=s.peek();for(;null!=l&&r.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===cf?-1:0}withIndex(t){if(t===j5||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===j5||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(a3),s=r.getIterator(a3);let l=i.getNext(),f=s.getNext();for(;l&&f;){if(l.name!==f.name||!l.node.equals(f.node))return!1;l=i.getNext(),f=s.getNext()}return null===l&&null===f}return!1}return!1}}resolveIndex_(t){return t===j5?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const cf=new class xo1 extends J2{constructor(){super(new sn(Qz),J2.EMPTY_NODE,U8.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J2.EMPTY_NODE}isEmpty(){return!1}};function H3(n,e=null){if(null===n)return J2.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,N.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new M7(n,H3(e));if(n instanceof Array){let t=J2.EMPTY_NODE;return H4(n,(r,i)=>{if((0,N.r3)(n,r)&&"."!==r.substring(0,1)){const s=H3(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(H3(e))}{const t=[];let r=!1;if(H4(n,(l,f)=>{if("."!==l.substring(0,1)){const C=H3(f);C.isEmpty()||(r=r||!C.getPriority().isEmpty(),t.push(new fe(l,C)))}}),0===t.length)return J2.EMPTY_NODE;const s=vv(t,go1,l=>l.name,Qz);if(r){const l=vv(t,a3.getCompare());return new J2(s,H3(e),new U8({".priority":l},{".priority":a3}))}return new J2(s,H3(e),U8.Default)}}Object.defineProperties(fe,{MIN:{value:new fe(B8,J2.EMPTY_NODE)},MAX:{value:new fe(G5,cf)}}),OF.__EMPTY_NODE=J2.EMPTY_NODE,M7.__childrenNodeConstructor=J2,function vo1(n){Jz=n}(cf),function _o1(n){qF=n}(cf),function yo1(n){jF=n}(H3);class eS extends pv{constructor(e){super(),this.indexPath_=e,(0,N.hu)(!ue(e)&&".priority"!==le(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?xs(e.name,t.name):s}makePost(e,t){const r=H3(e),i=J2.EMPTY_NODE.updateChild(this.indexPath_,r);return new fe(t,i)}maxPost(){const e=J2.EMPTY_NODE.updateChild(this.indexPath_,cf);return new fe(G5,e)}toString(){return rf(this.indexPath_,0).join("/")}}const tS=new class zo1 extends pv{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?xs(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,t){const r=H3(e);return new fe(t,r)}toString(){return".value"}},b7="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",So1=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const s=new Array(8);for(i=7;i>=0;i--)s[i]=b7.charAt(t%64),t=Math.floor(t/64);(0,N.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)l+=b7.charAt(e[i]);return(0,N.hu)(20===l.length,"nextPushId: Length should be 20."),l}}(),ZF=function(n){if(n===""+Oz)return"-";const e=fv(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let l=0;l<t.length;l++)t[l]=n.charAt(l);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return G5;const s=b7.charAt(b7.indexOf(t[r])+1);return t[r]=s,t.slice(0,r+1).join("")},KF=function(n){if(n===""+oF)return B8;const e=fv(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+Oz:(delete t[t.length-1],t.join("")):(t[t.length-1]=b7.charAt(b7.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function YF(n){return{type:"value",snapshotNode:n}}function x7(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function lf(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function uf(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class rS{constructor(e){this.index_=e}updateChild(e,t,r,i,s,l){(0,N.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(t);return f.getChild(i).equals(r.getChild(i))&&f.isEmpty()===r.isEmpty()||(null!=l&&(r.isEmpty()?e.hasChild(t)?l.trackChildChange(lf(t,f)):(0,N.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?l.trackChildChange(x7(t,r)):l.trackChildChange(uf(t,r,f))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(a3,(i,s)=>{t.hasChild(i)||r.trackChildChange(lf(i,s))}),t.isLeafNode()||t.forEachChild(a3,(i,s)=>{if(e.hasChild(i)){const l=e.getImmediateChild(i);l.equals(s)||r.trackChildChange(uf(i,s,l))}else r.trackChildChange(x7(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?J2.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ff{constructor(e){this.indexedFilter_=new rS(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ff.getStartPost_(e),this.endPost_=ff.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,s,l){return this.matches(new fe(t,r))||(r=J2.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,l)}updateFullNode(e,t,r){t.isLeafNode()&&(t=J2.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(J2.EMPTY_NODE);const s=this;return t.forEachChild(a3,(l,f)=>{s.matches(new fe(l,f))||(i=i.updateImmediateChild(l,J2.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Ho1{constructor(e){this.rangedFilter_=new ff(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,s,l){return this.rangedFilter_.matches(new fe(t,r))||(r=J2.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,l):this.fullLimitUpdateChild_(e,t,r,s,l)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=J2.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=J2.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const f=s.getNext();let C;if(C=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),f)<=0:this.index_.compare(f,this.rangedFilter_.getEndPost())<=0,!C)break;i=i.updateImmediateChild(f.name,f.node),l++}}else{let s,l,f,C;if(i=t.withIndex(this.index_),i=i.updatePriority(J2.EMPTY_NODE),this.reverse_){C=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();const x=this.index_.getCompare();f=(S,A)=>x(A,S)}else C=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();let v=0,b=!1;for(;C.hasNext();){const x=C.getNext();!b&&f(s,x)<=0&&(b=!0),b&&v<this.limit_&&f(x,l)<=0?v++:i=i.updateImmediateChild(x.name,J2.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let l;if(this.reverse_){const x=this.index_.getCompare();l=(S,A)=>x(A,S)}else l=this.index_.getCompare();const f=e;(0,N.hu)(f.numChildren()===this.limit_,"");const C=new fe(t,r),v=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),b=this.rangedFilter_.matches(C);if(f.hasChild(t)){const x=f.getImmediateChild(t);let S=i.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=S&&(S.name===t||f.hasChild(S.name));)S=i.getChildAfterChild(this.index_,S,this.reverse_);const A=null==S?1:l(S,C);if(b&&!r.isEmpty()&&A>=0)return null!=s&&s.trackChildChange(uf(t,r,x)),f.updateImmediateChild(t,r);{null!=s&&s.trackChildChange(lf(t,x));const W=f.updateImmediateChild(t,J2.EMPTY_NODE);return null!=S&&this.rangedFilter_.matches(S)?(null!=s&&s.trackChildChange(x7(S.name,S.node)),W.updateImmediateChild(S.name,S.node)):W}}return r.isEmpty()?e:b&&l(v,C)>=0?(null!=s&&(s.trackChildChange(lf(v.name,v.node)),s.trackChildChange(x7(t,r))),f.updateImmediateChild(t,r).updateImmediateChild(v.name,J2.EMPTY_NODE)):e}}class yv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=a3}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:B8}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:G5}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===a3}copy(){const e=new yv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iS(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function sS(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function _v(n,e){const t=n.copy();return t.index_=e,t}function QF(n){const e={};if(n.isDefault())return e;let t;return n.index_===a3?t="$priority":n.index_===tS?t="$value":n.index_===j5?t="$key":((0,N.hu)(n.index_ instanceof eS,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,N.Pz)(t),n.startSet_&&(e.startAt=(0,N.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,N.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,N.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,N.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function JF(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==a3&&(e.i=n.index_.toString()),e}class Mv extends TF{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Xu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,N.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=Mv.getListenId_(e,r),f={};this.listens_[l]=f;const C=QF(e._queryParams);this.restRequest_(s+".json",C,(v,b)=>{let x=b;if(404===v&&(x=null,v=null),null===v&&this.onDataUpdate_(s,x,!1,r),(0,N.DV)(this.listens_,l)===f){let S;S=v?401===v?"permission_denied":"rest_error:"+v:"ok",i(S,null)}})}unlisten(e,t){const r=Mv.getListenId_(e,t);delete this.listens_[r]}get(e){const t=QF(e._queryParams),r=e._path.toString(),i=new N.BH;return this.restRequest_(r+".json",t,(s,l)=>{let f=l;404===s&&(f=null,s=null),null===s?(this.onDataUpdate_(r,f,!1,null),i.resolve(f)):i.reject(new Error(f))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,N.xO)(t);this.log_("Sending REST request for "+l);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&4===f.readyState){this.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);let C=null;if(f.status>=200&&f.status<300){try{C=(0,N.cI)(f.responseText)}catch(v){ct("Failed to parse JSON response for "+l+": "+f.responseText)}r(null,C)}else 401!==f.status&&404!==f.status&&ct("Got unsuccessful REST response for "+l+" Status: "+f.status),r(f.status);r=null}},f.open("GET",l,!0),f.send()})}}class No1{constructor(){this.rootNode_=J2.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Lv(){return{value:null,children:new Map}}function w7(n,e,t){if(ue(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=le(e);n.children.has(r)||n.children.set(r,Lv()),w7(n.children.get(r),e=Xe(e),t)}}function aS(n,e){if(ue(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(a3,(r,i)=>{w7(n,new ke(r),i)}),aS(n,e)}}if(n.children.size>0){const t=le(e);return e=Xe(e),n.children.has(t)&&aS(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function oS(n,e,t){null!==n.value?t(e,n.value):function ko1(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{oS(i,new ke(e.toString()+"/"+r),t)})}class Ro1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&H4(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Oo1{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ro1(e);const r=1e4+2e4*Math.random();tf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;H4(e,(i,s)=>{s>0&&(0,N.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),tf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var l6=(()=>{return(n=l6||(l6={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",l6;var n})();function uS(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class bv{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=l6.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ue(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ke(e));return new bv(Ve(),t,this.revert)}}return(0,N.hu)(le(this.path)===e,"operationForChild called for unrelated child."),new bv(Xe(this.path),this.affectedTree,this.revert)}}class df{constructor(e,t){this.source=e,this.path=t,this.type=l6.LISTEN_COMPLETE}operationForChild(e){return ue(this.path)?new df(this.source,Ve()):new df(this.source,Xe(this.path))}}class Ss{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=l6.OVERWRITE}operationForChild(e){return ue(this.path)?new Ss(this.source,Ve(),this.snap.getImmediateChild(e)):new Ss(this.source,Xe(this.path),this.snap)}}class z7{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=l6.MERGE}operationForChild(e){if(ue(this.path)){const t=this.children.subtree(new ke(e));return t.isEmpty()?null:t.value?new Ss(this.source,Ve(),t.value):new z7(this.source,Ve(),t)}return(0,N.hu)(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new z7(this.source,Xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Li{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ue(e))return this.isFullyInitialized()&&!this.filtered_;const t=le(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Bo1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function hf(n,e,t,r,i,s){const l=r.filter(f=>f.type===t);l.sort((f,C)=>function jo1(n,e,t){if(null==e.childName||null==t.childName)throw(0,N.g5)("Should only compare child_ events.");const r=new fe(e.childName,e.snapshotNode),i=new fe(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,f,C)),l.forEach(f=>{const C=function Go1(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,f,s);i.forEach(v=>{v.respondsTo(f.type)&&e.push(v.createEvent(C,n.query_))})})}function xv(n,e){return{eventCache:n,serverCache:e}}function Cf(n,e,t,r){return xv(new Li(e,t,r),n.serverCache)}function eO(n,e,t,r){return xv(n.eventCache,new Li(e,t,r))}function wv(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Vs(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let fS;class o3{constructor(e,t=(()=>(fS||(fS=new sn(Va1)),fS))()){this.value=e,this.children=t}static fromObject(e){let t=new o3(null);return H4(e,(r,i)=>{t=t.set(new ke(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ve(),value:this.value};if(ue(e))return null;{const r=le(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Xe(e),t);return null!=s?{path:v3(new ke(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ue(e))return this;{const t=le(e),r=this.children.get(t);return null!==r?r.subtree(Xe(e)):new o3(null)}}set(e,t){if(ue(e))return new o3(t,this.children);{const r=le(e),s=(this.children.get(r)||new o3(null)).set(Xe(e),t),l=this.children.insert(r,s);return new o3(this.value,l)}}remove(e){if(ue(e))return this.children.isEmpty()?new o3(null):new o3(null,this.children);{const t=le(e),r=this.children.get(t);if(r){const i=r.remove(Xe(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new o3(null):new o3(this.value,s)}return this}}get(e){if(ue(e))return this.value;{const t=le(e),r=this.children.get(t);return r?r.get(Xe(e)):null}}setTree(e,t){if(ue(e))return t;{const r=le(e),s=(this.children.get(r)||new o3(null)).setTree(Xe(e),t);let l;return l=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new o3(this.value,l)}}fold(e){return this.fold_(Ve(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(v3(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Ve(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(ue(e))return null;{const s=le(e),l=this.children.get(s);return l?l.findOnPath_(Xe(e),v3(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ve(),t)}foreachOnPath_(e,t,r){if(ue(e))return this;{this.value&&r(t,this.value);const i=le(e),s=this.children.get(i);return s?s.foreachOnPath_(Xe(e),v3(t,i),r):new o3(null)}}foreach(e){this.foreach_(Ve(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(v3(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Q6{constructor(e){this.writeTree_=e}static empty(){return new Q6(new o3(null))}}function pf(n,e,t){if(ue(e))return new Q6(new o3(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const l=Vt(i,e);return s=s.updateChild(l,t),new Q6(n.writeTree_.set(i,s))}{const i=new o3(t),s=n.writeTree_.setTree(e,i);return new Q6(s)}}}function dS(n,e,t){let r=n;return H4(t,(i,s)=>{r=pf(r,v3(e,i),s)}),r}function tO(n,e){if(ue(e))return Q6.empty();{const t=n.writeTree_.setTree(e,new o3(null));return new Q6(t)}}function hS(n,e){return null!=Hs(n,e)}function Hs(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Vt(t.path,e)):null}function nO(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(a3,(r,i)=>{e.push(new fe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new fe(r,i.value))}),e}function bi(n,e){if(ue(e))return n;{const t=Hs(n,e);return new Q6(null!=t?new o3(t):n.writeTree_.subtree(e))}}function CS(n){return n.writeTree_.isEmpty()}function S7(n,e){return rO(Ve(),n.writeTree_,e)}function rO(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,N.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=rO(v3(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(v3(n,".priority"),r)),t}}function zv(n,e){return cO(e,n)}function Yo1(n,e){if(n.snap)return c6(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&c6(v3(n.path,t),e))return!0;return!1}function Jo1(n){return n.visible}function iO(n,e,t){let r=Q6.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const l=s.path;let f;if(s.snap)c6(t,l)?(f=Vt(t,l),r=pf(r,f,s.snap)):c6(l,t)&&(f=Vt(l,t),r=pf(r,Ve(),s.snap.getChild(f)));else{if(!s.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(c6(t,l))f=Vt(t,l),r=dS(r,f,s.children);else if(c6(l,t))if(f=Vt(l,t),ue(f))r=dS(r,Ve(),s.children);else{const C=(0,N.DV)(s.children,le(f));if(C){const v=C.getChild(Xe(f));r=pf(r,Ve(),v)}}}}}return r}function sO(n,e,t,r,i){if(r||i){const s=bi(n.visibleWrites,e);return!i&&CS(s)?t:i||null!=t||hS(s,Ve())?S7(iO(n.allWrites,function(v){return(v.visible||i)&&(!r||!~r.indexOf(v.writeId))&&(c6(v.path,e)||c6(e,v.path))},e),t||J2.EMPTY_NODE):null}{const s=Hs(n.visibleWrites,e);if(null!=s)return s;{const l=bi(n.visibleWrites,e);return CS(l)?t:null!=t||hS(l,Ve())?S7(l,t||J2.EMPTY_NODE):null}}}function Sv(n,e,t,r){return sO(n.writeTree,n.treePath,e,t,r)}function pS(n,e){return function Xo1(n,e,t){let r=J2.EMPTY_NODE;const i=Hs(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(a3,(s,l)=>{r=r.updateImmediateChild(s,l)}),r;if(t){const s=bi(n.visibleWrites,e);return t.forEachChild(a3,(l,f)=>{const C=S7(bi(s,new ke(l)),f);r=r.updateImmediateChild(l,C)}),nO(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return nO(bi(n.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(n.writeTree,n.treePath,e)}function aO(n,e,t,r){return function e71(n,e,t,r,i){(0,N.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=v3(e,t);if(hS(n.visibleWrites,s))return null;{const l=bi(n.visibleWrites,s);return CS(l)?i.getChild(t):S7(l,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Vv(n,e){return function n71(n,e){return Hs(n.visibleWrites,e)}(n.writeTree,v3(n.treePath,e))}function mS(n,e,t){return function t71(n,e,t,r){const i=v3(e,t),s=Hs(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?S7(bi(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function oO(n,e){return cO(v3(n.treePath,e),n.writeTree)}function cO(n,e){return{treePath:n,writeTree:e}}class a71{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,N.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,uf(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,lf(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,x7(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,N.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,uf(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const lO=new class o71{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class gS{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Li(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mS(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Vs(this.viewCache_),s=function s71(n,e,t,r,i,s){return function r71(n,e,t,r,i,s,l){let f;const C=bi(n.visibleWrites,e),v=Hs(C,Ve());if(null!=v)f=v;else{if(null==t)return[];f=S7(C,t)}if(f=f.withIndex(l),f.isEmpty()||f.isLeafNode())return[];{const b=[],x=l.getCompare(),S=s?f.getReverseIteratorFrom(r,l):f.getIteratorFrom(r,l);let A=S.getNext();for(;A&&b.length<i;)0!==x(A,r)&&b.push(A),A=S.getNext();return b}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function uO(n,e,t,r,i,s){const l=e.eventCache;if(null!=Vv(r,t))return e;{let f,C;if(ue(t))if((0,N.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=Vs(e),x=pS(r,v instanceof J2?v:J2.EMPTY_NODE);f=n.filter.updateFullNode(e.eventCache.getNode(),x,s)}else{const v=Sv(r,Vs(e));f=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=le(t);if(".priority"===v){(0,N.hu)(1===Mi(t),"Can't have a priority with additional path components");const b=l.getNode();C=e.serverCache.getNode();const x=aO(r,t,b,C);f=null!=x?n.filter.updatePriority(b,x):l.getNode()}else{const b=Xe(t);let x;if(l.isCompleteForChild(v)){C=e.serverCache.getNode();const S=aO(r,t,l.getNode(),C);x=null!=S?l.getNode().getImmediateChild(v).updateChild(b,S):l.getNode().getImmediateChild(v)}else x=mS(r,v,e.serverCache);f=null!=x?n.filter.updateChild(l.getNode(),v,x,b,i,s):l.getNode()}}return Cf(e,f,l.isFullyInitialized()||ue(t),n.filter.filtersNodes())}}function Hv(n,e,t,r,i,s,l,f){const C=e.serverCache;let v;const b=l?n.filter:n.filter.getIndexedFilter();if(ue(t))v=b.updateFullNode(C.getNode(),r,null);else if(b.filtersNodes()&&!C.isFiltered()){const A=C.getNode().updateChild(t,r);v=b.updateFullNode(C.getNode(),A,null)}else{const A=le(t);if(!C.isCompleteForPath(t)&&Mi(t)>1)return e;const D=Xe(t),a1=C.getNode().getImmediateChild(A).updateChild(D,r);v=".priority"===A?b.updatePriority(C.getNode(),a1):b.updateChild(C.getNode(),A,a1,D,lO,null)}const x=eO(e,v,C.isFullyInitialized()||ue(t),b.filtersNodes());return uO(n,x,t,i,new gS(i,x,s),f)}function vS(n,e,t,r,i,s,l){const f=e.eventCache;let C,v;const b=new gS(i,e,s);if(ue(t))v=n.filter.updateFullNode(e.eventCache.getNode(),r,l),C=Cf(e,v,!0,n.filter.filtersNodes());else{const x=le(t);if(".priority"===x)v=n.filter.updatePriority(e.eventCache.getNode(),r),C=Cf(e,v,f.isFullyInitialized(),f.isFiltered());else{const S=Xe(t),A=f.getNode().getImmediateChild(x);let D;if(ue(S))D=r;else{const W=b.getCompleteChild(x);D=null!=W?".priority"===Zz(S)&&W.getChild(kF(S)).isEmpty()?W:W.updateChild(S,r):J2.EMPTY_NODE}C=A.equals(D)?e:Cf(e,n.filter.updateChild(f.getNode(),x,D,S,b,l),f.isFullyInitialized(),n.filter.filtersNodes())}}return C}function fO(n,e){return n.eventCache.isCompleteForChild(e)}function dO(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function yS(n,e,t,r,i,s,l,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,C=e;v=ue(t)?r:new o3(null).setTree(t,r);const b=e.serverCache.getNode();return v.children.inorderTraversal((x,S)=>{if(b.hasChild(x)){const D=dO(0,e.serverCache.getNode().getImmediateChild(x),S);C=Hv(n,C,new ke(x),D,i,s,l,f)}}),v.children.inorderTraversal((x,S)=>{const A=!e.serverCache.isCompleteForChild(x)&&void 0===S.value;if(!b.hasChild(x)&&!A){const W=dO(0,e.serverCache.getNode().getImmediateChild(x),S);C=Hv(n,C,new ke(x),W,i,s,l,f)}}),C}class m71{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new rS(r.getIndex()),s=function Ao1(n){return n.loadsAllData()?new rS(n.getIndex()):n.hasLimit()?new Ho1(n):new ff(n)}(r);this.processor_=function c71(n){return{filter:n}}(s);const l=t.serverCache,f=t.eventCache,C=i.updateFullNode(J2.EMPTY_NODE,l.getNode(),null),v=s.updateFullNode(J2.EMPTY_NODE,f.getNode(),null),b=new Li(C,l.isFullyInitialized(),i.filtersNodes()),x=new Li(v,f.isFullyInitialized(),s.filtersNodes());this.viewCache_=xv(x,b),this.eventGenerator_=new Bo1(this.query_)}get query(){return this.query_}}function y71(n,e){const t=Vs(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ue(e)&&!t.getImmediateChild(le(e)).isEmpty())?t.getChild(e):null}function hO(n){return 0===n.eventRegistrations_.length}function CO(n,e,t){const r=[];if(t){(0,N.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,i);l&&r.push(l)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(l)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function pO(n,e,t,r){e.type===l6.MERGE&&null!==e.source.queryId&&((0,N.hu)(Vs(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(wv(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function u71(n,e,t,r,i){const s=new a71;let l,f;if(t.type===l6.OVERWRITE){const v=t;v.source.fromUser?l=vS(n,e,v.path,v.snap,r,i,s):((0,N.hu)(v.source.fromServer,"Unknown source."),f=v.source.tagged||e.serverCache.isFiltered()&&!ue(v.path),l=Hv(n,e,v.path,v.snap,r,i,f,s))}else if(t.type===l6.MERGE){const v=t;v.source.fromUser?l=function d71(n,e,t,r,i,s,l){let f=e;return r.foreach((C,v)=>{const b=v3(t,C);fO(e,le(b))&&(f=vS(n,f,b,v,i,s,l))}),r.foreach((C,v)=>{const b=v3(t,C);fO(e,le(b))||(f=vS(n,f,b,v,i,s,l))}),f}(n,e,v.path,v.children,r,i,s):((0,N.hu)(v.source.fromServer,"Unknown source."),f=v.source.tagged||e.serverCache.isFiltered(),l=yS(n,e,v.path,v.children,r,i,f,s))}else if(t.type===l6.ACK_USER_WRITE){const v=t;l=v.revert?function p71(n,e,t,r,i,s){let l;if(null!=Vv(r,t))return e;{const f=new gS(r,e,i),C=e.eventCache.getNode();let v;if(ue(t)||".priority"===le(t)){let b;if(e.serverCache.isFullyInitialized())b=Sv(r,Vs(e));else{const x=e.serverCache.getNode();(0,N.hu)(x instanceof J2,"serverChildren would be complete if leaf node"),b=pS(r,x)}b=b,v=n.filter.updateFullNode(C,b,s)}else{const b=le(t);let x=mS(r,b,e.serverCache);null==x&&e.serverCache.isCompleteForChild(b)&&(x=C.getImmediateChild(b)),v=null!=x?n.filter.updateChild(C,b,x,Xe(t),f,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(C,b,J2.EMPTY_NODE,Xe(t),f,s):C,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Sv(r,Vs(e)),l.isLeafNode()&&(v=n.filter.updateFullNode(v,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=Vv(r,Ve()),Cf(e,v,l,n.filter.filtersNodes())}}(n,e,v.path,r,i,s):function h71(n,e,t,r,i,s,l){if(null!=Vv(i,t))return e;const f=e.serverCache.isFiltered(),C=e.serverCache;if(null!=r.value){if(ue(t)&&C.isFullyInitialized()||C.isCompleteForPath(t))return Hv(n,e,t,C.getNode().getChild(t),i,s,f,l);if(ue(t)){let v=new o3(null);return C.getNode().forEachChild(j5,(b,x)=>{v=v.set(new ke(b),x)}),yS(n,e,t,v,i,s,f,l)}return e}{let v=new o3(null);return r.foreach((b,x)=>{const S=v3(t,b);C.isCompleteForPath(S)&&(v=v.set(b,C.getNode().getChild(S)))}),yS(n,e,t,v,i,s,f,l)}}(n,e,v.path,v.affectedTree,r,i,s)}else{if(t.type!==l6.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+t.type);l=function C71(n,e,t,r,i){const s=e.serverCache;return uO(n,eO(e,s.getNode(),s.isFullyInitialized()||ue(t),s.isFiltered()),t,r,lO,i)}(n,e,t.path,r,s)}const C=s.getChanges();return function f71(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=wv(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(YF(wv(e)))}}(e,l,C),{viewCache:l,changes:C}}(n.processor_,i,e,t,r);return function l71(n,e){(0,N.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,N.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,mO(n,s.changes,s.viewCache.eventCache.getNode(),null)}function mO(n,e,t,r){return function Uo1(n,e,t,r){const i=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function Vo1(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),hf(n,i,"child_removed",e,r,t),hf(n,i,"child_added",e,r,t),hf(n,i,"child_moved",s,r,t),hf(n,i,"child_changed",e,r,t),hf(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let Av,Tv;class gO{constructor(){this.views=new Map}}function _S(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,N.hu)(null!=s,"SyncTree gave us an op for an invalid query."),pO(s,e,t,r)}{let s=[];for(const l of n.views.values())s=s.concat(pO(l,e,t,r));return s}}function vO(n,e,t,r,i){const l=n.views.get(e._queryIdentifier);if(!l){let f=Sv(t,i?r:null),C=!1;f?C=!0:r instanceof J2?(f=pS(t,r),C=!1):(f=J2.EMPTY_NODE,C=!1);const v=xv(new Li(f,C,!1),new Li(r,i,!1));return new m71(e,v)}return l}function yO(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function xi(n,e){let t=null;for(const r of n.views.values())t=t||y71(r,e);return t}function _O(n,e){return e._queryParams.loadsAllData()?Ev(n):n.views.get(e._queryIdentifier)}function MO(n,e){return null!=_O(n,e)}function wi(n){return null!=Ev(n)}function Ev(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let H71=1;class LO{constructor(e){this.listenProvider_=e,this.syncPointTree_=new o3(null),this.pendingWriteTree_=function i71(){return{visibleWrites:Q6.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function MS(n,e,t,r,i){return function $o1(n,e,t,r,i){(0,N.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=pf(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?V7(n,new Ss({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function zi(n,e,t=!1){const r=function Zo1(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function Ko1(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);(0,N.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const f=n.allWrites[l];f.visible&&(l>=t&&Yo1(f,r.path)?i=!1:c6(r.path,f.path)&&(s=!0)),l--}return!!i&&(s?(function Qo1(n){n.visibleWrites=iO(n.allWrites,Jo1,Ve()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=tO(n.visibleWrites,r.path):H4(r.children,C=>{n.visibleWrites=tO(n.visibleWrites,v3(r.path,C))}),!0))}(n.pendingWriteTree_,e)){let s=new o3(null);return null!=r.snap?s=s.set(Ve(),!0):H4(r.children,l=>{s=s.set(new ke(l),!0)}),V7(n,new bv(r.path,s,t))}return[]}function mf(n,e,t){return V7(n,new Ss({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function LS(n,e,t,r){const i=e._path,s=n.syncPointTree_.get(i);let l=[];if(s&&("default"===e._queryIdentifier||MO(s,e))){const f=function z71(n,e,t,r){const i=e._queryIdentifier,s=[];let l=[];const f=wi(n);if("default"===i)for(const[C,v]of n.views.entries())l=l.concat(CO(v,t,r)),hO(v)&&(n.views.delete(C),v.query._queryParams.loadsAllData()||s.push(v.query));else{const C=n.views.get(i);C&&(l=l.concat(CO(C,t,r)),hO(C)&&(n.views.delete(i),C.query._queryParams.loadsAllData()||s.push(C.query)))}return f&&!wi(n)&&s.push(new(function b71(){return(0,N.hu)(Av,"Reference.ts has not been loaded"),Av}())(e._repo,e._path)),{removed:s,events:l}}(s,e,t,r);(function x71(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(i));const C=f.removed;l=f.events;const v=-1!==C.findIndex(x=>x._queryParams.loadsAllData()),b=n.syncPointTree_.findOnPath(i,(x,S)=>wi(S));if(v&&!b){const x=n.syncPointTree_.subtree(i);if(!x.isEmpty()){const S=function R71(n){return n.fold((e,t,r)=>{if(t&&wi(t))return[Ev(t)];{let i=[];return t&&(i=yO(t)),H4(r,(s,l)=>{i=i.concat(l)}),i}})}(x);for(let A=0;A<S.length;++A){const D=S[A],W=D.query,a1=zO(n,D);n.listenProvider_.startListening(gf(W),Iv(n,W),a1.hashFn,a1.onComplete)}}}!b&&C.length>0&&!r&&(v?n.listenProvider_.stopListening(gf(e),null):C.forEach(x=>{const S=n.queryToTagMap.get(Nv(x));n.listenProvider_.stopListening(gf(x),S)})),function P71(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=Nv(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,C)}return l}function bO(n,e,t){const r=e._path;let i=null,s=!1;n.syncPointTree_.foreachOnPath(r,(x,S)=>{const A=Vt(x,r);i=i||xi(S,A),s=s||wi(S)});let f,l=n.syncPointTree_.get(r);l?(s=s||wi(l),i=i||xi(l,Ve())):(l=new gO,n.syncPointTree_=n.syncPointTree_.set(r,l)),null!=i?f=!0:(f=!1,i=J2.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((S,A)=>{const D=xi(A,Ve());D&&(i=i.updateImmediateChild(S,D))}));const C=MO(l,e);if(!C&&!e._queryParams.loadsAllData()){const x=Nv(e);(0,N.hu)(!n.queryToTagMap.has(x),"View does not exist, but we have a tag");const S=function F71(){return H71++}();n.queryToTagMap.set(x,S),n.tagToQueryMap.set(S,x)}let b=function w71(n,e,t,r,i,s){const l=vO(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function _71(n,e){n.eventRegistrations_.push(e)}(l,t),function M71(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(a3,(s,l)=>{r.push(x7(s,l))}),t.isFullyInitialized()&&r.push(YF(t.getNode())),mO(n,r,t.getNode(),e)}(l,t)}(l,e,t,zv(n.pendingWriteTree_,r),i,f);if(!C&&!s){const x=_O(l,e);b=b.concat(function O71(n,e,t){const r=e._path,i=Iv(n,e),s=zO(n,t),l=n.listenProvider_.startListening(gf(e),i,s.hashFn,s.onComplete),f=n.syncPointTree_.subtree(r);if(i)(0,N.hu)(!wi(f.value),"If we're adding a query, it shouldn't be shadowed");else{const C=f.fold((v,b,x)=>{if(!ue(v)&&b&&wi(b))return[Ev(b).query];{let S=[];return b&&(S=S.concat(yO(b).map(A=>A.query))),H4(x,(A,D)=>{S=S.concat(D)}),S}});for(let v=0;v<C.length;++v){const b=C[v];n.listenProvider_.stopListening(gf(b),Iv(n,b))}}return l}(n,e,x))}return b}function Dv(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,f)=>{const v=xi(f,Vt(l,e));if(v)return v});return sO(i,e,s,t,!0)}function V7(n,e){return xO(e,n.syncPointTree_,null,zv(n.pendingWriteTree_,Ve()))}function xO(n,e,t,r){if(ue(n.path))return wO(n,e,t,r);{const i=e.get(Ve());null==t&&null!=i&&(t=xi(i,Ve()));let s=[];const l=le(n.path),f=n.operationForChild(l),C=e.children.get(l);if(C&&f){const v=t?t.getImmediateChild(l):null,b=oO(r,l);s=s.concat(xO(f,C,v,b))}return i&&(s=s.concat(_S(i,n,r,t))),s}}function wO(n,e,t,r){const i=e.get(Ve());null==t&&null!=i&&(t=xi(i,Ve()));let s=[];return e.children.inorderTraversal((l,f)=>{const C=t?t.getImmediateChild(l):null,v=oO(r,l),b=n.operationForChild(l);b&&(s=s.concat(wO(b,f,C,v)))}),i&&(s=s.concat(_S(i,n,r,t))),s}function zO(n,e){const t=e.query,r=Iv(n,t);return{hashFn:()=>(function g71(n){return n.viewCache_.serverCache.getNode()}(e)||J2.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function D71(n,e,t){const r=bS(n,t);if(r){const i=xS(r),s=i.path,l=i.queryId,f=Vt(s,e);return wS(n,s,new df(uS(l),f))}return[]}(n,t._path,r):function T71(n,e){return V7(n,new df({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Ea1(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return LS(n,t,null,s)}}}}function Iv(n,e){const t=Nv(e);return n.queryToTagMap.get(t)}function Nv(n){return n._path.toString()+"$"+n._queryIdentifier}function bS(n,e){return n.tagToQueryMap.get(e)}function xS(n){const e=n.indexOf("$");return(0,N.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ke(n.substr(0,e))}}function wS(n,e,t){const r=n.syncPointTree_.get(e);return(0,N.hu)(r,"Missing sync point for query tag that we're tracking"),_S(r,t,zv(n.pendingWriteTree_,e),null)}function gf(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function V71(){return(0,N.hu)(Tv,"Reference.ts has not been loaded"),Tv}())(n._repo,n._path):n}class zS{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new zS(t)}node(){return this.node_}}class SS{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=v3(this.path_,e);return new SS(this.syncTree_,t)}node(){return Dv(this.syncTree_,this.path_)}}const SO=function(n,e,t){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?U71(n[".sv"],e,t):"object"==typeof n[".sv"]?G71(n[".sv"],e):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},U71=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},G71=function(n,e,t){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,N.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,N.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return"number"!=typeof l?r:l+r},VO=function(n,e,t,r){return HS(e,new SS(t,n),r)},VS=function(n,e,t){return HS(n,new zS(e),t)};function HS(n,e,t){const r=n.getPriority().val(),i=SO(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,f=SO(l.getValue(),e,t);return f!==l.getValue()||i!==l.getPriority().val()?new M7(f,H3(i)):n}{const l=n;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new M7(i))),l.forEachChild(a3,(f,C)=>{const v=HS(C,e.getImmediateChild(f),t);v!==C&&(s=s.updateImmediateChild(f,v))}),s}}class AS{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function kv(n,e){let t=e instanceof ke?e:new ke(e),r=n,i=le(t);for(;null!==i;){const s=(0,N.DV)(r.node.children,i)||{children:{},childCount:0};r=new AS(i,r,s),t=Xe(t),i=le(t)}return r}function As(n){return n.node.value}function ES(n,e){n.node.value=e,TS(n)}function HO(n){return n.node.childCount>0}function Rv(n,e){H4(n.node.children,(t,r)=>{e(new AS(t,n,r))})}function AO(n,e,t,r){t&&!r&&e(n),Rv(n,i=>{AO(i,e,!0,r)}),t&&r&&e(n)}function vf(n){return new ke(null===n.parent?n.name:vf(n.parent)+"/"+n.name)}function TS(n){null!==n.parent&&function $71(n,e,t){const r=function j71(n){return void 0===As(n)&&!HO(n)}(t),i=(0,N.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,TS(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,TS(n))}(n.parent,n.name,n)}const W71=/[\[\].#$\/\u0000-\u001F\u007F]/,Z71=/[\[\].#$\u0000-\u001F\u007F]/,DS=10485760,Pv=function(n){return"string"==typeof n&&0!==n.length&&!W71.test(n)},EO=function(n){return"string"==typeof n&&0!==n.length&&!Z71.test(n)},yf=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!uv(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},q5=function(n,e,t,r){r&&void 0===e||_f((0,N.gK)(n,"value"),e,t)},_f=function(n,e,t){const r=t instanceof ke?new co1(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+ws(r));if("function"==typeof e)throw new Error(n+"contains a function "+ws(r)+" with contents = "+e.toString());if(uv(e))throw new Error(n+"contains "+e.toString()+" "+ws(r));if("string"==typeof e&&e.length>DS/3&&(0,N.ug)(e)>DS)throw new Error(n+"contains a string greater than "+DS+" utf8 bytes "+ws(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(H4(e,(l,f)=>{if(".value"===l)i=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!Pv(l)))throw new Error(n+" contains an invalid key ("+l+") "+ws(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function lo1(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,N.ug)(e),RF(n)})(r,l),_f(n,f,r),function uo1(n){const e=n.parts_.pop();n.byteLength_-=(0,N.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+ws(r)+" in addition to actual children.")}},TO=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,N.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];H4(e,(l,f)=>{const C=new ke(l);if(_f(i,f,v3(t,C)),".priority"===Zz(C)&&!yf(f))throw new Error(i+"contains an invalid value for '"+C.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(C)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=rf(r);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!Pv(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(oo1);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&c6(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},IS=function(n,e,t){if(!t||void 0!==e){if(uv(e))throw new Error((0,N.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yf(e))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Mf=function(n,e,t,r){if(!(r&&void 0===t||Pv(t)))throw new Error((0,N.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Lf=function(n,e,t,r){if(!(r&&void 0===t||EO(t)))throw new Error((0,N.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},u6=function(n,e){if(".info"===le(e))throw new Error(n+" failed = Can't modify data under /.info/")},DO=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Pv(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),EO(n)}(t))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class J71{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fv(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!Kz(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function NS(n,e,t){Fv(n,t),IO(n,r=>Kz(r,e))}function f6(n,e,t){Fv(n,t),IO(n,r=>c6(r,e)||c6(e,r))}function IO(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(X71(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function X71(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();bs&&V4("event: "+t.toString()),y7(r)}}}const NO="repo_interrupt";class t91{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new J71,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lv(),this.transactionQueueTree_=new AS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kO(n){const t=n.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function bf(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:kO(n)})}function RO(n,e,t,r,i){n.dataUpdateCount++;const s=new ke(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const C=(0,N.UI)(t,v=>H3(v));l=function N71(n,e,t,r){const i=bS(n,r);if(i){const s=xS(i),l=s.path,f=s.queryId,C=Vt(l,e),v=o3.fromObject(t);return wS(n,l,new z7(uS(f),C,v))}return[]}(n.serverSyncTree_,s,C,i)}else{const C=H3(t);l=function I71(n,e,t,r){const i=bS(n,r);if(null!=i){const s=xS(i),l=s.path,f=s.queryId,C=Vt(l,e);return wS(n,l,new Ss(uS(f),C,t))}return[]}(n.serverSyncTree_,s,C,i)}else if(r){const C=(0,N.UI)(t,v=>H3(v));l=function E71(n,e,t){const r=o3.fromObject(t);return V7(n,new z7({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,C)}else{const C=H3(t);l=mf(n.serverSyncTree_,s,C)}let f=s;l.length>0&&(f=A7(n,s)),f6(n.eventQueue_,f,l)}function PO(n,e){kS(n,"connected",e),!1===e&&function a91(n){H7(n,"onDisconnectEvents");const e=bf(n),t=Lv();oS(n.onDisconnect_,Ve(),(i,s)=>{const l=VO(i,s,n.serverSyncTree_,e);w7(t,i,l)});let r=[];oS(t,Ve(),(i,s)=>{r=r.concat(mf(n.serverSyncTree_,i,s));const l=OS(n,i);A7(n,l)}),n.onDisconnect_=Lv(),f6(n.eventQueue_,Ve(),r)}(n)}function kS(n,e,t){const r=new ke("/.info/"+e),i=H3(t);n.infoData_.updateSnapshot(r,i);const s=mf(n.infoSyncTree_,r,i);f6(n.eventQueue_,r,s)}function Ov(n){return n.nextWriteId_++}function RS(n,e,t,r,i){H7(n,"set",{path:e.toString(),value:t,priority:r});const s=bf(n),l=H3(t,r),f=Dv(n.serverSyncTree_,e),C=VS(l,f,s),v=Ov(n),b=MS(n.serverSyncTree_,e,C,v,!0);Fv(n.eventQueue_,b),n.server_.put(e.toString(),l.val(!0),(S,A)=>{const D="ok"===S;D||ct("set at "+e+" failed: "+S);const W=zi(n.serverSyncTree_,v,!D);f6(n.eventQueue_,e,W),Si(0,i,S,A)});const x=OS(n,e);A7(n,x),f6(n.eventQueue_,x,[])}function o91(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&aS(n.onDisconnect_,e),Si(0,t,r,i)})}function FO(n,e,t,r){const i=H3(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,l)=>{"ok"===s&&w7(n.onDisconnect_,e,i),Si(0,r,s,l)})}function PS(n,e,t){let r;r=".info"===le(e._path)?LS(n.infoSyncTree_,e,t):LS(n.serverSyncTree_,e,t),NS(n.eventQueue_,e._path,r)}function OO(n){n.persistentConnection_&&n.persistentConnection_.interrupt(NO)}function H7(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),V4(t,...e)}function Si(n,e,t,r){e&&y7(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const l=new Error(s);l.code=i,e(l)}})}function FS(n,e,t){return Dv(n.serverSyncTree_,e,t)||J2.EMPTY_NODE}function Bv(n,e=n.transactionQueueTree_){if(e||Uv(n,e),As(e)){const t=UO(n,e);(0,N.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function h91(n,e,t){const r=t.map(v=>v.currentWriteId),i=FS(n,e,r);let s=i;const l=i.hash();for(let v=0;v<t.length;v++){const b=t[v];(0,N.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const x=Vt(e,b.path);s=s.updateChild(x,b.currentOutputSnapshotRaw)}const f=s.val(!0),C=e;n.server_.put(C.toString(),f,v=>{H7(n,"transaction put response",{path:C.toString(),status:v});let b=[];if("ok"===v){const x=[];for(let S=0;S<t.length;S++)t[S].status=2,b=b.concat(zi(n.serverSyncTree_,t[S].currentWriteId)),t[S].onComplete&&x.push(()=>t[S].onComplete(null,!0,t[S].currentOutputSnapshotResolved)),t[S].unwatcher();Uv(n,kv(n.transactionQueueTree_,e)),Bv(n,n.transactionQueueTree_),f6(n.eventQueue_,e,b);for(let S=0;S<x.length;S++)y7(x[S])}else{if("datastale"===v)for(let x=0;x<t.length;x++)t[x].status=3===t[x].status?4:0;else{ct("transaction at "+C.toString()+" failed: "+v);for(let x=0;x<t.length;x++)t[x].status=4,t[x].abortReason=v}A7(n,e)}},l)}(n,vf(e),t)}else HO(e)&&Rv(e,t=>{Bv(n,t)})}function A7(n,e){const t=BO(n,e),r=vf(t);return function C91(n,e,t){if(0===e.length)return;const r=[];let i=[];const l=e.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const C=e[f],v=Vt(t,C.path);let x,b=!1;if((0,N.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===C.status)b=!0,x=C.abortReason,i=i.concat(zi(n.serverSyncTree_,C.currentWriteId,!0));else if(0===C.status)if(C.retryCount>=25)b=!0,x="maxretry",i=i.concat(zi(n.serverSyncTree_,C.currentWriteId,!0));else{const S=FS(n,C.path,l);C.currentInputSnapshot=S;const A=e[f].update(S.val());if(void 0!==A){_f("transaction failed: Data returned ",A,C.path);let D=H3(A);"object"==typeof A&&null!=A&&(0,N.r3)(A,".priority")||(D=D.updatePriority(S.getPriority()));const a1=C.currentWriteId,H1=bf(n),F1=VS(D,S,H1);C.currentOutputSnapshotRaw=D,C.currentOutputSnapshotResolved=F1,C.currentWriteId=Ov(n),l.splice(l.indexOf(a1),1),i=i.concat(MS(n.serverSyncTree_,C.path,F1,C.currentWriteId,C.applyLocally)),i=i.concat(zi(n.serverSyncTree_,a1,!0))}else b=!0,x="nodata",i=i.concat(zi(n.serverSyncTree_,C.currentWriteId,!0))}f6(n.eventQueue_,t,i),i=[],b&&(e[f].status=2,setTimeout(e[f].unwatcher,Math.floor(0)),e[f].onComplete&&r.push("nodata"===x?()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot):()=>e[f].onComplete(new Error(x),!1,null)))}Uv(n,n.transactionQueueTree_);for(let f=0;f<r.length;f++)y7(r[f]);Bv(n,n.transactionQueueTree_)}(n,UO(n,t),r),r}function BO(n,e){let t,r=n.transactionQueueTree_;for(t=le(e);null!==t&&void 0===As(r);)r=kv(r,t),t=le(e=Xe(e));return r}function UO(n,e){const t=[];return GO(n,e,t),t.sort((r,i)=>r.order-i.order),t}function GO(n,e,t){const r=As(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Rv(e,i=>{GO(n,i,t)})}function Uv(n,e){const t=As(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,ES(e,t.length>0?t:void 0)}Rv(e,r=>{Uv(n,r)})}function OS(n,e){const t=vf(BO(n,e)),r=kv(n.transactionQueueTree_,e);return function q71(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{BS(n,i)}),BS(n,r),AO(r,i=>{BS(n,i)}),t}function BS(n,e){const t=As(e);if(t){const r=[];let i=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,N.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,N.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(zi(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?ES(e,void 0):t.length=s+1,f6(n.eventQueue_,vf(e),i);for(let l=0;l<r.length;l++)y7(r[l])}}const US=function(n,e){const t=g91(n),r=t.namespace;return"firebase.com"===t.domain&&U5(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&U5("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Uz(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new ke(t.pathString)}},g91=function(n){let e="",t="",r="",i="",s="",l=!0,f="https",C=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(f=n.substring(0,v-1),n=n.substring(v+2));let b=n.indexOf("/");-1===b&&(b=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),e=n.substring(0,Math.min(b,x)),b<x&&(i=function p91(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(b,x)));const S=function m91(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ct(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,x)));v=e.indexOf(":"),v>=0?(l="https"===f||"wss"===f,C=parseInt(e.substring(v+1),10)):v=e.length;const A=e.slice(0,v);if("localhost"===A.toLowerCase())t="localhost";else if(A.split(".").length<=2)t=A;else{const D=e.indexOf(".");r=e.substring(0,D).toLowerCase(),t=e.substring(D+1),s=r}"ns"in S&&(s=S.ns)}return{host:e,port:C,domain:t,subdomain:r,secure:l,scheme:f,pathString:i,namespace:s}};class jO{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Pz)(this.snapshot.exportVal())}}class qO{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class $O{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class WO{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new N.BH;return o91(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){u6("OnDisconnect.remove",this._path);const e=new N.BH;return FO(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){u6("OnDisconnect.set",this._path),q5("OnDisconnect.set",e,this._path,!1);const t=new N.BH;return FO(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){u6("OnDisconnect.setWithPriority",this._path),q5("OnDisconnect.setWithPriority",e,this._path,!1),IS("OnDisconnect.setWithPriority",t,!1);const r=new N.BH;return function c91(n,e,t,r,i){const s=H3(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,f)=>{"ok"===l&&w7(n.onDisconnect_,e,s),Si(0,i,l,f)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){u6("OnDisconnect.update",this._path),TO("OnDisconnect.update",e,this._path,!1);const t=new N.BH;return function l91(n,e,t,r){if((0,N.xb)(t))return V4("onDisconnect().update() called with empty data.  Don't do anything."),void Si(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{"ok"===i&&H4(t,(l,f)=>{const C=H3(f);w7(n.onDisconnect_,v3(e,l),C)}),Si(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class an{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ue(this._path)?null:Zz(this._path)}get ref(){return new d6(this._repo,this._path)}get _queryIdentifier(){const e=JF(this._queryParams),t=Fz(e);return"{}"===t?"default":t}get _queryObject(){return JF(this._queryParams)}isEqual(e){if(!((e=(0,N.m9)(e))instanceof an))return!1;const t=this._repo===e._repo,r=Kz(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ao1(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function Gv(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Vi(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===j5){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==B8)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==G5)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===a3){if(null!=e&&!yf(e)||null!=t&&!yf(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof eS||n.getIndex()===tS,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function jv(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class d6 extends an{constructor(e,t){super(e,t,new yv,!1)}get parent(){const e=kF(this._path);return null===e?null:new d6(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Es{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ke(e),r=Ts(this.ref,e);return new Es(this._node.getChild(t),r,a3)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Es(i,Ts(this.ref,r),a3)))}hasChild(e){const t=new ke(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ZO(n,e){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==e?Ts(n._root,e):n._root}function KO(n,e){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const t=US(e,n._repo.repoInfo_.nodeAdmin);DO("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&U5("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),ZO(n,t.path.toString())}function Ts(n,e){return null===le((n=(0,N.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Lf("child","path",t,!1)):Lf("child","path",e,!1),new d6(n._repo,v3(n._path,e));var t}function GS(n,e){n=(0,N.m9)(n),u6("set",n._path),q5("set",e,n._path,!1);const t=new N.BH;return RS(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function L91(n,e){TO("update",e,n._path,!1);const t=new N.BH;return function s91(n,e,t,r){H7(n,"update",{path:e.toString(),value:t});let i=!0;const s=bf(n),l={};if(H4(t,(f,C)=>{i=!1,l[f]=VO(v3(e,f),H3(C),n.serverSyncTree_,s)}),i)V4("update() called with empty data.  Don't do anything."),Si(0,r,"ok",void 0);else{const f=Ov(n),C=function A71(n,e,t,r){!function Wo1(n,e,t,r){(0,N.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=dS(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=o3.fromObject(t);return V7(n,new z7({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,l,f);Fv(n.eventQueue_,C),n.server_.merge(e.toString(),t,(v,b)=>{const x="ok"===v;x||ct("update at "+e+" failed: "+v);const S=zi(n.serverSyncTree_,f,!x),A=S.length>0?A7(n,e):e;f6(n.eventQueue_,A,S),Si(0,r,v,b)}),H4(t,v=>{const b=OS(n,v3(e,v));A7(n,b)}),f6(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function b91(n){return function i91(n,e){const t=function k71(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(v,b)=>{const x=Vt(v,t);r=r||xi(b,x)});let i=n.syncPointTree_.get(t);i?r=r||xi(i,Ve()):(i=new gO,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,l=s?new Li(r,!0,!1):null;return function v71(n){return wv(n.viewCache_)}(vO(i,e,zv(n.pendingWriteTree_,e._path),s?l.getNode():J2.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(r=>{const i=H3(r).withIndex(e._queryParams.getIndex()),s=mf(n.serverSyncTree_,e._path,i);return NS(n.eventQueue_,e._path,s),Promise.resolve(i)},r=>(H7(n,"get for query "+(0,N.Pz)(e)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,N.m9)(n))._repo,n).then(e=>new Es(e,new d6(n._repo,n._path),n._queryParams.getIndex()))}class qv{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new jO("value",this,new Es(e.snapshotNode,new d6(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new qO(this,e,t):null}matches(e){return e instanceof qv&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class $v{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new qO(this,e,t):null}createEvent(e,t){(0,N.hu)(null!=e.childName,"Child events should have a childName.");const r=Ts(new d6(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new jO(e.type,this,new Es(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof $v&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function xf(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const C=t,v=(b,x)=>{PS(n._repo,n,f),C(b,x)};v.userCallback=t.userCallback,v.context=t.context,t=v}const l=new $O(t,s||void 0),f="value"===e?new qv(l):new $v(e,l);return function u91(n,e,t){let r;r=".info"===le(e._path)?bO(n.infoSyncTree_,e,t):bO(n.serverSyncTree_,e,t),NS(n.eventQueue_,e._path,r)}(n._repo,n,f),()=>PS(n._repo,n,f)}function jS(n,e,t,r){return xf(n,"value",e,t,r)}function YO(n,e,t,r){return xf(n,"child_added",e,t,r)}function QO(n,e,t,r){return xf(n,"child_changed",e,t,r)}function JO(n,e,t,r){return xf(n,"child_moved",e,t,r)}function XO(n,e,t,r){return xf(n,"child_removed",e,t,r)}function eB(n,e,t){let r=null;const i=t?new $O(t):null;"value"===e?r=new qv(i):e&&(r=new $v(e,i)),PS(n._repo,n,r)}class J6{}class tB extends J6{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){q5("endAt",this._value,e._path,!0);const t=sS(e._queryParams,this._value,this._key);if(jv(t),Vi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new an(e._repo,e._path,t,e._orderByCalled)}}class w91 extends J6{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){q5("endBefore",this._value,e._path,!1);const t=function Io1(n,e,t){let r,i;return n.index_===j5?("string"==typeof e&&(e=KF(e)),i=sS(n,e,t)):(r=null==t?B8:KF(t),i=sS(n,e,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(jv(t),Vi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new an(e._repo,e._path,t,e._orderByCalled)}}class nB extends J6{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){q5("startAt",this._value,e._path,!0);const t=iS(e._queryParams,this._value,this._key);if(jv(t),Vi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new an(e._repo,e._path,t,e._orderByCalled)}}class V91 extends J6{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){q5("startAfter",this._value,e._path,!1);const t=function Do1(n,e,t){let r;if(n.index_===j5)"string"==typeof e&&(e=ZF(e)),r=iS(n,e,t);else{let i;i=null==t?G5:ZF(t),r=iS(n,e,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(jv(t),Vi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new an(e._repo,e._path,t,e._orderByCalled)}}class A91 extends J6{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new an(e._repo,e._path,function Eo1(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class T91 extends J6{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new an(e._repo,e._path,function To1(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class I91 extends J6{constructor(e){super(),this._path=e}_apply(e){Gv(e,"orderByChild");const t=new ke(this._path);if(ue(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new eS(t),i=_v(e._queryParams,r);return Vi(i),new an(e._repo,e._path,i,!0)}}class k91 extends J6{_apply(e){Gv(e,"orderByKey");const t=_v(e._queryParams,j5);return Vi(t),new an(e._repo,e._path,t,!0)}}class P91 extends J6{_apply(e){Gv(e,"orderByPriority");const t=_v(e._queryParams,a3);return Vi(t),new an(e._repo,e._path,t,!0)}}class O91 extends J6{_apply(e){Gv(e,"orderByValue");const t=_v(e._queryParams,tS);return Vi(t),new an(e._repo,e._path,t,!0)}}class U91 extends J6{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(q5("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tB(this._value,this._key)._apply(new nB(this._value,this._key)._apply(e))}}function X6(n,...e){let t=(0,N.m9)(n);for(const r of e)t=r._apply(t);return t}(function L71(n){(0,N.hu)(!Av,"__referenceConstructor has already been defined"),Av=n})(d6),function S71(n){(0,N.hu)(!Tv,"__referenceConstructor has already been defined"),Tv=n}(d6);const qS={};function iB(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||U5("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),V4("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let C,v,l=US(s,i),f=l.repoInfo;"undefined"!=typeof process&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(C=!0,s=`http://${v}?ns=${f.namespace}`,l=US(s,i),f=l.repoInfo):C=!l.repoInfo.secure;const b=i&&C?new nf(nf.OWNER):new Na1(n.name,n.options,e);DO("Invalid Firebase Database URL",l),ue(l.path)||U5("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function W91(n,e,t,r){let i=qS[e.name];i||(i={},qS[e.name]=i);let s=i[n.toURLString()];return s&&U5("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new t91(n,false,t,r),i[n.toURLString()]=s,s}(f,n,b,new Ia1(n.name,t));return new K91(x,n)}class K91{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function n91(n,e,t){if(n.stats_=qz(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Mv(n.repoInfo_,(r,i,s,l)=>{RO(n,r,i,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>PO(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Pz)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new zs(n.repoInfo_,e,(r,i,s,l)=>{RO(n,r,i,s,l)},r=>{PO(n,r)},r=>{!function r91(n,e){H4(e,(t,r)=>{kS(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Pa1(n,e){const t=n.toString();return jz[t]||(jz[t]=e()),jz[t]}(n.repoInfo_,()=>new Oo1(n.stats_,n.server_)),n.infoData_=new No1,n.infoSyncTree_=new LO({startListening:(r,i,s,l)=>{let f=[];const C=n.infoData_.getNode(r._path);return C.isEmpty()||(f=mf(n.infoSyncTree_,r._path,C),setTimeout(()=>{l("ok")},0)),f},stopListening:()=>{}}),kS(n,"connected",!1),n.serverSyncTree_=new LO({startListening:(r,i,s,l)=>(n.server_.listen(r,s,i,(f,C)=>{const v=l(f,C);f6(n.eventQueue_,r._path,v)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new d6(this._repo,Ve())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function $91(n,e){const t=qS[e];(!t||t[n.key]!==n)&&U5(`Database ${e}(${n.repoInfo_}) has already been deleted.`),OO(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&U5("Cannot call "+e+" on a deleted database.")}}function sB(){xF.IS_TRANSPORT_INITIALIZED&&ct("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Y91(){sB(),_i.forceDisallow()}function Q91(){sB(),_7.forceDisallow(),_i.forceAllow()}function tc1(n,e){iF(n,e)}const rc1={".sv":"timestamp"};class ac1{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}zs.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},zs.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function nc1(n){XP(St.SDK_VERSION),(0,St._registerComponent)(new Z6.wA("database",(e,{instanceIdentifier:t})=>iB(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,St.registerVersion)(QP,"0.13.0",n),(0,St.registerVersion)(QP,"0.13.0","esm2017")}();const uc1=new K6.Yd("@firebase/database-compat"),aB=function(n){uc1.warn("FIREBASE WARNING: "+n)};class hc1{constructor(e){this._delegate=e}cancel(e){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,aB("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class Cc1{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Hi{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Lf("DataSnapshot.child","path",e,!1),new Hi(this._database,this._delegate.child(e))}hasChild(e){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Lf("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Hi(this._database,t)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new zn(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class $4{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",t,!1);const l=$4.getCancelAndContextArgs_("Query.on",r,i),f=(v,b)=>{t.call(l.context,new Hi(this.database,v),b)};f.userCallback=t,f.context=l.context;const C=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return jS(this._delegate,f,C),t;case"child_added":return YO(this._delegate,f,C),t;case"child_removed":return XO(this._delegate,f,C),t;case"child_changed":return QO(this._delegate,f,C),t;case"child_moved":return JO(this._delegate,f,C),t;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,N.Wj)("Query.off","callback",t,!0),(0,N.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,eB(this._delegate,e,i)}else eB(this._delegate,e)}get(){return b91(this._delegate).then(e=>new Hi(this.database,e))}once(e,t,r,i){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",t,!0);const s=$4.getCancelAndContextArgs_("Query.once",r,i),l=new N.BH,f=(v,b)=>{const x=new Hi(this.database,v);t&&t.call(s.context,x,b),l.resolve(x)};f.userCallback=t,f.context=s.context;const C=v=>{s.cancel&&s.cancel.call(s.context,v),l.reject(v)};switch(e){case"value":jS(this._delegate,f,C,{onlyOnce:!0});break;case"child_added":YO(this._delegate,f,C,{onlyOnce:!0});break;case"child_removed":XO(this._delegate,f,C,{onlyOnce:!0});break;case"child_changed":QO(this._delegate,f,C,{onlyOnce:!0});break;case"child_moved":JO(this._delegate,f,C,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new $4(this.database,X6(this._delegate,function E91(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new A91(n)}(e)))}limitToLast(e){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new $4(this.database,X6(this._delegate,function D91(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new T91(n)}(e)))}orderByChild(e){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new $4(this.database,X6(this._delegate,function N91(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Lf("orderByChild","path",n,!1),new I91(n)}(e)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new $4(this.database,X6(this._delegate,function R91(){return new k91}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new $4(this.database,X6(this._delegate,function F91(){return new P91}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new $4(this.database,X6(this._delegate,function B91(){return new O91}()))}startAt(e=null,t){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new $4(this.database,X6(this._delegate,function S91(n=null,e){return Mf("startAt","key",e,!0),new nB(n,e)}(e,t)))}startAfter(e=null,t){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new $4(this.database,X6(this._delegate,function H91(n,e){return Mf("startAfter","key",e,!0),new V91(n,e)}(e,t)))}endAt(e=null,t){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new $4(this.database,X6(this._delegate,function x91(n,e){return Mf("endAt","key",e,!0),new tB(n,e)}(e,t)))}endBefore(e=null,t){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new $4(this.database,X6(this._delegate,function z91(n,e){return Mf("endBefore","key",e,!0),new w91(n,e)}(e,t)))}equalTo(e,t){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new $4(this.database,X6(this._delegate,function G91(n,e){return Mf("equalTo","key",e,!0),new U91(n,e)}(e,t)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof $4))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,N.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,N.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,N.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new zn(this.database,new d6(this._delegate._repo,this._delegate._path))}}class zn extends $4{constructor(e,t){super(e,new an(t._repo,t._path,new yv,!1)),this.database=e,this._delegate=t}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new zn(this.database,Ts(this._delegate,e))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new zn(this.database,e):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new zn(this.database,this._delegate.root)}set(e,t){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",t,!0);const r=GS(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,aB("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}u6("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",t,!0);const r=L91(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function M91(n,e,t){if(u6("setWithPriority",n._path),q5("setWithPriority",e,n._path,!1),IS("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new N.BH;return RS(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",e,!0);const t=function y91(n){return u6("remove",n._path),GS(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,N.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function oc1(n,e,t){var r;if(n=(0,N.m9)(n),u6("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=null==t?void 0:t.applyLocally)||void 0===r||r,s=new N.BH,f=jS(n,()=>{});return function d91(n,e,t,r,i,s){H7(n,"transaction on "+e);const l={path:e,update:t,onComplete:r,status:null,order:tF(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=FS(n,e,void 0);l.currentInputSnapshot=f;const C=l.update(f.val());if(void 0===C)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{_f("transaction failed: Data returned ",C,l.path),l.status=0;const v=kv(n.transactionQueueTree_,e),b=As(v)||[];let x;b.push(l),ES(v,b),"object"==typeof C&&null!==C&&(0,N.r3)(C,".priority")?(x=(0,N.DV)(C,".priority"),(0,N.hu)(yf(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=(Dv(n.serverSyncTree_,e)||J2.EMPTY_NODE).getPriority().val();const S=bf(n),A=H3(C,x),D=VS(A,f,S);l.currentOutputSnapshotRaw=A,l.currentOutputSnapshotResolved=D,l.currentWriteId=Ov(n);const W=MS(n.serverSyncTree_,e,D,l.currentWriteId,l.applyLocally);f6(n.eventQueue_,e,W),Bv(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(C,v,b)=>{let x=null;C?s.reject(C):(x=new Es(b,new d6(n._repo,n._path),a3),s.resolve(new ac1(v,x)))},f,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new Cc1(s.committed,new Hi(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",t,!0);const r=function _91(n,e){n=(0,N.m9)(n),u6("setPriority",n._path),IS("setPriority",e,!1);const t=new N.BH;return RS(n._repo,v3(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",t,!0);const r=function v91(n,e){n=(0,N.m9)(n),u6("push",n._path),q5("push",e,n._path,!0);const t=kO(n._repo),r=So1(t),i=Ts(n,r),s=Ts(n,r);let l;return l=null!=e?GS(s,e).then(()=>s):Promise.resolve(s),i.then=l.then.bind(l),i.catch=l.then.bind(l,void 0),i}(this._delegate,e),i=r.then(l=>new zn(this.database,l));t&&i.then(()=>t(null),l=>t(l));const s=new zn(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return u6("Reference.onDisconnect",this._delegate._path),new hc1(new WO(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class wf{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Y91,forceLongPolling:Q91}}useEmulator(e,t,r={}){!function J91(n,e,t,r={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&U5("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&U5('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new nf(nf.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:(0,N.Sg)(r.mockUserToken,n.app.options.projectId);s=new nf(l)}!function q91(n,e,t,r){n.repoInfo_=new Uz(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(this._delegate,e,t,r)}ref(e){if((0,N.Dv)("database.ref",0,1,arguments.length),e instanceof zn){const t=KO(this._delegate,e.toString());return new zn(this,t)}{const t=ZO(this._delegate,e);return new zn(this,t)}}refFromURL(e){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const r=KO(this._delegate,e);return new zn(this,r)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function X91(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),OO(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function ec1(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function f91(n){n.persistentConnection_&&n.persistentConnection_.resume(NO)}(n._repo)}(this._delegate)}}wf.ServerValue={TIMESTAMP:function ic1(){return rc1}(),increment:n=>function sc1(n){return{".sv":{increment:n}}}(n)};var mc1=Object.freeze({__proto__:null,initStandalone:function pc1({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){XP(t);const l=new Z6.zt("auth-internal",new Z6.H0("database-standalone"));return l.setComponent(new Z6.wA("auth-internal",()=>r,"PRIVATE")),{instance:new wf(iB(n,l,void 0,e,s),n),namespace:i}}});const gc1=wf.ServerValue;!function vc1(n){n.INTERNAL.registerComponent(new Z6.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new wf(i,r)},"PUBLIC").setServiceProps({Reference:zn,Query:$4,Database:wf,DataSnapshot:Hi,enableLogging:tc1,INTERNAL:mc1,ServerValue:gc1}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(Nz.Z);var zf=T(5363),yc1=T(6063);class _c1 extends Qe.x{constructor(e=1/0,t=1/0,r=yc1.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:l}=this;t||(r.push(e),!i&&r.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let l=0;l<s.length&&!e.closed;l+=r?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const l=t.now();let f=0;for(let C=1;C<r.length&&r[C]<=l;C+=2)f=C;f&&r.splice(0,f+1)}}}function $S(n,e,t){var r,i;let s,l=!1;return n&&"object"==typeof n?(s=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,l=!!n.refCount,t=n.scheduler):s=null!=n?n:1/0,(0,KP.B)({connector:()=>new _c1(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}function oB(n,e){return(0,m0.m)(e)?Ne(()=>n,e):Ne(()=>n)}var WS=T(9468);T(5867);const lB=new Map,wc1={activated:!1,tokenObservers:[]},zc1={initialized:!1,enabled:!1};function A4(n){return lB.get(n)||wc1}function e5(n,e){lB.set(n,e)}function Wv(){return zc1}class Ec1{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,w1.Z)(function*(){t.stop();try{t.pending=new N.BH,yield function Tc1(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new N.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ht=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fB(n){if(!A4(n).activated)throw Ht.create("use-before-activation",{appName:n.name})}function QS(n,e){return JS.apply(this,arguments)}function JS(){return(JS=(0,w1.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const s={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,s)}catch(x){throw Ht.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==l.status)throw Ht.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(x){throw Ht.create("fetch-parse-error",{originalErrorMessage:x.message})}const C=f.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw Ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(C[1]),b=Date.now();return{token:f.token,expireTimeMillis:b+v,issuedAtTimeMillis:b}})).apply(this,arguments)}function Rc1(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Vf="firebase-app-check-store";let Yv=null;function hB(){return Yv||(Yv=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ht.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Vf,{keyPath:"compositeKey"})}}catch(t){e(Ht.create("storage-open",{originalErrorMessage:t.message}))}}),Yv)}function XS(){return(XS=(0,w1.Z)(function*(n,e){const r=(yield hB()).transaction(Vf,"readwrite"),s=r.objectStore(Vf).put({compositeKey:n,value:e});return new Promise((l,f)=>{s.onsuccess=C=>{l()},r.onerror=C=>{var v;f(Ht.create("storage-set",{originalErrorMessage:null===(v=C.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const Hf=new K6.Yd("@firebase/app-check");function gB(n,e){return(0,N.hl)()?function Bc1(n,e){return function CB(n,e){return XS.apply(this,arguments)}(function mB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Hf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function vB(){return Wv().enabled}function yB(){return rV.apply(this,arguments)}function rV(){return(rV=(0,w1.Z)(function*(){const n=Wv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Wc1={error:"UNKNOWN_ERROR"};function Zc1(n){return N.US.encodeString(JSON.stringify(n),!1)}function Qv(n){return iV.apply(this,arguments)}function iV(){return(iV=(0,w1.Z)(function*(n,e=!1){const t=n.app;fB(t);const r=A4(t);let s,i=r.token;if(!i){const C=yield r.cachedTokenPromise;C&&Jv(C)&&(i=C)}if(!e&&i&&Jv(i))return{token:i.token};let f,l=!1;if(vB()){r.exchangeTokenPromise||(r.exchangeTokenPromise=QS(Rc1(t,yield yB()),n.heartbeatServiceProvider).then(v=>(r.exchangeTokenPromise=void 0,v)),l=!0);const C=yield r.exchangeTokenPromise;return yield gB(t,C),e5(t,Object.assign(Object.assign({},r),{token:C})),{token:C.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(C=>(r.exchangeTokenPromise=void 0,C)),l=!0),i=yield r.exchangeTokenPromise}catch(C){"appCheck/throttled"===C.code?Hf.warn(C.message):Hf.error(C),s=C}return i?(f={token:i.token},e5(t,Object.assign(Object.assign({},r),{token:i})),yield gB(t,i)):f=Yc1(s),l&&MB(t,f),f})).apply(this,arguments)}function aV(n,e){const t=A4(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),e5(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function _B(n){const{app:e}=n,t=A4(e);let r=t.tokenRefresher;r||(r=function Kc1(n){const{app:e}=n;return new Ec1((0,w1.Z)(function*(){let r;if(r=A4(e).token?yield Qv(n,!0):yield Qv(n),r.error)throw r.error}),()=>!0,()=>{const t=A4(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),e5(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function MB(n,e){const t=A4(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Jv(n){return n.expireTimeMillis-Date.now()>0}function Yc1(n){return{token:Zc1(Wc1),error:n}}class Qc1{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=A4(this.app);for(const t of e)aV(this.app,t.next);return Promise.resolve()}}const HB="app-check-internal";!function fl1(){(0,St._registerComponent)(new Z6.wA("app-check",n=>function Jc1(n,e){return new Qc1(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(HB).initialize()})),(0,St._registerComponent)(new Z6.wA(HB,n=>function Xc1(n){return{getToken:e=>Qv(n,e),addTokenListener:e=>function sV(n,e,t,r){const{app:i}=n,s=A4(i),l={next:t,error:r,type:e};if(e5(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,l]})),s.token&&Jv(s.token)){const f=s.token;Promise.resolve().then(()=>{t({token:f.token}),_B(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>_B(n))}(n,"INTERNAL",e),removeTokenListener:e=>aV(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,St.registerVersion)("@firebase/app-check","0.5.8")}();class Af{constructor(){return(0,re.vb)("app-check")}}"undefined"!=typeof window&&window;var Ds=T(127);const fV=new c.OlP("angularfire2.auth.use-emulator"),dV=new c.OlP("angularfire2.auth.settings"),hV=new c.OlP("angularfire2.auth.tenant-id"),CV=new c.OlP("angularfire2.auth.langugage-code"),pV=new c.OlP("angularfire2.auth.use-device-language"),mV=new c.OlP("angularfire.auth.persistence"),gV=(n,e,t,r,i,s,l,f)=>(0,V3.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const C=e.runOutsideAngular(()=>n.auth());if(t&&C.useEmulator(...t),r&&(C.tenantId=r),C.languageCode=i,s&&C.useDeviceLanguage(),l)for(const[v,b]of Object.entries(l))C.settings[v]=b;return f&&C.setPersistence(f),C},[t,r,i,s,l,f]);let Ef=(()=>{class n{constructor(t,r,i,s,l,f,C,v,b,x,S,A){const D=new Qe.x,W=b2(void 0).pipe((0,zf.Q)(l.outsideAngular),Ne(()=>s.runOutsideAngular(()=>Promise.resolve().then(T.bind(T,7092)))),(0,M2.U)(()=>(0,V3.on)(t,s,r)),(0,M2.U)(a1=>gV(a1,s,f,v,b,x,C,S)),$S({bufferSize:1,refCount:!1}));if(K3(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=b2(null);else{W.pipe(y5()).subscribe();const H1=W.pipe(Ne(J1=>J1.getRedirectResult().then(v2=>v2,()=>null)),re.iC,$S({bufferSize:1,refCount:!1})),F1=W.pipe(Ne(J1=>new We.y(v2=>({unsubscribe:s.runOutsideAngular(()=>J1.onAuthStateChanged(A2=>v2.next(A2),A2=>v2.error(A2),()=>v2.complete()))})))),W1=W.pipe(Ne(J1=>new We.y(v2=>({unsubscribe:s.runOutsideAngular(()=>J1.onIdTokenChanged(A2=>v2.next(A2),A2=>v2.error(A2),()=>v2.complete()))}))));this.authState=H1.pipe(oB(F1),(0,WS.R)(l.outsideAngular),(0,zf.Q)(l.insideAngular)),this.user=H1.pipe(oB(W1),(0,WS.R)(l.outsideAngular),(0,zf.Q)(l.insideAngular)),this.idToken=this.user.pipe(Ne(J1=>J1?(0,Be.D)(J1.getIdToken()):b2(null))),this.idTokenResult=this.user.pipe(Ne(J1=>J1?(0,Be.D)(J1.getIdTokenResult()):b2(null))),this.credential=(0,Qu.T)(H1,D,this.authState.pipe(s4(J1=>!J1))).pipe((0,M2.U)(J1=>(null==J1?void 0:J1.user)?J1:null),(0,WS.R)(l.outsideAngular),(0,zf.Q)(l.insideAngular))}return(0,V3.pX)(this,W,s,{spy:{apply:(a1,H1,F1)=>{(a1.startsWith("signIn")||a1.startsWith("createUser"))&&F1.then(W1=>D.next(W1))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(V3.Dh),c.LFG(V3.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(re.HU),c.LFG(fV,8),c.LFG(dV,8),c.LFG(hV,8),c.LFG(CV,8),c.LFG(pV,8),c.LFG(mV,8),c.LFG(Af,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gl1=(()=>{class n{constructor(){Ds.Z.registerVersion("angularfire",re.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Ef]}),n})();function EB(n){return null==n}function TB(n){return"function"==typeof n.set}function DB(n,e){return TB(e)?e:n.ref(e)}function IB(n,e){if(function vl1(n){return"string"==typeof n}(n))return e.stringCase();if(TB(n))return e.firebaseCase();if(function yl1(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Tf(n,e,t="on",r=Dz.z){return new We.y(i=>{let s=null;return s=n[t](e,(l,f)=>{r.schedule(()=>{i.next({snapshot:l,prevKey:f})}),"once"===t&&r.schedule(()=>i.complete())},l=>{r.schedule(()=>i.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,M2.U)(i=>{const{snapshot:s,prevKey:l}=i;let f=null;return s.exists()&&(f=s.key),{type:e,payload:s,prevKey:l,key:f}}),(0,KP.B)())}function NB(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function Ll1(n,e){const{payload:t,prevKey:r,key:i}=e,s=NB(n,i),l=function Ml1(n,e){if(EB(e))return 0;{const t=NB(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let f=null;e.payload.forEach(C=>{const v={payload:C,type:"value",prevKey:f,key:C.key};return f=C.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const f=n[s-1];(f&&f.key||null)!==r&&(n=n.filter(C=>C.payload.key!==t.key)).splice(l,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(f=>f.payload.key!==t.key);case"child_changed":return n.map(f=>f.payload.key===i?e:f);case"child_moved":if(s>-1){const f=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,f),n}return n;default:return n}}function kB(n){return(EB(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function RB(n,e,t){return function _l1(n,e,t){return Tf(n,"value","once",t).pipe(Ne(r=>{const i=[b2(r)];return e.forEach(s=>i.push(Tf(n,s,"on",t))),(0,Qu.T)(...i).pipe(it(Ll1,[]))}),Iz())}(n,e=kB(e),t)}function PB(n,e,t){const r=(e=kB(e)).map(i=>Tf(n,i,"on",t));return(0,Qu.T)(...r)}function FB(n,e){return function(r,i){return IB(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function zl1(n){return function(t){return t?IB(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function OB(n,e){return function(){return Tf(n,"value","on",e)}}const Hl1=new c.OlP("angularfire2.realtimeDatabaseURL"),Al1=new c.OlP("angularfire2.database.use-emulator");let Df=(()=>{class n{constructor(t,r,i,s,l,f,C,v,b,x,S,A,D,W,a1){this.schedulers=f;const H1=C,F1=(0,V3.on)(t,l,r);v&&gV(F1,l,b,S,A,D,x,W),this.database=(0,V3.cc)(`${F1.name}.database.${i}`,"AngularFireDatabase",F1.name,()=>{const W1=l.runOutsideAngular(()=>F1.database(i||void 0));return H1&&W1.useEmulator(...H1),W1},[H1])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>DB(this.database,t));let s=i;return r&&(s=r(i)),function Sl1(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:FB(r,"update"),set:FB(r,"set"),push:i=>r.push(i),remove:zl1(r),snapshotChanges:i=>RB(n,i,t).pipe(re.iC),stateChanges:i=>PB(n,i,t).pipe(re.iC),auditTrail:i=>function bl1(n,e,t){return function wl1(n,e,t){return function xl1(n,e){return Tf(n,"value","on",e).pipe((0,M2.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function La1(...n){const e=(0,p5.jO)(n);return(0,w3.e)((t,r)=>{const i=n.length,s=new Array(i);let l=n.map(()=>!1),f=!1;for(let C=0;C<i;C++)(0,Qt.Xf)(n[C]).subscribe((0,Ge.x)(r,v=>{s[C]=v,!f&&!l[C]&&(l[C]=!0,(f=l.every(yt.y))&&(l=null))},YP.Z));t.subscribe((0,Ge.x)(r,C=>{if(f){const v=[C,...s];r.next(e?e(...v):v)}}))})}(e),(0,M2.U)(([i,s])=>{const l=i.lastKeyToLoad,f=s.map(C=>C.key);return{actions:s,lastKeyToLoad:l,loadedKeys:f}}),function ba1(n){return(0,w3.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,Ge.x)(t,s=>(r||(r=!n(s,i++)))&&t.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,M2.U)(i=>i.actions))}(n,PB(n,e).pipe(it((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(re.iC),valueChanges:(i,s)=>RB(n,i,t).pipe((0,M2.U)(f=>f.map(C=>s&&s.idField?Object.assign(Object.assign({},C.payload.val()),{[s.idField]:C.key}):C.payload.val())),re.iC)}}(s,this)}object(t){return function Vl1(n,e){return{query:n,snapshotChanges:()=>OB(n,e.schedulers.outsideAngular)().pipe(re.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>OB(n,e.schedulers.outsideAngular)().pipe(re.iC,(0,M2.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>DB(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(V3.Dh),c.LFG(V3.xv,8),c.LFG(Hl1,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(re.HU),c.LFG(Al1,8),c.LFG(Ef,8),c.LFG(fV,8),c.LFG(dV,8),c.LFG(hV,8),c.LFG(CV,8),c.LFG(pV,8),c.LFG(mV,8),c.LFG(Af,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),El1=(()=>{class n{constructor(){Ds.Z.registerVersion("angularfire",re.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Df]}),n})();function ey(){return(0,w3.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ge.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var g2,Tl1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},G8={},vV=vV||{},K2=Tl1||self;function ty(){}function yV(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function If(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _V="closure_uid_"+(1e9*Math.random()>>>0),Il1=0;function Nl1(n,e,t){return n.call.apply(n.bind,arguments)}function kl1(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function W4(n,e,t){return(W4=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nl1:kl1).apply(null,arguments)}function ny(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Z4(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function Ai(){this.s=this.s,this.o=this.o}var Pl1={};Ai.prototype.s=!1,Ai.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Dl1(n){return Object.prototype.hasOwnProperty.call(n,_V)&&n[_V]||(n[_V]=++Il1)}(this);delete Pl1[n]}},Ai.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const BB=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},UB=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function GB(n){return Array.prototype.concat.apply([],arguments)}function MV(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ry(n){return/^[\s\xa0]*$/.test(n)}var Et,jB=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function At(n,e){return-1!=n.indexOf(e)}function LV(n,e){return n<e?-1:n>e?1:0}e:{var qB=K2.navigator;if(qB){var $B=qB.userAgent;if($B){Et=$B;break e}}Et=""}function bV(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function WB(n){const e={};for(const t in n)e[t]=n[t];return e}var ZB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KB(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<ZB.length;s++)t=ZB[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function xV(n){return xV[" "](n),n}xV[" "]=ty;var iy,n,Bl1=At(Et,"Opera"),E7=At(Et,"Trident")||At(Et,"MSIE"),YB=At(Et,"Edge"),wV=YB||E7,QB=At(Et,"Gecko")&&!(At(Et.toLowerCase(),"webkit")&&!At(Et,"Edge"))&&!(At(Et,"Trident")||At(Et,"MSIE"))&&!At(Et,"Edge"),Ul1=At(Et.toLowerCase(),"webkit")&&!At(Et,"Edge");function JB(){var n=K2.document;return n?n.documentMode:void 0}e:{var zV="",SV=(n=Et,QB?/rv:([^\);]+)(\)|;)/.exec(n):YB?/Edge\/([\d\.]+)/.exec(n):E7?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ul1?/WebKit\/(\S+)/.exec(n):Bl1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(SV&&(zV=SV?SV[1]:""),E7){var VV=JB();if(null!=VV&&VV>parseFloat(zV)){iy=String(VV);break e}}iy=zV}var Gl1={};var ql1=K2.document&&E7&&(JB()||parseInt(iy,10))||void 0,$l1=function(){if(!K2.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{K2.addEventListener("test",ty,e),K2.removeEventListener("test",ty,e)}catch(t){}return n}();function lt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Nf(n,e){if(lt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(QB){e:{try{xV(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Wl1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Nf.Z.h.call(this)}}lt.prototype.h=function(){this.defaultPrevented=!0},Z4(Nf,lt);var Wl1={2:"touch",3:"pen",4:"mouse"};Nf.prototype.h=function(){Nf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kf="closure_listenable_"+(1e6*Math.random()|0),Zl1=0;function Kl1(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++Zl1,this.ca=this.fa=!1}function sy(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function ay(n){this.src=n,this.g={},this.h=0}function AV(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=BB(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function EV(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}ay.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=EV(n,e,r,i);return-1<l?(e=n[l],t||(e.fa=!1)):((e=new Kl1(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var TV="closure_lm_"+(1e6*Math.random()|0),DV={};function eU(n,e,t,r,i){if(r&&r.once)return nU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)eU(n,e[s],t,r,i);return null}return t=RV(t),n&&n[kf]?n.N(e,t,If(r)?!!r.capture:!!r,i):tU(n,e,t,!1,r,i)}function tU(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var l=If(i)?!!i.capture:!!i,f=NV(n);if(f||(n[TV]=f=new ay(n)),(t=f.add(e,t,r,l,s)).proxy)return t;if(r=function Yl1(){var e=Ql1;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)$l1||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(iU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function nU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)nU(n,e[s],t,r,i);return null}return t=RV(t),n&&n[kf]?n.O(e,t,If(r)?!!r.capture:!!r,i):tU(n,e,t,!0,r,i)}function rU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)rU(n,e[s],t,r,i);else r=If(r)?!!r.capture:!!r,t=RV(t),n&&n[kf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=EV(s=n.g[e],t,r,i))&&(sy(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=NV(n))&&(e=n.g[e.toString()],n=-1,e&&(n=EV(e,t,r,i)),(t=-1<n?e[n]:null)&&IV(t))}function IV(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[kf])AV(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(iU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=NV(e))?(AV(t,n),0==t.h&&(t.src=null,e[TV]=null)):sy(n)}}}function iU(n){return n in DV?DV[n]:DV[n]="on"+n}function Ql1(n,e){if(n.ca)n=!0;else{e=new Nf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&IV(n),n=t.call(r,e)}return n}function NV(n){return(n=n[TV])instanceof ay?n:null}var kV="__closure_events_fn_"+(1e9*Math.random()>>>0);function RV(n){return"function"==typeof n?n:(n[kV]||(n[kV]=function(e){return n.handleEvent(e)}),n[kV])}function E4(){Ai.call(this),this.i=new ay(this),this.P=this,this.I=null}function K4(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new lt(e,n);else if(e instanceof lt)e.target=e.target||n;else{var i=e;KB(e=new lt(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];i=oy(l,r,!0,e)&&i}if(i=oy(l=e.g=n,r,!0,e)&&i,i=oy(l,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=oy(l=e.g=t[s],r,!1,e)&&i}function oy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.ca&&l.capture==t){var f=l.listener,C=l.ia||l.src;l.fa&&AV(n.i,l),i=!1!==f.call(C,r)&&i}}return i&&!r.defaultPrevented}Z4(E4,Ai),E4.prototype[kf]=!0,E4.prototype.removeEventListener=function(n,e,t,r){rU(this,n,e,t,r)},E4.prototype.M=function(){if(E4.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sy(t[r]);delete n.g[e],n.h--}}this.I=null},E4.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},E4.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var PV=K2.JSON.stringify;function Jl1(){var n=aU;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var OV,sU=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new eu1,n=>n.reset());class eu1{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tu1(n){K2.setTimeout(()=>{throw n},0)}function FV(n,e){OV||function nu1(){var n=K2.Promise.resolve(void 0);OV=function(){n.then(ru1)}}(),BV||(OV(),BV=!0),aU.add(n,e)}var BV=!1,aU=new class Xl1{constructor(){this.h=this.g=null}add(e,t){const r=sU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function ru1(){for(var n;n=Jl1();){try{n.h.call(n.g)}catch(t){tu1(t)}var e=sU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}BV=!1}function cy(n,e){E4.call(this),this.h=n||1,this.g=e||K2,this.j=W4(this.kb,this),this.l=Date.now()}function UV(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function GV(n,e,t){if("function"==typeof n)t&&(n=W4(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=W4(n.handleEvent,n)}return 2147483647<Number(e)?-1:K2.setTimeout(n,e||0)}function oU(n){n.g=GV(()=>{n.g=null,n.i&&(n.i=!1,oU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Z4(cy,E4),(g2=cy.prototype).da=!1,g2.S=null,g2.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),K4(this,"tick"),this.da&&(UV(this),this.start()))}},g2.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},g2.M=function(){cy.Z.M.call(this),UV(this),delete this.g};class iu1 extends Ai{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oU(this)}M(){super.M(),this.g&&(K2.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rf(n){Ai.call(this),this.h=n,this.g={}}Z4(Rf,Ai);var cU=[];function lU(n,e,t,r){Array.isArray(t)||(t&&(cU[0]=t.toString()),t=cU);for(var i=0;i<t.length;i++){var s=eU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function uU(n){bV(n.g,function(e,t){this.g.hasOwnProperty(t)&&IV(e)},n),n.g={}}function ly(){this.g=!0}function T7(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cu1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<i.length;l++)i[l]=""}}}return PV(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Rf.prototype.M=function(){Rf.Z.M.call(this),uU(this)},Rf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ly.prototype.Aa=function(){this.g=!1},ly.prototype.info=function(){};var Is={},fU=null;function uy(){return fU=fU||new E4}function dU(n){lt.call(this,Is.Ma,n)}function Pf(n){const e=uy();K4(e,new dU(e,n))}function hU(n,e){lt.call(this,Is.STAT_EVENT,n),this.stat=e}function Tt(n){const e=uy();K4(e,new hU(e,n))}function CU(n,e){lt.call(this,Is.Na,n),this.size=e}function Ff(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return K2.setTimeout(function(){n()},e)}Is.Ma="serverreachability",Z4(dU,lt),Is.STAT_EVENT="statevent",Z4(hU,lt),Is.Na="timingevent",Z4(CU,lt);var fy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pU={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jV(){}function gU(){}jV.prototype.h=null;var WV,Of={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qV(){lt.call(this,"d")}function $V(){lt.call(this,"c")}function dy(){}function Bf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Rf(this),this.P=lu1,this.W=new cy(n=wV?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vU}function vU(){this.i=null,this.g="",this.h=!1}Z4(qV,lt),Z4($V,lt),Z4(dy,jV),dy.prototype.g=function(){return new XMLHttpRequest},dy.prototype.i=function(){return{}},WV=new dy;var lu1=45e3,ZV={},hy={};function KV(n,e,t){n.K=1,n.v=vy(j8(e)),n.s=t,n.U=!0,yU(n,null)}function yU(n,e){n.F=Date.now(),Uf(n),n.A=j8(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),VU(t.h,"t",r),n.C=0,t=n.l.H,n.h=new vU,n.g=QU(n.l,t?e:null,!n.s),0<n.O&&(n.L=new iu1(W4(n.Ia,n,n.g),n.O)),lU(n.V,n.g,"readystatechange",n.gb),e=n.H?WB(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Pf(1),function su1(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var l="",f=s.split("&"),C=0;C<f.length;C++){var v=f[C].split("=");if(1<v.length){var b=v[0];v=v[1];var x=b.split("_");l=2<=x.length&&"type"==x[1]?l+(b+"=")+v+"&":l+(b+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.X,n.s)}function _U(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function MU(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=uu1(n,t),i==hy){4==e&&(n.o=4,Tt(14),r=!1),T7(n.j,n.m,null,"[Incomplete Response]");break}if(i==ZV){n.o=4,Tt(15),T7(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}T7(n.j,n.m,i,null),YV(n,i)}_U(n)&&i!=hy&&i!=ZV&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Tt(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),oH(e),e.L=!0,Tt(11))):(T7(n.j,n.m,t,"[Invalid Chunked Response]"),Ns(n),Gf(n))}function uu1(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?hy:(t=Number(e.substring(t,r)),isNaN(t)?ZV:(r+=1)+t>e.length?hy:(e=e.substr(r,t),n.C=r+t,e))}function Uf(n){n.Y=Date.now()+n.P,LU(n,n.P)}function LU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ff(W4(n.eb,n),e)}function Cy(n){n.B&&(K2.clearTimeout(n.B),n.B=null)}function Gf(n){0==n.l.G||n.I||WU(n.l,n)}function Ns(n){Cy(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,UV(n.W),uU(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function YV(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||XV(t.i,n)))if(t.I=n.N,!n.J&&XV(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ff(W4(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;xy(t),Ly(t)}aH(t),Tt(18)}if(1>=EU(t.i)&&t.ka){try{t.ka()}catch(v){}t.ka=void 0}}else Ps(t,11)}else if((n.J||t.g==n)&&xy(t),!ry(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.U=v[0],v=v[1],2==t.G)if("c"==v[0]){t.J=v[1],t.la=v[2];const b=v[3];null!=b&&(t.ma=b,t.h.info("VER="+t.ma));const x=v[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const S=v[5];null!=S&&"number"==typeof S&&0<S&&(t.K=r=1.5*S,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const A=n.g;if(A){const D=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var s=r.i;!s.g&&(At(D,"spdy")||At(D,"quic")||At(D,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(eH(s,s.h),s.h=null))}if(r.D){const W=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;W&&(r.sa=W,y3(r.F,r.D,W))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var l=n;if((r=t).oa=YU(r,r.H?r.la:null,r.W),l.J){TU(r.i,l);var f=l,C=r.K;C&&f.setTimeout(C),f.B&&(Cy(f),Uf(f)),r.g=l}else qU(r);0<t.l.length&&by(t)}else"stop"!=v[0]&&"close"!=v[0]||Ps(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Ps(t,7):iH(t):"noop"!=v[0]&&t.j&&t.j.wa(v),t.A=0)}Pf(4)}catch(v){}}function QV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(yV(n)||"string"==typeof n)UB(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(yV(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function fu1(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(yV(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function D7(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof D7)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function JV(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ks(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)ks(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function ks(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(g2=Bf.prototype).setTimeout=function(n){this.P=n},g2.gb=function(n){n=n.target;const e=this.L;e&&3==q8(n)?e.l():this.Ia(n)},g2.Ia=function(n){try{if(n==this.g)e:{const b=q8(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>b)&&(3!=b||wV||this.g&&(this.h.h||this.g.ga()||OU(this.g)))){this.I||4!=b||7==e||Pf(8==e||0>=x?3:2),Cy(this);var t=this.g.ba();this.N=t;t:if(_U(this)){var r=OU(this.g);n="";var i=r.length,s=4==q8(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ns(this),Gf(this);var l="";break t}this.h.i=new K2.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==t,function au1(n,e,t,r,i,s,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.X,b,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,C=this.g;if((f=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ry(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Tt(12),Ns(this),Gf(this);break e}T7(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,YV(this,t)}this.U?(MU(this,b,l),wV&&this.i&&3==b&&(lU(this.V,this.W,"tick",this.fb),this.W.start())):(T7(this.j,this.m,l,null),YV(this,l)),4==b&&Ns(this),this.i&&!this.I&&(4==b?WU(this.l,this):(this.i=!1,Uf(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Tt(12)):(this.o=0,Tt(13)),Ns(this),Gf(this)}}}catch(b){}},g2.fb=function(){if(this.g){var n=q8(this.g),e=this.g.ga();this.C<e.length&&(Cy(this),MU(this,n,e),this.i&&4!=n&&Uf(this))}},g2.cancel=function(){this.I=!0,Ns(this)},g2.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function ou1(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Pf(3),Tt(17)),Ns(this),this.o=2,Gf(this)):LU(this,this.Y-n)},(g2=D7.prototype).R=function(){JV(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},g2.T=function(){return JV(this),this.g.concat()},g2.get=function(n,e){return ks(this.h,n)?this.h[n]:e},g2.set=function(n,e){ks(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},g2.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var bU=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rs(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Rs){this.g=void 0!==e?e:n.g,py(this,n.j),this.s=n.s,my(this,n.i),gy(this,n.m),this.l=n.l,e=n.h;var t=new $f;t.i=e.i,e.g&&(t.g=new D7(e.g),t.h=e.h),xU(this,t),this.o=n.o}else n&&(t=String(n).match(bU))?(this.g=!!e,py(this,t[1]||"",!0),this.s=jf(t[2]||""),my(this,t[3]||"",!0),gy(this,t[4]),this.l=jf(t[5]||"",!0),xU(this,t[6]||"",!0),this.o=jf(t[7]||"")):(this.g=!!e,this.h=new $f(null,this.g))}function j8(n){return new Rs(n)}function py(n,e,t){n.j=t?jf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function my(n,e,t){n.i=t?jf(e,!0):e}function gy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xU(n,e,t){e instanceof $f?(n.h=e,function _u1(n,e){e&&!n.j&&(Ei(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(zU(this,r),VU(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=qf(e,vu1)),n.h=new $f(e,n.g))}function y3(n,e,t){n.h.set(e,t)}function vy(n){return y3(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function jf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,pu1),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function pu1(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Rs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(qf(e,wU,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(qf(e,wU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(qf(t,"/"==t.charAt(0)?gu1:mu1,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",qf(t,yu1)),n.join("")};var wU=/[#\/\?@]/g,mu1=/[#\?:]/g,gu1=/[#\?]/g,vu1=/[#\?@]/g,yu1=/#/g;function $f(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ei(n){n.g||(n.g=new D7,n.h=0,n.i&&function du1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zU(n,e){Ei(n),e=I7(n,e),ks(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ks((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&JV(n)))}function SU(n,e){return Ei(n),e=I7(n,e),ks(n.g.h,e)}function VU(n,e,t){zU(n,e),0<t.length&&(n.i=null,n.g.set(I7(n,e),MV(t)),n.h+=t.length)}function I7(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function HU(n){this.l=n||Lu1,n=K2.PerformanceNavigationTiming?0<(n=K2.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(K2.g&&K2.g.Ea&&K2.g.Ea()&&K2.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(g2=$f.prototype).add=function(n,e){Ei(this),this.i=null,n=I7(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},g2.forEach=function(n,e){Ei(this),this.g.forEach(function(t,r){UB(t,function(i){n.call(e,i,r,this)},this)},this)},g2.T=function(){Ei(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},g2.R=function(n){Ei(this);var e=[];if("string"==typeof n)SU(this,n)&&(e=GB(e,this.g.get(I7(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=GB(e,n[t])}return e},g2.set=function(n,e){return Ei(this),this.i=null,SU(this,n=I7(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},g2.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},g2.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var l=i;""!==r[s]&&(l+="="+encodeURIComponent(String(r[s]))),n.push(l)}}return this.i=n.join("&")};var Lu1=10;function AU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function EU(n){return n.h?1:n.g?n.g.size:0}function XV(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function eH(n,e){n.g?n.g.add(e):n.h=e}function TU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function DU(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return MV(n.i)}function tH(){}function bu1(){this.g=new tH}function xu1(n,e,t){const r=t||"";try{QV(n,function(i,s){let l=i;If(i)&&(l=PV(i)),e.push(r+s+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yy(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Wf(n){this.l=n.$b||null,this.j=n.ib||!1}function _y(n,e){E4.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=nH,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}HU.prototype.cancel=function(){if(this.i=DU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},tH.prototype.stringify=function(n){return K2.JSON.stringify(n,void 0)},tH.prototype.parse=function(n){return K2.JSON.parse(n,void 0)},Z4(Wf,jV),Wf.prototype.g=function(){return new _y(this.l,this.j)},Wf.prototype.i=function(n){return function(){return n}}({}),Z4(_y,E4);var nH=0;function IU(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Zf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kf(n)}function Kf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(g2=_y.prototype).open=function(n,e){if(this.readyState!=nH)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Kf(this)},g2.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||K2).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},g2.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zf(this)),this.readyState=nH},g2.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kf(this)),this.g&&(this.readyState=3,Kf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==K2.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IU(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},g2.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Zf(this):Kf(this),3==this.readyState&&IU(this)}},g2.Ua=function(n){this.g&&(this.response=this.responseText=n,Zf(this))},g2.Ta=function(n){this.g&&(this.response=n,Zf(this))},g2.ha=function(){this.g&&Zf(this)},g2.setRequestHeader=function(n,e){this.v.append(n,e)},g2.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},g2.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(_y.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var zu1=K2.JSON.parse;function o4(n){E4.call(this),this.headers=new D7,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=NU,this.K=this.L=!1}Z4(o4,E4);var NU="",Su1=/^https?$/i,Vu1=["POST","PUT"];function Au1(n){return"content-type"==n.toLowerCase()}function kU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,RU(n),My(n)}function RU(n){n.D||(n.D=!0,K4(n,"complete"),K4(n,"error"))}function PU(n){if(n.h&&void 0!==vV&&(!n.C[1]||4!=q8(n)||2!=n.ba()))if(n.v&&4==q8(n))GV(n.Fa,0,n);else if(K4(n,"readystatechange"),4==q8(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(bU)[1]||null;if(!i&&K2.self&&K2.self.location){var s=K2.self.location.protocol;i=s.substr(0,s.length-1)}r=!Su1.test(i?i.toLowerCase():"")}t=r}if(t)K4(n,"complete"),K4(n,"success");else{n.m=6;try{var l=2<q8(n)?n.g.statusText:""}catch(C){l=""}n.j=l+" ["+n.ba()+"]",RU(n)}}finally{My(n)}}}function My(n,e){if(n.g){FU(n);const t=n.g,r=n.C[0]?ty:null;n.g=null,n.C=null,e||K4(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function FU(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(K2.clearTimeout(n.A),n.A=null)}function q8(n){return n.g?n.g.readyState:0}function OU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case NU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function rH(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Eu1(n){let e="";return bV(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):y3(n,e,t))}function Yf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function BU(n){this.za=0,this.l=[],this.h=new ly,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yf("baseRetryDelayMs",5e3,n),this.$a=Yf("retryDelaySeedMs",1e4,n),this.Ya=Yf("forwardChannelMaxRetries",2,n),this.ra=Yf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new HU(n&&n.concurrentRequestLimit),this.Ca=new bu1,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function iH(n){if(UU(n),3==n.G){var e=n.V++,t=j8(n.F);y3(t,"SID",n.J),y3(t,"RID",e),y3(t,"TYPE","terminate"),Qf(n,t),(e=new Bf(n,n.h,e,void 0)).K=2,e.v=vy(j8(t)),t=!1,K2.navigator&&K2.navigator.sendBeacon&&(t=K2.navigator.sendBeacon(e.v.toString(),"")),!t&&K2.Image&&((new Image).src=e.v,t=!0),t||(e.g=QU(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Uf(e)}KU(n)}function Ly(n){n.g&&(oH(n),n.g.cancel(),n.g=null)}function UU(n){Ly(n),n.u&&(K2.clearTimeout(n.u),n.u=null),xy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&K2.clearTimeout(n.m),n.m=null)}function sH(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&by(n)}function by(n){AU(n.i)||n.m||(n.m=!0,FV(n.Ha,n),n.C=0)}function GU(n,e){var t;t=e?e.m:n.V++;const r=j8(n.F);y3(r,"SID",n.J),y3(r,"RID",t),y3(r,"AID",n.U),Qf(n,r),n.o&&n.s&&rH(r,n.o,n.s),t=new Bf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=jU(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),eH(n.i,t),KV(t,r,e)}function Qf(n,e){n.j&&QV({},function(t,r){y3(e,r,t)})}function jU(n,e,t){t=Math.min(n.l.length,t);var r=n.j?W4(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=i[0].h,l.push("ofs="+s)):s=0:l.push("ofs="+s);let f=!0;for(let C=0;C<t;C++){let v=i[C].h;const b=i[C].g;if(v-=s,0>v)s=Math.max(0,i[C].h-100),f=!1;else try{xu1(b,l,"req"+v+"_")}catch(x){r&&r(b)}}if(f){r=l.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function qU(n){n.g||n.u||(n.Y=1,FV(n.Ga,n),n.A=0)}function aH(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ff(W4(n.Ga,n),ZU(n,n.A)),n.A++,0))}function oH(n){null!=n.B&&(K2.clearTimeout(n.B),n.B=null)}function $U(n){n.g=new Bf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=j8(n.oa);y3(e,"RID","rpc"),y3(e,"SID",n.J),y3(e,"CI",n.N?"0":"1"),y3(e,"AID",n.U),Qf(n,e),y3(e,"TYPE","xmlhttp"),n.o&&n.s&&rH(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=vy(j8(e)),t.s=null,t.U=!0,yU(t,n)}function xy(n){null!=n.v&&(K2.clearTimeout(n.v),n.v=null)}function WU(n,e){var t=null;if(n.g==e){xy(n),oH(n),n.g=null;var r=2}else{if(!XV(n.i,e))return;t=e.D,TU(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;K4(r=uy(),new CU(r,t,e,i)),by(n)}else qU(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Tu1(n,e){return!(EU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ff(W4(n.Ha,n,e),ZU(n,n.C)),n.C++,0)))}(n,e)||2==r&&aH(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ps(n,5);break;case 4:Ps(n,10);break;case 3:Ps(n,6);break;default:Ps(n,2)}}function ZU(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ps(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=W4(n.jb,n);t||(t=new Rs("//www.google.com/images/cleardot.gif"),K2.location&&"http"==K2.location.protocol||py(t,"https"),vy(t)),function wu1(n,e){const t=new ly;if(K2.Image){const r=new Image;r.onload=ny(yy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ny(yy,t,r,"TestLoadImage: error",!1,e),r.onabort=ny(yy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ny(yy,t,r,"TestLoadImage: timeout",!1,e),K2.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Tt(2);n.G=0,n.j&&n.j.va(e),KU(n),UU(n)}function KU(n){n.G=0,n.I=-1,n.j&&((0!=DU(n.i).length||0!=n.l.length)&&(n.i.i.length=0,MV(n.l),n.l.length=0),n.j.ua())}function YU(n,e,t){let r=function hu1(n){return n instanceof Rs?j8(n):new Rs(n,void 0)}(t);if(""!=r.i)e&&my(r,e+"."+r.i),gy(r,r.m);else{const i=K2.location;r=function Cu1(n,e,t,r){var i=new Rs(null,void 0);return n&&py(i,n),e&&my(i,e),t&&gy(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&bV(n.aa,function(i,s){y3(r,s,i)}),t=n.sa,(e=n.D)&&t&&y3(r,e,t),y3(r,"VER",n.ma),Qf(n,r),r}function QU(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new o4(t&&n.Ba&&!n.qa?new Wf({ib:!0}):n.qa)).L=n.H,e}function JU(){}function wy(){if(E7&&!(10<=Number(ql1)))throw Error("Environmental error: no available transport.")}function Sn(n,e){E4.call(this),this.g=new BU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ry(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ry(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new N7(this)}function XU(n){qV.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function eG(){$V.call(this),this.status=1}function N7(n){this.g=n}(g2=o4.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():WV.g(),this.C=function mU(n){return n.h||(n.h=n.i())}(this.u?this.u:WV),this.g.onreadystatechange=W4(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void kU(this,s)}n=t||"";const i=new D7(this.headers);r&&QV(r,function(s,l){i.set(l,s)}),r=function Fl1(n){e:{var e=Au1;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=K2.FormData&&n instanceof K2.FormData,!(0<=BB(Vu1,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,l){this.g.setRequestHeader(l,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{FU(this),0<this.B&&((this.K=function Hu1(n){return E7&&function jl1(){return function Ol1(n){var e=Gl1;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=jB(String(iy)).split("."),t=jB("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",s=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=LV(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||LV(0==i[2].length,0==s[2].length)||LV(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=W4(this.pa,this)):this.A=GV(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){kU(this,s)}},g2.pa=function(){void 0!==vV&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,K4(this,"timeout"),this.abort(8))},g2.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,K4(this,"complete"),K4(this,"abort"),My(this))},g2.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),My(this,!0)),o4.Z.M.call(this)},g2.Fa=function(){this.s||(this.F||this.v||this.l?PU(this):this.cb())},g2.cb=function(){PU(this)},g2.ba=function(){try{return 2<q8(this)?this.g.status:-1}catch(n){return-1}},g2.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},g2.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),zu1(e)}},g2.Da=function(){return this.m},g2.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(g2=BU.prototype).ma=8,g2.G=1,g2.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},g2.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Bf(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=WB(s),KB(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=jU(this,i,e),y3(t=j8(this.F),"RID",n),y3(t,"CVER",22),this.D&&y3(t,"X-HTTP-Session-Id",this.D),Qf(this,t),this.o&&s&&rH(t,this.o,s),eH(this.i,i),this.Ra&&y3(t,"TYPE","init"),this.ja?(y3(t,"$req",e),y3(t,"SID","null"),i.$=!0,KV(i,t,null)):KV(i,t,e),this.G=2}}else 3==this.G&&(n?GU(this,n):0==this.l.length||AU(this.i)||GU(this))},g2.Ga=function(){if(this.u=null,$U(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ff(W4(this.bb,this),n)}},g2.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Tt(10),Ly(this),$U(this))},g2.ab=function(){null!=this.v&&(this.v=null,Ly(this),aH(this),Tt(19))},g2.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Tt(2)):(this.h.info("Failed to ping google.com"),Tt(1))},(g2=JU.prototype).xa=function(){},g2.wa=function(){},g2.va=function(){},g2.ua=function(){},g2.Oa=function(){},wy.prototype.g=function(n,e){return new Sn(n,e)},Z4(Sn,E4),Sn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),FV(W4(n.hb,n,e))),Tt(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=YU(n,null,n.W),by(n)},Sn.prototype.close=function(){iH(this.g)},Sn.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,sH(this.g,e)}else this.v?((e={}).__data__=PV(n),sH(this.g,e)):sH(this.g,n)},Sn.prototype.M=function(){this.g.j=null,delete this.j,iH(this.g),delete this.g,Sn.Z.M.call(this)},Z4(XU,qV),Z4(eG,$V),Z4(N7,JU),N7.prototype.xa=function(){K4(this.g,"a")},N7.prototype.wa=function(n){K4(this.g,new XU(n))},N7.prototype.va=function(n){K4(this.g,new eG(n))},N7.prototype.ua=function(){K4(this.g,"b")},wy.prototype.createWebChannel=wy.prototype.g,Sn.prototype.send=Sn.prototype.u,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,fy.NO_ERROR=0,fy.TIMEOUT=8,fy.HTTP_ERROR=6,pU.COMPLETE="complete",gU.EventType=Of,Of.OPEN="a",Of.CLOSE="b",Of.ERROR="c",Of.MESSAGE="d",E4.prototype.listen=E4.prototype.N,o4.prototype.listenOnce=o4.prototype.O,o4.prototype.getLastError=o4.prototype.La,o4.prototype.getLastErrorCode=o4.prototype.Da,o4.prototype.getStatus=o4.prototype.ba,o4.prototype.getResponseJson=o4.prototype.Qa,o4.prototype.getResponseText=o4.prototype.ga,o4.prototype.send=o4.prototype.ea;var Du1=G8.createWebChannelTransport=function(){return new wy},Iu1=G8.getStatEventTarget=function(){return uy()},cH=G8.ErrorCode=fy,Nu1=G8.EventType=pU,ku1=G8.Event=Is,tG=G8.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ru1=G8.FetchXmlHttpFactory=Wf,zy=G8.WebChannel=gU,Pu1=G8.XhrIo=o4;const nG="@firebase/firestore";class Y4{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Y4.UNAUTHENTICATED=new Y4(null),Y4.GOOGLE_CREDENTIALS=new Y4("google-credentials-uid"),Y4.FIRST_PARTY=new Y4("first-party-uid"),Y4.MOCK_USER=new Y4("mock-user");let k7="9.8.0";const Ti=new K6.Yd("@firebase/firestore");function lH(){return Ti.logLevel}function Q1(n,...e){if(Ti.logLevel<=K6.in.DEBUG){const t=e.map(uH);Ti.debug(`Firestore (${k7}): ${n}`,...t)}}function c4(n,...e){if(Ti.logLevel<=K6.in.ERROR){const t=e.map(uH);Ti.error(`Firestore (${k7}): ${n}`,...t)}}function Jf(n,...e){if(Ti.logLevel<=K6.in.WARN){const t=e.map(uH);Ti.warn(`Firestore (${k7}): ${n}`,...t)}}function uH(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function _2(n="Unexpected state"){const e=`FIRESTORE (${k7}) INTERNAL ASSERTION FAILED: `+n;throw c4(e),new Error(e)}function j2(n,e){n||_2()}function u2(n,e){return n}const _1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B1 extends N.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class T4{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bu1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Y4.UNAUTHENTICATED))}shutdown(){}}class Uu1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gu1{constructor(e){this.t=e,this.currentUser=Y4.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let l=new T4;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new T4,e.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,w1.Z)(function*(){yield v.promise,yield s(r.currentUser)}))},C=v=>{Q1("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>C(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?C(v):(Q1("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new T4)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q1("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j2("string"==typeof r.accessToken),new rG(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j2(null===e||"string"==typeof e),new Y4(e)}}class ju1{constructor(e,t,r){this.type="FirstParty",this.user=Y4.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class qu1{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ju1(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Y4.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $u1{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&Q1("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.p;return this.p=s.token,Q1("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q1("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):Q1("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(j2("string"==typeof t.token),this.p=t.token,new iG(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Vn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Wu1(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Vn.A=-1;class sG{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Wu1(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ee(n,e){return n<e?-1:n>e?1:0}function R7(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function aG(n){return n+"\0"}class J3{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B1(_1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B1(_1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new B1(_1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B1(_1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return J3.fromMillis(Date.now())}static fromDate(e){return J3.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new J3(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class O2{constructor(e){this.timestamp=e}static fromTimestamp(e){return new O2(e)}static min(){return new O2(new J3(0,0))}static max(){return new O2(new J3(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function oG(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cG(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Xf{constructor(e,t,r){void 0===t?t=0:t>e.length&&_2(),void 0===r?r=e.length-t:r>e.length-t&&_2(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Xf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),l=t.get(i);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ge extends Xf{construct(e,t,r){return new ge(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new B1(_1.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ge(t)}static emptyPath(){return new ge([])}}const Zu1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class m4 extends Xf{construct(e,t,r){return new m4(e,t,r)}static isValidIdentifier(e){return Zu1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),m4.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new m4(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new B1(_1.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new B1(_1.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const C=e[i+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new B1(_1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=C,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(s(),i++)}if(s(),l)throw new B1(_1.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new m4(t)}static emptyPath(){return new m4([])}}class P7{constructor(e){this.fields=e,e.sort(m4.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return R7(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class g4{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new g4(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new g4(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}g4.EMPTY_BYTE_STRING=new g4("");const Yu1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(n){if(j2(!!n),"string"==typeof n){let e=0;const t=Yu1.exec(n);if(j2(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:U3(n.seconds),nanos:U3(n.nanos)}}function U3(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Os(n){return"string"==typeof n?g4.fromBase64String(n):g4.fromUint8Array(n)}function fH(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function lG(n){const e=n.mapValue.fields.__previous_value__;return fH(e)?lG(e):e}function ed(n){const e=Di(n.mapValue.fields.__local_write_time__.timestampValue);return new J3(e.seconds,e.nanos)}class Qu1{constructor(e,t,r,i,s,l,f,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.useFetchStreams=C}}class $8{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $8("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $8&&e.projectId===this.projectId&&e.database===this.database}}function td(n){return null==n}function nd(n){return 0===n&&1/n==-1/0}function uG(n){return"number"==typeof n&&Number.isInteger(n)&&!nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class s2{constructor(e){this.path=e}static fromPath(e){return new s2(ge.fromString(e))}static fromName(e){return new s2(ge.fromString(e).popFirst(5))}static empty(){return new s2(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new s2(new ge(e.slice()))}}const Ii={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sy={nullValue:"NULL_VALUE"};function Bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fH(n)?4:CG(n)?9007199254740991:10:_2()}function $5(n,e){if(n===e)return!0;const t=Bs(n);if(t!==Bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ed(n).isEqual(ed(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Di(r.timestampValue),l=Di(i.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Os(n.bytesValue).isEqual(Os(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return U3(r.geoPointValue.latitude)===U3(i.geoPointValue.latitude)&&U3(r.geoPointValue.longitude)===U3(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return U3(r.integerValue)===U3(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=U3(r.doubleValue),l=U3(i.doubleValue);return s===l?nd(s)===nd(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return R7(n.arrayValue.values||[],e.arrayValue.values||[],$5);case 10:return function(r,i){const s=r.mapValue.fields||{},l=i.mapValue.fields||{};if(oG(s)!==oG(l))return!1;for(const f in s)if(s.hasOwnProperty(f)&&(void 0===l[f]||!$5(s[f],l[f])))return!1;return!0}(n,e);default:return _2()}var i}function rd(n,e){return void 0!==(n.values||[]).find(t=>$5(t,e))}function Ni(n,e){if(n===e)return 0;const t=Bs(n),r=Bs(e);if(t!==r)return ee(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ee(n.booleanValue,e.booleanValue);case 2:return function(i,s){const l=U3(i.integerValue||i.doubleValue),f=U3(s.integerValue||s.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return fG(n.timestampValue,e.timestampValue);case 4:return fG(ed(n),ed(e));case 5:return ee(n.stringValue,e.stringValue);case 6:return function(i,s){const l=Os(i),f=Os(s);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const l=i.split("/"),f=s.split("/");for(let C=0;C<l.length&&C<f.length;C++){const v=ee(l[C],f[C]);if(0!==v)return v}return ee(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const l=ee(U3(i.latitude),U3(s.latitude));return 0!==l?l:ee(U3(i.longitude),U3(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const l=i.values||[],f=s.values||[];for(let C=0;C<l.length&&C<f.length;++C){const v=Ni(l[C],f[C]);if(v)return v}return ee(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ii.mapValue&&s===Ii.mapValue)return 0;if(i===Ii.mapValue)return 1;if(s===Ii.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),C=s.fields||{},v=Object.keys(C);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const x=ee(f[b],v[b]);if(0!==x)return x;const S=Ni(l[f[b]],C[v[b]]);if(0!==S)return S}return ee(f.length,v.length)}(n.mapValue,e.mapValue);default:throw _2()}}function fG(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ee(n,e);const t=Di(n),r=Di(e),i=ee(t.seconds,r.seconds);return 0!==i?i:ee(t.nanos,r.nanos)}function F7(n){return dH(n)}function dH(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Di(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Os(n.bytesValue).toBase64():"referenceValue"in n?s2.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const l of r.values||[])s?s=!1:i+=",",i+=dH(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",l=!0;for(const f of i)l?l=!1:s+=",",s+=`${f}:${dH(r.fields[f])}`;return s+"}"}(n.mapValue):_2();var e}function Us(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hH(n){return!!n&&"integerValue"in n}function id(n){return!!n&&"arrayValue"in n}function dG(n){return!!n&&"nullValue"in n}function hG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vy(n){return!!n&&"mapValue"in n}function sd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=sd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ju1(n){return"nullValue"in n?Sy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Us($8.empty(),s2.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_2()}function Xu1(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Us($8.empty(),s2.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ii:_2()}function pG(n,e){const t=Ni(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function mG(n,e){const t=Ni(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ut{constructor(e){this.value=e}static empty(){return new ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sd(t)}setAll(e){let t=m4.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const C=this.getFieldsMap(t);this.applyChanges(C,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=sd(l):i.push(f.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Vy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $5(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Fs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ut(sd(this.value))}}function gG(n){const e=[];return Fs(n.fields,(t,r)=>{const i=new m4([t]);if(Vy(r)){const s=gG(r.mapValue).fields;if(0===s.length)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new P7(e)}class f3{constructor(e,t,r,i,s,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=l}static newInvalidDocument(e){return new f3(e,0,O2.min(),O2.min(),ut.empty(),0)}static newFoundDocument(e,t,r){return new f3(e,1,t,O2.min(),r,0)}static newNoDocument(e,t){return new f3(e,2,t,O2.min(),ut.empty(),0)}static newUnknownDocument(e,t){return new f3(e,3,t,O2.min(),ut.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof f3&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new f3(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hy{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function CH(n){return n.fields.find(e=>2===e.kind)}function Gs(n){return n.fields.filter(e=>2!==e.kind)}Hy.UNKNOWN_ID=-1;class Ay{constructor(e,t){this.fieldPath=e,this.kind=t}}class ad{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ad(0,t5.min())}}function vG(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=O2.fromTimestamp(1e9===r?new J3(t+1,0):new J3(t,r));return new t5(i,s2.empty(),e)}function ef1(n){return new t5(n.readTime,n.key,-1)}class t5{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new t5(O2.min(),s2.empty(),-1)}static max(){return new t5(O2.max(),s2.empty(),-1)}}function yG(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=s2.comparator(n.documentKey,e.documentKey),0!==t?t:ee(n.largestBatchId,e.largestBatchId))}class X3{constructor(e,t){this.comparator=e,this.root=t||Q4.EMPTY}insert(e,t){return new X3(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Q4.BLACK,null,null))}remove(e){return new X3(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Q4.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ey(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ey(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ey(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ey(this.root,e,this.comparator,!0)}}class Ey{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Q4{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:Q4.RED,this.left=null!=i?i:Q4.EMPTY,this.right=null!=s?s:Q4.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Q4(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Q4.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Q4.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Q4.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Q4.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _2();const e=this.left.check();if(e!==this.right.check())throw _2();return e+(this.isRed()?0:1)}}Q4.EMPTY=null,Q4.RED=!0,Q4.BLACK=!1,Q4.EMPTY=new class{constructor(){this.size=0}get key(){throw _2()}get value(){throw _2()}get color(){throw _2()}get left(){throw _2()}get right(){throw _2()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Q4(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class c3{constructor(e){this.comparator=e,this.data=new X3(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _G(this.data.getIterator())}getIteratorFrom(e){return new _G(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof c3)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new c3(this.comparator);return t.data=e,t}}class _G{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function O7(n){return n.hasNext()?n.getNext():void 0}class tf1{constructor(e,t=null,r=[],i=[],s=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=f,this.P=null}}function MG(n,e=null,t=[],r=[],i=null,s=null,l=null){return new tf1(n,e,t,r,i,s,l)}function js(n){const e=u2(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+F7(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>F7(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>F7(r)).join(",")),e.P=t}return e.P}function od(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!uf1(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!$5(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zG(n.startAt,e.startAt)&&zG(n.endAt,e.endAt)}function Ty(n){return s2.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Dy(n,e){return n.filters.filter(t=>t instanceof J4&&t.field.isEqual(e))}function LG(n,e,t){let r=Sy,i=!0;for(const s of Dy(n,e)){let l=Sy,f=!0;switch(s.op){case"<":case"<=":l=Ju1(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,f=!1;break;case"!=":case"not-in":l=Sy}pG({value:r,inclusive:i},{value:l,inclusive:f})<0&&(r=l,i=f)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];pG({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function bG(n,e,t){let r=Ii,i=!0;for(const s of Dy(n,e)){let l=Ii,f=!0;switch(s.op){case">=":case">":l=Xu1(s.value),f=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,f=!1;break;case"!=":case"not-in":l=Ii}mG({value:r,inclusive:i},{value:l,inclusive:f})>0&&(r=l,i=f)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];mG({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class J4 extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new rf1(e,t,r):"array-contains"===t?new af1(e,r):"in"===t?new of1(e,r):"not-in"===t?new cf1(e,r):"array-contains-any"===t?new lf1(e,r):new J4(e,t,r)}static V(e,t,r){return"in"===t?new if1(e,r):new sf1(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ni(t,this.value)):null!==t&&Bs(this.value)===Bs(t)&&this.v(Ni(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _2()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rf1 extends J4{constructor(e,t,r){super(e,t,r),this.key=s2.fromName(r.referenceValue)}matches(e){const t=s2.comparator(e.key,this.key);return this.v(t)}}class if1 extends J4{constructor(e,t){super(e,"in",t),this.keys=xG(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sf1 extends J4{constructor(e,t){super(e,"not-in",t),this.keys=xG(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xG(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>s2.fromName(r.referenceValue))}class af1 extends J4{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return id(t)&&rd(t.arrayValue,this.value)}}class of1 extends J4{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rd(this.value.arrayValue,t)}}class cf1 extends J4{constructor(e,t){super(e,"not-in",t)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rd(this.value.arrayValue,t)}}class lf1 extends J4{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!id(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>rd(this.value.arrayValue,r))}}class ki{constructor(e,t){this.position=e,this.inclusive=t}}class B7{constructor(e,t="asc"){this.field=e,this.dir=t}}function uf1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function wG(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(r=s.field.isKeyField()?s2.comparator(s2.fromName(l.referenceValue),t.key):Ni(l,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function zG(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$5(n.position[t],e.position[t]))return!1;return!0}class W8{constructor(e,t=null,r=[],i=[],s=null,l="F",f=null,C=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=f,this.endAt=C,this.D=null,this.C=null}}function SG(n,e,t,r,i,s,l,f){return new W8(n,e,t,r,i,s,l,f)}function U7(n){return new W8(n)}function pH(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function mH(n){for(const e of n.filters)if(e.S())return e.field;return null}function gH(n){return null!==n.collectionGroup}function G7(n){const e=u2(n);if(null===e.D){e.D=[];const t=mH(e),r=pH(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new B7(t)),e.D.push(new B7(m4.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new B7(m4.keyField(),s))}}}return e.D}function h6(n){const e=u2(n);if(!e.C)if("F"===e.limitType)e.C=MG(e.path,e.collectionGroup,G7(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of G7(e))t.push(new B7(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ki(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ki(e.startAt.position,e.startAt.inclusive):null;e.C=MG(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function VG(n,e,t){return new W8(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cd(n,e){return od(h6(n),h6(e))&&n.limitType===e.limitType}function HG(n){return`${js(h6(n))}|lt:${n.limitType}`}function vH(n){return`Query(target=${function nf1(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${F7(r.value)}`;var r}).join(", ")}]`),td(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>F7(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>F7(t)).join(",")),`Target(${e})`}(h6(n))}; limitType=${n.limitType})`}function yH(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):s2.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,l){const f=wG(i,s,l);return i.inclusive?f<=0:f<0}(t.startAt,G7(t),r)||t.endAt&&!function(i,s,l){const f=wG(i,s,l);return i.inclusive?f>=0:f>0}(t.endAt,G7(t),r)));var t,r}function AG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EG(n){return(e,t)=>{let r=!1;for(const i of G7(n)){const s=df1(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function df1(n,e,t){const r=n.field.isKeyField()?s2.comparator(e.key,t.key):function(i,s,l){const f=s.data.field(i),C=l.data.field(i);return null!==f&&null!==C?Ni(f,C):_2()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _2()}}function TG(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function DG(n){return{integerValue:""+n}}function IG(n,e){return uG(e)?DG(e):TG(n,e)}class Iy{constructor(){this._=void 0}}function hf1(n,e,t){return n instanceof j7?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof qs?kG(n,e):n instanceof $s?RG(n,e):function(r,i){const s=NG(r,i),l=PG(s)+PG(r.k);return hH(s)&&hH(r.k)?DG(l):TG(r.M,l)}(n,e)}function Cf1(n,e,t){return n instanceof qs?kG(n,e):n instanceof $s?RG(n,e):t}function NG(n,e){return n instanceof q7?hH(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class j7 extends Iy{}class qs extends Iy{constructor(e){super(),this.elements=e}}function kG(n,e){const t=FG(e);for(const r of n.elements)t.some(i=>$5(i,r))||t.push(r);return{arrayValue:{values:t}}}class $s extends Iy{constructor(e){super(),this.elements=e}}function RG(n,e){let t=FG(e);for(const r of n.elements)t=t.filter(i=>!$5(i,r));return{arrayValue:{values:t}}}class q7 extends Iy{constructor(e,t){super(),this.M=e,this.k=t}}function PG(n){return U3(n.integerValue||n.doubleValue)}function FG(n){return id(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ld{constructor(e,t){this.field=e,this.transform=t}}class mf1{constructor(e,t){this.version=e,this.transformResults=t}}class l4{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new l4}static exists(e){return new l4(void 0,e)}static updateTime(e){return new l4(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ny(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ky{}function gf1(n,e,t){n instanceof ud?function(r,i,s){const l=r.value.clone(),f=GG(r.fieldTransforms,i,s.transformResults);l.setAll(f),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Ws?function(r,i,s){if(!Ny(r.precondition,i))return void i.convertToUnknownDocument(s.version);const l=GG(r.fieldTransforms,i,s.transformResults),f=i.data;f.setAll(UG(r)),f.setAll(l),i.convertToFoundDocument(s.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _H(n,e,t){var i;n instanceof ud?function(r,i,s){if(!Ny(r.precondition,i))return;const l=r.value.clone(),f=jG(r.fieldTransforms,s,i);l.setAll(f),i.convertToFoundDocument(BG(i),l).setHasLocalMutations()}(n,e,t):n instanceof Ws?function(r,i,s){if(!Ny(r.precondition,i))return;const l=jG(r.fieldTransforms,s,i),f=i.data;f.setAll(UG(r)),f.setAll(l),i.convertToFoundDocument(BG(i),f).setHasLocalMutations()}(n,e,t):Ny(n.precondition,i=e)&&i.convertToNoDocument(O2.min())}function vf1(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=NG(r.transform,i||null);null!=s&&(null==t&&(t=ut.empty()),t.set(r.field,s))}return t||null}function OG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&R7(t,r,(i,s)=>function pf1(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof qs&&r instanceof qs||t instanceof $s&&r instanceof $s?R7(t.elements,r.elements,$5):t instanceof q7&&r instanceof q7?$5(t.k,r.k):t instanceof j7&&r instanceof j7);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function BG(n){return n.isFoundDocument()?n.version:O2.min()}class ud extends ky{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ws extends ky{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function UG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function GG(n,e,t){const r=new Map;j2(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,f=e.data.field(s.field);r.set(s.field,Cf1(l,f,t[i]))}return r}function jG(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,hf1(s,l,e))}return r}class fd extends ky{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class MH extends ky{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class yf1{constructor(e){this.count=e}}var u4,ve;function qG(n){switch(n){default:return _2();case _1.CANCELLED:case _1.UNKNOWN:case _1.DEADLINE_EXCEEDED:case _1.RESOURCE_EXHAUSTED:case _1.INTERNAL:case _1.UNAVAILABLE:case _1.UNAUTHENTICATED:return!1;case _1.INVALID_ARGUMENT:case _1.NOT_FOUND:case _1.ALREADY_EXISTS:case _1.PERMISSION_DENIED:case _1.FAILED_PRECONDITION:case _1.ABORTED:case _1.OUT_OF_RANGE:case _1.UNIMPLEMENTED:case _1.DATA_LOSS:return!0}}function $G(n){if(void 0===n)return c4("GRPC error has no .code"),_1.UNKNOWN;switch(n){case u4.OK:return _1.OK;case u4.CANCELLED:return _1.CANCELLED;case u4.UNKNOWN:return _1.UNKNOWN;case u4.DEADLINE_EXCEEDED:return _1.DEADLINE_EXCEEDED;case u4.RESOURCE_EXHAUSTED:return _1.RESOURCE_EXHAUSTED;case u4.INTERNAL:return _1.INTERNAL;case u4.UNAVAILABLE:return _1.UNAVAILABLE;case u4.UNAUTHENTICATED:return _1.UNAUTHENTICATED;case u4.INVALID_ARGUMENT:return _1.INVALID_ARGUMENT;case u4.NOT_FOUND:return _1.NOT_FOUND;case u4.ALREADY_EXISTS:return _1.ALREADY_EXISTS;case u4.PERMISSION_DENIED:return _1.PERMISSION_DENIED;case u4.FAILED_PRECONDITION:return _1.FAILED_PRECONDITION;case u4.ABORTED:return _1.ABORTED;case u4.OUT_OF_RANGE:return _1.OUT_OF_RANGE;case u4.UNIMPLEMENTED:return _1.UNIMPLEMENTED;case u4.DATA_LOSS:return _1.DATA_LOSS;default:return _2()}}(ve=u4||(u4={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";class Ri{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return cG(this.inner)}size(){return this.innerSize}}const _f1=new X3(s2.comparator);function C6(){return _f1}const Mf1=new X3(s2.comparator);function LH(...n){let e=Mf1;for(const t of n)e=e.insert(t.key,t);return e}function dd(){return new Ri(n=>n.toString(),(n,e)=>n.isEqual(e))}const Lf1=new X3(s2.comparator),bf1=new c3(s2.comparator);function Re(...n){let e=bf1;for(const t of n)e=e.add(t);return e}const xf1=new c3(ee);function Ry(){return xf1}class hd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Cd.createSynthesizedTargetChangeForCurrentChange(e,t)),new hd(O2.min(),r,Ry(),C6(),Re())}}class Cd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Cd(g4.EMPTY_BYTE_STRING,t,Re(),Re(),Re())}}class Py{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class WG{constructor(e,t){this.targetId=e,this.$=t}}class ZG{constructor(e,t,r=g4.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class KG{constructor(){this.B=0,this.L=QG(),this.U=g4.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Re(),t=Re(),r=Re();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_2()}}),new Cd(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=QG()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class wf1{constructor(e){this.nt=e,this.st=new Map,this.it=C6(),this.rt=YG(),this.ot=new c3(ee)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:_2()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const s=i.target;if(Ty(s))if(0===r){const l=new s2(s.path);this.ct(t,l,f3.newNoDocument(l,O2.min()))}else j2(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,l)=>{const f=this.wt(l);if(f){if(s.current&&Ty(f.target)){const C=new s2(f.target.path);null!==this.it.get(C)||this.It(l,C)||this.ct(l,C,f3.newNoDocument(C,e))}s.j&&(t.set(l,s.H()),s.J())}});let r=Re();this.rt.forEach((s,l)=>{let f=!0;l.forEachWhile(C=>{const v=this.wt(C);return!v||2===v.purpose||(f=!1,!1)}),f&&(r=r.add(s))}),this.it.forEach((s,l)=>l.setReadTime(e));const i=new hd(e,t,this.ot,this.it,r);return this.it=C6(),this.rt=YG(),this.ot=new c3(ee),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new KG,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new c3(ee),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Q1("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new KG),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function YG(){return new X3(s2.comparator)}function QG(){return new X3(s2.comparator)}const zf1={asc:"ASCENDING",desc:"DESCENDING"},Sf1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Vf1{constructor(e,t){this.databaseId=e,this.N=t}}function pd(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JG(n,e){return n.N?e.toBase64():e.toUint8Array()}function Hf1(n,e){return pd(n,e.toTimestamp())}function D4(n){return j2(!!n),O2.fromTimestamp(function(e){const t=Di(e);return new J3(t.seconds,t.nanos)}(n))}function bH(n,e){return(t=n,new ge(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function XG(n){const e=ge.fromString(n);return j2(cj(e)),e}function md(n,e){return bH(n.databaseId,e.path)}function W5(n,e){const t=XG(e);if(t.get(1)!==n.databaseId.projectId)throw new B1(_1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new B1(_1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new s2(tj(t))}function xH(n,e){return bH(n.databaseId,e)}function ej(n){const e=XG(n);return 4===e.length?ge.emptyPath():tj(e)}function gd(n){return new ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tj(n){return j2(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nj(n,e,t){return{name:md(n,e),fields:t.value.mapValue.fields}}function rj(n,e,t){const r=W5(n,e.name),i=D4(e.updateTime),s=new ut({mapValue:{fields:e.fields}}),l=f3.newFoundDocument(r,i,s);return t&&l.setHasCommittedMutations(),t?l.setHasCommittedMutations():l}function vd(n,e){let t;if(e instanceof ud)t={update:nj(n,e.key,e.value)};else if(e instanceof fd)t={delete:md(n,e.key)};else if(e instanceof Ws)t={update:nj(n,e.key,e.data),updateMask:Pf1(e.fieldMask)};else{if(!(e instanceof MH))return _2();t={verify:md(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const l=s.transform;if(l instanceof j7)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $s)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof q7)return{fieldPath:s.field.canonicalString(),increment:l.k};throw _2()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Hf1(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_2()),t;var i}function wH(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?l4.updateTime(D4(i.updateTime)):void 0!==i.exists?l4.exists(i.exists):l4.none():l4.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,l){let f=null;"setToServerValue"in l?(j2("REQUEST_TIME"===l.setToServerValue),f=new j7):"appendMissingElements"in l?f=new qs(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new $s(l.removeAllFromArray.values||[]):"increment"in l?f=new q7(s,l.increment):_2();const C=m4.fromServerFormat(l.fieldPath);return new ld(C,f)}(n,i)):[];var i;if(e.update){const i=W5(n,e.update.name),s=new ut({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new P7((e.updateMask.fieldPaths||[]).map(v=>m4.fromServerFormat(v)));return new Ws(i,s,l,t,r)}return new ud(i,s,t,r)}if(e.delete){const i=W5(n,e.delete);return new fd(i,t)}if(e.verify){const i=W5(n,e.verify);return new MH(i,t)}return _2()}function ij(n,e){return{documents:[xH(n,e.path)]}}function sj(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=xH(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=xH(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(C){if(0===C.length)return;const v=C.map(b=>function(x){if("=="===x.op){if(hG(x.value))return{unaryFilter:{field:$7(x.field),op:"IS_NAN"}};if(dG(x.value))return{unaryFilter:{field:$7(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(hG(x.value))return{unaryFilter:{field:$7(x.field),op:"IS_NOT_NAN"}};if(dG(x.value))return{unaryFilter:{field:$7(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$7(x.field),op:Nf1(x.op),value:x.value}}}(b));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(C){if(0!==C.length)return C.map(v=>{return{field:$7((b=v).field),direction:If1(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=(v=e.limit,n.N||td(v)?v:{value:v});var v,f,C;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(C=e.endAt).inclusive,values:C.position}),t}function aj(n){let e=ej(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){j2(1===r);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=oj(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(b=>{return new B7(W7((x=b).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(b){let x;return x="object"==typeof b?b.value:b,td(x)?null:x}(t.limit));let C=null;var b;t.startAt&&(C=new ki((b=t.startAt).values||[],!!b.before));let v=null;return t.endAt&&(v=function(b){return new ki(b.values||[],!b.before)}(t.endAt)),SG(e,i,l,s,f,"F",C,v)}function oj(n){return n?void 0!==n.unaryFilter?[Rf1(n)]:void 0!==n.fieldFilter?[kf1(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>oj(e)).reduce((e,t)=>e.concat(t)):_2():[]}function If1(n){return zf1[n]}function Nf1(n){return Sf1[n]}function $7(n){return{fieldPath:n.canonicalString()}}function W7(n){return m4.fromServerFormat(n.fieldPath)}function kf1(n){return J4.create(W7(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _2()}}(n.fieldFilter.op),n.fieldFilter.value)}function Rf1(n){switch(n.unaryFilter.op){case"IS_NAN":const e=W7(n.unaryFilter.field);return J4.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=W7(n.unaryFilter.field);return J4.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=W7(n.unaryFilter.field);return J4.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=W7(n.unaryFilter.field);return J4.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _2()}}function Pf1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Dt(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lj(e)),e=Ff1(n.get(t),e);return lj(e)}function Ff1(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function lj(n){return n+"\x01\x01"}function Z5(n){const e=n.length;if(j2(e>=2),2===e)return j2("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ge.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&_2(),n.charAt(l+1)){case"\x01":const f=n.substring(s,l);let C;0===i.length?C=f:(i+=f,C=i,i=""),r.push(C);break;case"\x10":i+=n.substring(s,l),i+="\0";break;case"\x11":i+=n.substring(s,l+1);break;default:_2()}s=l+2}return new ge(r)}const uj=["userId","batchId"];function Fy(n,e){return[n,Dt(e)]}function fj(n,e,t){return[n,Dt(e),t]}const Of1={},Bf1=["prefixPath","collectionGroup","readTime","documentId"],Uf1=["prefixPath","collectionGroup","documentId"],Gf1=["collectionGroup","readTime","prefixPath","documentId"],jf1=["canonicalId","targetId"],qf1=["targetId","path"],$f1=["path","targetId"],Wf1=["collectionId","parent"],Zf1=["indexId","uid"],Kf1=["uid","sequenceNumber"],Yf1=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Qf1=["indexId","uid","orderedDocumentKey"],Jf1=["userId","collectionPath","documentId"],Xf1=["userId","collectionPath","largestBatchId"],ed1=["userId","collectionGroup","largestBatchId"],dj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],td1=[...dj,"documentOverlays"],hj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nd1=[...hj,"indexConfiguration","indexState","indexEntries"],Cj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class L1{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_2(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L1((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L1?t:L1.resolve(t)}catch(t){return L1.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L1.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L1.reject(t)}static resolve(e){return new L1((t,r)=>{t(e)})}static reject(e){return new L1((t,r)=>{r(e)})}static waitFor(e){return new L1((t,r)=>{let i=0,s=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++s,l&&s===i&&t()},C=>r(C))}),l=!0,s===i&&t()})}static or(e){let t=L1.resolve(!1);for(const r of e)t=t.next(i=>i?L1.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}class Oy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new T4,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new yd(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=zH(r.target.error);this.At.reject(new yd(e,i))}}static open(e,t,r,i){try{return new Oy(t,e.transaction(i,r))}catch(s){throw new yd(t,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Q1("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new id1(t)}}class n5{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===n5.Vt((0,N.z$)())&&c4("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q1("SimpleDb","Removing database:",e),Ks(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,N.hl)())return!1;if(n5.St())return!0;const e=(0,N.z$)(),t=n5.Vt(e),r=0<t&&t<10,i=n5.Dt(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,w1.Z)(function*(){return t.db||(Q1("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{r(l.target.result)},s.onblocked=()=>{i(new yd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const f=l.target.error;i("VersionError"===f.name?new B1(_1.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new B1(_1.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new yd(e,f))},s.onupgradeneeded=l=>{Q1("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.Pt.kt(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{Q1("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,w1.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{s.db=yield s.Nt(e);const C=Oy.open(s.db,e,l?"readonly":"readwrite",r),v=i(C).next(b=>(C.bt(),b)).catch(b=>(C.abort(b),L1.reject(b))).toPromise();return v.catch(()=>{}),yield C.Rt,v}catch(C){const v="FirebaseError"!==C.name&&f<3;if(Q1("SimpleDb","Transaction failed with error:",C.message,"Retrying:",v),s.close(),!v)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rd1{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Ks(this.Ft.delete())}}class yd extends B1{constructor(e,t){super(_1.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Zs(n){return"IndexedDbTransactionError"===n.name}class id1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Q1("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Q1("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ks(r)}add(e){return Q1("SimpleDb","ADD",this.store.name,e,e),Ks(this.store.add(e))}get(e){return Ks(this.store.get(e)).next(t=>(void 0===t&&(t=null),Q1("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Q1("SimpleDb","DELETE",this.store.name,e),Ks(this.store.delete(e))}count(){return Q1("SimpleDb","COUNT",this.store.name),Ks(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.Kt(i,(l,f)=>{s.push(f)}).next(()=>s)}{const i=this.store.getAll(r.range);return new L1((s,l)=>{i.onerror=f=>{l(f.target.error)},i.onsuccess=f=>{s(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new L1((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}Qt(e,t){Q1("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(s,l,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new L1((r,i)=>{t.onerror=s=>{const l=zH(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}Kt(e,t){const r=[];return new L1((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void i();const C=new rd1(f),v=t(f.primaryKey,f.value,C);if(v instanceof L1){const b=v.catch(x=>(C.done(),L1.reject(x)));r.push(b)}C.isDone?i():null===C.Lt?f.continue():f.continue(C.Lt)}}).next(()=>L1.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ks(n){return new L1((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=zH(r.target.error);t(i)}})}let mj=!1;function zH(n){const e=n5.Vt((0,N.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new B1("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mj||(mj=!0,setTimeout(()=>{throw r},0)),r}}return n}class gj extends pj{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function I4(n,e){const t=u2(n);return n5.xt(t.Ht,e)}class SH{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gf1(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&_H(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&_H(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(O2.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Re())}isEqual(e){return this.batchId===e.batchId&&R7(this.mutations,e.mutations,(t,r)=>OG(t,r))&&R7(this.baseMutations,e.baseMutations,(t,r)=>OG(t,r))}}class VH{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){j2(e.mutations.length===r.length);let i=Lf1;const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new VH(e,t,r,i)}}class HH{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pi{constructor(e,t,r,i,s=O2.min(),l=O2.min(),f=g4.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class vj{constructor(e){this.Jt=e}}function yj(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:By(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:md(i=n.Jt,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:pd(i,s.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ys(e.version)};else{if(!e.isUnknownDocument())return _2();r.unknownDocument={path:t.path.toArray(),version:Ys(e.version)}}var i,s;return r}function By(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ys(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qs(n){const e=new J3(n.seconds,n.nanoseconds);return O2.fromTimestamp(e)}function Z7(n,e){const t=(e.baseMutations||[]).map(s=>wH(n.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(l.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(s=>wH(n.Jt,s)),i=J3.fromMillis(e.localWriteTimeMs);return new SH(e.batchId,i,t,r)}function _d(n){const e=Qs(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Qs(n.lastLimboFreeSnapshotVersion):O2.min();let r;var i;return void 0!==n.query.documents?(j2(1===(i=n.query).documents.length),r=h6(U7(ej(i.documents[0])))):r=h6(aj(n.query)),new Pi(r,n.targetId,0,n.lastListenSequenceNumber,e,t,g4.fromBase64String(n.resumeToken))}function _j(n,e){const t=Ys(e.snapshotVersion),r=Ys(e.lastLimboFreeSnapshotVersion);let i;i=Ty(e.target)?ij(n.Jt,e.target):sj(n.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:js(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function AH(n){const e=aj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?VG(e,e.limit,"L"):e}function EH(n,e){return new HH(e.largestBatchId,wH(n.Jt,e.overlayMutation))}function Mj(n,e){const t=e.path.lastSegment();return[n,Dt(e.path.popLast()),t]}class ad1{getBundleMetadata(e,t){return Lj(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Qs(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Lj(e).put({bundleId:(r=t).id,createTime:Ys(D4(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return bj(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:AH(i.bundledQuery),readTime:Qs(i.readTime)};var i})}saveNamedQuery(e,t){return bj(e).put({name:(r=t).name,readTime:Ys(D4(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Lj(n){return I4(n,"bundles")}function bj(n){return I4(n,"namedQueries")}class TH{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new TH(e,t.uid||"")}getOverlay(e,t){return Md(e).get(Mj(this.userId,t)).next(r=>r?EH(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((s,l)=>{const f=new HH(t,l);i.push(this.Xt(e,f))}),L1.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Dt(l.getCollectionPath())));const s=[];return i.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(Md(e).Qt("collectionPathOverlayIndex",f))}),L1.waitFor(s)}getOverlaysForCollection(e,t,r){const i=dd(),s=Dt(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Md(e).qt("collectionPathOverlayIndex",l).next(f=>{for(const C of f){const v=EH(this.M,C);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=dd();let l;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Md(e).Wt({index:"collectionGroupOverlayIndex",range:f},(C,v,b)=>{const x=EH(this.M,v);s.size()<i||x.largestBatchId===l?(s.set(x.getKey(),x),l=x.largestBatchId):b.done()}).next(()=>s)}Xt(e,t){return Md(e).put(function(r,i,s){const[l,f,C]=Mj(i,s.mutation.key);return{userId:i,collectionPath:f,documentId:C,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:vd(r.Jt,s.mutation)}}(this.M,this.userId,t))}}function Md(n){return I4(n,"documentOverlays")}class Js{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(U3(e.integerValue));else if("doubleValue"in e){const r=U3(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),nd(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Os(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?CG(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):_2()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),s2.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function od1(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function xj(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=od1(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Js.fe=new Js;class cd1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=xj(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=xj(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ld1{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class ud1{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Ld{constructor(){this.De=new cd1,this.Ce=new ld1(this.De),this.xe=new ud1(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Xs{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Xs(this.indexId,this.documentKey,this.arrayValue,r)}}function ea(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=wj(n.arrayValue,e.arrayValue),0!==t?t:(t=wj(n.directionalValue,e.directionalValue),0!==t?t:s2.comparator(n.documentKey,e.documentKey)))}function wj(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class fd1{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=CH(e);if(void 0!==t&&!this.Be(t))return!1;const r=Gs(e);let i=0,s=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const l=r[i];if(!this.Le(this.Fe,l)||!this.Ue(this.Me[s++],l))return!1;++i}for(;i<r.length;++i){const l=r[i];if(s>=this.Me.length||!this.Ue(this.Me[s++],l))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class dd1{constructor(){this.qe=new DH}addToCollectionParentIndex(e,t){return this.qe.add(t),L1.resolve()}getCollectionParents(e,t){return L1.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return L1.resolve()}deleteFieldIndex(e,t){return L1.resolve()}getDocumentsMatchingTarget(e,t){return L1.resolve(null)}getIndexType(e,t){return L1.resolve(0)}getFieldIndexes(e,t){return L1.resolve([])}getNextCollectionGroupToUpdate(e){return L1.resolve(null)}getMinOffset(e,t){return L1.resolve(t5.min())}updateCollectionGroup(e,t,r){return L1.resolve()}updateIndexEntries(e,t){return L1.resolve()}}class DH{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new c3(ge.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new c3(ge.comparator)).toArray()}}const Uy=new Uint8Array(0);class hd1{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new DH,this.Ge=new Ri(r=>js(r),(r,i)=>od(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const s={collectionId:r,parent:Dt(i)};return zj(e).put(s)}return L1.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[aG(t),""],!1,!0);return zj(e).qt(i).next(s=>{for(const l of s){if(l.collectionId!==t)break;r.push(Z5(l.parent))}return r})}addFieldIndex(e,t){const r=Gy(e),i={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var s;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=Gy(e),i=jy(e),s=bd(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=bd(e);let i=!0;const s=new Map;return L1.forEach(this.Qe(t),l=>this.je(e,l).next(f=>{i&&(i=!!f),s.set(l,f)})).next(()=>{if(i){let l=Re();const f=[];return L1.forEach(s,(C,v)=>{var b;Q1("IndexedDbIndexManager",`Using index ${b=C,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(W1=>`${W1.fieldPath}:${W1.kind}`).join(",")}`} to execute ${js(t)}`);const x=function(W1,J1){const v2=CH(J1);if(void 0===v2)return null;for(const A2 of Dy(W1,v2.fieldPath))switch(A2.op){case"array-contains-any":return A2.value.arrayValue.values||[];case"array-contains":return[A2.value]}return null}(v,C),S=function(W1,J1){const v2=new Map;for(const A2 of Gs(J1))for(const te of Dy(W1,A2.fieldPath))switch(te.op){case"==":case"in":v2.set(A2.fieldPath.canonicalString(),te.value);break;case"not-in":case"!=":return v2.set(A2.fieldPath.canonicalString(),te.value),Array.from(v2.values())}return null}(v,C),A=function(W1,J1){const v2=[];let A2=!0;for(const te of Gs(J1)){const e3=0===te.kind?LG(W1,te.fieldPath,W1.startAt):bG(W1,te.fieldPath,W1.startAt);v2.push(e3.value),A2&&(A2=e3.inclusive)}return new ki(v2,A2)}(v,C),D=function(W1,J1){const v2=[];let A2=!0;for(const te of Gs(J1)){const e3=0===te.kind?bG(W1,te.fieldPath,W1.endAt):LG(W1,te.fieldPath,W1.endAt);v2.push(e3.value),A2&&(A2=e3.inclusive)}return new ki(v2,A2)}(v,C),W=this.We(C,v,A),a1=this.We(C,v,D),H1=this.ze(C,v,S),F1=this.He(C.indexId,x,W,A.inclusive,a1,D.inclusive,H1);return L1.forEach(F1,W1=>r.Gt(W1,t.limit).next(J1=>{J1.forEach(v2=>{const A2=s2.fromSegments(v2.documentKey);l.has(A2)||(l=l.add(A2),f.push(A2))})}))}).next(()=>f)}return L1.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,s,l,f){const C=(null!=t?t.length:1)*Math.max(r.length,s.length),v=C/(null!=t?t.length:1),b=[];for(let x=0;x<C;++x){const S=t?this.Je(t[x/v]):Uy,A=this.Ye(e,S,r[x%v],i),D=this.Xe(e,S,s[x%v],l),W=f.map(a1=>this.Ye(e,S,a1,!0));b.push(...this.createRange(A,D,W))}return b}Ye(e,t,r,i){const s=new Xs(e,s2.empty(),t,r);return i?s:s.ke()}Xe(e,t,r,i){const s=new Xs(e,s2.empty(),t,r);return i?s.ke():s}je(e,t){const r=new fd1(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let l=null;for(const f of s)r.$e(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let r=2;return L1.forEach(this.Qe(t),i=>this.je(e,i).next(s=>{s?0!==r&&s.fields.length<function(l){let f=new c3(m4.comparator),C=!1;for(const v of l.filters){const b=v;b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?C=!0:f=f.add(b.field))}for(const v of l.orderBy)v.field.isKeyField()||(f=f.add(v.field));return f.size+(C?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new Ld;for(const i of Gs(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const l=r.Ne(i.kind);Js.fe.Zt(s,l)}return r.Se()}Je(e){const t=new Ld;return Js.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Ld;return Js.fe.Zt(Us(this.databaseId,t),r.Ne(function(i){const s=Gs(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new Ld);let s=0;for(const l of Gs(e)){const f=r[s++];for(const C of i)if(this.en(t,l.fieldPath)&&id(f))i=this.nn(i,l,f);else{const v=C.Ne(l.kind);Js.fe.Zt(f,v)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const f of i){const C=new Ld;C.seed(f.Se()),Js.fe.Zt(l,C.Ne(t.kind)),s.push(C)}return s}en(e,t){return!!e.filters.find(r=>r instanceof J4&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Gy(e),i=jy(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(s=>{const l=[];return L1.forEach(s,f=>i.get([f.indexId,this.uid]).next(C=>{l.push(function(v,b){const x=b?new ad(b.sequenceNumber,new t5(Qs(b.readTime),new s2(Z5(b.documentKey)),b.largestBatchId)):ad.empty(),S=v.fields.map(([A,D])=>new Ay(m4.fromServerFormat(A),D));return new Hy(v.indexId,v.collectionGroup,S,x)}(f,C))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:ee(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Gy(e),s=jy(e);return this.rn(e).next(l=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>L1.forEach(f,C=>{return s.put({indexId:C.indexId,uid:this.user.uid||"",sequenceNumber:l,readTime:Ys((S=r).readTime),documentKey:Dt(S.documentKey.path),largestBatchId:S.largestBatchId});var S})))}updateIndexEntries(e,t){const r=new Map;return L1.forEach(t,(i,s)=>{const l=r.get(i.collectionGroup);return(l?L1.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),L1.forEach(f,C=>this.on(e,i,C).next(v=>{const b=this.un(s,C);return v.isEqual(b)?L1.resolve():this.an(e,s,C,v,b)}))))})}cn(e,t,r,i){return bd(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return bd(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=bd(e);let s=new c3(ea);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(l,f)=>{s=s.add(new Xs(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>s)}un(e,t){let r=new c3(ea);const i=this.Ze(t,e);if(null==i)return r;const s=CH(t);if(null!=s){const l=e.data.field(s.fieldPath);if(id(l))for(const f of l.arrayValue.values||[])r=r.add(new Xs(t.indexId,e.key,this.Je(f),i))}else r=r.add(new Xs(t.indexId,e.key,Uy,i));return r}an(e,t,r,i,s){Q1("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,C,v,b,x){const S=f.getIterator(),A=C.getIterator();let D=O7(S),W=O7(A);for(;D||W;){let a1=!1,H1=!1;if(D&&W){const F1=v(D,W);F1<0?H1=!0:F1>0&&(a1=!0)}else null!=D?H1=!0:a1=!0;a1?(b(W),W=O7(A)):H1?(x(D),D=O7(S)):(D=O7(S),W=O7(A))}}(i,s,ea,f=>{l.push(this.cn(e,t,r,f))},f=>{l.push(this.hn(e,t,r,f))}),L1.waitFor(l)}rn(e){let t=1;return jy(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,f)=>ea(l,f)).filter((l,f,C)=>!f||0!==ea(l,C[f-1]));const i=[];i.push(e);for(const l of r){const f=ea(l,e),C=ea(l,t);if(0===f)i[0]=e.ke();else if(f>0&&C<0)i.push(l),i.push(l.ke());else if(C>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2)s.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Uy,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Uy,[]]));return s}getMinOffset(e,t){let r;return L1.forEach(this.Qe(t),i=>this.je(e,i).next(s=>{s?(!r||yG(s.indexState.offset,r)<0)&&(r=s.indexState.offset):r=t5.min()})).next(()=>r)}}function zj(n){return I4(n,"collectionParents")}function bd(n){return I4(n,"indexEntries")}function Gy(n){return I4(n,"indexConfiguration")}function jy(n){return I4(n,"indexState")}const Sj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class on{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Vj(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let f=0;const C=r.Wt({range:l},(b,x,S)=>(f++,S.delete()));s.push(C.next(()=>{j2(1===f)}));const v=[];for(const b of t.mutations){const x=fj(e,b.key.path,t.batchId);s.push(i.delete(x)),v.push(b.key)}return L1.waitFor(s).next(()=>v)}function qy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _2();e=n.noDocument}return JSON.stringify(e).length}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class IH{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){j2(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new IH(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fi(e).Wt({index:"userMutationsIndex",range:r},(i,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=K7(e),l=Fi(e);return l.add({}).next(f=>{j2("number"==typeof f);const C=new SH(f,t,r,i),v=function(S,A,D){const W=D.baseMutations.map(H1=>vd(S.Jt,H1)),a1=D.mutations.map(H1=>vd(S.Jt,H1));return{userId:A,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:W,mutations:a1}}(this.M,this.userId,C),b=[];let x=new c3((S,A)=>ee(S.canonicalString(),A.canonicalString()));for(const S of i){const A=fj(this.userId,S.key.path,f);x=x.add(S.key.path.popLast()),b.push(l.put(v)),b.push(s.put(A,Of1))}return x.forEach(S=>{b.push(this.indexManager.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(()=>{this.ln[f]=C.keys()}),L1.waitFor(b).next(()=>C)})}lookupMutationBatch(e,t){return Fi(e).get(t).next(r=>r?(j2(r.userId===this.userId),Z7(this.M,r)):null)}fn(e,t){return this.ln[t]?L1.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Fi(e).Wt({index:"userMutationsIndex",range:i},(l,f,C)=>{f.userId===this.userId&&(j2(f.batchId>=r),s=Z7(this.M,f)),C.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Fi(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,s,l)=>{r=s.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fi(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Z7(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Fy(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return K7(e).Wt({range:i},(l,f,C)=>{const[v,b,x]=l,S=Z5(b);if(v===this.userId&&t.path.isEqual(S))return Fi(e).get(x).next(A=>{if(!A)throw _2();j2(A.userId===this.userId),s.push(Z7(this.M,A))});C.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new c3(ee);const i=[];return t.forEach(s=>{const l=Fy(this.userId,s.path),f=IDBKeyRange.lowerBound(l),C=K7(e).Wt({range:f},(v,b,x)=>{const[S,A,D]=v,W=Z5(A);S===this.userId&&s.path.isEqual(W)?r=r.add(D):x.done()});i.push(C)}),L1.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Fy(this.userId,r),l=IDBKeyRange.lowerBound(s);let f=new c3(ee);return K7(e).Wt({range:l},(C,v,b)=>{const[x,S,A]=C,D=Z5(S);x===this.userId&&r.isPrefixOf(D)?D.length===i&&(f=f.add(A)):b.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Fi(e).get(s).next(l=>{if(null===l)throw _2();j2(l.userId===this.userId),r.push(Z7(this.M,l))}))}),L1.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Vj(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),L1.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return L1.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return K7(e).Wt({range:r},(s,l,f)=>{if(s[0]===this.userId){const C=Z5(s[1]);i.push(C)}else f.done()}).next(()=>{j2(0===i.length)})})}containsKey(e,t){return Hj(e,this.userId,t)}wn(e){return Aj(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Hj(n,e,t){const r=Fy(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return K7(n).Wt({range:s,jt:!0},(f,C,v)=>{const[b,x,S]=f;b===e&&x===i&&(l=!0),v.done()}).next(()=>l)}function Fi(n){return I4(n,"mutations")}function K7(n){return I4(n,"documentMutations")}function Aj(n){return I4(n,"mutationQueues")}class ta{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new ta(0)}static yn(){return new ta(-1)}}class Cd1{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new ta(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>O2.fromTimestamp(new J3(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Y7(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(j2(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Y7(e).Wt((l,f)=>{const C=_d(f);C.sequenceNumber<=t&&null===r.get(C.targetId)&&(i++,s.push(this.removeTargetData(e,C)))}).next(()=>L1.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Y7(e).Wt((r,i)=>{const s=_d(i);t(s)})}pn(e){return Ej(e).get("targetGlobalKey").next(t=>(j2(null!==t),t))}In(e,t){return Ej(e).put("targetGlobalKey",t)}Tn(e,t){return Y7(e).put(_j(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=js(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Y7(e).Wt({range:i,index:"queryTargetsIndex"},(l,f,C)=>{const v=_d(f);od(t,v.target)&&(s=v,C.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Oi(e);return t.forEach(l=>{const f=Dt(l.path);i.push(s.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,l))}),L1.waitFor(i)}removeMatchingKeys(e,t,r){const i=Oi(e);return L1.forEach(t,s=>{const l=Dt(s.path);return L1.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Oi(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Oi(e);let s=Re();return i.Wt({range:r,jt:!0},(l,f,C)=>{const v=Z5(l[1]),b=new s2(v);s=s.add(b)}).next(()=>s)}containsKey(e,t){const r=Dt(t.path),i=IDBKeyRange.bound([r],[aG(r)],!1,!0);let s=0;return Oi(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([l,f],C,v)=>{0!==l&&(s++,v.done())}).next(()=>s>0)}Et(e,t){return Y7(e).get(t).next(r=>r?_d(r):null)}}function Y7(n){return I4(n,"targets")}function Ej(n){return I4(n,"targetGlobal")}function Oi(n){return I4(n,"targetDocuments")}function na(n){return NH.apply(this,arguments)}function NH(){return NH=(0,w1.Z)(function*(n){if(n.code!==_1.FAILED_PRECONDITION||n.message!==Cj)throw n;Q1("LocalStore","Unexpectedly lost primary lease")}),NH.apply(this,arguments)}function Tj([n,e],[t,r]){const i=ee(n,t);return 0===i?ee(e,r):i}class pd1{constructor(e){this.An=e,this.buffer=new c3(Tj),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Tj(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class md1{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Q1("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,w1.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Zs(i)?Q1("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield na(i)}yield t.Sn(e)}))}}class gd1{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return L1.resolve(Vn.A);const r=new pd1(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Q1("LruGarbageCollector","Garbage collection skipped; disabled"),L1.resolve(Sj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q1("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sj):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,s,l,f,C,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Q1("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,l=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(s=x,C=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(v=Date.now(),lH()<=K6.in.DEBUG&&Q1("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${i} in `+(f-l)+`ms\n\tRemoved ${s} targets in `+(C-f)+`ms\n\tRemoved ${x} documents in `+(v-C)+`ms\nTotal Duration: ${v-b}ms`),L1.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:x})))}}class vd1{constructor(e,t){this.db=e,this.garbageCollector=new gd1(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return $y(e,r)}removeReference(e,t,r){return $y(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return $y(e,t)}On(e,t){return function(r,i){let s=!1;return Aj(r).zt(l=>Hj(r,l,i).next(f=>(f&&(s=!0),L1.resolve(!f)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Mn(e,(l,f)=>{if(f<=t){const C=this.On(e,l).next(v=>{if(!v)return s++,r.getEntry(e,l).next(()=>(r.removeEntry(l,O2.min()),Oi(e).delete([0,Dt(l.path)])))});i.push(C)}}).next(()=>L1.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return $y(e,t)}Mn(e,t){const r=Oi(e);let i,s=Vn.A;return r.Wt({index:"documentTargetsIndex"},([l,f],{path:C,sequenceNumber:v})=>{0===l?(s!==Vn.A&&t(new s2(Z5(i)),s),s=v,i=C):s=Vn.A}).next(()=>{s!==Vn.A&&t(new s2(Z5(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $y(n,e){return Oi(n).put((r=n.currentSequenceNumber,{targetId:0,path:Dt(e.path),sequenceNumber:r}));var r}class Dj{constructor(){this.changes=new Ri(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,f3.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?L1.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yd1{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ra(e).put(r)}removeEntry(e,t,r){return ra(e).delete(function(i,s){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],By(s),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=f3.newInvalidDocument(t);return ra(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(xd(t))},(i,s)=>{r=this.$n(t,s)}).next(()=>r)}Bn(e,t){let r={size:0,document:f3.newInvalidDocument(t)};return ra(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(xd(t))},(i,s)=>{r={document:this.$n(t,s),size:qy(s)}}).next(()=>r)}getEntries(e,t){let r=C6();return this.Ln(e,t,(i,s)=>{const l=this.$n(i,s);r=r.insert(i,l)}).next(()=>r)}Un(e,t){let r=C6(),i=new X3(s2.comparator);return this.Ln(e,t,(s,l)=>{const f=this.$n(s,l);r=r.insert(s,f),i=i.insert(s,qy(l))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return L1.resolve();let i=new c3(kj);t.forEach(C=>i=i.add(C));const s=IDBKeyRange.bound(xd(i.first()),xd(i.last())),l=i.getIterator();let f=l.getNext();return ra(e).Wt({index:"documentKeyIndex",range:s},(C,v,b)=>{const x=s2.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&kj(f,x)<0;)r(f,null),f=l.getNext();f&&f.isEqual(x)&&(r(f,v),f=l.hasNext()?l.getNext():null),f?b.Ut(xd(f)):b.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),By(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ra(e).qt(IDBKeyRange.bound(i,s,!0)).next(l=>{let f=C6();for(const C of l){const v=this.$n(s2.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);f=f.insert(v.key,v)}return f})}getAllFromCollectionGroup(e,t,r,i){let s=C6();const l=Nj(t,r),f=Nj(t,t5.max());return ra(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(C,v,b)=>{const x=this.$n(s2.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(x.key,x),s.size===i&&b.done()}).next(()=>s)}newChangeBuffer(e){return new _d1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ij(e).get("remoteDocumentGlobalKey").next(t=>(j2(!!t),t))}Fn(e,t){return Ij(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function sd1(n,e){let t;if(e.document)t=rj(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=s2.fromSegments(e.noDocument.path),i=Qs(e.noDocument.readTime);t=f3.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _2();{const r=s2.fromSegments(e.unknownDocument.path),i=Qs(e.unknownDocument.version);t=f3.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new J3(r[0],r[1]);return O2.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(O2.min()))return r}return f3.newInvalidDocument(e)}}class _d1 extends Dj{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Ri(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new c3((s,l)=>ee(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const f=this.Gn.get(s);if(t.push(this.Kn.removeEntry(e,s,f.readTime)),l.isValidDocument()){const C=yj(this.Kn.M,l);i=i.add(s.path.popLast()),r+=qy(C)-f.size,t.push(this.Kn.addEntry(e,s,C))}else if(r-=f.size,this.trackRemovals){const C=yj(this.Kn.M,l.convertToNoDocument(O2.min()));t.push(this.Kn.addEntry(e,s,C))}}),i.forEach(s=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Kn.updateMetadata(e,r)),L1.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((s,l)=>{this.Gn.set(s,{size:l,readTime:r.get(s).readTime})}),r))}}function Ij(n){return I4(n,"remoteDocumentGlobal")}function ra(n){return I4(n,"remoteDocumentsV14")}function xd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Nj(n,e){const t=e.documentKey.path.toArray();return[n,By(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function kj(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=ee(t[s],r[s]),i)return i;return i=ee(t.length,r.length),i||(i=ee(t[t.length-2],r[r.length-2]),i||ee(t[t.length-1],r[r.length-1]))}class Md1{constructor(e){this.M=e}kt(e,t,r,i){const s=new Oy("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uj,{unique:!0}),f.createObjectStore("documentMutations"),Rj(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=L1.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Rj(e)),l=l.next(()=>function(f){const C=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:O2.min().toTimestamp(),targetCount:0};return C.put("targetGlobalKey",v)}(s))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(f,C){return C.store("mutations").qt().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uj,{unique:!0});const b=C.store("mutations"),x=v.map(S=>b.put(S));return L1.waitFor(x)})}(e,s))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Qn(s))),r<6&&i>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(s)))),r<7&&i>=7&&(l=l.next(()=>this.Wn(s))),r<8&&i>=8&&(l=l.next(()=>this.zn(e,s))),r<9&&i>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.Hn(s))),r<11&&i>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(f){const C=f.createObjectStore("documentOverlays",{keyPath:Jf1});C.createIndex("collectionPathOverlayIndex",Xf1,{unique:!1}),C.createIndex("collectionGroupOverlayIndex",ed1,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(f){const C=f.createObjectStore("remoteDocumentsV14",{keyPath:Bf1});C.createIndex("documentKeyIndex",Uf1),C.createIndex("collectionGroupIndex",Gf1)}(e)).next(()=>this.Jn(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Zf1}).createIndex("sequenceNumberIndex",Kf1,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Yf1}).createIndex("documentKeyIndex",Qf1,{unique:!1})}(e)})),l}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=qy(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>L1.forEach(i,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",l).next(f=>L1.forEach(f,C=>{j2(C.userId===s.userId);const v=Z7(this.M,C);return Vj(e,s.userId,v).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Wt((l,f)=>{const C=new ge(l),v=[0,Dt(C)];s.push(t.get(v).next(b=>b?L1.resolve():t.put({targetId:0,path:Dt(C),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>L1.waitFor(s))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Wf1});const r=t.store("collectionParents"),i=new DH,s=l=>{if(i.add(l)){const f=l.lastSegment(),C=l.popLast();return r.put({collectionId:f,parent:Dt(C)})}};return t.store("remoteDocuments").Wt({jt:!0},(l,f)=>{const C=new ge(l);return s(C.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([l,f,C],v)=>{const b=Z5(f);return s(b.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const s=_d(i),l=_j(this.M,s);return t.put(l)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((s,l)=>{const f=t.store("remoteDocumentsV14"),C=(v=l,v.document?new s2(ge.fromString(v.document.name).popFirst(5)):v.noDocument?s2.fromSegments(v.noDocument.path):v.unknownDocument?s2.fromSegments(v.unknownDocument.path):_2()).path.toArray();var v;const b={prefixPath:C.slice(0,C.length-2),collectionGroup:C[C.length-2],documentId:C[C.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(f.put(b))}).next(()=>L1.waitFor(i))}}function Rj(n){n.createObjectStore("targetDocuments",{keyPath:qf1}).createIndex("documentTargetsIndex",$f1,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jf1,{unique:!0}),n.createObjectStore("targetGlobal")}const kH="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class RH{constructor(e,t,r,i,s,l,f,C,v,b,x=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=s,this.window=l,this.document=f,this.Xn=v,this.Zn=b,this.ts=x,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=S=>Promise.resolve(),!RH.vt())throw new B1(_1.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vd1(this,i),this.hs=t+"main",this.M=new vj(C),this.ls=new n5(this.hs,this.ts,new Md1(this.M)),this.fs=new Cd1(this.referenceDelegate,this.M),this.ds=new yd1(this.M),this._s=new ad1,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===b&&c4("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new B1(_1.FAILED_PRECONDITION,kH);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Vn(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,w1.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,w1.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,w1.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Wy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Zs(e))return Q1("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Q1("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return wd(e).get("owner").next(t=>L1.resolve(this.Ps(t)))}Vs(e){return Wy(e).delete(this.clientId)}vs(){var e=this;return(0,w1.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=I4(r,"clientMetadata");return i.qt().next(s=>{const l=e.Ds(s,18e5),f=s.filter(C=>-1===l.indexOf(C));return L1.forEach(f,C=>i.delete(C.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?L1.resolve(!0):wd(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new B1(_1.FAILED_PRECONDITION,kH);return!1}}return!(!this.networkEnabled||!this.inForeground)||Wy(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const l=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||l&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Q1("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,w1.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new gj(t,Vn.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Wy(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return IH.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new hd1(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return TH.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Q1("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=14===(l=this.ts)?nd1:13===l?hj:12===l?td1:11===l?dj:void _2();var l;let f;return this.ls.runTransaction(e,i,s,C=>(f=new gj(C,this.es?this.es.next():Vn.A),"readwrite-primary"===t?this.Es(f).next(v=>!!v||this.As(f)).next(v=>{if(!v)throw c4(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new B1(_1.FAILED_PRECONDITION,Cj);return r(f)}).next(v=>this.bs(f).next(()=>v)):this.$s(f).next(()=>r(f)))).then(C=>(f.raiseOnCommittedEvent(),C))}$s(e){return wd(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new B1(_1.FAILED_PRECONDITION,kH)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wd(e).put("owner",t)}static vt(){return n5.vt()}Rs(e){const t=wd(e);return t.get("owner").next(r=>this.Ps(r)?(Q1("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):L1.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(c4(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,N.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Q1("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return c4("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){c4("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wd(n){return I4(n,"owner")}function Wy(n){return I4(n,"clientMetadata")}function PH(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Ld1{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return s2.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):gH(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new s2(t)).next(r=>{let i=LH();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let s=LH();return this.indexManager.getCollectionParents(e,i).next(l=>L1.forEach(l,f=>{const C=(v=t,b=f.child(i),new W8(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,b;return this.zs(e,C,r).next(v=>{v.forEach((b,x)=>{s=s.insert(b,x)})})}).next(()=>s))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const l of s)for(const f of l.mutations){const C=f.key;let v=i.get(C);null==v&&(v=f3.newInvalidDocument(C),i=i.insert(C,v)),_H(f,v,l.localWriteTime),v.isFoundDocument()||(i=i.remove(C))}}).next(()=>(i.forEach((s,l)=>{yH(t,l)||(i=i.remove(s))}),i))}}class FH{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Re(),i=Re();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new FH(e,t.fromCache,r,i)}}class Pj{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(s=>s||this.ei(e,t,i,r)).next(s=>s||this.ni(e,t))}ti(e,t){return L1.resolve(null)}ei(e,t,r,i){return function ff1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(O2.min())?this.ni(e,t):this.Zs.Ks(e,r).next(s=>{const l=this.si(t,s);return this.ii(t,l,r,i)?this.ni(e,t):(lH()<=K6.in.DEBUG&&Q1("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vH(t)),this.ri(e,l,t,vG(i,-1)))})}si(e,t){let r=new c3(EG(e));return t.forEach((i,s)=>{yH(e,s)&&(r=r.add(s))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,t){return lH()<=K6.in.DEBUG&&Q1("QueryEngine","Using full collection scan to execute query:",vH(t)),this.Zs.Qs(e,t,t5.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class bd1{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new X3(ee),this.ai=new Ri(s=>js(s),od),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Ld1(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function Fj(n,e,t,r){return new bd1(n,e,t,r)}function Oj(n,e){return OH.apply(this,arguments)}function OH(){return OH=(0,w1.Z)(function*(n,e){const t=u2(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(s=>(i=s,t.li(e),t.Bs.getAllMutationBatches(r))).next(s=>{const l=[],f=[];let C=Re();for(const v of i){l.push(v.batchId);for(const b of v.mutations)C=C.add(b.key)}for(const v of s){f.push(v.batchId);for(const b of v.mutations)C=C.add(b.key)}return t.fi.Ks(r,C).next(v=>({di:v,removedBatchIds:l,addedBatchIds:f}))})})}),OH.apply(this,arguments)}function xd1(n,e){const t=u2(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.hi.newChangeBuffer({trackRemovals:!0});return function(l,f,C,v){const b=C.batch,x=b.keys();let S=L1.resolve();return x.forEach(A=>{S=S.next(()=>v.getEntry(f,A)).next(D=>{const W=C.docVersions.get(A);j2(null!==W),D.version.compareTo(W)<0&&(b.applyToRemoteDocument(D,C),D.isValidDocument()&&(D.setReadTime(C.commitVersion),v.addEntry(D)))})}),S.next(()=>l.Bs.removeMutationBatch(f,b))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function Bj(n){const e=u2(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function wd1(n,e){const t=u2(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const f=[];e.targetChanges.forEach((v,b)=>{const x=i.get(b);if(!x)return;f.push(t.fs.removeMatchingKeys(s,v.removedDocuments,b).next(()=>t.fs.addMatchingKeys(s,v.addedDocuments,b)));let S=x.withSequenceNumber(s.currentSequenceNumber);var A,D,W;e.targetMismatches.has(b)?S=S.withResumeToken(g4.EMPTY_BYTE_STRING,O2.min()).withLastLimboFreeSnapshotVersion(O2.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,r)),i=i.insert(b,S),D=S,W=v,(0===(A=x).resumeToken.approximateByteSize()||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8||W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(s,S))});let C=C6();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(s,v))}),f.push(Uj(s,l,e.documentUpdates).next(v=>{C=v})),!r.isEqual(O2.min())){const v=t.fs.getLastRemoteSnapshotVersion(s).next(b=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));f.push(v)}return L1.waitFor(f).next(()=>l.apply(s)).next(()=>t.fi.Gs(s,C)).next(()=>C)}).then(s=>(t.ui=i,s))}function Uj(n,e,t){let r=Re();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let s=C6();return t.forEach((l,f)=>{const C=i.get(l);f.isNoDocument()&&f.version.isEqual(O2.min())?(e.removeEntry(l,f.readTime),s=s.insert(l,f)):!C.isValidDocument()||f.version.compareTo(C.version)>0||0===f.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(f),s=s.insert(l,f)):Q1("LocalStore","Ignoring outdated watch update for ",l,". Current version:",C.version," Watch version:",f.version)}),s})}function zd1(n,e){const t=u2(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Q7(n,e){const t=u2(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(s=>s?(i=s,L1.resolve(i)):t.fs.allocateTargetId(r).next(l=>(i=new Pi(e,l,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function J7(n,e,t){return BH.apply(this,arguments)}function BH(){return BH=(0,w1.Z)(function*(n,e,t){const r=u2(n),i=r.ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Zs(l))throw l;Q1("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),BH.apply(this,arguments)}function Zy(n,e,t){const r=u2(n);let i=O2.min(),s=Re();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,C,v){const b=u2(f),x=b.ai.get(v);return void 0!==x?L1.resolve(b.ui.get(x)):b.fs.getTargetData(C,v)}(r,l,h6(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(l,f.targetId).next(C=>{s=C})}).next(()=>r.oi.Qs(l,e,t?i:O2.min(),t?s:Re())).next(f=>(qj(r,AG(e),f),{documents:f,_i:s})))}function Gj(n,e){const t=u2(n),r=u2(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.Et(s,e).next(l=>l?l.target:null))}function jj(n,e){const t=u2(n),r=t.ci.get(e)||O2.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,vG(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(qj(t,e,i),i))}function qj(n,e,t){let r=O2.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ci.set(e,r)}function UH(){return UH=(0,w1.Z)(function*(n,e,t,r){const i=u2(n);let s=Re(),l=C6();for(const v of t){const b=e.wi(v.metadata.name);v.document&&(s=s.add(b));const x=e.mi(v);x.setReadTime(e.gi(v.metadata.readTime)),l=l.insert(b,x)}const f=i.hi.newChangeBuffer({trackRemovals:!0}),C=yield Q7(i,(v=r,h6(U7(ge.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>Uj(v,f,l).next(b=>(f.apply(v),b)).next(b=>i.fs.removeMatchingKeysForTargetId(v,C.targetId).next(()=>i.fs.addMatchingKeys(v,s,C.targetId)).next(()=>i.fi.Gs(v,b)).next(()=>b)))}),UH.apply(this,arguments)}function Vd1(n,e){return GH.apply(this,arguments)}function GH(){return GH=(0,w1.Z)(function*(n,e,t=Re()){const r=yield Q7(n,h6(AH(e.bundledQuery))),i=u2(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const l=D4(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i._s.saveNamedQuery(s,e);const f=r.withResumeToken(g4.EMPTY_BYTE_STRING,l);return i.ui=i.ui.insert(f.targetId,f),i.fs.updateTargetData(s,f).next(()=>i.fs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.fs.addMatchingKeys(s,t,r.targetId)).next(()=>i._s.saveNamedQuery(s,e))})}),GH.apply(this,arguments)}class Hd1{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return L1.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:D4(r.createTime)}),L1.resolve()}getNamedQuery(e,t){return L1.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:AH(r.bundledQuery),readTime:D4(r.readTime)}),L1.resolve();var r}}class Ad1{constructor(){this.overlays=new X3(s2.comparator),this.Ii=new Map}getOverlay(e,t){return L1.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Xt(e,t,s)}),L1.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),L1.resolve()}getOverlaysForCollection(e,t,r){const i=dd(),s=t.length+1,l=new s2(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const C=f.getNext().value,v=C.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&C.largestBatchId>r&&i.set(C.getKey(),C)}return L1.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new X3((v,b)=>v-b);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let b=s.get(v.largestBatchId);null===b&&(b=dd(),s=s.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const f=dd(),C=s.getIterator();for(;C.hasNext()&&(C.getNext().value.forEach((v,b)=>f.set(v,b)),!(f.size()>=i)););return L1.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const l=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new HH(t,r));let s=this.Ii.get(t);void 0===s&&(s=Re(),this.Ii.set(t,s)),this.Ii.set(t,s.add(r.key))}}class jH{constructor(){this.Ti=new c3(N4.Ei),this.Ai=new c3(N4.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new N4(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new N4(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new s2(new ge([])),r=new N4(t,e),i=new N4(t,e+1),s=[];return this.Ai.forEachInRange([r,i],l=>{this.Pi(l),s.push(l.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new s2(new ge([])),r=new N4(t,e),i=new N4(t,e+1);let s=Re();return this.Ai.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new N4(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class N4{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return s2.comparator(e.key,t.key)||ee(e.Ci,t.Ci)}static Ri(e,t){return ee(e.Ci,t.Ci)||s2.comparator(e.key,t.key)}}class Ed1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new c3(N4.Ei)}checkEmpty(e){return L1.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const s=this.xi;this.xi++;const l=new SH(s,t,r,i);this.Bs.push(l);for(const f of i)this.Ni=this.Ni.add(new N4(f.key,s)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return L1.resolve(l)}lookupMutationBatch(e,t){return L1.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),s=i<0?0:i;return L1.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return L1.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return L1.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new N4(t,0),i=new N4(t,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],l=>{const f=this.ki(l.Ci);s.push(f)}),L1.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new c3(ee);return t.forEach(i=>{const s=new N4(i,0),l=new N4(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,l],f=>{r=r.add(f.Ci)})}),L1.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;s2.isDocumentKey(s)||(s=s.child(""));const l=new N4(new s2(s),0);let f=new c3(ee);return this.Ni.forEachWhile(C=>{const v=C.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(C.Ci)),!0)},l),L1.resolve(this.Oi(f))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){j2(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return L1.forEach(t.mutations,i=>{const s=new N4(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new N4(t,0),i=this.Ni.firstAfterOrEqual(r);return L1.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return L1.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Td1{constructor(e){this.$i=e,this.docs=new X3(s2.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return L1.resolve(r?r.document.mutableCopy():f3.newInvalidDocument(t))}getEntries(e,t){let r=C6();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():f3.newInvalidDocument(i))}),L1.resolve(r)}getAllFromCollection(e,t,r){let i=C6();const s=new s2(t.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:f,value:{document:C}}=l.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||yG(ef1(C),r)<=0||(i=i.insert(C.key,C.mutableCopy()))}return L1.resolve(i)}getAllFromCollectionGroup(e,t,r,i){_2()}Bi(e,t){return L1.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Dd1(this)}getSize(e){return L1.resolve(this.size)}}class Dd1 extends Dj{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),L1.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Id1{constructor(e){this.persistence=e,this.Li=new Ri(t=>js(t),od),this.lastRemoteSnapshotVersion=O2.min(),this.highestTargetId=0,this.Ui=0,this.qi=new jH,this.targetCount=0,this.Ki=ta.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),L1.resolve()}getLastRemoteSnapshotVersion(e){return L1.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L1.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),L1.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),L1.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new ta(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,L1.resolve()}updateTargetData(e,t){return this.Tn(t),L1.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,L1.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Li.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Li.delete(l),s.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),L1.waitFor(s).next(()=>i)}getTargetCount(e){return L1.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return L1.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),L1.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),L1.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),L1.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return L1.resolve(r)}containsKey(e,t){return L1.resolve(this.qi.containsKey(t))}}class Nd1{constructor(e,t){this.Gi={},this.overlays={},this.es=new Vn(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Id1(this),this.indexManager=new dd1,this.ds=new Td1(r=>this.referenceDelegate.Qi(r)),this.M=new vj(t),this._s=new Hd1(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ad1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new Ed1(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Q1("MemoryPersistence","Starting transaction:",e);const i=new kd1(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,t){return L1.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class kd1 extends pj{constructor(e){super(),this.currentSequenceNumber=e}}class qH{constructor(e){this.persistence=e,this.Hi=new jH,this.Ji=null}static Yi(e){return new qH(e)}get Xi(){if(this.Ji)return this.Ji;throw _2()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),L1.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),L1.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),L1.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L1.forEach(this.Xi,r=>{const i=s2.fromPath(r);return this.Zi(e,i).next(s=>{s||t.removeEntry(i,O2.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return L1.or([()=>L1.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function $j(n,e){return`firestore_clients_${n}_${e}`}function Wj(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function $H(n,e){return`firestore_targets_${n}_${e}`}class Ky{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let s,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(s=new B1(i.error.code,i.error.message))),l?new Ky(e,t,i.state,s):(c4("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new B1(r.error.code,r.error.message))),s?new zd(e,r.state,i):(c4("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Ry();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=uG(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new Yy(e,s):(c4("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class WH{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new WH(t.clientId,t.onlineState):(c4("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ZH{constructor(){this.activeTargetIds=Ry()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KH{constructor(e,t,r,i,s){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new X3(ee),this.started=!1,this.cr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.hr=$j(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new ZH),this.dr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,w1.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const s=e.getItem($j(e.persistenceKey,i));if(s){const l=Yy.tr(i,s);l&&(e.ar=e.ar.insert(l.clientId,l))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem($H(this.persistenceKey,e));if(r){const i=zd.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($H(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Q1("SharedClientState","READ",e,t),t}setItem(e,t){Q1("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Q1("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Q1("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void c4("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,w1.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(s){let l=Vn.A;if(null!=s)try{const f=JSON.parse(s);j2("number"==typeof f),l=f}catch(f){c4("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);i!==Vn.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Fr(s)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new Ky(this.currentUser,e,t,r),s=Wj(this.persistenceKey,this.currentUser,e);this.setItem(s,i.er())}Ar(e){const t=Wj(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=$H(this.persistenceKey,e),s=new zd(e,t,r);this.setItem(i,s.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return Yy.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Ky.tr(new Y4(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return zd.tr(i,t)}pr(e){return WH.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,w1.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Q1("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),s=this.Tr(r),l=[],f=[];return s.forEach(C=>{i.has(C)||l.push(C)}),i.forEach(C=>{s.has(C)||f.push(C)}),this.syncEngine.Lr(l,f).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=Ry();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Zj{constructor(){this.Ur=new ZH,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new ZH,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rd1{Kr(e){}shutdown(){}}class Kj{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Q1("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Q1("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Pd1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Fd1{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Od1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,s){const l=this.ho(e,t);Q1("RestConnection","Sending: ",l,r);const f={};return this.lo(f,i,s),this.fo(e,l,f,r).then(C=>(Q1("RestConnection","Received: ",C),C),C=>{throw Jf("RestConnection",`${e} failed with error: `,C,"url: ",l,"request:",r),C})}_o(e,t,r,i,s){return this.co(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+k7,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.uo}/v1/${t}:${Pd1[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,l)=>{const f=new Pu1;f.listenOnce(Nu1.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case cH.NO_ERROR:const v=f.getResponseJson();Q1("Connection","XHR received:",JSON.stringify(v)),s(v);break;case cH.TIMEOUT:Q1("Connection",'RPC "'+e+'" timed out'),l(new B1(_1.DEADLINE_EXCEEDED,"Request time out"));break;case cH.HTTP_ERROR:const b=f.getStatus();if(Q1("Connection",'RPC "'+e+'" failed with status:',b,"response text:",f.getResponseText()),b>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const S=function(A){const D=A.toLowerCase().replace(/_/g,"-");return Object.values(_1).indexOf(D)>=0?D:_1.UNKNOWN}(x.status);l(new B1(S,x.message))}else l(new B1(_1.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new B1(_1.UNAVAILABLE,"Connection failed."));break;default:_2()}}finally{Q1("Connection",'RPC "'+e+'" completed.')}});const C=JSON.stringify(i);f.send(t,"POST",C,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Du1(),l=Iu1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Ru1({})),this.lo(f.initMessageHeaders,t,r),(0,N.uI)()||(0,N.b$)()||(0,N.d)()||(0,N.w1)()||(0,N.Mn)()||(0,N.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const C=i.join("");Q1("Connection","Creating WebChannel: "+C,f);const v=s.createWebChannel(C,f);let b=!1,x=!1;const S=new Fd1({Jr:D=>{x?Q1("Connection","Not sending because WebChannel is closed:",D):(b||(Q1("Connection","Opening WebChannel transport."),v.open(),b=!0),Q1("Connection","WebChannel sending:",D),v.send(D))},Yr:()=>v.close()}),A=(D,W,a1)=>{D.listen(W,H1=>{try{a1(H1)}catch(F1){setTimeout(()=>{throw F1},0)}})};return A(v,zy.EventType.OPEN,()=>{x||Q1("Connection","WebChannel transport opened.")}),A(v,zy.EventType.CLOSE,()=>{x||(x=!0,Q1("Connection","WebChannel transport closed"),S.ro())}),A(v,zy.EventType.ERROR,D=>{x||(x=!0,Jf("Connection","WebChannel transport errored:",D),S.ro(new B1(_1.UNAVAILABLE,"The operation could not be completed")))}),A(v,zy.EventType.MESSAGE,D=>{var W;if(!x){const a1=D.data[0];j2(!!a1);const H1=a1,F1=H1.error||(null===(W=H1[0])||void 0===W?void 0:W.error);if(F1){Q1("Connection","WebChannel received error:",F1);const W1=F1.status;let J1=function(A2){const te=u4[A2];if(void 0!==te)return $G(te)}(W1),v2=F1.message;void 0===J1&&(J1=_1.INTERNAL,v2="Unknown error status: "+W1+" with message "+F1.message),x=!0,S.ro(new B1(J1,v2)),v.close()}else Q1("Connection","WebChannel received:",a1),S.oo(a1)}}),A(l,ku1.STAT_EVENT,D=>{D.stat===tG.PROXY?Q1("Connection","Detected buffering proxy"):D.stat===tG.NOPROXY&&Q1("Connection","Detected no buffering proxy")}),setTimeout(()=>{S.io()},0),S}}function Yj(){return"undefined"!=typeof window?window:null}function Qy(){return"undefined"!=typeof document?document:null}function Sd(n){return new Vf1(n,!0)}class YH{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Q1("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Qj{constructor(e,t,r,i,s,l,f,C){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=C,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new YH(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,w1.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,w1.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,w1.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===_1.RESOURCE_EXHAUSTED?(c4(t.toString()),c4("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===_1.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new B1(_1.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,w1.Z)(function*(){e.state=0,e.start()}))}jo(e){return Q1("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Q1("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bd1 extends Qj{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.M=s}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Ef1(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(C=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:_2(),i=e.targetChange.targetIds||[],s=function(C,v){return C.N?(j2(void 0===v||"string"==typeof v),g4.fromBase64String(v||"")):(j2(void 0===v||v instanceof Uint8Array),g4.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(C){const v=void 0===C.code?_1.UNKNOWN:$G(C.code);return new B1(v,C.message||"")}(l);t=new ZG(r,i,s,f||null)}else if("documentChange"in e){const r=e.documentChange,i=W5(n,r.document.name),s=D4(r.document.updateTime),l=new ut({mapValue:{fields:r.document.fields}}),f=f3.newFoundDocument(i,s,l);t=new Py(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=W5(n,r.document),s=r.readTime?D4(r.readTime):O2.min(),l=f3.newNoDocument(i,s);t=new Py([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=W5(n,r.document);t=new Py([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return _2();{const r=e.filter,s=new yf1(r.count||0);t=new WG(r.targetId,s)}}var C;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return O2.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?O2.min():s.readTime?D4(s.readTime):O2.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=gd(this.M),t.addTarget=function(i,s){let l;const f=s.target;return l=Ty(f)?{documents:ij(i,f)}:{query:sj(i,f)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?l.resumeToken=JG(i,s.resumeToken):s.snapshotVersion.compareTo(O2.min())>0&&(l.readTime=pd(i,s.snapshotVersion.toTimestamp())),l}(this.M,e);const r=function Df1(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _2()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=gd(this.M),t.removeTarget=e,this.Lo(t)}}class Ud1 extends Qj{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(j2(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Tf1(n,e){return n&&n.length>0?(j2(void 0!==e),n.map(t=>function(r,i){let s=D4(r.updateTime?r.updateTime:i);return s.isEqual(O2.min())&&(s=D4(i)),new mf1(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=D4(e.commitTime);return this.listener.tu(r,t)}return j2(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=gd(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>vd(this.M,r))};this.Lo(t)}}class Gd1 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new B1(_1.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B1(_1.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B1(_1.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class jd1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(c4(t),this.uu=!1):Q1("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class qd1{constructor(e,t,r,i,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(f=>{r.enqueueAndForget((0,w1.Z)(function*(){var C;Bi(l)&&(Q1("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,w1.Z)(function*(v){const b=u2(v);b.wu.add(4),yield X7(b),b.yu.set("Unknown"),b.wu.delete(4),yield Vd(b)}),function(v){return C.apply(this,arguments)})(l))}))}),this.yu=new jd1(r,i)}}function Vd(n){return QH.apply(this,arguments)}function QH(){return QH=(0,w1.Z)(function*(n){if(Bi(n))for(const e of n.mu)yield e(!0)}),QH.apply(this,arguments)}function X7(n){return JH.apply(this,arguments)}function JH(){return JH=(0,w1.Z)(function*(n){for(const e of n.mu)yield e(!1)}),JH.apply(this,arguments)}function Jy(n,e){const t=u2(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),tA(t)?eA(t):t9(t).Mo()&&XH(t,e))}function Hd(n,e){const t=u2(n),r=t9(t);t._u.delete(e),r.Mo()&&Jj(t,e),0===t._u.size&&(r.Mo()?r.$o():Bi(t)&&t.yu.set("Unknown"))}function XH(n,e){n.pu.Z(e.targetId),t9(n).Ho(e)}function Jj(n,e){n.pu.Z(e),t9(n).Jo(e)}function eA(n){n.pu=new wf1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),t9(n).start(),n.yu.au()}function tA(n){return Bi(n)&&!t9(n).ko()&&n._u.size>0}function Bi(n){return 0===u2(n).wu.size}function Xj(n){n.pu=void 0}function $d1(n){return nA.apply(this,arguments)}function nA(){return nA=(0,w1.Z)(function*(n){n._u.forEach((e,t)=>{XH(n,e)})}),nA.apply(this,arguments)}function Wd1(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,w1.Z)(function*(n,e){Xj(n),tA(n)?(n.yu.lu(e),eA(n)):n.yu.set("Unknown")}),rA.apply(this,arguments)}function Zd1(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=(0,w1.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof ZG&&2===e.state&&e.cause)try{yield(r=(0,w1.Z)(function*(i,s){const l=s.cause;for(const f of s.targetIds)i._u.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i._u.delete(f),i.pu.removeTarget(f))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Q1("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Xy(n,r)}else if(e instanceof Py?n.pu.ut(e):e instanceof WG?n.pu._t(e):n.pu.ht(e),!t.isEqual(O2.min()))try{const r=yield Bj(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const l=i.pu.yt(s);return l.targetChanges.forEach((f,C)=>{if(f.resumeToken.approximateByteSize()>0){const v=i._u.get(C);v&&i._u.set(C,v.withResumeToken(f.resumeToken,s))}}),l.targetMismatches.forEach(f=>{const C=i._u.get(f);if(!C)return;i._u.set(f,C.withResumeToken(g4.EMPTY_BYTE_STRING,C.snapshotVersion)),Jj(i,f);const v=new Pi(C.target,f,1,C.sequenceNumber);XH(i,v)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Q1("RemoteStore","Failed to raise snapshot:",r),yield Xy(n,r)}var r}),iA.apply(this,arguments)}function Xy(n,e,t){return sA.apply(this,arguments)}function sA(){return sA=(0,w1.Z)(function*(n,e,t){if(!Zs(e))throw e;n.wu.add(1),yield X7(n),n.yu.set("Offline"),t||(t=()=>Bj(n.localStore)),n.asyncQueue.enqueueRetryable((0,w1.Z)(function*(){Q1("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Vd(n)}))}),sA.apply(this,arguments)}function eq(n,e){return e().catch(t=>Xy(n,t,e))}function e9(n){return aA.apply(this,arguments)}function aA(){return aA=(0,w1.Z)(function*(n){const e=u2(n),t=Ui(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Kd1(e);)try{const i=yield zd1(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,Yd1(e,i)}catch(i){yield Xy(e,i)}tq(e)&&nq(e)}),aA.apply(this,arguments)}function Kd1(n){return Bi(n)&&n.du.length<10}function Yd1(n,e){n.du.push(e);const t=Ui(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function tq(n){return Bi(n)&&!Ui(n).ko()&&n.du.length>0}function nq(n){Ui(n).start()}function Qd1(n){return oA.apply(this,arguments)}function oA(){return oA=(0,w1.Z)(function*(n){Ui(n).nu()}),oA.apply(this,arguments)}function Jd1(n){return cA.apply(this,arguments)}function cA(){return cA=(0,w1.Z)(function*(n){const e=Ui(n);for(const t of n.du)e.Zo(t.mutations)}),cA.apply(this,arguments)}function Xd1(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,w1.Z)(function*(n,e,t){const r=n.du.shift(),i=VH.from(r,e,t);yield eq(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield e9(n)}),lA.apply(this,arguments)}function eh1(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,w1.Z)(function*(n,e){var t;e&&Ui(n).Xo&&(yield(t=(0,w1.Z)(function*(r,i){if(qG(s=i.code)&&s!==_1.ABORTED){const l=r.du.shift();Ui(r).Fo(),yield eq(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield e9(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),tq(n)&&nq(n)}),uA.apply(this,arguments)}function rq(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,w1.Z)(function*(n,e){const t=u2(n);t.asyncQueue.verifyOperationInProgress(),Q1("RemoteStore","RemoteStore received new credentials");const r=Bi(t);t.wu.add(3),yield X7(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Vd(t)}),fA.apply(this,arguments)}function dA(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,w1.Z)(function*(n,e){const t=u2(n);e?(t.wu.delete(2),yield Vd(t)):e||(t.wu.add(2),yield X7(t),t.yu.set("Unknown"))}),hA.apply(this,arguments)}function t9(n){return n.Iu||(n.Iu=function(e,t,r){const i=u2(e);return i.iu(),new Bd1(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:$d1.bind(null,n),eo:Wd1.bind(null,n),zo:Zd1.bind(null,n)}),n.mu.push(function(){var e=(0,w1.Z)(function*(t){t?(n.Iu.Fo(),tA(n)?eA(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Xj(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Ui(n){return n.Tu||(n.Tu=function(e,t,r){const i=u2(e);return i.iu(),new Ud1(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:Qd1.bind(null,n),eo:eh1.bind(null,n),eu:Jd1.bind(null,n),tu:Xd1.bind(null,n)}),n.mu.push(function(){var e=(0,w1.Z)(function*(t){t?(n.Tu.Fo(),yield e9(n)):(yield n.Tu.stop(),n.du.length>0&&(Q1("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class CA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new T4,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,f=new CA(e,t,l,i,s);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new B1(_1.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n9(n,e){if(c4("AsyncQueue",`${e}: ${n}`),Zs(n))return new B1(_1.UNAVAILABLE,`${e}: ${n}`);throw n}class r9{constructor(e){this.comparator=e?(t,r)=>e(t,r)||s2.comparator(t.key,r.key):(t,r)=>s2.comparator(t.key,r.key),this.keyedMap=LH(),this.sortedSet=new X3(this.comparator)}static emptySet(e){return new r9(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof r9)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new r9;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class iq{constructor(){this.Eu=new X3(s2.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):_2():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class i9{constructor(e,t,r,i,s,l,f,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=C}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(l=>{s.push({type:0,doc:l})}),new i9(e,t,r9.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class th1{constructor(){this.Ru=void 0,this.listeners=[]}}class nh1{constructor(){this.queries=new Ri(e=>HG(e),cd),this.onlineState="Unknown",this.bu=new Set}}function pA(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,w1.Z)(function*(n,e){const t=u2(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new th1),i)try{s.Ru=yield t.onListen(r)}catch(l){const f=n9(l,`Initialization of query '${vH(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,s),s.listeners.push(e),e.Pu(t.onlineState),s.Ru&&e.Vu(s.Ru)&&yA(t)}),mA.apply(this,arguments)}function gA(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,w1.Z)(function*(n,e){const t=u2(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),vA.apply(this,arguments)}function rh1(n,e){const t=u2(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.Vu(i)&&(r=!0);l.Ru=i}}r&&yA(t)}function ih1(n,e,t){const r=u2(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function yA(n){n.bu.forEach(e=>{e.next()})}class _A{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new i9(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=i9.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class sh1{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class sq{constructor(e){this.M=e}wi(e){return W5(this.M,e)}mi(e){return e.metadata.exists?rj(this.M,e.document,!1):f3.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return D4(e)}}class ah1{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aq(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=ge.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new sq(this.M);for(const i of e)if(i.metadata.queries){const s=r.wi(i.metadata.name);for(const l of i.metadata.queries){const f=(t.get(l)||Re()).add(s);t.set(l,f)}}return t}complete(){var e=this;return(0,w1.Z)(function*(){const t=yield function Sd1(n,e,t,r){return UH.apply(this,arguments)}(e.localStore,new sq(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield Vd1(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function aq(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class oq{constructor(e){this.key=e}}class cq{constructor(e){this.key=e}}class lq{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Re(),this.mutatedKeys=Re(),this.Gu=EG(e),this.Qu=new r9(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new iq,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const C="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,x)=>{const S=i.get(b),A=yH(this.query,x)?x:null,D=!!S&&this.mutatedKeys.has(S.key),W=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let a1=!1;S&&A?S.data.isEqual(A.data)?D!==W&&(r.track({type:3,doc:A}),a1=!0):this.Hu(S,A)||(r.track({type:2,doc:A}),a1=!0,(C&&this.Gu(A,C)>0||v&&this.Gu(A,v)<0)&&(f=!0)):!S&&A?(r.track({type:0,doc:A}),a1=!0):S&&!A&&(r.track({type:1,doc:S}),a1=!0,(C||v)&&(f=!0)),a1&&(A?(l=l.add(A),s=W?s.add(b):s.delete(b)):(l=l.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),s=s.delete(b.key),r.track({type:1,doc:b})}return{Qu:l,zu:r,ii:f,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((v,b)=>function(x,S){const A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _2()}};return A(x)-A(S)}(v.type,b.type)||this.Gu(v.doc,b.doc)),this.Ju(r);const l=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,C=f!==this.qu;return this.qu=f,0!==s.length||C?{snapshot:new i9(this.query,e.Qu,i,s,e.mutatedKeys,0===f,C,!1),Xu:l}:{Xu:l}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new iq,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Re(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new cq(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new oq(r))}),t}ta(e){this.Uu=e._i,this.Ku=Re();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return i9.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class oh1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ch1{constructor(e){this.key=e,this.na=!1}}class lh1{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.sa={},this.ia=new Ri(f=>HG(f),cd),this.ra=new Map,this.oa=new Set,this.ua=new X3(s2.comparator),this.aa=new Map,this.ca=new jH,this.ha={},this.la=new Map,this.fa=ta.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function uh1(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,w1.Z)(function*(n,e){const t=jA(n);let r,i;const s=t.ia.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const l=yield Q7(t.localStore,h6(e));t.isPrimaryClient&&Jy(t.remoteStore,l);const f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield LA(t,e,r,"current"===f)}return i}),MA.apply(this,arguments)}function LA(n,e,t,r){return bA.apply(this,arguments)}function bA(){return bA=(0,w1.Z)(function*(n,e,t,r){n._a=(b,x,S)=>{return(A=(0,w1.Z)(function*(D,W,a1,H1){let F1=W.view.Wu(a1);F1.ii&&(F1=yield Zy(D.localStore,W.query,!1).then(({documents:v2})=>W.view.Wu(v2,F1)));const W1=H1&&H1.targetChanges.get(W.targetId),J1=W.view.applyChanges(F1,D.isPrimaryClient,W1);return DA(D,W.targetId,J1.Xu),J1.snapshot}),function(D,W,a1,H1){return A.apply(this,arguments)})(n,b,x,S);var A};const i=yield Zy(n.localStore,e,!0),s=new lq(e,i._i),l=s.Wu(i.documents),f=Cd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),C=s.applyChanges(l,n.isPrimaryClient,f);DA(n,t,C.Xu);const v=new oh1(e,t,s);return n.ia.set(e,v),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),C.snapshot}),bA.apply(this,arguments)}function fh1(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,w1.Z)(function*(n,e){const t=u2(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(s=>!cd(s,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield J7(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Hd(t.remoteStore,r.targetId),s9(t,r.targetId)}).catch(na))):(s9(t,r.targetId),yield J7(t.localStore,r.targetId,!0))}),xA.apply(this,arguments)}function wA(){return wA=(0,w1.Z)(function*(n,e,t){const r=qA(n);try{const i=yield function(s,l){const f=u2(s),C=J3.now(),v=l.reduce((x,S)=>x.add(S.key),Re());let b;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>f.fi.Ks(x,v).next(S=>{b=S;const A=[];for(const D of l){const W=vf1(D,b.get(D.key));null!=W&&A.push(new Ws(D.key,W,gG(W.value.mapValue),l4.exists(!0)))}return f.Bs.addMutationBatch(x,C,A,l)})).then(x=>(x.applyToLocalDocumentSet(b),{batchId:x.batchId,changes:b}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,f){let C=s.ha[s.currentUser.toKey()];C||(C=new X3(ee)),C=C.insert(l,f),s.ha[s.currentUser.toKey()]=C}(r,i.batchId,t),yield Z8(r,i.changes),yield e9(r.remoteStore)}catch(i){const s=n9(i,"Failed to persist write");t.reject(s)}}),wA.apply(this,arguments)}function uq(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,w1.Z)(function*(n,e){const t=u2(n);try{const r=yield wd1(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.aa.get(s);l&&(j2(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.na=!0:i.modifiedDocuments.size>0?j2(l.na):i.removedDocuments.size>0&&(j2(l.na),l.na=!1))}),yield Z8(t,r,e)}catch(r){yield na(r)}}),zA.apply(this,arguments)}function fq(n,e,t){const r=u2(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((s,l)=>{const f=l.view.Pu(e);f.snapshot&&i.push(f.snapshot)}),function(s,l){const f=u2(s);f.onlineState=l;let C=!1;f.queries.forEach((v,b)=>{for(const x of b.listeners)x.Pu(l)&&(C=!0)}),C&&yA(f)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hh1(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,w1.Z)(function*(n,e,t){const r=u2(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),s=i&&i.key;if(s){let l=new X3(s2.comparator);l=l.insert(s,f3.newNoDocument(s,O2.min()));const f=Re().add(s),C=new hd(O2.min(),new Map,new c3(ee),l,f);yield uq(r,C),r.ua=r.ua.remove(s),r.aa.delete(e),IA(r)}else yield J7(r.localStore,e,!1).then(()=>s9(r,e,t)).catch(na)}),SA.apply(this,arguments)}function Ch1(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,w1.Z)(function*(n,e){const t=u2(n),r=e.batch.batchId;try{const i=yield xd1(t.localStore,e);TA(t,r,null),EA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Z8(t,i)}catch(i){yield na(i)}}),VA.apply(this,arguments)}function ph1(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,w1.Z)(function*(n,e,t){const r=u2(n);try{const i=yield function(s,l){const f=u2(s);return f.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let v;return f.Bs.lookupMutationBatch(C,l).next(b=>(j2(null!==b),v=b.keys(),f.Bs.removeMutationBatch(C,b))).next(()=>f.Bs.performConsistencyCheck(C)).next(()=>f.fi.Ks(C,v))})}(r.localStore,e);TA(r,e,t),EA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Z8(r,i)}catch(i){yield na(i)}}),HA.apply(this,arguments)}function AA(){return AA=(0,w1.Z)(function*(n,e){const t=u2(n);Bi(t.remoteStore)||Q1("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const l=u2(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=n9(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),AA.apply(this,arguments)}function EA(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function TA(n,e,t){const r=u2(n);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function s9(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||dq(n,r)})}function dq(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(Hd(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),IA(n))}function DA(n,e,t){for(const r of t)r instanceof oq?(n.ca.addReference(r.key,e),gh1(n,r)):r instanceof cq?(Q1("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||dq(n,r.key)):_2()}function gh1(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Q1("SyncEngine","New document in limbo: "+t),n.oa.add(r),IA(n))}function IA(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new s2(ge.fromString(e)),r=n.fa.next();n.aa.set(r,new ch1(t)),n.ua=n.ua.insert(t,r),Jy(n.remoteStore,new Pi(h6(U7(t.path)),r,2,Vn.A))}}function Z8(n,e,t){return NA.apply(this,arguments)}function NA(){return NA=(0,w1.Z)(function*(n,e,t){const r=u2(n),i=[],s=[],l=[];var f;r.ia.isEmpty()||(r.ia.forEach((f,C)=>{l.push(r._a(C,e,t).then(v=>{if(v){r.isPrimaryClient&&r.sharedClientState.updateQueryState(C.targetId,v.fromCache?"not-current":"current"),i.push(v);const b=FH.Ys(C.targetId,v);s.push(b)}}))}),yield Promise.all(l),r.sa.zo(i),yield(f=(0,w1.Z)(function*(C,v){const b=u2(C);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>L1.forEach(v,S=>L1.forEach(S.Hs,A=>b.persistence.referenceDelegate.addReference(x,S.targetId,A)).next(()=>L1.forEach(S.Js,A=>b.persistence.referenceDelegate.removeReference(x,S.targetId,A)))))}catch(x){if(!Zs(x))throw x;Q1("LocalStore","Failed to update sequence numbers: "+x)}for(const x of v){const S=x.targetId;if(!x.fromCache){const A=b.ui.get(S),W=A.withLastLimboFreeSnapshotVersion(A.snapshotVersion);b.ui=b.ui.insert(S,W)}}}),function(C,v){return f.apply(this,arguments)})(r.localStore,s))}),NA.apply(this,arguments)}function vh1(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,w1.Z)(function*(n,e){const t=u2(n);if(!t.currentUser.isEqual(e)){Q1("SyncEngine","User change. New user:",e.toKey());const r=yield Oj(t.localStore,e);t.currentUser=e,(i=t).la.forEach(l=>{l.forEach(f=>{f.reject(new B1(_1.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Z8(t,r.di)}var i}),kA.apply(this,arguments)}function yh1(n,e){const t=u2(n),r=t.aa.get(e);if(r&&r.na)return Re().add(r.key);{let i=Re();const s=t.ra.get(e);if(!s)return i;for(const l of s){const f=t.ia.get(l);i=i.unionWith(f.view.ju)}return i}}function _h1(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,w1.Z)(function*(n,e){const t=u2(n),r=yield Zy(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&DA(t,e.targetId,i.Xu),i}),RA.apply(this,arguments)}function Mh1(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,w1.Z)(function*(n,e){const t=u2(n);return jj(t.localStore,e).then(r=>Z8(t,r))}),PA.apply(this,arguments)}function Lh1(n,e,t,r){return FA.apply(this,arguments)}function FA(){return FA=(0,w1.Z)(function*(n,e,t,r){const i=u2(n),s=yield function(l,f){const C=u2(l),v=u2(C.Bs);return C.persistence.runTransaction("Lookup mutation documents","readonly",b=>v.fn(b,f).next(x=>x?C.fi.Ks(b,x):L1.resolve(null)))}(i.localStore,e);var f;null!==s?("pending"===t?yield e9(i.remoteStore):"acknowledged"===t||"rejected"===t?(TA(i,e,r||null),EA(i,e),f=e,u2(u2(i.localStore).Bs)._n(f)):_2(),yield Z8(i,s)):Q1("SyncEngine","Cannot apply mutation batch with id: "+e)}),FA.apply(this,arguments)}function OA(){return OA=(0,w1.Z)(function*(n,e){const t=u2(n);if(jA(t),qA(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield hq(t,r.toArray());t.da=!0,yield dA(t.remoteStore,!0);for(const s of i)Jy(t.remoteStore,s)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(s9(t,l),J7(t.localStore,l,!0))),Hd(t.remoteStore,l)}),yield i,yield hq(t,r),function(s){const l=u2(s);l.aa.forEach((f,C)=>{Hd(l.remoteStore,C)}),l.ca.Si(),l.aa=new Map,l.ua=new X3(s2.comparator)}(t),t.da=!1,yield dA(t.remoteStore,!1)}}),OA.apply(this,arguments)}function hq(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,w1.Z)(function*(n,e,t){const r=u2(n),i=[],s=[];for(const l of e){let f;const C=r.ra.get(l);if(C&&0!==C.length){f=yield Q7(r.localStore,h6(C[0]));for(const v of C){const b=r.ia.get(v),x=yield _h1(r,b);x.snapshot&&s.push(x.snapshot)}}else{const v=yield Gj(r.localStore,l);f=yield Q7(r.localStore,v),yield LA(r,Cq(v),l,!1)}i.push(f)}return r.sa.zo(s),i}),BA.apply(this,arguments)}function Cq(n){return SG(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function xh1(n){const e=u2(n);return u2(u2(e.localStore).persistence).Fs()}function wh1(n,e,t,r){return UA.apply(this,arguments)}function UA(){return UA=(0,w1.Z)(function*(n,e,t,r){const i=u2(n);if(i.da)return void Q1("SyncEngine","Ignoring unexpected query state notification.");const s=i.ra.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield jj(i.localStore,AG(s[0])),f=hd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Z8(i,l,f);break}case"rejected":yield J7(i.localStore,e,!0),s9(i,e,r);break;default:_2()}}),UA.apply(this,arguments)}function zh1(n,e,t){return GA.apply(this,arguments)}function GA(){return GA=(0,w1.Z)(function*(n,e,t){const r=jA(n);if(r.da){for(const i of e){if(r.ra.has(i)){Q1("SyncEngine","Adding an already active target "+i);continue}const s=yield Gj(r.localStore,i),l=yield Q7(r.localStore,s);yield LA(r,Cq(s),l.targetId,!1),Jy(r.remoteStore,l)}for(const i of t)r.ra.has(i)&&(yield J7(r.localStore,i,!1).then(()=>{Hd(r.remoteStore,i),s9(r,i)}).catch(na))}}),GA.apply(this,arguments)}function jA(n){const e=u2(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yh1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hh1.bind(null,e),e.sa.zo=rh1.bind(null,e.eventManager),e.sa.wa=ih1.bind(null,e.eventManager),e}function qA(n){const e=u2(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ch1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ph1.bind(null,e),e}class pq{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,w1.Z)(function*(){t.M=Sd(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return Fj(this.persistence,new Pj,e.initialUser,this.M)}ya(e){return new Nd1(qH.Yi,this.M)}ga(e){return new Zj}terminate(){var e=this;return(0,w1.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class mq extends pq{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,w1.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield qA(r.Ta.syncEngine),yield e9(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return Fj(this.persistence,new Pj,e.initialUser,this.M)}pa(e){return new md1(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=PH(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new RH(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Yj(),Qy(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Zj}}class Vh1 extends mq{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,w1.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof KH&&(r.sharedClientState.syncEngine={$r:Lh1.bind(null,i),Br:wh1.bind(null,i),Lr:zh1.bind(null,i),Fs:xh1.bind(null,i),Fr:Mh1.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var s=(0,w1.Z)(function*(l){yield function bh1(n,e){return OA.apply(this,arguments)}(r.Ta.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):l||r.gcScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}ga(e){const t=Yj();if(!KH.vt(t))throw new B1(_1.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=PH(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new KH(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class $A{initialize(e,t){var r=this;return(0,w1.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>fq(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=vh1.bind(null,r.syncEngine),yield dA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nh1}createDatastore(e){const t=Sd(e.databaseInfo.databaseId),r=new Od1(e.databaseInfo);return new Gd1(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=f=>fq(this.syncEngine,f,0),l=Kj.vt()?new Kj:new Rd1,new qd1(t,r,i,s,l);var t,r,i,s,l}createSyncEngine(e,t){return function(r,i,s,l,f,C,v){const b=new lh1(r,i,s,l,f,C);return v&&(b.da=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,w1.Z)(function*(t){const r=u2(t);Q1("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield X7(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function gq(n,e=10240){let t=0;return{read:()=>(0,w1.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,w1.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class e_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Hh1{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new T4,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,w1.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,w1.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,w1.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const s=yield e.Sa(i);return new sh1(JSON.parse(s),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,w1.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,w1.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,w1.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Ah1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,w1.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new B1(_1.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,w1.Z)(function*(s,l){const f=u2(s),C=gd(f.M)+"/documents",v={documents:l.map(A=>md(f.M,A))},b=yield f._o("BatchGetDocuments",C,v),x=new Map;b.forEach(A=>{const D=function Af1(n,e){return"found"in e?function(t,r){j2(!!r.found);const i=W5(t,r.found.name),s=D4(r.found.updateTime),l=new ut({mapValue:{fields:r.found.fields}});return f3.newFoundDocument(i,s,l)}(n,e):"missing"in e?function(t,r){j2(!!r.missing),j2(!!r.readTime);const i=W5(t,r.missing),s=D4(r.readTime);return f3.newNoDocument(i,s)}(n,e):_2()}(f.M,A);x.set(D.key.toString(),D)});const S=[];return l.forEach(A=>{const D=x.get(A.toString());j2(!!D),S.push(D)}),S}),function(s,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new fd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,w1.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=s2.fromPath(i);e.mutations.push(new MH(s,e.precondition(s)))}),yield(r=(0,w1.Z)(function*(i,s){const l=u2(i),f=gd(l.M)+"/documents",C={writes:s.map(v=>vd(l.M,v))};yield l.co("Commit",f,C)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _2();t=O2.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new B1(_1.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?l4.updateTime(t):l4.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(O2.min()))throw new B1(_1.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return l4.updateTime(t)}return l4.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Eh1{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.xa=r.maxAttempts,this.No=new YH(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,w1.Z)(function*(){const t=new Ah1(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Ma(s)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!td(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!qG(t)}return!1}}class Th1{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Y4.UNAUTHENTICATED,this.clientId=sG.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,w1.Z)(function*(f){Q1("FirestoreClient","Received user=",f.uid),yield s.authCredentialListener(f),s.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Q1("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,w1.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B1(_1.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new T4;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,w1.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=n9(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function vq(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,w1.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Q1("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,w1.Z)(function*(s){r.isEqual(s)||(yield Oj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),WA.apply(this,arguments)}function yq(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,w1.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield KA(n);Q1("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>rq(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>rq(e.remoteStore,s)),n.onlineComponents=e}),ZA.apply(this,arguments)}function KA(n){return YA.apply(this,arguments)}function YA(){return YA=(0,w1.Z)(function*(n){return n.offlineComponents||(Q1("FirestoreClient","Using default OfflineComponentProvider"),yield vq(n,new pq)),n.offlineComponents}),YA.apply(this,arguments)}function t_(n){return QA.apply(this,arguments)}function QA(){return QA=(0,w1.Z)(function*(n){return n.onlineComponents||(Q1("FirestoreClient","Using default OnlineComponentProvider"),yield yq(n,new $A)),n.onlineComponents}),QA.apply(this,arguments)}function _q(n){return KA(n).then(e=>e.persistence)}function JA(n){return KA(n).then(e=>e.localStore)}function Mq(n){return t_(n).then(e=>e.remoteStore)}function XA(n){return t_(n).then(e=>e.syncEngine)}function a9(n){return eE.apply(this,arguments)}function eE(){return eE=(0,w1.Z)(function*(n){const e=yield t_(n),t=e.eventManager;return t.onListen=uh1.bind(null,e.syncEngine),t.onUnlisten=fh1.bind(null,e.syncEngine),t}),eE.apply(this,arguments)}function Lq(n,e,t={}){const r=new T4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return function(i,s,l,f,C){const v=new e_({next:x=>{s.enqueueAndForget(()=>gA(i,b));const S=x.docs.has(l);!S&&x.fromCache?C.reject(new B1(_1.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&f&&"server"===f.source?C.reject(new B1(_1.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(x)},error:x=>C.reject(x)}),b=new _A(U7(l.path),v,{includeMetadataChanges:!0,ku:!0});return pA(i,b)}(yield a9(n),n.asyncQueue,e,t,r)})),r.promise}function bq(n,e,t={}){const r=new T4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return function(i,s,l,f,C){const v=new e_({next:x=>{s.enqueueAndForget(()=>gA(i,b)),x.fromCache&&"server"===f.source?C.reject(new B1(_1.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(x)},error:x=>C.reject(x)}),b=new _A(l,v,{includeMetadataChanges:!0,ku:!0});return pA(i,b)}(yield a9(n),n.asyncQueue,e,t,r)})),r.promise}const xq=new Map;function tE(n,e,t){if(!t)throw new B1(_1.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wq(n,e,t,r){if(!0===e&&!0===r)throw new B1(_1.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zq(n){if(!s2.isDocumentKey(n))throw new B1(_1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Sq(n){if(s2.isDocumentKey(n))throw new B1(_1.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function n_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_2()}function me(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B1(_1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=n_(n);throw new B1(_1.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Vq(n,e){if(e<=0)throw new B1(_1.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Hq{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new B1(_1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new B1(_1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,wq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hq({}),this._settingsFrozen=!1,e instanceof $8?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new B1(_1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $8(i.options.projectId)}(e))}get app(){if(!this._app)throw new B1(_1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new B1(_1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hq(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Bu1;switch(t.type){case"gapi":const r=t.client;return j2(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new qu1(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new B1(_1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xq.get(e);t&&(Q1("ComponentProvider","Removing Datastore"),xq.delete(e),t.terminate())}(this),Promise.resolve()}}class d3{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new K5(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new d3(this.firestore,e,this._key)}}class ft{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ft(this.firestore,e,this._query)}}class K5 extends ft{constructor(e,t,r){super(e,t,U7(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new d3(this.firestore,null,new s2(e))}withConverter(e){return new K5(this.firestore,e,this._path)}}function Aq(n,e,...t){if(n=(0,N.m9)(n),tE("collection","path",e),n instanceof Ad){const r=ge.fromString(e,...t);return Sq(r),new K5(n,null,r)}{if(!(n instanceof d3||n instanceof K5))throw new B1(_1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ge.fromString(e,...t));return Sq(r),new K5(n.firestore,null,r)}}function r_(n,e,...t){if(n=(0,N.m9)(n),1===arguments.length&&(e=sG.R()),tE("doc","path",e),n instanceof Ad){const r=ge.fromString(e,...t);return zq(r),new d3(n,null,new s2(r))}{if(!(n instanceof d3||n instanceof K5))throw new B1(_1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ge.fromString(e,...t));return zq(r),new d3(n.firestore,n instanceof K5?n.converter:null,new s2(r))}}function Eq(n,e){return n=(0,N.m9)(n),e=(0,N.m9)(e),(n instanceof d3||n instanceof K5)&&(e instanceof d3||e instanceof K5)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Tq(n,e){return n=(0,N.m9)(n),e=(0,N.m9)(e),n instanceof ft&&e instanceof ft&&n.firestore===e.firestore&&cd(n._query,e._query)&&n.converter===e.converter}class Gh1{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new YH(this,"async_queue_retry"),this.Qa=()=>{const t=Qy();t&&Q1("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Qy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Qy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new T4;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,w1.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Zs(t))throw t;Q1("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,c4("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=CA.createAndSchedule(this,e,t,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&_2()}verifyOperationInProgress(){}Ja(){var e=this;return(0,w1.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function nE(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class jh1{constructor(){this._progressObserver={},this._taskCompletionResolver=new T4,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _3 extends Ad{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Gh1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Dq(this),this._firestoreClient.terminate()}}function f4(n){return n._firestoreClient||Dq(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Dq(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Qu1(n._databaseId,s,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var s,f;n._firestoreClient=new Th1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Iq(n,e,t){const r=new T4;return n.asyncQueue.enqueue((0,w1.Z)(function*(){try{yield vq(n,t),yield yq(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(s=i).name?s.code===_1.FAILED_PRECONDITION||s.code===_1.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var s})).then(()=>r.promise)}function Nq(n){if(n._initialized||n._terminated)throw new B1(_1.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class K8{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new B1(_1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new m4(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Y5{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Y5(g4.fromBase64String(e))}catch(t){throw new B1(_1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Y5(g4.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ia{constructor(e){this._methodName=e}}class i_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B1(_1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B1(_1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}const eC1=/^__.*__$/;class tC1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms):new ud(e,this.data,t,this.fieldTransforms)}}class kq{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rq(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _2()}}class s_{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new s_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return c_(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(Rq(this.ec)&&eC1.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class nC1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Sd(e)}lc(e,t,r,i=!1){return new s_({ec:e,methodName:t,hc:r,path:m4.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function sa(n){const e=n._freezeSettings(),t=Sd(n._databaseId);return new nC1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function a_(n,e,t,r,i,s={}){const l=n.lc(s.merge||s.mergeFields?2:0,e,t,i);aE("Data must be an object, but it was:",l,r);const f=Oq(r,l);let C,v;if(s.merge)C=new P7(l.fieldMask),v=l.fieldTransforms;else if(s.mergeFields){const b=[];for(const x of s.mergeFields){const S=oE(e,x,t);if(!l.contains(S))throw new B1(_1.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Uq(b,S)||b.push(S)}C=new P7(b),v=l.fieldTransforms.filter(x=>C.covers(x.field))}else C=null,v=l.fieldTransforms;return new tC1(new ut(f),C,v)}class Ed extends ia{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}function Pq(n,e,t){return new s_({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class rE extends ia{_toFieldTransform(e){return new ld(e.path,new j7)}isEqual(e){return e instanceof rE}}class rC1 extends ia{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=Pq(this,e,!0),r=this.fc.map(s=>aa(s,t)),i=new qs(r);return new ld(e.path,i)}isEqual(e){return this===e}}class iC1 extends ia{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=Pq(this,e,!0),r=this.fc.map(s=>aa(s,t)),i=new $s(r);return new ld(e.path,i)}isEqual(e){return this===e}}class sC1 extends ia{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new q7(e.M,IG(e.M,this.dc));return new ld(e.path,t)}isEqual(e){return this===e}}function iE(n,e,t,r){const i=n.lc(1,e,t);aE("Data must be an object, but it was:",i,r);const s=[],l=ut.empty();Fs(r,(C,v)=>{const b=o_(e,C,t);v=(0,N.m9)(v);const x=i.oc(b);if(v instanceof Ed)s.push(b);else{const S=aa(v,x);null!=S&&(s.push(b),l.set(b,S))}});const f=new P7(s);return new kq(l,f,i.fieldTransforms)}function sE(n,e,t,r,i,s){const l=n.lc(1,e,t),f=[oE(e,r,t)],C=[i];if(s.length%2!=0)throw new B1(_1.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<s.length;S+=2)f.push(oE(e,s[S])),C.push(s[S+1]);const v=[],b=ut.empty();for(let S=f.length-1;S>=0;--S)if(!Uq(v,f[S])){const A=f[S];let D=C[S];D=(0,N.m9)(D);const W=l.oc(A);if(D instanceof Ed)v.push(A);else{const a1=aa(D,W);null!=a1&&(v.push(A),b.set(A,a1))}}const x=new P7(v);return new kq(b,x,l.fieldTransforms)}function Fq(n,e,t,r=!1){return aa(t,n.lc(r?4:3,e))}function aa(n,e){if(Bq(n=(0,N.m9)(n)))return aE("Unsupported field value:",e,n),Oq(n,e);if(n instanceof ia)return function(t,r){if(!Rq(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const l of t){let f=aa(l,r.uc(s));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,N.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return IG(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=J3.fromDate(t);return{timestampValue:pd(r.M,i)}}if(t instanceof J3){const i=new J3(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pd(r.M,i)}}if(t instanceof i_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Y5)return{bytesValue:JG(r.M,t._byteString)};if(t instanceof d3){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bH(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${n_(t)}`)}(n,e)}function Oq(n,e){const t={};return cG(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(n,(r,i)=>{const s=aa(i,e.sc(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function Bq(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof J3||n instanceof i_||n instanceof Y5||n instanceof d3||n instanceof ia)}function aE(n,e,t){if(!Bq(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=n_(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function oE(n,e,t){if((e=(0,N.m9)(e))instanceof K8)return e._internalPath;if("string"==typeof e)return o_(n,e);throw c_("Field path arguments must be of type string or ",n,!1,void 0,t)}const aC1=new RegExp("[~\\*/\\[\\]]");function o_(n,e,t){if(e.search(aC1)>=0)throw c_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new K8(...e.split("."))._internalPath}catch(r){throw c_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function c_(n,e,t,r,i){const s=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let C="";return(s||l)&&(C+=" (found",s&&(C+=` in field ${r}`),l&&(C+=` in document ${i}`),C+=")"),new B1(_1.INVALID_ARGUMENT,f+n+C)}function Uq(n,e){return n.some(t=>t.isEqual(e))}class Td{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new d3(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oC1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(l_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oC1 extends Td{data(){return super.data()}}function l_(n,e){return"string"==typeof e?o_(n,e):e instanceof K8?e._internalPath:e._delegate._internalPath}class oa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Y8 extends Td{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(l_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Dd extends Y8{data(e={}){return super.data(e)}}class Gi{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new oa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Dd(this._firestore,this._userDataWriter,r.key,r,new oa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B1(_1.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Dd(r._firestore,r._userDataWriter,l.doc.key,l.doc,new oa(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new Dd(r._firestore,r._userDataWriter,l.doc.key,l.doc,new oa(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let C=-1,v=-1;return 0!==l.type&&(C=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),v=s.indexOf(l.doc.key)),{type:cC1(l.type),doc:f,oldIndex:C,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cC1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _2()}}function Gq(n,e){return n instanceof Y8&&e instanceof Y8?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Gi&&e instanceof Gi&&n._firestore===e._firestore&&Tq(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function jq(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new B1(_1.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Id{}function ji(n,...e){for(const t of e)n=t._apply(n);return n}class lC1 extends Id{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=sa(e.firestore),r=function(i,s,l,f,C,v,b){let x;if(C.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new B1(_1.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){Yq(b,v);const A=[];for(const D of b)A.push(Kq(f,i,D));x={arrayValue:{values:A}}}else x=Kq(f,i,b)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||Yq(b,v),x=Fq(l,"where",b,"in"===v||"not-in"===v);const S=J4.create(C,v,x);return function(A,D){if(D.S()){const a1=mH(A);if(null!==a1&&!a1.isEqual(D.field))throw new B1(_1.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${a1.toString()}' and '${D.field.toString()}'`);const H1=pH(A);null!==H1&&Qq(0,D.field,H1)}const W=function(a1,H1){for(const F1 of a1.filters)if(H1.indexOf(F1.op)>=0)return F1.op;return null}(A,function(a1){switch(a1){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(D.op));if(null!==W)throw new B1(_1.INVALID_ARGUMENT,W===D.op?`Invalid query. You cannot use more than one '${D.op.toString()}' filter.`:`Invalid query. You cannot use '${D.op.toString()}' filters with '${W.toString()}' filters.`)}(i,S),S}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new ft(e.firestore,e.converter,function(i,s){const l=i.filters.concat([s]);return new W8(i.path,i.collectionGroup,i.explicitOrderBy.slice(),l,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class fC1 extends Id{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new B1(_1.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new B1(_1.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new B7(i,s);return function(f,C){if(null===pH(f)){const v=mH(f);null!==v&&Qq(0,v,C.field)}}(r,l),l}(e._query,this._c,this.gc);return new ft(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new W8(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class qq extends Id{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new ft(e.firestore,e.converter,VG(e._query,this.yc,this.Ic))}}class $q extends Id{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=Zq(e,this.type,this.Tc,this.Ec);return new ft(e.firestore,e.converter,(i=t,new W8((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Wq extends Id{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=Zq(e,this.type,this.Tc,this.Ec);return new ft(e.firestore,e.converter,(i=t,new W8((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Zq(n,e,t,r){if(t[0]=(0,N.m9)(t[0]),t[0]instanceof Td)return function(i,s,l,f,C){if(!f)throw new B1(_1.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const b of G7(i))if(b.field.isKeyField())v.push(Us(s,f.key));else{const x=f.data.field(b.field);if(fH(x))throw new B1(_1.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const S=b.field.canonicalString();throw new B1(_1.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}v.push(x)}return new ki(v,C)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=sa(n.firestore);return function(s,l,f,C,v,b){const x=s.explicitOrderBy;if(v.length>x.length)throw new B1(_1.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let A=0;A<v.length;A++){const D=v[A];if(x[A].field.isKeyField()){if("string"!=typeof D)throw new B1(_1.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof D}`);if(!gH(s)&&-1!==D.indexOf("/"))throw new B1(_1.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${C}() must be a plain document ID, but '${D}' contains a slash.`);const W=s.path.child(ge.fromString(D));if(!s2.isDocumentKey(W))throw new B1(_1.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${C}() must result in a valid document path, but '${W}' is not because it contains an odd number of segments.`);const a1=new s2(W);S.push(Us(l,a1))}else{const W=Fq(f,C,D);S.push(W)}}return new ki(S,b)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Kq(n,e,t){if("string"==typeof(t=(0,N.m9)(t))){if(""===t)throw new B1(_1.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gH(e)&&-1!==t.indexOf("/"))throw new B1(_1.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ge.fromString(t));if(!s2.isDocumentKey(r))throw new B1(_1.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Us(n,new s2(r))}if(t instanceof d3)return Us(n,t._key);throw new B1(_1.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${n_(t)}.`)}function Yq(n,e){if(!Array.isArray(n)||0===n.length)throw new B1(_1.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new B1(_1.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Qq(n,e,t){if(!t.isEqual(e))throw new B1(_1.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const yC1={maxAttempts:5};class cE{convertValue(e,t="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return U3(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _2()}}convertObject(e,t){const r={};return Fs(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new i_(U3(e.latitude),U3(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lG(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ed(e));default:return null}}convertTimestamp(e){const t=Di(e);return new J3(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ge.fromString(e);j2(cj(r));const i=new $8(r.get(1),r.get(3)),s=new s2(r.popFirst(5));return i.isEqual(t)||c4(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function u_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class _C1 extends cE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Y5(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new d3(this.firestore,null,t)}}class Jq{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sa(e)}set(e,t,r){this._verifyNotCommitted();const i=qi(e,this._firestore),s=u_(i.converter,t,r),l=a_(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,l4.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=qi(e,this._firestore);let l;return l="string"==typeof(t=(0,N.m9)(t))||t instanceof K8?sE(this._dataReader,"WriteBatch.update",s._key,t,r,i):iE(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,l4.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qi(e,this._firestore);return this._mutations=this._mutations.concat(new fd(t._key,l4.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B1(_1.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qi(n,e){if((n=(0,N.m9)(n)).firestore!==e)throw new B1(_1.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ca extends cE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Y5(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new d3(this.firestore,null,t)}}function Xq(n,e,t){n=me(n,d3);const r=me(n.firestore,_3),i=u_(n.converter,e,t);return o9(r,[a_(sa(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,l4.none())])}function e$(n,e,t,...r){n=me(n,d3);const i=me(n.firestore,_3),s=sa(i);let l;return l="string"==typeof(e=(0,N.m9)(e))||e instanceof K8?sE(s,"updateDoc",n._key,e,t,r):iE(s,"updateDoc",n._key,e),o9(i,[l.toMutation(n._key,l4.exists(!0))])}function t$(n,...e){var t,r,i;n=(0,N.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||nE(e[l])||(s=e[l],l++);const f={includeMetadataChanges:s.includeMetadataChanges};if(nE(e[l])){const x=e[l];e[l]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[l+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[l+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let C,v,b;if(n instanceof d3)v=me(n.firestore,_3),b=U7(n._key.path),C={next:x=>{e[l]&&e[l](lE(v,n,x))},error:e[l+1],complete:e[l+2]};else{const x=me(n,ft);v=me(x.firestore,_3),b=x._query;const S=new ca(v);C={next:A=>{e[l]&&e[l](new Gi(v,S,x,A))},error:e[l+1],complete:e[l+2]},jq(n._query)}return function(x,S,A,D){const W=new e_(D),a1=new _A(S,W,A);return x.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return pA(yield a9(x),a1)})),()=>{W.Aa(),x.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return gA(yield a9(x),a1)}))}}(f4(v),b,f,C)}function o9(n,e){return function(t,r){const i=new T4;return t.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return function dh1(n,e,t){return wA.apply(this,arguments)}(yield XA(t),r,i)})),i.promise}(f4(n),e)}function lE(n,e,t){const r=t.docs.get(e._key),i=new ca(n);return new Y8(n,i,e._key,r,new oa(t.hasPendingWrites,t.fromCache),e.converter)}class AC1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=sa(e)}get(e){const t=qi(e,this._firestore),r=new _C1(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return _2();const s=i[0];if(s.isFoundDocument())return new Td(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Td(this._firestore,r,t._key,null,t.converter);throw _2()})}set(e,t,r){const i=qi(e,this._firestore),s=u_(i.converter,t,r),l=a_(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=qi(e,this._firestore);let l;return l="string"==typeof(t=(0,N.m9)(t))||t instanceof K8?sE(this._dataReader,"Transaction.update",s._key,t,r,i):iE(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=qi(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qi(e,this._firestore),r=new ca(this._firestore);return super.get(e).then(i=>new Y8(this._firestore,r,t._key,i._document,new oa(!1,!1),t.converter))}}function uE(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new B1("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function r$(){if("undefined"==typeof Uint8Array)throw new B1("unimplemented","Uint8Arrays are not available in this environment.")}function i$(){if(!function Ku1(){return"undefined"!=typeof atob}())throw new B1("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){k7=St.SDK_VERSION,(0,St._registerComponent)(new Z6.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new _3(i,new Gu1(t.getProvider("auth-internal")),new $u1(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),(0,St.registerVersion)(nG,"3.4.9",n),(0,St.registerVersion)(nG,"3.4.9","esm2017")}();class Nd{constructor(e){this._delegate=e}static fromBase64String(e){return i$(),new Nd(Y5.fromBase64String(e))}static fromUint8Array(e){return r$(),new Nd(Y5.fromUint8Array(e))}toBase64(){return i$(),this._delegate.toBase64()}toUint8Array(){return r$(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fE(n){return function FC1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class OC1{enableIndexedDbPersistence(e,t){return function $h1(n,e){Nq(n=me(n,_3));const t=f4(n),r=n._freezeSettings(),i=new $A;return Iq(t,i,new mq(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Wh1(n){Nq(n=me(n,_3));const e=f4(n),t=n._freezeSettings(),r=new $A;return Iq(e,r,new Vh1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Zh1(n){if(n._initialized&&!n._terminated)throw new B1(_1.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new T4;return n._queue.enqueueAndForgetEvenWhileRestricted((0,w1.Z)(function*(){try{yield(t=(0,w1.Z)(function*(r){if(!n5.vt())return Promise.resolve();const i=r+"main";yield n5.delete(i)}),function(r){return t.apply(this,arguments)})(PH(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class s${constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof $8||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Jf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Bh1(n,e,t,r={}){var i;const s=(n=me(n,Ad))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Jf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,f;if("string"==typeof r.mockUserToken)l=r.mockUserToken,f=Y4.MOCK_USER;else{l=(0,N.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new B1(_1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Y4(C)}n._authCredentials=new Uu1(new rG(l,f))}}(this._delegate,e,t,r)}enableNetwork(){return function Yh1(n){return function Dh1(n){return n.asyncQueue.enqueue((0,w1.Z)(function*(){const e=yield _q(n),t=yield Mq(n);return e.setNetworkEnabled(!0),function(r){const i=u2(r);return i.wu.delete(0),Vd(i)}(t)}))}(f4(n=me(n,_3)))}(this._delegate)}disableNetwork(){return function Qh1(n){return function Ih1(n){return n.asyncQueue.enqueue((0,w1.Z)(function*(){const e=yield _q(n),t=yield Mq(n);return e.setNetworkEnabled(!1),(r=(0,w1.Z)(function*(i){const s=u2(i);s.wu.add(0),yield X7(s),s.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(f4(n=me(n,_3)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,wq("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Kh1(n){return function(e){const t=new T4;return e.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return function mh1(n,e){return AA.apply(this,arguments)}(yield XA(e),t)})),t.promise}(f4(n=me(n,_3)))}(this._delegate)}onSnapshotsInSync(e){return function HC1(n,e){return function Rh1(n,e){const t=new e_(e);return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return r=yield a9(n),i=t,u2(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return r=yield a9(n),i=t,void u2(r).bu.delete(i);var r,i}))}}(f4(n=me(n,_3)),nE(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new B1("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new c9(this,Aq(this._delegate,e))}catch(t){throw It(t,"collection()","Firestore.collection()")}}doc(e){try{return new p6(this,r_(this._delegate,e))}catch(t){throw It(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Nt(this,function Uh1(n,e){if(n=me(n,Ad),tE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new B1(_1.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ft(n,null,(t=e,new W8(ge.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw It(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function EC1(n,e,t){n=me(n,_3);const r=Object.assign(Object.assign({},yC1),t);return function(i){if(i.maxAttempts<1)throw new B1(_1.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function Ph1(n,e,t){const r=new T4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){const i=yield(s=n,t_(s).then(l=>l.datastore));var s;new Eh1(n.asyncQueue,i,t,e,r).run()})),r.promise}(f4(n),i=>e(new AC1(n,i)),r)}(this._delegate,t=>e(new a$(this,t)))}batch(){return f4(this._delegate),new o$(new Jq(this._delegate,e=>o9(this._delegate,e)))}loadBundle(e){return function Jh1(n,e){const t=f4(n=me(n,_3)),r=new jh1;return function Fh1(n,e,t,r){const i=function(s,l){let f;return f="string"==typeof s?(new TextEncoder).encode(s):s,C=function(C,v){if(C instanceof Uint8Array)return gq(C,v);if(C instanceof ArrayBuffer)return gq(new Uint8Array(C),v);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new Hh1(C,l);var C}(t,Sd(e));n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){!function Sh1(n,e,t){const r=u2(n);var i;(i=(0,w1.Z)(function*(s,l,f){try{const C=yield l.getMetadata();if(yield function(S,A){const D=u2(S),W=D4(A.createTime);return D.persistence.runTransaction("hasNewerBundle","readonly",a1=>D._s.getBundleMetadata(a1,A.id)).then(a1=>!!a1&&a1.createTime.compareTo(W)>=0)}(s.localStore,C))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(S=C).totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}),Promise.resolve(new Set);f._updateProgress(aq(C));const v=new ah1(C,s.localStore,l.M);let b=yield l.ma();for(;b;){const S=yield v.Fu(b);S&&f._updateProgress(S),b=yield l.ma()}const x=yield v.complete();return yield Z8(s,x.Lu,void 0),yield function(S,A){const D=u2(S);return D.persistence.runTransaction("Save bundle","readwrite",W=>D._s.saveBundleMetadata(W,A))}(s.localStore,C),f._completeWith(x.progress),Promise.resolve(x.Bu)}catch(C){return Jf("SyncEngine",`Loading bundle failed with ${C}`),f._failWith(C),Promise.resolve(new Set)}var S}),function(s,l,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield XA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Xh1(n,e){return function Oh1(n,e){return n.asyncQueue.enqueue((0,w1.Z)(function*(){return function(t,r){const i=u2(t);return i.persistence.runTransaction("Get named query","readonly",s=>i._s.getNamedQuery(s,r))}(yield JA(n),e)}))}(f4(n=me(n,_3)),e).then(t=>t?new ft(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Nt(this,t):null)}}class f_ extends cE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nd(new Y5(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return p6.forKey(t,this.firestore,null)}}class a${constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new f_(e)}get(e){const t=ua(e);return this._delegate.get(t).then(r=>new kd(this._firestore,new Y8(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ua(e);return r?(uE("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=ua(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=ua(e);return this._delegate.delete(t),this}}class o${constructor(e){this._delegate=e}set(e,t,r){const i=ua(e);return r?(uE("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=ua(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=ua(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class la{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Dd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rd(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=la.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new la(e,new f_(e),t),i.set(t,s)),s}}la.INSTANCES=new WeakMap;class p6{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new f_(e)}static forPath(e,t,r){if(e.length%2!=0)throw new B1("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new p6(t,new d3(t._delegate,r,new s2(e)))}static forKey(e,t,r){return new p6(t,new d3(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new c9(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new c9(this.firestore,Aq(this._delegate,e))}catch(t){throw It(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,N.m9)(e))instanceof d3&&Eq(this._delegate,e)}set(e,t){t=uE("DocumentReference.set",t);try{return t?Xq(this._delegate,e,t):Xq(this._delegate,e)}catch(r){throw It(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?e$(this._delegate,e):e$(this._delegate,e,t,...r)}catch(i){throw It(i,"updateDoc()","DocumentReference.update()")}}delete(){return function SC1(n){return o9(me(n.firestore,_3),[new fd(n._key,l4.none())])}(this._delegate)}onSnapshot(...e){const t=c$(e),r=l$(e,i=>new kd(this.firestore,new Y8(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return t$(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function LC1(n){n=me(n,d3);const e=me(n.firestore,_3),t=f4(e),r=new ca(e);return function Nh1(n,e){const t=new T4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return(r=(0,w1.Z)(function*(i,s,l){try{const f=yield function(C,v){const b=u2(C);return b.persistence.runTransaction("read document","readonly",x=>b.fi.Ls(x,v))}(i,s);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new B1(_1.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const C=n9(f,`Failed to get document '${s} from cache`);l.reject(C)}}),function(i,s,l){return r.apply(this,arguments)})(yield JA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Y8(e,r,n._key,i,new oa(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function bC1(n){n=me(n,d3);const e=me(n.firestore,_3);return Lq(f4(e),n._key,{source:"server"}).then(t=>lE(e,n,t))}(this._delegate):function MC1(n){n=me(n,d3);const e=me(n.firestore,_3);return Lq(f4(e),n._key).then(t=>lE(e,n,t))}(this._delegate),t.then(r=>new kd(this.firestore,new Y8(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new p6(this.firestore,this._delegate.withConverter(e?la.getInstance(this.firestore,e):null))}}function It(n,e,t){return n.message=n.message.replace(e,t),n}function c$(n){for(const e of n)if("object"==typeof e&&!fE(e))return e;return{}}function l$(n,e){var t,r;let i;return i=fE(n[0])?n[0]:fE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class kd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new p6(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Gq(this._delegate,e._delegate)}}class Rd extends kd{data(e){const t=this._delegate.data(e);return function Ou1(n,e){n||_2()}(void 0!==t),t}}class Nt{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new f_(e)}where(e,t,r){try{return new Nt(this.firestore,ji(this._delegate,function uC1(n,e,t){const r=e,i=l_("where",n);return new lC1(i,r,t)}(e,t,r)))}catch(i){throw It(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Nt(this.firestore,ji(this._delegate,function dC1(n,e="asc"){const t=e,r=l_("orderBy",n);return new fC1(r,t)}(e,t)))}catch(r){throw It(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Nt(this.firestore,ji(this._delegate,function hC1(n){return Vq("limit",n),new qq("limit",n,"F")}(e)))}catch(t){throw It(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Nt(this.firestore,ji(this._delegate,function CC1(n){return Vq("limitToLast",n),new qq("limitToLast",n,"L")}(e)))}catch(t){throw It(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Nt(this.firestore,ji(this._delegate,function pC1(...n){return new $q("startAt",n,!0)}(...e)))}catch(t){throw It(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Nt(this.firestore,ji(this._delegate,function mC1(...n){return new $q("startAfter",n,!1)}(...e)))}catch(t){throw It(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Nt(this.firestore,ji(this._delegate,function gC1(...n){return new Wq("endBefore",n,!1)}(...e)))}catch(t){throw It(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Nt(this.firestore,ji(this._delegate,function vC1(...n){return new Wq("endAt",n,!0)}(...e)))}catch(t){throw It(t,"endAt()","Query.endAt()")}}isEqual(e){return Tq(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function wC1(n){n=me(n,ft);const e=me(n.firestore,_3),t=f4(e),r=new ca(e);return function kh1(n,e){const t=new T4;return n.asyncQueue.enqueueAndForget((0,w1.Z)(function*(){return(r=(0,w1.Z)(function*(i,s,l){try{const f=yield Zy(i,s,!0),C=new lq(s,f._i),v=C.Wu(f.documents),b=C.applyChanges(v,!1);l.resolve(b.snapshot)}catch(f){const C=n9(f,`Failed to execute query '${s} against cache`);l.reject(C)}}),function(i,s,l){return r.apply(this,arguments)})(yield JA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Gi(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function zC1(n){n=me(n,ft);const e=me(n.firestore,_3),t=f4(e),r=new ca(e);return bq(t,n._query,{source:"server"}).then(i=>new Gi(e,r,n,i))}(this._delegate):function xC1(n){n=me(n,ft);const e=me(n.firestore,_3),t=f4(e),r=new ca(e);return jq(n._query),bq(t,n._query).then(i=>new Gi(e,r,n,i))}(this._delegate),t.then(r=>new dE(this.firestore,new Gi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=c$(e),r=l$(e,i=>new dE(this.firestore,new Gi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return t$(this._delegate,t,r)}withConverter(e){return new Nt(this.firestore,this._delegate.withConverter(e?la.getInstance(this.firestore,e):null))}}class UC1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Nt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new UC1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Rd(this._firestore,r))})}isEqual(e){return Gq(this._delegate,e._delegate)}}class c9 extends Nt{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new p6(this.firestore,e):null}doc(e){try{return new p6(this.firestore,void 0===e?r_(this._delegate):r_(this._delegate,e))}catch(t){throw It(t,"doc()","CollectionReference.doc()")}}add(e){return function VC1(n,e){const t=me(n.firestore,_3),r=r_(n),i=u_(n.converter,e);return o9(t,[a_(sa(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,l4.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new p6(this.firestore,t))}isEqual(e){return Eq(this._delegate,e._delegate)}withConverter(e){return new c9(this.firestore,this._delegate.withConverter(e?la.getInstance(this.firestore,e):null))}}function ua(n){return me(n,d3)}class hE{constructor(...e){this._delegate=new K8(...e)}static documentId(){return new hE(m4.keyField().canonicalString())}isEqual(e){return(e=(0,N.m9)(e))instanceof K8&&this._delegate._internalPath.isEqual(e._internalPath)}}class fa{constructor(e){this._delegate=e}static serverTimestamp(){const e=function DC1(){return new rE("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new fa(e)}static delete(){const e=function TC1(){return new Ed("deleteField")}();return e._methodName="FieldValue.delete",new fa(e)}static arrayUnion(...e){const t=function IC1(...n){return new rC1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new fa(t)}static arrayRemove(...e){const t=function NC1(...n){return new iC1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new fa(t)}static increment(e){const t=function kC1(n){return new sC1("increment",n)}(e);return t._methodName="FieldValue.increment",new fa(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const GC1={Firestore:s$,GeoPoint:i_,Timestamp:J3,Blob:Nd,Transaction:a$,WriteBatch:o$,DocumentReference:p6,DocumentSnapshot:kd,Query:Nt,QueryDocumentSnapshot:Rd,QuerySnapshot:dE,CollectionReference:c9,FieldPath:hE,FieldValue:fa,setLogLevel:function BC1(n){!function Fu1(n){Ti.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function u$(n,e){return function $C1(n,e=Dz.z){return new We.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function CE(n,e){return u$(n,e).pipe((0,M2.U)(t=>({payload:t,type:"query"})))}function d_(n,e){return CE(n,e).pipe(_t(void 0),ey(),(0,M2.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const C=i.find(b=>b.doc.ref.isEqual(l.ref)),v=null==t?void 0:t.payload.docs.find(b=>b.ref.isEqual(l.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(l.metadata)||!C&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),s}))}function f$(n,e,t){return d_(n,t).pipe(it((r,i)=>function ZC1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function KC1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return pE(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return pE(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return pE(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),Iz(),(0,M2.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function pE(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function d$(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function qC1(n){(function jC1(n,e){n.INTERNAL.registerComponent(new Z6.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},GC1)))})(n,(e,t)=>new s$(e,t,new OC1)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(Nz.Z);class h${constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=d_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,M2.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(_t(void 0),ey(),s4(([r,i])=>i.length>0||!r),(0,M2.U)(([r,i])=>i),re.iC)}auditTrail(e){return this.stateChanges(e).pipe(it((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=d$(e);return f$(this.query,t,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return CE(this.query,this.afs.schedulers.outsideAngular).pipe((0,M2.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),re.iC)}get(e){return(0,Be.D)(this.query.get(e)).pipe(re.iC)}add(e){return this.ref.add(e)}doc(e){return new C$(this.ref.doc(e),this.afs)}}class C${constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=g$(r,t);return new h$(i,s,this.afs)}snapshotChanges(){return function WC1(n,e){return u$(n,e).pipe(_t(void 0),ey(),(0,M2.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,M2.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Be.D)(this.ref.get(e)).pipe(re.iC)}}class YC1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?d_(this.query,this.afs.schedulers.outsideAngular).pipe((0,M2.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),s4(t=>t.length>0),re.iC):d_(this.query,this.afs.schedulers.outsideAngular).pipe(re.iC)}auditTrail(e){return this.stateChanges(e).pipe(it((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=d$(e);return f$(this.query,t,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return CE(this.query,this.afs.schedulers.outsideAngular).pipe((0,M2.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),re.iC)}get(e){return(0,Be.D)(this.query.get(e)).pipe(re.iC)}}const p$=new c.OlP("angularfire2.enableFirestorePersistence"),m$=new c.OlP("angularfire2.firestore.persistenceSettings"),QC1=new c.OlP("angularfire2.firestore.settings"),JC1=new c.OlP("angularfire2.firestore.use-emulator");function g$(n,e=(t=>t)){return{query:e(n),ref:n}}let v$=(()=>{class n{constructor(t,r,i,s,l,f,C,v,b,x,S,A,D,W,a1,H1,F1){this.schedulers=C;const W1=(0,V3.on)(t,f,r),J1=b;x&&gV(W1,f,S,D,W,a1,A,H1),[this.firestore,this.persistenceEnabled$]=(0,V3.cc)(`${W1.name}.firestore`,"AngularFirestore",W1.name,()=>{const v2=f.runOutsideAngular(()=>W1.firestore());if(s&&v2.settings(s),J1&&v2.useEmulator(...J1),i&&!K3(l)){const A2=()=>{try{return(0,Be.D)(v2.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(te){return"undefined"!=typeof console&&console.warn(te),b2(!1)}};return[v2,f.runOutsideAngular(A2)]}return[v2,b2(!1)]},[s,J1,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=g$(i,r),f=this.schedulers.ngZone.run(()=>s);return new h$(f,l,this)}collectionGroup(t,r){const i=r||(l=>l),s=this.firestore.collectionGroup(t);return new YC1(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new C$(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(V3.Dh),c.LFG(V3.xv,8),c.LFG(p$,8),c.LFG(QC1,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(re.HU),c.LFG(m$,8),c.LFG(JC1,8),c.LFG(Ef,8),c.LFG(fV,8),c.LFG(dV,8),c.LFG(hV,8),c.LFG(CV,8),c.LFG(pV,8),c.LFG(mV,8),c.LFG(Af,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XC1=(()=>{class n{constructor(){Ds.Z.registerVersion("angularfire",re.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:p$,useValue:!0},{provide:m$,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[v$]}),n})(),mE=(()=>{class n{constructor(t,r){this.db=t,this.fireDb=r,this.dbPath="visitors",this.visitorStatus=new _a1,this.visitorStatus.status={status:"Failed"},this.status=this.visitorStatus.status,this.visitorsRef=t.list(this.dbPath)}getVisitor(t){return this.db.list("visitors",r=>r.orderByChild("user_ip").equalTo(t))}getAll(){return this.visitorsRef}create(t){return this.visitorsRef.push(t)}update(t,r){return this.visitorsRef.update(t,r)}delete(t){return this.visitorsRef.remove(t)}deleteAll(t){return this.visitorsRef.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Df),c.LFG(v$))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class y${}const Q8="*";function tp1(n,e){return{type:7,name:n,definitions:e,options:{}}}function _$(n,e=null){return{type:4,styles:e,timings:n}}function M$(n,e=null){return{type:2,steps:n,options:e}}function Pd(n){return{type:6,styles:n,offset:null}}function gE(n,e,t){return{type:0,name:n,styles:e,options:t}}function L$(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function b$(n){Promise.resolve(null).then(n)}class Fd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){b$(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class x${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?b$(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++r==s&&this._onDestroy()}),l.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const w$=["toast-component",""];function np1(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(t),c.oxw().remove()}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function rp1(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function ip1(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,rp1,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function sp1(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function ap1(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function op1(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}function cp1(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(t),c.oxw().remove()}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function lp1(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function up1(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,lp1,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function fp1(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function dp1(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function hp1(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}class Cp1{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class h_{constructor(e,t,r,i,s,l){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=l,this._onTap=new Qe.x,this._onAction=new Qe.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const z$={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},S$=new c.OlP("ToastConfig");class mp1{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Qe.x,this._activate=new Qe.x,this._manualClose=new Qe.x,this._resetTimeout=new Qe.x,this._countDuplicate=new Qe.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class gp1{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===h_?this._toastPackage:this._parentInjector.get(e,t,r)}}class vp1 extends class pp1{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class yp1{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let _p1=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mp1=(()=>{class n{constructor(t,r,i,s){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=s,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new vp1(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new yp1(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_p1),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(c1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l9=(()=>{class n{constructor(t,r,i,s,l){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=l,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:l}=this.toastrConfig;for(const f of this.toasts){const C=l&&f.title===t;if((!l||C)&&f.message===r)return f.toastRef.onDuplicate(i,s),f}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const C=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let v=r;r&&s.enableHtml&&(v=this.sanitizer.sanitize(c.q3G.HTML,r));const b=new mp1(C),x=new h_(this.index,s,v,i,t,b),S=new gp1(x,this._injector),A=new Cp1(s.toastComponent,S),D=C.attach(A,this.toastrConfig.newestOnTop);b.componentInstance=D.instance;const W={toastId:this.index,title:i||"",message:r||"",toastRef:b,onShown:b.afterActivate(),onHidden:b.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:D};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{W.toastRef.activate()})),this.toasts.push(W),W}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(S$),c.LFG(Mp1),c.LFG(c.zs3),c.LFG(Bn),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lp1=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(l9),c.Y36(h_),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(c.d8E("@flyInOut",r.state),c.Tol(r.toastClasses),c.Udp("display",r.displayStyle))},attrs:w$,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(c.YNc(0,np1,3,0,"button",0),c.YNc(1,ip1,3,5,"div",1),c.YNc(2,sp1,1,3,"div",2),c.YNc(3,ap1,2,4,"div",3),c.YNc(4,op1,2,2,"div",4)),2&t&&(c.Q6J("ngIf",r.options.closeButton),c.xp6(1),c.Q6J("ngIf",r.title),c.xp6(1),c.Q6J("ngIf",r.message&&r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.message&&!r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.options.progressBar))},directives:[$e],encapsulation:2,data:{animation:[tp1("flyInOut",[gE("inactive",Pd({opacity:0})),gE("active",Pd({opacity:1})),gE("removed",Pd({opacity:0})),L$("inactive => active",_$("{{ easeTime }}ms {{ easing }}")),L$("active => removed",_$("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const bp1=Object.assign(Object.assign({},z$),{toastComponent:Lp1});let xp1=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:S$,useValue:{default:bp1,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[$t]]}),n})(),wp1=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(l9),c.Y36(h_),c.Y36(c.z2F))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(c.Tol(r.toastClasses),c.Udp("display",r.displayStyle))},attrs:w$,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(c.YNc(0,cp1,3,0,"button",0),c.YNc(1,up1,3,5,"div",1),c.YNc(2,fp1,1,3,"div",2),c.YNc(3,dp1,2,4,"div",3),c.YNc(4,hp1,2,2,"div",4)),2&t&&(c.Q6J("ngIf",r.options.closeButton),c.xp6(1),c.Q6J("ngIf",r.title),c.xp6(1),c.Q6J("ngIf",r.message&&r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.message&&!r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.options.progressBar))},directives:[$e],encapsulation:2}),n})();function V$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function m2(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?V$(Object(t),!0).forEach(function(r){Vp1(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):V$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function C_(n){return(C_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function H$(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Vp1(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yE(n,e){return function Ep1(n){if(Array.isArray(n))return n}(n)||function Dp1(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var l,f,r=[],i=!0,s=!1;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!e||r.length!==e);i=!0);}catch(C){s=!0,f=C}finally{try{!i&&null!=t.return&&t.return()}finally{if(s)throw f}}return r}}(n,e)||A$(n,e)||function Np1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m_(n){return function Ap1(n){if(Array.isArray(n))return _E(n)}(n)||function Tp1(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||A$(n)||function Ip1(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A$(n,e){if(n){if("string"==typeof n)return _E(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _E(n,e)}}function _E(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}Object.assign(Object.assign({},z$),{toastComponent:wp1});var E$=function(){},ME={},T$={},D$=null,I$={mark:E$,measure:E$};try{"undefined"!=typeof window&&(ME=window),"undefined"!=typeof document&&(T$=document),"undefined"!=typeof MutationObserver&&(D$=MutationObserver),"undefined"!=typeof performance&&(I$=performance)}catch(n){}var N$=(ME.navigator||{}).userAgent,k$=void 0===N$?"":N$,$i=ME,h3=T$,R$=D$,g_=I$,J8=!!h3.documentElement&&!!h3.head&&"function"==typeof h3.addEventListener&&"function"==typeof h3.createElement,P$=~k$.indexOf("MSIE")||~k$.indexOf("Trident/"),X8="___FONT_AWESOME___",O$="svg-inline--fa",da="data-fa-i2svg",bE="data-fa-pseudo-element",xE="data-prefix",wE="data-icon",B$="fontawesome-i2svg",Fp1=["HTML","HEAD","STYLE","SCRIPT"],U$=function(){try{return!0}catch(n){return!1}}(),zE={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},v_={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},G$={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},Op1={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},Bp1=/fa[srltdbk\-\ ]/,j$="fa-layers-text",Up1=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,Gp1={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},q$=[1,2,3,4,5,6,7,8,9,10],jp1=q$.concat([11,12,13,14,15,16,17,18,19,20]),qp1=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],$p1=[].concat(m_(Object.keys(v_)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(q$.map(function(n){return"".concat(n,"x")})).concat(jp1.map(function(n){return"w-".concat(n)})),$$=$i.FontAwesomeConfig||{};h3&&"function"==typeof h3.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=yE(n,2),r=e[1],i=function Zp1(n){return""===n||"false"!==n&&("true"===n||n)}(function Wp1(n){var e=h3.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&($$[r]=i)});var Bd=m2(m2({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:O$,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),$$);Bd.autoReplaceSvg||(Bd.observeMutations=!1);var P2={};Object.keys(Bd).forEach(function(n){Object.defineProperty(P2,n,{enumerable:!0,set:function(t){Bd[n]=t,y_.forEach(function(r){return r(P2)})},get:function(){return Bd[n]}})}),$i.FontAwesomeConfig=P2;var y_=[],Q5={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ud(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function u9(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function SE(n){return n.classList?u9(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function W$(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function __(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function VE(n){return n.size!==Q5.size||n.x!==Q5.x||n.y!==Q5.y||n.rotate!==Q5.rotate||n.flipX||n.flipY}function Z$(){var n="fa",e=O$,t=P2.familyPrefix,r=P2.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||r!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),l=new RegExp("\\--".concat(n,"\\-"),"g"),f=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(t,"-")).replace(l,"--".concat(t,"-")).replace(f,".".concat(r))}return i}var K$=!1;function HE(){P2.autoAddCss&&!K$&&(function Jp1(n){if(n&&J8){var e=h3.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=h3.head.childNodes,r=null,i=t.length-1;i>-1;i--){var s=t[i],l=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=s)}h3.head.insertBefore(e,r)}}(Z$()),K$=!0)}var im1={mixout:function(){return{dom:{css:Z$,insertCss:HE}}},hooks:function(){return{beforeDOMElementCreation:function(){HE()},beforeI2svg:function(){HE()}}}},er=$i||{};er[X8]||(er[X8]={}),er[X8].styles||(er[X8].styles={}),er[X8].hooks||(er[X8].hooks={}),er[X8].shims||(er[X8].shims=[]);var r5=er[X8],Y$=[],M_=!1;function am1(n){!J8||(M_?setTimeout(n,0):Y$.push(n))}function Gd(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,s=void 0===i?[]:i;return"string"==typeof n?W$(n):"<".concat(e," ").concat(function em1(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(W$(n[t]),'" ')},"").trim()}(r),">").concat(s.map(Gd).join(""),"</").concat(e,">")}function Q$(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}J8&&((M_=(h3.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(h3.readyState))||h3.addEventListener("DOMContentLoaded",function n(){h3.removeEventListener("DOMContentLoaded",n),M_=1,Y$.map(function(e){return e()})}));var AE=function(e,t,r,i){var C,v,b,s=Object.keys(e),l=s.length,f=void 0!==i?function(e,t){return function(r,i,s,l){return e.call(t,r,i,s,l)}}(t,i):t;for(void 0===r?(C=1,b=e[s[0]]):(C=0,b=r);C<l;C++)b=f(b,e[v=s[C]],v,e);return b};function EE(n){var e=function cm1(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function J$(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function TE(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,s=J$(e);"function"!=typeof r5.hooks.addPack||i?r5.styles[n]=m2(m2({},r5.styles[n]||{}),s):r5.hooks.addPack(n,J$(e)),"fas"===n&&TE("fa",e)}var jd=r5.styles,um1=r5.shims,fm1=Object.values(G$),DE=null,X$={},eW={},tW={},nW={},rW={},dm1=Object.keys(zE);function Cm1(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function hm1(n){return~$p1.indexOf(n)}(i)?null:i}var iW=function(){var e=function(s){return AE(jd,function(l,f,C){return l[C]=AE(f,s,{}),l},{})};X$=e(function(i,s,l){return s[3]&&(i[s[3]]=l),s[2]&&s[2].filter(function(C){return"number"==typeof C}).forEach(function(C){i[C.toString(16)]=l}),i}),eW=e(function(i,s,l){return i[l]=l,s[2]&&s[2].filter(function(C){return"string"==typeof C}).forEach(function(C){i[C]=l}),i}),rW=e(function(i,s,l){var f=s[2];return i[l]=l,f.forEach(function(C){i[C]=l}),i});var t="far"in jd||P2.autoFetchSvg,r=AE(um1,function(i,s){var l=s[0],f=s[1],C=s[2];return"far"===f&&!t&&(f="fas"),"string"==typeof l&&(i.names[l]={prefix:f,iconName:C}),"number"==typeof l&&(i.unicodes[l.toString(16)]={prefix:f,iconName:C}),i},{names:{},unicodes:{}});tW=r.names,nW=r.unicodes,DE=L_(P2.styleDefault)};function IE(n,e){return(X$[n]||{})[e]}function f9(n,e){return(rW[n]||{})[e]}function sW(n){return tW[n]||{prefix:null,iconName:null}}function Zi(){return DE}function L_(n){return v_[n]||v_[zE[n]]||(n in r5.styles?n:null)||null}function b_(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.skipLookups,r=void 0!==t&&t,i=null,s=n.reduce(function(l,f){var C=Cm1(P2.familyPrefix,f);if(jd[f]?(f=fm1.includes(f)?Op1[f]:f,i=f,l.prefix=f):dm1.indexOf(f)>-1?(i=f,l.prefix=L_(f)):C?l.iconName=C:f!==P2.replacementClass&&l.rest.push(f),!r&&l.prefix&&l.iconName){var v="fa"===i?sW(l.iconName):{},b=f9(l.prefix,l.iconName);v.prefix&&(i=null),l.iconName=v.iconName||b||l.iconName,l.prefix=v.prefix||l.prefix,"far"===l.prefix&&!jd.far&&jd.fas&&!P2.autoFetchSvg&&(l.prefix="fas")}return l},{prefix:null,iconName:null,rest:[]});return("fa"===s.prefix||"fa"===i)&&(s.prefix=Zi()||"fas"),s}(function Qp1(n){y_.push(n)})(function(n){DE=L_(n.styleDefault)}),iW();var gm1=function(){function n(){(function zp1(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Sp1(n,e,t){e&&H$(n.prototype,e),t&&H$(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var l=i.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(f){t.definitions[f]=m2(m2({},t.definitions[f]||{}),l[f]),TE(f,l[f]);var C=G$[f];C&&TE(C,l[f]),iW()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var l=i[s],f=l.prefix,C=l.iconName,v=l.icon,b=v[2];t[f]||(t[f]={}),b.length>0&&b.forEach(function(x){"string"==typeof x&&(t[f][x]=v)}),t[f][C]=v}),t}}]),n}(),aW=[],d9={},h9={},vm1=Object.keys(h9);function kE(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var s=d9[n]||[];return s.forEach(function(l){e=l.apply(null,[e].concat(r))}),e}function Ca(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=d9[n]||[];i.forEach(function(s){s.apply(null,t)})}function tr(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return h9[n]?h9[n].apply(null,e):void 0}function RE(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||Zi();if(e)return e=f9(t,e)||e,Q$(oW.definitions,t,e)||Q$(r5.styles,t,e)}var oW=new gm1,Mm1={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return J8?(Ca("beforeI2svg",e),tr("pseudoElements2svg",e),tr("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===P2.autoReplaceSvg&&(P2.autoReplaceSvg=!0),P2.observeMutations=!0,am1(function(){bm1({autoReplaceSvgRoot:t}),Ca("watch",e)})}},Hn={noAuto:function(){P2.autoReplaceSvg=!1,P2.observeMutations=!1,Ca("noAuto")},config:P2,dom:Mm1,parse:{icon:function(e){if(null===e)return null;if("object"===C_(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:f9(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=L_(e[0]);return{prefix:r,iconName:f9(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(P2.familyPrefix,"-"))>-1||e.match(Bp1))){var i=b_(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Zi(),iconName:f9(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=Zi();return{prefix:s,iconName:f9(s,e)||e}}}},library:oW,findIconDefinition:RE,toHtml:Gd},bm1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,r=void 0===t?h3:t;(Object.keys(r5.styles).length>0||P2.autoFetchSvg)&&J8&&P2.autoReplaceSvg&&Hn.dom.i2svg({node:r})};function x_(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return Gd(r)})}}),Object.defineProperty(n,"node",{get:function(){if(J8){var r=h3.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function PE(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,s=n.iconName,l=n.transform,f=n.symbol,C=n.title,v=n.maskId,b=n.titleId,x=n.extra,S=n.watchable,A=void 0!==S&&S,D=r.found?r:t,W=D.width,a1=D.height,H1="fak"===i,F1=[P2.replacementClass,s?"".concat(P2.familyPrefix,"-").concat(s):""].filter(function(h4){return-1===x.classes.indexOf(h4)}).filter(function(h4){return""!==h4||!!h4}).concat(x.classes).join(" "),W1={children:[],attributes:m2(m2({},x.attributes),{},{"data-prefix":i,"data-icon":s,class:F1,role:x.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(W," ").concat(a1)})},J1=H1&&!~x.classes.indexOf("fa-fw")?{width:"".concat(W/a1*16*.0625,"em")}:{};A&&(W1.attributes[da]=""),C&&(W1.children.push({tag:"title",attributes:{id:W1.attributes["aria-labelledby"]||"title-".concat(b||Ud())},children:[C]}),delete W1.attributes.title);var v2=m2(m2({},W1),{},{prefix:i,iconName:s,main:t,mask:r,maskId:v,transform:l,symbol:f,styles:m2(m2({},J1),x.styles)}),A2=r.found&&t.found?tr("generateAbstractMask",v2)||{children:[],attributes:{}}:tr("generateAbstractIcon",v2)||{children:[],attributes:{}},e3=A2.attributes;return v2.children=A2.children,v2.attributes=e3,f?function wm1(n){var t=n.iconName,r=n.children,i=n.attributes,s=n.symbol,l=!0===s?"".concat(n.prefix,"-").concat(P2.familyPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:m2(m2({},i),{},{id:l}),children:r}]}]}(v2):function xm1(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,s=n.styles,l=n.transform;if(VE(l)&&t.found&&!r.found){var v={x:t.width/t.height/2,y:.5};i.style=__(m2(m2({},s),{},{"transform-origin":"".concat(v.x+l.x/16,"em ").concat(v.y+l.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(v2)}function cW(n){var e=n.content,t=n.width,r=n.height,i=n.transform,s=n.title,l=n.extra,f=n.watchable,C=void 0!==f&&f,v=m2(m2(m2({},l.attributes),s?{title:s}:{}),{},{class:l.classes.join(" ")});C&&(v[da]="");var b=m2({},l.styles);VE(i)&&(b.transform=function nm1(n){var e=n.transform,t=n.width,i=n.height,s=void 0===i?16:i,l=n.startCentered,f=void 0!==l&&l,C="";return C+=f&&P$?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-s/2,"em) "):f?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(C+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:t,height:r}),b["-webkit-transform"]=b.transform);var x=__(b);x.length>0&&(v.style=x);var S=[];return S.push({tag:"span",attributes:v,children:[e]}),s&&S.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),S}function zm1(n){var e=n.content,t=n.title,r=n.extra,i=m2(m2(m2({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),s=__(r.styles);s.length>0&&(i.style=s);var l=[];return l.push({tag:"span",attributes:i,children:[e]}),t&&l.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),l}var FE=r5.styles;function OE(n){var e=n[0],t=n[1],s=yE(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(P2.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(P2.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(P2.familyPrefix,"-").concat("primary"),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var Sm1={found:!1,width:512,height:512};function BE(n,e){var t=e;return"fa"===e&&null!==P2.styleDefault&&(e=Zi()),new Promise(function(r,i){if(tr("missingIconAbstract"),"fa"===t){var l=sW(n)||{};n=l.iconName||n,e=l.prefix||e}if(n&&e&&FE[e]&&FE[e][n])return r(OE(FE[e][n]));(function Vm1(n,e){!U$&&!P2.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(m2(m2({},Sm1),{},{icon:P2.showMissingIcons&&n&&tr("missingIconAbstract")||{}}))})}var lW=function(){},UE=P2.measurePerformance&&g_&&g_.mark&&g_.measure?g_:{mark:lW,measure:lW},qd='FA "6.1.1"',GE_begin=function(e){return UE.mark("".concat(qd," ").concat(e," begins")),function(){return function(e){UE.mark("".concat(qd," ").concat(e," ends")),UE.measure("".concat(qd," ").concat(e),"".concat(qd," ").concat(e," begins"),"".concat(qd," ").concat(e," ends"))}(e)}},w_=function(){};function fW(n){return"string"==typeof(n.getAttribute?n.getAttribute(da):null)}function Dm1(n){return h3.createElementNS("http://www.w3.org/2000/svg",n)}function Im1(n){return h3.createElement(n)}function dW(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,r=void 0===t?"svg"===n.tag?Dm1:Im1:t;if("string"==typeof n)return h3.createTextNode(n);var i=r(n.tag);Object.keys(n.attributes||[]).forEach(function(l){i.setAttribute(l,n.attributes[l])});var s=n.children||[];return s.forEach(function(l){i.appendChild(dW(l,{ceFn:r}))}),i}var z_={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(dW(i),t)}),null===t.getAttribute(da)&&P2.keepOriginalSource){var r=h3.createComment(function Nm1(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~SE(t).indexOf(P2.replacementClass))return z_.replace(e);var i=new RegExp("".concat(P2.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(f,C){return C===P2.replacementClass||C.match(i)?f.toSvg.push(C):f.toNode.push(C),f},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var l=r.map(function(f){return Gd(f)}).join("\n");t.setAttribute(da,""),t.innerHTML=l}};function hW(n){n()}function CW(n,e){var t="function"==typeof e?e:w_;if(0===n.length)t();else{var r=hW;"async"===P2.mutateApproach&&(r=$i.requestAnimationFrame||hW),r(function(){var i=function Tm1(){return!0===P2.autoReplaceSvg?z_.replace:z_[P2.autoReplaceSvg]||z_.replace}(),s=GE_begin("mutate");n.map(i),s(),t()})}}var jE=!1;function pW(){jE=!0}function qE(){jE=!1}var S_=null;function mW(n){if(R$&&P2.observeMutations){var e=n.treeCallback,t=void 0===e?w_:e,r=n.nodeCallback,i=void 0===r?w_:r,s=n.pseudoElementsCallback,l=void 0===s?w_:s,f=n.observeMutationsRoot,C=void 0===f?h3:f;S_=new R$(function(v){if(!jE){var b=Zi();u9(v).forEach(function(x){if("childList"===x.type&&x.addedNodes.length>0&&!fW(x.addedNodes[0])&&(P2.searchPseudoElements&&l(x.target),t(x.target)),"attributes"===x.type&&x.target.parentNode&&P2.searchPseudoElements&&l(x.target.parentNode),"attributes"===x.type&&fW(x.target)&&~qp1.indexOf(x.attributeName))if("class"===x.attributeName&&function Am1(n){var e=n.getAttribute?n.getAttribute(xE):null,t=n.getAttribute?n.getAttribute(wE):null;return e&&t}(x.target)){var S=b_(SE(x.target)),D=S.iconName;x.target.setAttribute(xE,S.prefix||b),D&&x.target.setAttribute(wE,D)}else(function Em1(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(P2.replacementClass)})(x.target)&&i(x.target)})}}),J8&&S_.observe(C,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Rm1(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var s=i.split(":"),l=s[0],f=s.slice(1);return l&&f.length>0&&(r[l]=f.join(":").trim()),r},{})),t}function Pm1(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=b_(SE(n));return i.prefix||(i.prefix=Zi()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function pm1(n,e){return(eW[n]||{})[e]}(i.prefix,n.innerText)||IE(i.prefix,EE(n.innerText))),i}function Fm1(n){var e=u9(n.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return P2.autoA11y&&(t?e["aria-labelledby"]="".concat(P2.replacementClass,"-title-").concat(r||Ud()):(e["aria-hidden"]="true",e.focusable="false")),e}function gW(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=Pm1(n),r=t.iconName,i=t.prefix,s=t.rest,l=Fm1(n),f=kE("parseNodeAttributes",{},n),C=e.styleParser?Rm1(n):[];return m2({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:Q5,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:C,attributes:l}},f)}var Bm1=r5.styles;function vW(n){var e="nest"===P2.autoReplaceSvg?gW(n,{styleParser:!1}):gW(n);return~e.extra.classes.indexOf(j$)?tr("generateLayersText",n,e):tr("generateSvgReplacementMutation",n,e)}function yW(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!J8)return Promise.resolve();var t=h3.documentElement.classList,r=function(x){return t.add("".concat(B$,"-").concat(x))},i=function(x){return t.remove("".concat(B$,"-").concat(x))},s=Object.keys(P2.autoFetchSvg?zE:Bm1),l=[".".concat(j$,":not([").concat(da,"])")].concat(s.map(function(b){return".".concat(b,":not([").concat(da,"])")})).join(", ");if(0===l.length)return Promise.resolve();var f=[];try{f=u9(n.querySelectorAll(l))}catch(b){}if(!(f.length>0))return Promise.resolve();r("pending"),i("complete");var C=GE_begin("onTree"),v=f.reduce(function(b,x){try{var S=vW(x);S&&b.push(S)}catch(A){U$||"MissingIcon"===A.name&&console.error(A)}return b},[]);return new Promise(function(b,x){Promise.all(v).then(function(S){CW(S,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),C(),b()})}).catch(function(S){C(),x(S)})})}function Um1(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;vW(n).then(function(t){t&&CW([t],e)})}function Gm1(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:RE(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:RE(i||{})),n(r,m2(m2({},t),{},{mask:i}))}}var jm1=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,i=void 0===r?Q5:r,s=t.symbol,l=void 0!==s&&s,f=t.mask,C=void 0===f?null:f,v=t.maskId,b=void 0===v?null:v,x=t.title,S=void 0===x?null:x,A=t.titleId,D=void 0===A?null:A,W=t.classes,a1=void 0===W?[]:W,H1=t.attributes,F1=void 0===H1?{}:H1,W1=t.styles,J1=void 0===W1?{}:W1;if(e){var v2=e.prefix,A2=e.iconName,te=e.icon;return x_(m2({type:"icon"},e),function(){return Ca("beforeDOMElementCreation",{iconDefinition:e,params:t}),P2.autoA11y&&(S?F1["aria-labelledby"]="".concat(P2.replacementClass,"-title-").concat(D||Ud()):(F1["aria-hidden"]="true",F1.focusable="false")),PE({icons:{main:OE(te),mask:C?OE(C.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v2,iconName:A2,transform:m2(m2({},Q5),i),symbol:l,title:S,maskId:b,titleId:D,extra:{attributes:F1,styles:J1,classes:a1}})})}},qm1={mixout:function(){return{icon:Gm1(jm1)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=yW,t.nodeCallback=Um1,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,s=t.callback;return yW(void 0===r?h3:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,s=r.title,l=r.titleId,f=r.prefix,C=r.transform,v=r.symbol,b=r.mask,x=r.maskId,S=r.extra;return new Promise(function(A,D){Promise.all([BE(i,f),b.iconName?BE(b.iconName,b.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(W){var a1=yE(W,2);A([t,PE({icons:{main:a1[0],mask:a1[1]},prefix:f,iconName:i,transform:C,symbol:v,maskId:x,title:s,titleId:l,extra:S,watchable:!0})])}).catch(D)})},e.generateAbstractIcon=function(t){var v,r=t.children,i=t.attributes,s=t.main,l=t.transform,C=__(t.styles);return C.length>0&&(i.style=C),VE(l)&&(v=tr("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),r.push(v||s.icon),{children:r,attributes:i}}}},$m1={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return x_({type:"layer"},function(){Ca("beforeDOMElementCreation",{assembler:t,params:r});var l=[];return t(function(f){Array.isArray(f)?f.map(function(C){l=l.concat(C.abstract)}):l=l.concat(f.abstract)}),[{tag:"span",attributes:{class:["".concat(P2.familyPrefix,"-layers")].concat(m_(s)).join(" ")},children:l}]})}}}},Wm1={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,l=r.classes,f=void 0===l?[]:l,C=r.attributes,v=void 0===C?{}:C,b=r.styles,x=void 0===b?{}:b;return x_({type:"counter",content:t},function(){return Ca("beforeDOMElementCreation",{content:t,params:r}),zm1({content:t.toString(),title:s,extra:{attributes:v,styles:x,classes:["".concat(P2.familyPrefix,"-layers-counter")].concat(m_(f))}})})}}}},Zm1={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Q5:i,l=r.title,f=void 0===l?null:l,C=r.classes,v=void 0===C?[]:C,b=r.attributes,x=void 0===b?{}:b,S=r.styles,A=void 0===S?{}:S;return x_({type:"text",content:t},function(){return Ca("beforeDOMElementCreation",{content:t,params:r}),cW({content:t,transform:m2(m2({},Q5),s),title:f,extra:{attributes:x,styles:A,classes:["".concat(P2.familyPrefix,"-layers-text")].concat(m_(v))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,s=r.transform,l=r.extra,f=null,C=null;if(P$){var v=parseInt(getComputedStyle(t).fontSize,10),b=t.getBoundingClientRect();f=b.width/v,C=b.height/v}return P2.autoA11y&&!i&&(l.attributes["aria-hidden"]="true"),Promise.resolve([t,cW({content:t.innerHTML,width:f,height:C,transform:s,title:i,extra:l,watchable:!0})])}}},Km1=new RegExp('"',"ug"),_W=[1105920,1112319];function MW(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(t))return r();var l=u9(n.children).filter(function(A2){return A2.getAttribute(bE)===e})[0],f=$i.getComputedStyle(n,e),C=f.getPropertyValue("font-family").match(Up1),v=f.getPropertyValue("font-weight"),b=f.getPropertyValue("content");if(l&&!C)return n.removeChild(l),r();if(C&&"none"!==b&&""!==b){var x=f.getPropertyValue("content"),S=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(C[2])?v_[C[2].toLowerCase()]:Gp1[v],A=function Ym1(n){var e=n.replace(Km1,""),t=function lm1(n,e){var i,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=_W[0]&&t<=_W[1],i=2===e.length&&e[0]===e[1];return{value:EE(i?e[0]:e),isSecondary:r||i}}(x),D=A.value,W=A.isSecondary,a1=C[0].startsWith("FontAwesome"),H1=IE(S,D),F1=H1;if(a1){var W1=function mm1(n){var e=nW[n],t=IE("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(D);W1.iconName&&W1.prefix&&(H1=W1.iconName,S=W1.prefix)}if(!H1||W||l&&l.getAttribute(xE)===S&&l.getAttribute(wE)===F1)r();else{n.setAttribute(t,F1),l&&n.removeChild(l);var J1=function Om1(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Q5,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),v2=J1.extra;v2.attributes[bE]=e,BE(H1,S).then(function(A2){var te=PE(m2(m2({},J1),{},{icons:{main:A2,mask:{prefix:null,iconName:null,rest:[]}},prefix:S,iconName:F1,extra:v2,watchable:!0})),e3=h3.createElement("svg");"::before"===e?n.insertBefore(e3,n.firstChild):n.appendChild(e3),e3.outerHTML=te.map(function(h4){return Gd(h4)}).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function Qm1(n){return Promise.all([MW(n,"::before"),MW(n,"::after")])}function Jm1(n){return!(n.parentNode===document.head||~Fp1.indexOf(n.tagName.toUpperCase())||n.getAttribute(bE)||n.parentNode&&"svg"===n.parentNode.tagName)}function LW(n){if(J8)return new Promise(function(e,t){var r=u9(n.querySelectorAll("*")).filter(Jm1).map(Qm1),i=GE_begin("searchPseudoElements");pW(),Promise.all(r).then(function(){i(),qE(),e()}).catch(function(){i(),qE(),t()})})}var bW=!1,xW=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),l=s[0],f=s.slice(1).join("-");if(l&&"h"===f)return r.flipX=!0,r;if(l&&"v"===f)return r.flipY=!0,r;if(f=parseFloat(f),isNaN(f))return r;switch(l){case"grow":r.size=r.size+f;break;case"shrink":r.size=r.size-f;break;case"left":r.x=r.x-f;break;case"right":r.x=r.x+f;break;case"up":r.y=r.y-f;break;case"down":r.y=r.y+f;break;case"rotate":r.rotate=r.rotate+f}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},$E={x:0,y:0,width:"100%",height:"100%"};function wW(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function ng1(n){return"g"===n.tag?n.children:[n]}var rg1={hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),s=i?b_(i.split(" ").map(function(l){return l.trim()})):{prefix:null,iconName:null,rest:[]};return s.prefix||(s.prefix=Zi()),t.mask=s,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var r=t.children,i=t.attributes,s=t.main,l=t.mask,f=t.maskId,b=s.icon,S=l.icon,A=function tm1(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(l," ").concat(f)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:l.width,iconWidth:s.width}),D={tag:"rect",attributes:m2(m2({},$E),{},{fill:"white"})},W=b.children?{children:b.children.map(wW)}:{},a1={tag:"g",attributes:m2({},A.inner),children:[wW(m2({tag:b.tag,attributes:m2(m2({},b.attributes),A.path)},W))]},H1={tag:"g",attributes:m2({},A.outer),children:[a1]},F1="mask-".concat(f||Ud()),W1="clip-".concat(f||Ud()),J1={tag:"mask",attributes:m2(m2({},$E),{},{id:F1,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[D,H1]},v2={tag:"defs",children:[{tag:"clipPath",attributes:{id:W1},children:ng1(S)},J1]};return r.push(v2,{tag:"rect",attributes:m2({fill:"currentColor","clip-path":"url(#".concat(W1,")"),mask:"url(#".concat(F1,")")},$E)}),{children:r,attributes:i}}}};!function ym1(n,e){var t=e.mixoutsTo;aW=n,d9={},Object.keys(h9).forEach(function(r){-1===vm1.indexOf(r)&&delete h9[r]}),aW.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(l){"function"==typeof i[l]&&(t[l]=i[l]),"object"===C_(i[l])&&Object.keys(i[l]).forEach(function(f){t[l]||(t[l]={}),t[l][f]=i[l][f]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(l){d9[l]||(d9[l]=[]),d9[l].push(s[l])})}r.provides&&r.provides(h9)})}([im1,qm1,$m1,Wm1,Zm1,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=LW,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;P2.searchPseudoElements&&LW(void 0===r?h3:r)}}},{mixout:function(){return{dom:{unwatch:function(){pW(),bW=!0}}}},hooks:function(){return{bootstrap:function(){mW(kE("mutationObserverCallbacks",{}))},noAuto:function(){!function km1(){!S_||S_.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;bW?qE():mW(kE("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return xW(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=xW(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,l=t.iconWidth,f={transform:"translate(".concat(t.containerWidth/2," 256)")},C="translate(".concat(32*i.x,", ").concat(32*i.y,") "),v="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),b="rotate(".concat(i.rotate," 0 0)"),A={outer:f,inner:{transform:"".concat(C," ").concat(v," ").concat(b)},path:{transform:"translate(".concat(l/2*-1," -256)")}};return{tag:"g",attributes:m2({},A.outer),children:[{tag:"g",attributes:m2({},A.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:m2(m2({},r.icon.attributes),A.path)}]}]}}}},rg1,{provides:function(e){var t=!1;$i.matchMedia&&(t=$i.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:m2(m2({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var l=m2(m2({},s),{},{attributeName:"opacity"}),f={tag:"circle",attributes:m2(m2({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||f.children.push({tag:"animate",attributes:m2(m2({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:m2(m2({},l),{},{values:"1;0;1;1;0;1;"})}),r.push(f),r.push({tag:"path",attributes:m2(m2({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:m2(m2({},l),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:m2(m2({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:m2(m2({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol");return t.symbol=null!==i&&(""===i||i),t}}}}],{mixoutsTo:Hn});var og1=Hn.parse,cg1=Hn.icon;const lg1=["*"],dg1=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let pg1=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mg1=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gg1=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[c.TTD]}),n})(),vg1=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[c.TTD],ngContentSelectors:lg1,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2}),n})(),nr=(()=>{class n{constructor(t,r,i,s,l){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=s,this.classes=[],null!=l&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=null==this.icon?this.config.fallbackIcon:this.icon,t){const i=this.findIconDefinition(r);if(null!=i){const s=this.buildParams();this.renderIcon(i,s)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);if("icon"in r)return r;const i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return null!=i?i:((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?og1.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...dg1(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=cg1(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bn),c.Y36(pg1),c.Y36(mg1),c.Y36(gg1,8),c.Y36(vg1,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(c.Ikx("innerHTML",r.renderedIconHTML,c.oJD),c.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[c.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),yg1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const _g1=T(788);let Mg1=(()=>{class n{constructor(t,r,i){this.datepipe=t,this.visitorService=r,this.toastr=i,this.faUserTie=EP,this.faGraduationCap=q4,this.faAward=Io,this.faWrench=ZP,this.faBriefcase=KC,this.birthYear=1986,this.birthMonth=9,this.currentYear=(new Date).getFullYear(),this.currentMonth=(new Date).getMonth()+1,this.myLessAge=0}ngOnInit(){var t=this;return(0,w1.Z)(function*(){new navslide,t.request=yield fetch("https://ipinfo.io/json?token=1509eda3fb61e2"),t.result=yield t.request.json(),t.ipAddress=t.result.ip,t.visitorCountry=t.result.country,t.visitorCity=t.result.city,t.ipToInt=_g1(t.ipAddress).toInt(),t.fetchVisitorIp()})()}fetchVisitorIp(){let t=this.datepipe.transform(new Date,"MMMM d, y");this.visitorService.getVisitor(this.ipToInt).snapshotChanges().pipe((0,M2.U)(r=>r.map(i=>Object.assign({key:i.payload.key},i.payload.val())))).subscribe({next:r=>{this.getSingleVisitor=r,0==this.getSingleVisitor.length?(this.getIpResult=this.ipToInt,console.log("fetch single visitor didnt match - (fetchVisitorIp) - add visitor")):(console.log("fetch single visitor match - (fetchVisitorIp) - get visitor details"),this.passUserKey=this.getSingleVisitor[0].key,this.userDate=this.datepipe.transform(this.getSingleVisitor[0].postedon,"MMMM d, y"),this.passUserVisited=this.getSingleVisitor[0].visited,this.userDate==t?console.log("same date visited: - (fetchVisitorIp) - already counted times of visit"):(console.log("not same date! - (fetchVisitorIp) - update visitor times of visit"),this.getKeyResult=this.passUserKey,this.getVisitedResult=this.passUserVisited))}})}update(){this.visitedCount=1,this.sum=parseInt(this.visitedCount)+parseInt(this.getVisitedResult);let t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss"),r={visited:this.sum,postedon:t};this.visitorService.update(this.getKeyResult,r).then(()=>{this.toastr.info("You Visited: "+r.visited+" Times")})}addVisitors(){let t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss");this.visitedCount=1,this.visitorService.create({user_ip:this.getIpResult,country:this.visitorCountry,city:this.visitorCity,visited:this.visitedCount,postedon:t}).then(()=>{this.toastr.success("Welcome Visitor")})}getLessAge(){return this.myLessAge=this.currentYear-this.birthYear,this.myLessAge-1}getMoreAge(){return this.myLessAge=this.currentYear-this.birthYear}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ln),c.Y36(mE),c.Y36(l9))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-about"]],decls:215,vars:6,consts:[[1,"container","about-container","d-flex","justify-content-end"],[1,"col-md-12","col-lg-8"],[1,"content-right-box","override-content"],[1,"nav","nav-pills","flex-column","flex-sm-row"],["id","about-tab","data-toggle","tab","href","#about","role","tab","aria-controls","about","aria-selected","true",1,"flex-sm-fill","text-sm-center","nav-link","active"],["id","education-tab","data-toggle","tab","href","#education","role","tab","aria-controls","education","aria-selected","false",1,"flex-sm-fill","text-sm-center","nav-link"],["id","skills-tab","data-toggle","tab","href","#skills","role","tab","aria-controls","skills","aria-selected","false",1,"flex-sm-fill","text-sm-center","nav-link"],["id","experience-tab","data-toggle","tab","href","#experience","role","tab","aria-controls","experience","aria-selected","false",1,"flex-sm-fill","text-sm-center","nav-link"],["id","myTabContent",1,"tab-content"],["id","about","role","tabpanel","aria-labelledby","about-tab",1,"tab-pane","fade","show","active"],[1,"content-right-box","content-right-separate"],[1,"header-title"],[3,"icon"],[1,"p_margin"],[1,"row","row-space","d-flex","align-items-center"],[1,"col-lg-5","col-md-5","col-sm-4","col-xs-4","left-info"],[1,"col-lg-6","col-md-6","col-sm-8","col-xs-8","right-infor"],[1,"mr-4"],[1,"col-lg-5","col-md-5","col-sm-4","left-info"],[1,"col-lg-6","col-md-6","col-sm-8","right-infor"],[1,"row","row-space","row-space-bottom","d-flex","align-items-center"],["id","education","role","tabpanel","aria-labelledby","education-tab",1,"tab-pane","fade"],[1,"row","row-break"],[1,"col-md-6"],[1,"education"],[1,"education-level"],[1,"education-level-name"],[1,"school-year","text-right"],[1,"row"],[1,"col-md-12","school-name"],[1,"school-address"],[1,"course"],[1,"text-center"],[1,"col-md-12","school-name","text-center"],["id","skills","role","tabpanel","aria-labelledby","skills-tab",1,"tab-pane","fade"],[1,"skills-box"],[1,"skill-header"],[1,"skill-body"],["id","experience","role","tabpanel","aria-labelledby","experience-tab",1,"tab-pane","fade"],[1,"col-md-12"],[1,"education","expe-box"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"a",4),c._uU(5,"About Me"),c.qZA(),c.TgZ(6,"a",5),c._uU(7,"Education"),c.qZA(),c.TgZ(8,"a",6),c._uU(9,"Skills"),c.qZA(),c.TgZ(10,"a",7),c._uU(11,"Experience"),c.qZA()()(),c.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),c._UZ(16,"fa-icon",12),c._uU(17,"About Me "),c.qZA(),c.TgZ(18,"p",13),c._uU(19," Graduate of Bachelor of Science in Information Technology (BSIT) and currently working as a full stack (front-end and back-end) developer. I do freelance job like creating web designs, converting web design into html, css, php and javascript, making website more interactive. You can check some of my projects that I created and check my skills and experience also. "),c.qZA(),c.TgZ(20,"div",14)(21,"div",15),c._uU(22,"Fullname"),c.qZA(),c.TgZ(23,"div",16)(24,"span",17),c._uU(25,":"),c.qZA(),c._uU(26,"Rick Ryan A. Medillo "),c.qZA()(),c.TgZ(27,"div",14)(28,"div",18),c._uU(29,"Age"),c.qZA(),c.TgZ(30,"div",19)(31,"span",17),c._uU(32,":"),c.qZA(),c._uU(33),c.qZA()(),c.TgZ(34,"div",14)(35,"div",18),c._uU(36,"Birthdate"),c.qZA(),c.TgZ(37,"div",19)(38,"span",17),c._uU(39,":"),c.qZA(),c._uU(40,"September 1, 1986 "),c.qZA()(),c.TgZ(41,"div",14)(42,"div",18),c._uU(43,"Address"),c.qZA(),c.TgZ(44,"div",19)(45,"span",17),c._uU(46,":"),c.qZA(),c._uU(47,"Cebu, Philippines "),c.qZA()(),c.TgZ(48,"div",14)(49,"div",18),c._uU(50,"Mobile Number"),c.qZA(),c.TgZ(51,"div",19)(52,"span",17),c._uU(53,":"),c.qZA(),c._uU(54,"+639611335934 "),c.qZA()(),c.TgZ(55,"div",20)(56,"div",18),c._uU(57,"Email"),c.qZA(),c.TgZ(58,"div",19)(59,"span",17),c._uU(60,":"),c.qZA(),c._uU(61,"rickryan29.rr@gmail.com "),c.qZA()()()(),c.TgZ(62,"div",21)(63,"div",10)(64,"div",22)(65,"div",23)(66,"div",11),c._UZ(67,"fa-icon",12),c._uU(68," Education "),c.qZA(),c.TgZ(69,"div",24)(70,"div",25)(71,"div",26),c._uU(72," Primary Education "),c.qZA(),c.TgZ(73,"div",27)(74,"strong"),c._uU(75,"1993 - 1999"),c.qZA()()(),c.TgZ(76,"div",28)(77,"div",29)(78,"strong"),c._uU(79,"Tungkop Elementary School"),c.qZA()()(),c.TgZ(80,"div",30),c._uU(81,"Tungkop Minglanilla, Cebu"),c.qZA()(),c.TgZ(82,"div",24)(83,"div",25)(84,"div",26),c._uU(85," Secondary Education "),c.qZA(),c.TgZ(86,"div",27)(87,"strong"),c._uU(88,"1999 - 2003"),c.qZA()()(),c.TgZ(89,"div",28)(90,"div",29)(91,"strong"),c._uU(92,"Siena School of Naga"),c.qZA()()(),c.TgZ(93,"div",30),c._uU(94,"City of Naga, Cebu"),c.qZA()(),c.TgZ(95,"div",24)(96,"div",25)(97,"div",26),c._uU(98," Tertiary Education "),c.qZA(),c.TgZ(99,"div",27)(100,"strong"),c._uU(101,"2014 - 2017"),c.qZA()()(),c.TgZ(102,"div",31),c._uU(103,"Bachelor of Science in Information Technology"),c.qZA(),c.TgZ(104,"div",28)(105,"div",29)(106,"strong"),c._uU(107,"St. Cecilia's College - Cebu"),c.qZA()()(),c.TgZ(108,"div",30),c._uU(109,"Poblacion, Ward II, Minglanilla, Cebu"),c.qZA()()(),c.TgZ(110,"div",23)(111,"div",11),c._UZ(112,"fa-icon",12),c._uU(113," Achievements / Awards "),c.qZA(),c.TgZ(114,"div",24)(115,"div",25)(116,"div",32),c._uU(117," Academic Awards (2017) "),c.qZA()(),c.TgZ(118,"div",28)(119,"div",33)(120,"strong"),c._uU(121,"Best in Web Development"),c.qZA()()()(),c.TgZ(122,"div",24)(123,"div",25)(124,"div",32),c._uU(125," Special Awards (2017) "),c.qZA()(),c.TgZ(126,"div",28)(127,"div",33)(128,"strong"),c._uU(129,'Technopreneurship / Capstone Awards - "Online Public Access Catalog"'),c.qZA()()()()()()()(),c.TgZ(130,"div",34)(131,"div",10)(132,"div",11),c._UZ(133,"fa-icon",12),c._uU(134," Skills "),c.qZA(),c.TgZ(135,"div",28)(136,"div",23)(137,"div",35)(138,"div",36),c._uU(139," Graphic and Web Design "),c.qZA(),c.TgZ(140,"div",37),c._uU(141," Creating logo, banners, posters and also Web design layout for websites using photoshop. "),c.qZA()(),c.TgZ(142,"div",35)(143,"div",36),c._uU(144," PHP and Javascript "),c.qZA(),c.TgZ(145,"div",37)(146,"b"),c._uU(147,"PHP"),c.qZA(),c._uU(148," is a server scripting language, and a powerful tool for making dynamic and interactive Web pages. "),c._UZ(149,"br")(150,"br"),c.TgZ(151,"b"),c._uU(152,"JavaScript"),c.qZA(),c._uU(153," a scripting language that enables you to create dynamically updating content, control multimedia, animate images, and pretty much everything else. "),c.qZA()(),c.TgZ(154,"div",35)(155,"div",36),c._uU(156," Angular "),c.qZA(),c.TgZ(157,"div",37),c._uU(158," A development platform for building mobile and desktop web applications using Typescript/JavaScript and other languages. "),c.qZA()()(),c.TgZ(159,"div",23)(160,"div",35)(161,"div",36),c._uU(162," HTML and CSS "),c.qZA(),c.TgZ(163,"div",37)(164,"b"),c._uU(165,"HTML"),c.qZA(),c._uU(166," is the standard markup language for documents designed to be displayed in a web browser. "),c._UZ(167,"br")(168,"br"),c.TgZ(169,"b"),c._uU(170,"CSS"),c.qZA(),c._uU(171," is a style sheet language used for describing the presentation of a document written in a markup language such as HTML. "),c.qZA()(),c.TgZ(172,"div",35)(173,"div",36),c._uU(174," MySQL "),c.qZA(),c.TgZ(175,"div",37),c._uU(176," Database for storing and manipulating data, defining the relationship of each table. "),c.qZA()()()()()(),c.TgZ(177,"div",38)(178,"div",10)(179,"div",11),c._UZ(180,"fa-icon",12),c._uU(181," Experience "),c.qZA(),c.TgZ(182,"div",28)(183,"div",39)(184,"div",40)(185,"div",31),c._uU(186,"Web Developer"),c.qZA(),c.TgZ(187,"div",28)(188,"div",29)(189,"strong"),c._uU(190,"Cenix Web Development Services (June 2017 - February 2020)"),c.qZA()()(),c.TgZ(191,"div",30),c._uU(192,"4/F 82 Vibo Center (BF Building), North Escario Street, Cebu City, Cebu"),c.qZA()()()(),c.TgZ(193,"div",28)(194,"div",23)(195,"div",40)(196,"div",31),c._uU(197,"Web Developer"),c.qZA(),c.TgZ(198,"div",28)(199,"div",29)(200,"strong"),c._uU(201,"Home based / Freelance "),c.qZA()()(),c.TgZ(202,"div",30),c._uU(203,"2016-2017"),c.qZA()()()(),c.TgZ(204,"div",28)(205,"div",39)(206,"div",40)(207,"div",31),c._uU(208,"Graphic Artist (Editing and Retouching) - OJT"),c.qZA(),c.TgZ(209,"div",28)(210,"div",29)(211,"strong"),c._uU(212,"Jomacker Photo Editing (June - Aug 2016)"),c.qZA()()(),c.TgZ(213,"div",30),c._uU(214,"1524 Charity St., Belmont Village, Minglanilla, Cebu"),c.qZA()()()()()()()()()),2&t&&(c.xp6(16),c.Q6J("icon",r.faUserTie),c.xp6(17),c.Oqu(r.currentMonth>=r.birthMonth?r.getMoreAge():r.getLessAge()),c.xp6(34),c.Q6J("icon",r.faGraduationCap),c.xp6(45),c.Q6J("icon",r.faAward),c.xp6(21),c.Q6J("icon",r.faWrench),c.xp6(47),c.Q6J("icon",r.faBriefcase))},directives:[nr],styles:[""]}),n})(),zW=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),pa=(()=>{class n extends zW{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const J5=new c.OlP("NgValueAccessor"),xg1={provide:J5,useExisting:(0,c.Gpc)(()=>$d),multi:!0},zg1=new c.OlP("CompositionEventMode");let $d=(()=>{class n extends zW{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wg1(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(zg1,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[c._Bn([xg1]),c.qOj]}),n})();function Ki(n){return null==n||0===n.length}function VW(n){return null!=n&&"number"==typeof n.length}const dt=new c.OlP("NgValidators"),Yi=new c.OlP("NgAsyncValidators"),Sg1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rr{static min(e){return function HW(n){return e=>{if(Ki(e.value)||Ki(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function AW(n){return e=>{if(Ki(e.value)||Ki(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function EW(n){return Ki(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function TW(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function DW(n){return Ki(n.value)||Sg1.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function IW(n){return e=>Ki(e.value)||!VW(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function NW(n){return e=>VW(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function kW(n){if(!n)return V_;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ki(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return UW(e)}static composeAsync(e){return GW(e)}}function V_(n){return null}function RW(n){return null!=n}function PW(n){const e=(0,c.QGY)(n)?(0,Be.D)(n):n;return(0,c.CqO)(e),e}function FW(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function OW(n,e){return e.map(t=>t(n))}function BW(n){return n.map(e=>function Vg1(n){return!n.validate}(e)?e:t=>e.validate(t))}function UW(n){if(!n)return null;const e=n.filter(RW);return 0==e.length?null:function(t){return FW(OW(t,e))}}function WE(n){return null!=n?UW(BW(n)):null}function GW(n){if(!n)return null;const e=n.filter(RW);return 0==e.length?null:function(t){return function Lg1(...n){const e=(0,p5.jO)(n),{args:t,keys:r}=Ue(n),i=new We.y(s=>{const{length:l}=t;if(!l)return void s.complete();const f=new Array(l);let C=l,v=l;for(let b=0;b<l;b++){let x=!1;(0,Qt.Xf)(t[b]).subscribe((0,Ge.x)(s,S=>{x||(x=!0,v--),f[b]=S},()=>C--,void 0,()=>{(!C||!x)&&(v||s.next(r?p0(r,f):f),s.complete())}))}});return e?i.pipe(Fa(e)):i}(OW(t,e).map(PW)).pipe((0,M2.U)(FW))}}function ZE(n){return null!=n?GW(BW(n)):null}function jW(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qW(n){return n._rawValidators}function $W(n){return n._rawAsyncValidators}function KE(n){return n?Array.isArray(n)?n:[n]:[]}function H_(n,e){return Array.isArray(n)?n.includes(e):n===e}function WW(n,e){const t=KE(e);return KE(n).forEach(i=>{H_(t,i)||t.push(i)}),t}function ZW(n,e){return KE(e).filter(t=>!H_(n,t))}class KW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Qi extends KW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kt extends KW{get formDirective(){return null}get path(){return null}}class YW{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let YE=(()=>{class n extends YW{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Qi,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),QE=(()=>{class n extends YW{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(kt,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function Wd(n,e){eT(n,e),e.valueAccessor.writeValue(n.value),function kg1(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&JW(n,e)})}(n,e),function Pg1(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Rg1(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&JW(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ng1(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function T_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),I_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function D_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eT(n,e){const t=qW(n);null!==e.validator?n.setValidators(jW(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=$W(n);null!==e.asyncValidator?n.setAsyncValidators(jW(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();D_(e._rawValidators,i),D_(e._rawAsyncValidators,i)}function I_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=qW(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(l=>l!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=$W(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(l=>l!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return D_(e._rawValidators,r),D_(e._rawAsyncValidators,r),t}function JW(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function nT(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===$d?t=s:function Bg1(n){return Object.getPrototypeOf(n.constructor)===pa}(s)?r=s:i=s}),i||r||t||null}function rT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Zd="VALID",N_="INVALID",C9="PENDING",Kd="DISABLED";function sT(n){return(k_(n)?n.validators:n)||null}function nZ(n){return Array.isArray(n)?WE(n):n||null}function aT(n,e){return(k_(e)?e.asyncValidators:n)||null}function rZ(n){return Array.isArray(n)?ZE(n):n||null}function k_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const oT=n=>n instanceof ma,R_=n=>n instanceof P_,iZ=n=>n instanceof cZ;function sZ(n){return oT(n)?n.value:n.getRawValue()}function aZ(n,e){const t=R_(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function oZ(n,e){R_(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class cT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=nZ(this._rawValidators),this._composedAsyncValidatorFn=rZ(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zd}get invalid(){return this.status===N_}get pending(){return this.status==C9}get disabled(){return this.status===Kd}get enabled(){return this.status!==Kd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=nZ(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=rZ(e)}addValidators(e){this.setValidators(WW(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WW(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZW(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZW(e,this._rawAsyncValidators))}hasValidator(e){return H_(this._rawValidators,e)}hasAsyncValidator(e){return H_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=C9,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Kd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zd,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zd||this.status===C9)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kd:Zd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=C9,this._hasOwnPendingAsyncValidator=!0;const t=PW(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Ug1(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=R_(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:iZ(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Kd:this.errors?N_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(C9)?C9:this._anyControlsHaveStatus(N_)?N_:Zd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){k_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ma extends cT{constructor(e=null,t,r){super(sT(t),aT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k_(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class P_ extends cT{constructor(e,t,r){super(sT(t),aT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){oZ(this,e),Object.keys(e).forEach(r=>{aZ(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=sZ(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class cZ extends cT{constructor(e,t,r){super(sT(t),aT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){oZ(this,e),e.forEach((r,i)=>{aZ(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>sZ(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let uT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),CZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const fT=new c.OlP("NgModelWithFormControlWarning"),Yg1={provide:Qi,useExisting:(0,c.Gpc)(()=>dT)};let dT=(()=>{class n extends Qi{constructor(t,r,i,s){super(),this._ngModelWarningConfig=s,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=nT(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&T_(r,this,!1),Wd(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}tT(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&T_(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(dt,10),c.Y36(Yi,10),c.Y36(J5,10),c.Y36(fT,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([Yg1]),c.qOj,c.TTD]}),n})();const Qg1={provide:kt,useExisting:(0,c.Gpc)(()=>Qd)};let Qd=(()=>{class n extends kt{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(I_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Wd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){T_(t.control||null,t,!1),rT(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function tZ(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(T_(r||null,t),oT(i)&&(Wd(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function XW(n,e){eT(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Fg1(n,e){return I_(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eT(this.form,this),this._oldForm&&I_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dt,10),c.Y36(Yi,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Qg1]),c.qOj,c.TTD]}),n})();const ev1={provide:Qi,useExisting:(0,c.Gpc)(()=>F_)};let F_=(()=>{class n extends Qi{constructor(t,r,i,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=nT(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),tT(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function E_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(kt,13),c.Y36(dt,10),c.Y36(Yi,10),c.Y36(J5,10),c.Y36(fT,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([ev1]),c.qOj,c.TTD]}),n})();const tv1={provide:J5,useExisting:(0,c.Gpc)(()=>pT),multi:!0};function vZ(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let pT=(()=>{class n extends pa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=vZ(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function nv1(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([tv1]),c.qOj]}),n})(),mT=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(vZ(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(pT,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const rv1={provide:J5,useExisting:(0,c.Gpc)(()=>gT),multi:!0};function yZ(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let gT=(()=>{class n extends pa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,l)=>{s._setSelected(i.indexOf(l.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const l=s;for(let f=0;f<l.length;f++){const v=this._getOptionValue(l[f].value);i.push(v)}}else{const l=r.options;for(let f=0;f<l.length;f++){const C=l[f];if(C.selected){const v=this._getOptionValue(C.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function iv1(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([rv1]),c.qOj]}),n})(),vT=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(yZ(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(yZ(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(gT,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),HZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[CZ]]}),n})(),Cv1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[HZ]}),n})(),AZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fT,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[HZ]}),n})(),EZ=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let f,s=null,l=null;return null!=r&&(function pv1(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(s=null!=r.validators?r.validators:null,l=null!=r.asyncValidators?r.asyncValidators:null,f=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,l=null!=r.asyncValidator?r.asyncValidator:null)),new P_(i,{asyncValidators:l,updateOn:f,validators:s})}control(t,r,i){return new ma(t,r,i)}array(t,r,i){const s=t.map(l=>this._createControl(l));return new cZ(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return oT(t)||R_(t)||iZ(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:AZ}),n})();var O_={prefix:"far",iconName:"comments",icon:[640,512,[61670,128490],"f086","M208 0C322.9 0 416 78.8 416 176C416 273.2 322.9 352 208 352C189.3 352 171.2 349.7 153.9 345.8C123.3 364.8 79.13 384 24.95 384C14.97 384 5.93 378.1 2.018 368.9C-1.896 359.7-.0074 349.1 6.739 341.9C7.26 341.5 29.38 317.4 45.73 285.9C17.18 255.8 0 217.6 0 176C0 78.8 93.13 0 208 0zM164.6 298.1C179.2 302.3 193.8 304 208 304C296.2 304 368 246.6 368 176C368 105.4 296.2 48 208 48C119.8 48 48 105.4 48 176C48 211.2 65.71 237.2 80.57 252.9L104.1 277.8L88.31 308.1C84.74 314.1 80.73 321.9 76.55 328.5C94.26 323.4 111.7 315.5 128.7 304.1L145.4 294.6L164.6 298.1zM441.6 128.2C552 132.4 640 209.5 640 304C640 345.6 622.8 383.8 594.3 413.9C610.6 445.4 632.7 469.5 633.3 469.9C640 477.1 641.9 487.7 637.1 496.9C634.1 506.1 625 512 615 512C560.9 512 516.7 492.8 486.1 473.8C468.8 477.7 450.7 480 432 480C350 480 279.1 439.8 245.2 381.5C262.5 379.2 279.1 375.3 294.9 369.9C322.9 407.1 373.9 432 432 432C446.2 432 460.8 430.3 475.4 426.1L494.6 422.6L511.3 432.1C528.3 443.5 545.7 451.4 563.5 456.5C559.3 449.9 555.3 442.1 551.7 436.1L535.9 405.8L559.4 380.9C574.3 365.3 592 339.2 592 304C592 237.7 528.7 183.1 447.1 176.6L448 176C448 159.5 445.8 143.5 441.6 128.2H441.6z"]},ST={prefix:"far",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M447.1 0h-384c-35.25 0-64 28.75-64 63.1v287.1c0 35.25 28.75 63.1 64 63.1h96v83.98c0 9.836 11.02 15.55 19.12 9.7l124.9-93.68h144c35.25 0 64-28.75 64-63.1V63.1C511.1 28.75 483.2 0 447.1 0zM464 352c0 8.75-7.25 16-16 16h-160l-80 60v-60H64c-8.75 0-16-7.25-16-16V64c0-8.75 7.25-16 16-16h384c8.75 0 16 7.25 16 16V352z"]},eY={prefix:"far",iconName:"thumbs-up",icon:[512,512,[61575,128077],"f164","M96 191.1H32c-17.67 0-32 14.33-32 31.1v223.1c0 17.67 14.33 31.1 32 31.1h64c17.67 0 32-14.33 32-31.1V223.1C128 206.3 113.7 191.1 96 191.1zM512 227c0-36.89-30.05-66.92-66.97-66.92h-99.86C354.7 135.1 360 113.5 360 100.8c0-33.8-26.2-68.78-70.06-68.78c-46.61 0-59.36 32.44-69.61 58.5c-31.66 80.5-60.33 66.39-60.33 93.47c0 12.84 10.36 23.99 24.02 23.99c5.256 0 10.55-1.721 14.97-5.26c76.76-61.37 57.97-122.7 90.95-122.7c16.08 0 22.06 12.75 22.06 20.79c0 7.404-7.594 39.55-25.55 71.59c-2.046 3.646-3.066 7.686-3.066 11.72c0 13.92 11.43 23.1 24 23.1h137.6C455.5 208.1 464 216.6 464 227c0 9.809-7.766 18.03-17.67 18.71c-12.66 .8593-22.36 11.4-22.36 23.94c0 15.47 11.39 15.95 11.39 28.91c0 25.37-35.03 12.34-35.03 42.15c0 11.22 6.392 13.03 6.392 22.25c0 22.66-29.77 13.76-29.77 40.64c0 4.515 1.11 5.961 1.11 9.456c0 10.45-8.516 18.95-18.97 18.95h-52.53c-25.62 0-51.02-8.466-71.5-23.81l-36.66-27.51c-4.315-3.245-9.37-4.811-14.38-4.811c-13.85 0-24.03 11.38-24.03 24.04c0 7.287 3.312 14.42 9.596 19.13l36.67 27.52C235 468.1 270.6 480 306.6 480h52.53c35.33 0 64.36-27.49 66.8-62.2c17.77-12.23 28.83-32.51 28.83-54.83c0-3.046-.2187-6.107-.6406-9.122c17.84-12.15 29.28-32.58 29.28-55.28c0-5.311-.6406-10.54-1.875-15.64C499.9 270.1 512 250.2 512 227z"]},VT={prefix:"far",iconName:"user",icon:[448,512,[62144,128100],"f007","M272 304h-96C78.8 304 0 382.8 0 480c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32C448 382.8 369.2 304 272 304zM48.99 464C56.89 400.9 110.8 352 176 352h96c65.16 0 119.1 48.95 127 112H48.99zM224 256c70.69 0 128-57.31 128-128c0-70.69-57.31-128-128-128S96 57.31 96 128C96 198.7 153.3 256 224 256zM224 48c44.11 0 80 35.89 80 80c0 44.11-35.89 80-80 80S144 172.1 144 128C144 83.89 179.9 48 224 48z"]};class nY{}class rY{}class ir{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ir?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ir;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ir?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===s.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class MM1{encodeKey(e){return iY(e)}encodeValue(e){return iY(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bM1=/%(\d[a-f0-9])/gi,xM1={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function iY(n){return encodeURIComponent(n).replace(bM1,(e,t)=>{var r;return null!==(r=xM1[t])&&void 0!==r?r:e})}function sY(n){return`${n}`}class Ji{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new MM1,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function LM1(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[l,f]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],C=t.get(l)||[];C.push(f),t.set(l,C)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ji({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(sY(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(sY(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class wM1{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function aY(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function oY(n){return"undefined"!=typeof Blob&&n instanceof Blob}function cY(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Jd{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function zM1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ir),this.context||(this.context=new wM1),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new Ji,this.urlWithParams=t}serializeBody(){return null===this.body?null:aY(this.body)||oY(this.body)||cY(this.body)||function SM1(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ji?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cY(this.body)?null:oY(this.body)?this.body.type||null:aY(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ji?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,C=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,b=e.params||this.params;const x=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((S,A)=>S.set(A,e.setHeaders[A]),v)),e.setParams&&(b=Object.keys(e.setParams).reduce((S,A)=>S.set(A,e.setParams[A]),b)),new Jd(r,i,l,{params:b,headers:v,context:x,reportProgress:C,responseType:s,withCredentials:f})}}var d4=(()=>((d4=d4||{})[d4.Sent=0]="Sent",d4[d4.UploadProgress=1]="UploadProgress",d4[d4.ResponseHeader=2]="ResponseHeader",d4[d4.DownloadProgress=3]="DownloadProgress",d4[d4.Response=4]="Response",d4[d4.User=5]="User",d4))();class HT{constructor(e,t=200,r="OK"){this.headers=e.headers||new ir,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class AT extends HT{constructor(e={}){super(e),this.type=d4.ResponseHeader}clone(e={}){return new AT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class U_ extends HT{constructor(e={}){super(e),this.type=d4.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new U_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class lY extends HT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ET(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let uY=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Jd)s=t;else{let C,v;C=i.headers instanceof ir?i.headers:new ir(i.headers),i.params&&(v=i.params instanceof Ji?i.params:new Ji({fromObject:i.params})),s=new Jd(t,r,void 0!==i.body?i.body:null,{headers:C,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=b2(s).pipe(A6(C=>this.handler.handle(C)));if(t instanceof Jd||"events"===i.observe)return l;const f=l.pipe(s4(C=>C instanceof U_));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe((0,M2.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return f.pipe((0,M2.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return f.pipe((0,M2.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));default:return f.pipe((0,M2.U)(C=>C.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ji).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ET(i,r))}post(t,r,i={}){return this.request("POST",t,ET(i,r))}put(t,r,i={}){return this.request("PUT",t,ET(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(nY))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class fY{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const dY=new c.OlP("HTTP_INTERCEPTORS");let VM1=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const HM1=/^\)\]\}',?\n/;let hY=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new We.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((A,D)=>i.setRequestHeader(A,D.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const A=t.detectContentTypeHeader();null!==A&&i.setRequestHeader("Content-Type",A)}if(t.responseType){const A=t.responseType.toLowerCase();i.responseType="json"!==A?A:"text"}const s=t.serializeBody();let l=null;const f=()=>{if(null!==l)return l;const A=i.statusText||"OK",D=new ir(i.getAllResponseHeaders()),W=function AM1(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new AT({headers:D,status:i.status,statusText:A,url:W}),l},C=()=>{let{headers:A,status:D,statusText:W,url:a1}=f(),H1=null;204!==D&&(H1=void 0===i.response?i.responseText:i.response),0===D&&(D=H1?200:0);let F1=D>=200&&D<300;if("json"===t.responseType&&"string"==typeof H1){const W1=H1;H1=H1.replace(HM1,"");try{H1=""!==H1?JSON.parse(H1):null}catch(J1){H1=W1,F1&&(F1=!1,H1={error:J1,text:H1})}}F1?(r.next(new U_({body:H1,headers:A,status:D,statusText:W,url:a1||void 0})),r.complete()):r.error(new lY({error:H1,headers:A,status:D,statusText:W,url:a1||void 0}))},v=A=>{const{url:D}=f(),W=new lY({error:A,status:i.status||0,statusText:i.statusText||"Unknown Error",url:D||void 0});r.error(W)};let b=!1;const x=A=>{b||(r.next(f()),b=!0);let D={type:d4.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(D.total=A.total),"text"===t.responseType&&!!i.responseText&&(D.partialText=i.responseText),r.next(D)},S=A=>{let D={type:d4.UploadProgress,loaded:A.loaded};A.lengthComputable&&(D.total=A.total),r.next(D)};return i.addEventListener("load",C),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",x),null!==s&&i.upload&&i.upload.addEventListener("progress",S)),i.send(s),r.next({type:d4.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",C),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",x),null!==s&&i.upload&&i.upload.removeEventListener("progress",S)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const TT=new c.OlP("XSRF_COOKIE_NAME"),DT=new c.OlP("XSRF_HEADER_NAME");class CY{}let EM1=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ut(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c1),c.LFG(c.Lbi),c.LFG(TT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),IT=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(CY),c.LFG(DT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),TM1=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(dY,[]);this.chain=r.reduceRight((i,s)=>new fY(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(rY),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),DM1=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:IT,useClass:VM1}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:TT,useValue:t.cookieName}:[],t.headerName?{provide:DT,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[IT,{provide:dY,useExisting:IT,multi:!0},{provide:CY,useClass:EM1},{provide:TT,useValue:"XSRF-TOKEN"},{provide:DT,useValue:"X-XSRF-TOKEN"}]}),n})(),IM1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[uY,{provide:nY,useClass:TM1},hY,{provide:rY,useExisting:hY}],imports:[[DM1.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function NM1(n,e){1&n&&(c.TgZ(0,"div",22),c._uU(1," Please provide a name. "),c.qZA())}function kM1(n,e){1&n&&(c.TgZ(0,"div",22),c._uU(1," Please provide a email. "),c.qZA())}function RM1(n,e){1&n&&(c.TgZ(0,"div",22),c._uU(1," Please provide a message. "),c.qZA())}const NT=function(n,e){return{"is-invalid":n,"is-valid":e}};let PM1=(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.http=r,this.toastr=i,this.router=s,this.faMailReply=gz,this.faEnvelope=vs,this.faUser=VT,this.faComments=O_,this.faCommentAlt=ST,this.name=new ma("",[rr.required]),this.email=new ma("",[rr.required,rr.email]),this.message=new ma("",[rr.required,rr.maxLength(256)]),this.honeypot=new ma(""),this.sendmailForm=this.formBuilder.group({name:this.name,email:this.email,message:this.message,honeypot:this.honeypot})}ngOnInit(){new navslide}get f(){return this.sendmailForm.controls}sendEmail(){if("VALID"==this.sendmailForm.status&&""==this.honeypot.value){this.sendmailForm.disable();var t=new FormData;t.append("name",this.sendmailForm.value.name),t.append("email",this.sendmailForm.value.email),t.append("message",this.sendmailForm.value.message),this.http.post("https://script.google.com/macros/s/AKfycbxQZAfHTl_bPjc_4P730SukmK3nKj7dOZTDm8lKYC4hzo8jjegfysy49oNl5l4XbJp33w/exec",t).subscribe({next:r=>{this.getResponse=r,this.getResponse.result?this.toastr.success("Thanks for the message "+this.sendmailForm.value.name+" I'll get back to you soon!","SUCCESS",{timeOut:1500}).onHidden.subscribe(()=>{this.reloadCurrentRoute()}):this.toastr.warning("Oops! Something went wrong... Reload the page and try again.","WARNING",{timeOut:1500}).onHidden.subscribe(()=>{this.reloadCurrentRoute()}),this.sendmailForm.enable(),console.log(r)},error:r=>{}})}}reloadCurrentRoute(){let t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([t])})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(EZ),c.Y36(uY),c.Y36(l9),c.Y36(S3))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-contact"]],decls:33,vars:23,consts:[[1,"container","about-container","d-flex","justify-content-end"],[1,"col-md-12","col-lg-8"],[1,"content-right-box"],[1,"header-title"],[3,"icon"],[1,"contact"],["id","gform",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"input-group","mb-3"],[1,"input-group-prepend","override-input-prepend"],[1,"fuser",3,"icon"],["formControlName","name","id","name","name","name","type","text","placeholder","Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"faEnvelope",3,"icon"],["formControlName","email","id","email","name","email","type","text","placeholder","Email",1,"form-control",3,"ngClass"],[1,"col-md-12"],[1,"fcomment",3,"icon"],["formControlName","message","id","message","name","message","placeholder","Message","rows","3",1,"form-control",3,"ngClass"],["type","text",1,"hiddenForm",3,"formControl"],[1,"col-md-12","d-flex","justify-content-end"],["role","button","type","submit",1,"btn","btn-primary","sendEmail",3,"disabled"],[1,"invalid-feedback"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"fa-icon",4),c._uU(5," Contact "),c.qZA(),c.TgZ(6,"div",5)(7,"form",6),c.NdJ("ngSubmit",function(){return r.sendEmail()}),c.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),c._UZ(12,"fa-icon",11),c.qZA(),c._UZ(13,"input",12),c.YNc(14,NM1,2,0,"div",13),c.qZA()(),c.TgZ(15,"div",8)(16,"div",9)(17,"div",10),c._UZ(18,"fa-icon",14),c.qZA(),c._UZ(19,"input",15),c.YNc(20,kM1,2,0,"div",13),c.qZA()(),c.TgZ(21,"div",16)(22,"div",9)(23,"div",10),c._UZ(24,"fa-icon",17),c.qZA(),c.TgZ(25,"textarea",18),c._uU(26,"                                            "),c.qZA(),c.YNc(27,RM1,2,0,"div",13),c.qZA()()(),c._UZ(28,"input",19),c.TgZ(29,"div",20)(30,"button",21),c._UZ(31,"fa-icon",4),c._uU(32," SEND MESSAGE "),c.qZA()()()()()()()),2&t&&(c.xp6(4),c.Q6J("icon",r.faEnvelope),c.xp6(3),c.Q6J("formGroup",r.sendmailForm),c.xp6(5),c.Q6J("icon",r.faUser),c.xp6(1),c.Q6J("ngClass",c.WLB(14,NT,r.f.name.touched&&r.f.name.invalid,r.f.name.untouched&&r.f.name.valid)),c.xp6(1),c.Q6J("ngIf",r.f.name.touched&&r.f.name.invalid),c.xp6(4),c.Q6J("icon",r.faEnvelope),c.xp6(1),c.Q6J("ngClass",c.WLB(17,NT,r.f.email.touched&&r.f.email.invalid,r.f.email.untouched&&r.f.email.valid)),c.xp6(1),c.Q6J("ngIf",r.f.email.touched&&r.f.email.invalid),c.xp6(4),c.Q6J("icon",r.faCommentAlt),c.xp6(1),c.Q6J("ngClass",c.WLB(20,NT,r.f.message.touched&&r.f.message.invalid,r.f.message.untouched&&r.f.message.valid)),c.xp6(2),c.Q6J("ngIf",r.f.message.touched&&r.f.message.invalid),c.xp6(1),c.Q6J("formControl",r.honeypot),c.xp6(2),c.Q6J("disabled",!r.sendmailForm.valid),c.xp6(1),c.Q6J("icon",r.faMailReply))},directives:[nr,uT,QE,Qd,$d,YE,F_,_4,$e,dT],styles:[".hiddenForm[_ngcontent-%COMP%]{display:none}.visibleForm[_ngcontent-%COMP%]{display:block}"]}),n})(),FM1=(()=>{class n{constructor(){this.faImage=MN}ngOnInit(){new navslide}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-gallery"]],decls:20,vars:1,consts:[[1,"container","about-container","d-flex","justify-content-end"],[1,"col-md-12","col-lg-8"],[1,"content-right-box"],[1,"header-title"],[3,"icon"],[1,"row"],[1,"img-gallery"],[1,"col-md-4"],["src","assets/image/gallery/gallery10.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery11.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery12.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery20.JPG","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery21.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery22.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery30.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery31.jpg","alt","",1,"img-fluid"],["src","assets/image/gallery/gallery32.jpg","alt","",1,"img-fluid"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"fa-icon",4),c._uU(5," Gallery "),c.qZA(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c._UZ(9,"img",8)(10,"img",9)(11,"img",10),c.qZA(),c.TgZ(12,"div",7),c._UZ(13,"img",11)(14,"img",12)(15,"img",13),c.qZA(),c.TgZ(16,"div",7),c._UZ(17,"img",14)(18,"img",15)(19,"img",16),c.qZA()()()()()()),2&t&&(c.xp6(4),c.Q6J("icon",r.faImage))},directives:[nr],styles:[""]}),n})();class OM1{}let pY=(()=>{class n{constructor(t){this.db=t,this.dbPath="/testimonials",this.testimonialStatus=new OM1,this.testimonialStatus.status={status:"Failed"},this.status=this.testimonialStatus.status,this.testimonialsRef=t.list(this.dbPath)}getTesti(t){return this.testimonialRef=this.db.object("/testimonials/"+t)}getAll(){return this.testimonialsRef}create(t){return this.testimonialsRef.push(t)}update(t,r){return this.testimonialsRef.update(t,r)}delete(t){return this.testimonialsRef.remove(t)}deleteAll(t){return this.testimonialsRef.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Df))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BM1{}let UM1=(()=>{class n{constructor(t){this.db=t,this.dbPath="/replies",this.replyStatus=new BM1,this.replyStatus.status={status:"Failed"},this.status=this.replyStatus.status,this.repliesRef=t.list(this.dbPath)}getReply(t){return this.replyRef=this.db.object("/replies/"+t)}getAll(){return this.repliesRef}create(t){return this.repliesRef.push(t)}update(t,r){return this.repliesRef.update(t,r)}delete(t){return this.repliesRef.remove(t)}deleteAll(t){return this.repliesRef.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Df))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GM1(n,e){if(1&n){var t=c.EpF();c.TgZ(0,"a",11),c.NdJ("keyup.enter",function(){return c.CHM(t),c.oxw(3),c.MAs(1).previous()})("click",function(){return c.CHM(t),c.oxw(3),c.MAs(1).previous()}),c._uU(1),c.TgZ(2,"span",12),c._uU(3),c.qZA()()}if(2&n){var r=c.oxw(3);c.uIk("aria-label",r.previousLabel+" "+r.screenReaderPageLabel),c.xp6(1),c.hij(" ",r.previousLabel," "),c.xp6(2),c.Oqu(r.screenReaderPageLabel)}}function jM1(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.TgZ(2,"span",12),c._uU(3),c.qZA()()),2&n){var t=c.oxw(3);c.xp6(1),c.hij(" ",t.previousLabel," "),c.xp6(2),c.Oqu(t.screenReaderPageLabel)}}function qM1(n,e){if(1&n&&(c.TgZ(0,"li",8),c.YNc(1,GM1,4,3,"a",9),c.YNc(2,jM1,4,2,"span",10),c.qZA()),2&n){c.oxw(2);var t=c.MAs(1);c.ekj("disabled",t.isFirstPage()),c.xp6(1),c.Q6J("ngIf",1<t.getCurrent()),c.xp6(1),c.Q6J("ngIf",t.isFirstPage())}}function $M1(n,e){if(1&n){var t=c.EpF();c.TgZ(0,"a",11),c.NdJ("keyup.enter",function(){c.CHM(t);var l=c.oxw().$implicit;return c.oxw(2),c.MAs(1).setCurrent(l.value)})("click",function(){c.CHM(t);var l=c.oxw().$implicit;return c.oxw(2),c.MAs(1).setCurrent(l.value)}),c.TgZ(1,"span",12),c._uU(2),c.qZA(),c.TgZ(3,"span"),c._uU(4),c.ALo(5,"number"),c.qZA()()}if(2&n){var r=c.oxw().$implicit,i=c.oxw(2);c.xp6(2),c.hij("",i.screenReaderPageLabel," "),c.xp6(2),c.Oqu("..."===r.label?r.label:c.xi3(5,2,r.label,""))}}function WM1(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"span",12),c._uU(2),c.qZA(),c.TgZ(3,"span"),c._uU(4),c.ALo(5,"number"),c.qZA(),c.BQk()),2&n){var t=c.oxw().$implicit,r=c.oxw(2);c.xp6(2),c.hij("",r.screenReaderCurrentLabel," "),c.xp6(2),c.Oqu("..."===t.label?t.label:c.xi3(5,2,t.label,""))}}function ZM1(n,e){if(1&n&&(c.TgZ(0,"li"),c.YNc(1,$M1,6,5,"a",9),c.YNc(2,WM1,6,5,"ng-container",10),c.qZA()),2&n){var t=e.$implicit;c.oxw(2);var r=c.MAs(1);c.ekj("current",r.getCurrent()===t.value)("ellipsis","..."===t.label),c.xp6(1),c.Q6J("ngIf",r.getCurrent()!==t.value),c.xp6(1),c.Q6J("ngIf",r.getCurrent()===t.value)}}function KM1(n,e){if(1&n){var t=c.EpF();c.TgZ(0,"a",11),c.NdJ("keyup.enter",function(){return c.CHM(t),c.oxw(3),c.MAs(1).next()})("click",function(){return c.CHM(t),c.oxw(3),c.MAs(1).next()}),c._uU(1),c.TgZ(2,"span",12),c._uU(3),c.qZA()()}if(2&n){var r=c.oxw(3);c.uIk("aria-label",r.nextLabel+" "+r.screenReaderPageLabel),c.xp6(1),c.hij(" ",r.nextLabel," "),c.xp6(2),c.Oqu(r.screenReaderPageLabel)}}function YM1(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.TgZ(2,"span",12),c._uU(3),c.qZA()()),2&n){var t=c.oxw(3);c.xp6(1),c.hij(" ",t.nextLabel," "),c.xp6(2),c.Oqu(t.screenReaderPageLabel)}}function QM1(n,e){if(1&n&&(c.TgZ(0,"li",13),c.YNc(1,KM1,4,3,"a",9),c.YNc(2,YM1,4,2,"span",10),c.qZA()),2&n){c.oxw(2);var t=c.MAs(1);c.ekj("disabled",t.isLastPage()),c.xp6(1),c.Q6J("ngIf",!t.isLastPage()),c.xp6(1),c.Q6J("ngIf",t.isLastPage())}}function JM1(n,e){if(1&n&&(c.TgZ(0,"ul",3),c.YNc(1,qM1,3,4,"li",4),c.TgZ(2,"li",5),c._uU(3),c.qZA(),c.YNc(4,ZM1,3,6,"li",6),c.YNc(5,QM1,3,4,"li",7),c.qZA()),2&n){var t=c.oxw(),r=c.MAs(1);c.ekj("responsive",t.responsive),c.uIk("aria-label",t.screenReaderPaginationLabel),c.xp6(1),c.Q6J("ngIf",t.directionLinks),c.xp6(2),c.AsE(" ",r.getCurrent()," / ",r.getLastPage()," "),c.xp6(1),c.Q6J("ngForOf",r.pages)("ngForTrackBy",t.trackByIndex),c.xp6(1),c.Q6J("ngIf",t.directionLinks)}}var Xd=function(){function n(){this.change=new c.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return n.prototype.defaultId=function(){return this.DEFAULT_ID},n.prototype.register=function(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)},n.prototype.updateInstance=function(e){var t=!1;for(var r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],t=!0);return t},n.prototype.getCurrentPage=function(e){if(this.instances[e])return this.instances[e].currentPage},n.prototype.setCurrentPage=function(e,t){if(this.instances[e]){var r=this.instances[e];t<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}},n.prototype.setTotalItems=function(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))},n.prototype.setItemsPerPage=function(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))},n.prototype.getInstance=function(e){return void 0===e&&(e=this.DEFAULT_ID),this.instances[e]?this.clone(this.instances[e]):{}},n.prototype.clone=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n}(),eL1=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},tL1=Number.MAX_SAFE_INTEGER,kT=function(){function n(e){this.service=e,this.state={}}return n.prototype.transform=function(e,t){if(!(e instanceof Array)){var r=t.id||this.service.defaultId();return this.state[r]?this.state[r].slice:e}var f,C,i=t.totalItems&&t.totalItems!==e.length,s=this.createInstance(e,t),l=s.id,v=s.itemsPerPage,b=this.service.register(s);if(!i&&e instanceof Array){if(this.stateIsIdentical(l,e,f=(s.currentPage-1)*(v=+v||tL1),C=f+v))return this.state[l].slice;var S=e.slice(f,C);return this.saveState(l,e,S,f,C),this.service.change.emit(l),S}return b&&this.service.change.emit(l),this.saveState(l,e,e,f,C),e},n.prototype.createInstance=function(e,t){return this.checkConfig(t),{id:null!=t.id?t.id:this.service.defaultId(),itemsPerPage:+t.itemsPerPage||0,currentPage:+t.currentPage||1,totalItems:+t.totalItems||e.length}},n.prototype.checkConfig=function(e){var r=["itemsPerPage","currentPage"].filter(function(i){return!(i in e)});if(0<r.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+r.join(", "))},n.prototype.saveState=function(e,t,r,i,s){this.state[e]={collection:t,size:t.length,slice:r,start:i,end:s}},n.prototype.stateIsIdentical=function(e,t,r,i){var s=this.state[e];return!!s&&!(s.size!==t.length||s.start!==r||s.end!==i)&&s.slice.every(function(f,C){return f===t[r+C]})},n=function(n,e,t,r){var l,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var f=n.length-1;f>=0;f--)(l=n[f])&&(s=(i<3?l(s):i>3?l(e,t,s):l(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}([eL1("design:paramtypes",[Xd])],n),n.\u0275fac=function(t){return new(t||n)(c.Y36(Xd,16))},n.\u0275pipe=c.Yjl({name:"paginate",type:n,pure:!1}),n}(),m6=function(n,e,t,r){var l,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var f=n.length-1;f>=0;f--)(l=n[f])&&(s=(i<3?l(s):i>3?l(e,t,s):l(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Rt=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)};function RT(n){return!!n&&"false"!==n}var PT=function(){function n(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new c.vpe,this.pageBoundsCorrection=new c.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(n.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(e){this._directionLinks=RT(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"autoHide",{get:function(){return this._autoHide},set:function(e){this._autoHide=RT(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"responsive",{get:function(){return this._responsive},set:function(e){this._responsive=RT(e)},enumerable:!0,configurable:!0}),n.prototype.trackByIndex=function(e){return e},m6([(0,c.IIB)(),Rt("design:type",String)],n.prototype,"id",void 0),m6([(0,c.IIB)(),Rt("design:type",Number)],n.prototype,"maxSize",void 0),m6([(0,c.IIB)(),Rt("design:type",Boolean),Rt("design:paramtypes",[Boolean])],n.prototype,"directionLinks",null),m6([(0,c.IIB)(),Rt("design:type",Boolean),Rt("design:paramtypes",[Boolean])],n.prototype,"autoHide",null),m6([(0,c.IIB)(),Rt("design:type",Boolean),Rt("design:paramtypes",[Boolean])],n.prototype,"responsive",null),m6([(0,c.IIB)(),Rt("design:type",String)],n.prototype,"previousLabel",void 0),m6([(0,c.IIB)(),Rt("design:type",String)],n.prototype,"nextLabel",void 0),m6([(0,c.IIB)(),Rt("design:type",String)],n.prototype,"screenReaderPaginationLabel",void 0),m6([(0,c.IIB)(),Rt("design:type",String)],n.prototype,"screenReaderPageLabel",void 0),m6([(0,c.IIB)(),Rt("design:type",String)],n.prototype,"screenReaderCurrentLabel",void 0),m6([(0,c.r_U)(),Rt("design:type",c.vpe)],n.prototype,"pageChange",void 0),m6([(0,c.r_U)(),Rt("design:type",c.vpe)],n.prototype,"pageBoundsCorrection",void 0),n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,r){if(1&t&&(c.TgZ(0,"pagination-template",0,1),c.NdJ("pageChange",function(l){return r.pageChange.emit(l)})("pageBoundsCorrection",function(l){return r.pageBoundsCorrection.emit(l)}),c.YNc(2,JM1,6,9,"ul",2),c.qZA()),2&t){var i=c.MAs(1);c.Q6J("id",r.id)("maxSize",r.maxSize),c.xp6(2),c.Q6J("ngIf",!(r.autoHide&&i.pages.length<=1))}},directives:function(){return[nL1,$e,n3]},pipes:function(){return[c8]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),n}(),eh=function(n,e,t,r){var l,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var f=n.length-1;f>=0;f--)(l=n[f])&&(s=(i<3?l(s):i>3?l(e,t,s):l(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},th=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},nL1=function(){function n(e,t){var r=this;this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new c.vpe,this.pageBoundsCorrection=new c.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(function(i){r.id===i&&(r.updatePageLinks(),r.changeDetectorRef.markForCheck(),r.changeDetectorRef.detectChanges())})}return n.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},n.prototype.ngOnChanges=function(e){this.updatePageLinks()},n.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},n.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},n.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},n.prototype.isFirstPage=function(){return 1===this.getCurrent()},n.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},n.prototype.setCurrent=function(e){this.pageChange.emit(e)},n.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},n.prototype.getLastPage=function(){var e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)},n.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},n.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},n.prototype.updatePageLinks=function(){var e=this,t=this.service.getInstance(this.id),r=this.outOfBoundCorrection(t);r!==t.currentPage?setTimeout(function(){e.pageBoundsCorrection.emit(r),e.pages=e.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,e.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)},n.prototype.outOfBoundCorrection=function(e){var t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage},n.prototype.createPageArray=function(e,t,r,i){i=+i;for(var s=[],l=Math.max(Math.ceil(r/t),1),f=Math.ceil(i/2),C=e<=f,v=l-f<e,b=!C&&!v,x=i<l,S=1;S<=l&&S<=i;){var D=this.calculatePageNumber(S,e,i,l);s.push({label:x&&(2===S&&(b||v)||S===i-1&&(b||C))?"...":D,value:D}),S++}return s},n.prototype.calculatePageNumber=function(e,t,r,i){var s=Math.ceil(r/2);return e===r?i:1===e?e:r<i?i-s<t?i-r+e:s<t?t-s+e:e:e},eh([(0,c.IIB)(),th("design:type",String)],n.prototype,"id",void 0),eh([(0,c.IIB)(),th("design:type",Number)],n.prototype,"maxSize",void 0),eh([(0,c.r_U)(),th("design:type",c.vpe)],n.prototype,"pageChange",void 0),eh([(0,c.r_U)(),th("design:type",c.vpe)],n.prototype,"pageBoundsCorrection",void 0),(n=eh([th("design:paramtypes",[Xd,c.sBO])],n)).\u0275fac=function(t){return new(t||n)(c.Y36(Xd),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[c.TTD]}),n}(),rL1=function(){function n(){}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Xd],imports:[[$t]]}),n}();let mY=(()=>{class n{transform(t,...r){if(!t)return"a long time ago";let i=(Date.now()-Date.parse(t))/1e3;if(i<10)return"just now";if(i<60)return"a moment ago";const s=[60,60,24,30,12];let f;for(f=0;Math.floor(i/s[f])>0;f++)i/=s[f];const C=Math.floor(i)>1?"s":"";return Math.floor(i)+[" second"," minute"," hour"," day"," month"," year"][f]+C+" ago"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"dateAgo",type:n,pure:!0}),n})();function iL1(n,e){1&n&&(c.TgZ(0,"div",28),c._uU(1," Please provide a name. "),c.qZA())}function sL1(n,e){1&n&&(c.TgZ(0,"div",28),c._uU(1," Please provide a testimonials. "),c.qZA())}function aL1(n,e){1&n&&(c.TgZ(0,"div",3)(1,"div",6)(2,"ul",29)(3,"li")(4,"div",30)(5,"div",31)(6,"div",32),c._uU(7," No Testimonial Yet! "),c.qZA()()()()()()())}function oL1(n,e){1&n&&(c.TgZ(0,"div",28),c._uU(1," Please provide a name. "),c.qZA())}function cL1(n,e){1&n&&(c.TgZ(0,"div",28),c._uU(1," Please provide a reply. "),c.qZA())}function lL1(n,e){if(1&n&&(c.TgZ(0,"div",31)(1,"div",34)(2,"h6",52),c._uU(3),c.qZA(),c.TgZ(4,"span",53),c._uU(5),c.qZA(),c.TgZ(6,"span",37),c._uU(7),c.ALo(8,"dateAgo"),c.qZA()(),c.TgZ(9,"div",32),c._uU(10),c.qZA()()),2&n){const t=c.oxw().$implicit;c.xp6(3),c.Oqu(t.name),c.xp6(2),c.Oqu(t.country),c.xp6(2),c.hij("",c.lcZ(8,4,t.postedon)," "),c.xp6(3),c.hij(" ",t.reply," ")}}function uL1(n,e){if(1&n&&(c.TgZ(0,"li"),c.YNc(1,lL1,11,6,"div",51),c.qZA()),2&n){const t=e.$implicit,r=c.oxw().$implicit;c.xp6(1),c.Q6J("ngIf",t.tid==r.key)}}const G_=function(n,e){return{"is-invalid":n,"is-valid":e}};function fL1(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"ul",33)(1,"li")(2,"div",30)(3,"div",31)(4,"div",34)(5,"h6",35),c._uU(6),c.qZA(),c.TgZ(7,"span",36),c._uU(8),c.qZA(),c.TgZ(9,"span",37),c._uU(10),c.ALo(11,"dateAgo"),c.qZA()(),c.TgZ(12,"div",32),c._uU(13),c.qZA()()(),c.TgZ(14,"div",3)(15,"div",38)(16,"button",39),c.NdJ("click",function(){const s=c.CHM(t).$implicit;return c.oxw().onItemSelector(s.key)}),c._UZ(17,"fa-icon",5),c._uU(18," Reply"),c.qZA()()(),c.TgZ(19,"div",3)(20,"div",6)(21,"div",40)(22,"div",41)(23,"form",8),c.NdJ("ngSubmit",function(){return c.CHM(t),c.oxw().addReplies()}),c.TgZ(24,"div",3)(25,"div",6)(26,"div",9)(27,"div",42),c._UZ(28,"fa-icon",11),c.qZA(),c._UZ(29,"input",43),c.YNc(30,oL1,2,0,"div",13),c.qZA()(),c.TgZ(31,"div",6)(32,"div",9)(33,"div",10),c._UZ(34,"fa-icon",14),c.qZA(),c.TgZ(35,"textarea",44),c._uU(36,"                                                        "),c.qZA(),c.YNc(37,cL1,2,0,"div",13),c.qZA()()(),c.TgZ(38,"div",20)(39,"div",45)(40,"div",46)(41,"h5"),c._uU(42,"Reply to "),c.TgZ(43,"span"),c._uU(44),c.qZA(),c._uU(45," 's Post"),c.qZA()()(),c.TgZ(46,"div",47)(47,"div",16)(48,"button",48),c._UZ(49,"fa-icon",5),c._uU(50," Post"),c.qZA()()()()()()()()(),c.TgZ(51,"ul",49),c.YNc(52,uL1,2,1,"li",50),c.qZA()()()}if(2&n){const t=e.$implicit,r=c.oxw();c.xp6(6),c.Oqu(t.name),c.xp6(2),c.Oqu(t.country),c.xp6(2),c.Oqu(c.lcZ(11,25,t.postedon)),c.xp6(3),c.hij(" ",t.testimonials," "),c.xp6(3),c.uIk("data-target","#replyArea"+t.key)("aria-controls","replyArea"+t.key),c.xp6(1),c.Q6J("icon",r.faMailReply),c.xp6(4),c.MGl("id","replyArea",t.key,""),c.xp6(2),c.Q6J("formGroup",r.replyForm),c.xp6(5),c.Q6J("icon",r.faUser),c.xp6(1),c.MGl("id","name",t.key,"")("name","name",t.key,""),c.Q6J("ngClass",c.WLB(27,G_,r.rF.name.touched&&r.rF.name.invalid,r.rF.name.untouched&&r.rF.name.valid)),c.xp6(1),c.Q6J("ngIf",r.rF.name.touched&&r.rF.name.invalid),c.xp6(4),c.Q6J("icon",r.faCommentAlt),c.xp6(1),c.MGl("id","reply",t.key,"")("name","reply",t.key,""),c.Q6J("ngClass",c.WLB(30,G_,r.rF.reply.touched&&r.rF.reply.invalid,r.rF.reply.untouched&&r.rF.reply.valid)),c.xp6(2),c.Q6J("ngIf",r.rF.reply.touched&&r.rF.reply.invalid),c.xp6(7),c.Oqu(t.name),c.xp6(4),c.s9C("id",t.key),c.s9C("name",t.key),c.Q6J("disabled",!r.replyForm.valid),c.xp6(1),c.Q6J("icon",r.faCommentDots),c.xp6(3),c.Q6J("ngForOf",r.getReplyResult)}}function dL1(n,e){if(1&n&&(c.TgZ(0,"option",54),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("ngValue",t),c.xp6(1),c.hij(" ",t," ")}}const hL1=function(n,e,t){return{itemsPerPage:n,currentPage:e,totalItems:t}};let CL1=(()=>{class n{constructor(t,r,i,s,l,f,C){this.testimonialsService=t,this.repliesService=r,this.formBuilder=i,this.router=s,this.ngZone=l,this.datepipe=f,this.toastr=C,this.faComments=O_,this.faCommentAlt=ST,this.faUser=VT,this.faTimesCircle=cm,this.faCommentDots=Sl,this.faCalendar=os,this.faLocation=IN,this.faMailReply=gz,this.page=1,this.count=0,this.tableSize=2,this.tableSizes=[2,8,12,16],this.form=this.formBuilder.group({name:["",rr.required],testimonials:["",rr.required]}),this.replyForm=this.formBuilder.group({name:["",rr.required],reply:["",rr.required]})}onItemSelector(t){this.tIdValue=t}ngOnInit(){var t=this;return(0,w1.Z)(function*(){new navslide,t.request=yield fetch("https://ipinfo.io/json?token=1509eda3fb61e2"),t.result=yield t.request.json(),t.ipAddress=t.result.ip,t.visitorCountry=t.result.country,t.visitorCity=t.result.city,t.fetcTestimonials(),t.fetcReplies()})()}fetcReplies(){this.repliesService.getAll().snapshotChanges().pipe((0,M2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.replies=t.reverse(),this.getReplyResult=this.replies,this.getReplyTid=this.getReplyResult.id})}fetcTestimonials(){this.testimonialsService.getAll().snapshotChanges().pipe((0,M2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.testimonials=t.reverse(),this.getTestiResult=this.testimonials})}onTableDataChange(t){this.page=t,this.fetcTestimonials()}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1,this.fetcTestimonials()}get f(){return this.form.controls}get rF(){return this.replyForm.controls}addTesti(){var t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss");this.testimonialsService.create({name:this.form.value.name,testimonials:this.form.value.testimonials,country:this.visitorCountry,city:this.visitorCity,postedon:t}).then(()=>{this.toastr.success("Testimonial has been Posted!","SUCCESS",{timeOut:1e3}).onHidden.subscribe(()=>{this.form.reset()})})}addReplies(){let t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss");this.repliesService.create({tid:this.tIdValue,name:this.replyForm.value.name,reply:this.replyForm.value.reply,country:this.visitorCountry,city:this.visitorCity,postedon:t}).then(()=>{this.toastr.success("Thank You for your Reply/s!","SUCCESS",{timeOut:1e3}).onHidden.subscribe(()=>{this.replyForm.reset()})})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(pY),c.Y36(UM1),c.Y36(EZ),c.Y36(S3),c.Y36(c.R0b),c.Y36(ln),c.Y36(l9))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-testimonial"]],decls:42,vars:26,consts:[[1,"container","about-container","d-flex","justify-content-end"],[1,"col-md-12","col-lg-8"],[1,"content-right-box"],[1,"row"],[1,"header-title"],[3,"icon"],[1,"col-md-12"],[1,"testi-form"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],[1,"input-group-prepend","override-input-prepend"],[1,"fuser",3,"icon"],["formControlName","name","id","name","name","name","type","text","placeholder","Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"fcomment",3,"icon"],["formControlName","testimonials","id","testimonials","name","testimonials","placeholder","Testimonial","rows","3",1,"form-control",3,"ngClass"],[1,"d-flex","justify-content-end","button-post"],["role","button","type","submit",1,"btn","btn-primary","savebtn",3,"disabled"],["class","row",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"row","mt-4"],[1,"col-md-2"],[1,"d-flex","justify-content-start"],[1,"custom-select","select-pagi",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-10"],[1,"d-flex","justify-content-end","pagi-numbers"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"invalid-feedback"],["id","comments-list",1,"comments-list"],[1,"comment-main-level"],[1,"comment-box"],[1,"comment-content"],["id","comments-list",1,"comments-list","testi-list"],[1,"comment-head"],[1,"comment-name"],[1,"badge","badge-info","badge-comment","mr-2"],[1,"postedDate"],[1,"col-md-12","button-reply","text-right"],["type","button","data-toggle","collapse","aria-expanded","false",1,"btn","btn-primary","savebtn",3,"click"],[1,"collapse","replyCollapse",3,"id"],[1,"card","card-body"],[1,"input-group-prepend","override-input-prepend","align-middle"],["formControlName","name","type","text","placeholder","Name",1,"form-control",3,"id","name","ngClass"],["formControlName","reply","placeholder","Your Reply","rows","3",1,"form-control",3,"id","name","ngClass"],[1,"col-md-8"],[1,"d-flex","justify-content-start","commentName"],[1,"col-md-4"],["role","button","type","submit",1,"btn","btn-primary","savebtn",3,"id","name","disabled"],[1,"comments-list","reply-list"],[4,"ngFor","ngForOf"],["class","comment-box",4,"ngIf"],[1,"comment-name","replyname"],[1,"badge","badge-info","mr-2"],[3,"ngValue"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c._UZ(5,"fa-icon",5),c._uU(6," Testimonials "),c.qZA()(),c.TgZ(7,"div",3)(8,"div",6)(9,"div",7)(10,"form",8),c.NdJ("ngSubmit",function(){return r.addTesti()}),c.TgZ(11,"div",3)(12,"div",6)(13,"div",9)(14,"div",10),c._UZ(15,"fa-icon",11),c.qZA(),c._UZ(16,"input",12),c.YNc(17,iL1,2,0,"div",13),c.qZA()(),c.TgZ(18,"div",6)(19,"div",9)(20,"div",10),c._UZ(21,"fa-icon",14),c.qZA(),c.TgZ(22,"textarea",15),c._uU(23,"                                        "),c.qZA(),c.YNc(24,sL1,2,0,"div",13),c.qZA()()(),c.TgZ(25,"div",16)(26,"button",17),c._UZ(27,"fa-icon",5),c._uU(28," Post"),c.qZA()()()()()(),c.YNc(29,aL1,8,0,"div",18),c.TgZ(30,"div",3)(31,"div",6),c.YNc(32,fL1,53,33,"ng-template",19),c.ALo(33,"paginate"),c.qZA()(),c.TgZ(34,"div",20)(35,"div",21)(36,"div",22)(37,"select",23),c.NdJ("change",function(s){return r.onTableSizeChange(s)}),c.YNc(38,dL1,2,2,"option",24),c.qZA()()(),c.TgZ(39,"div",25)(40,"div",26)(41,"pagination-controls",27),c.NdJ("pageChange",function(s){return r.onTableDataChange(s)}),c.qZA()()()()()()()),2&t&&(c.xp6(5),c.Q6J("icon",r.faComments),c.xp6(5),c.Q6J("formGroup",r.form),c.xp6(5),c.Q6J("icon",r.faUser),c.xp6(1),c.Q6J("ngClass",c.WLB(16,G_,r.f.name.touched&&r.f.name.invalid,r.f.name.untouched&&r.f.name.valid)),c.xp6(1),c.Q6J("ngIf",r.f.name.touched&&r.f.name.invalid),c.xp6(4),c.Q6J("icon",r.faCommentAlt),c.xp6(1),c.Q6J("ngClass",c.WLB(19,G_,r.f.testimonials.touched&&r.f.testimonials.invalid,r.f.testimonials.untouched&&r.f.testimonials.valid)),c.xp6(2),c.Q6J("ngIf",r.f.testimonials.touched&&r.f.testimonials.invalid),c.xp6(2),c.Q6J("disabled",!r.form.valid),c.xp6(1),c.Q6J("icon",r.faCommentDots),c.xp6(2),c.Q6J("ngIf",!r.getTestiResult),c.xp6(3),c.Q6J("ngForOf",c.xi3(33,13,r.getTestiResult,c.kEZ(22,hL1,r.tableSize,r.page,r.count))),c.xp6(6),c.Q6J("ngForOf",r.tableSizes))},directives:[nr,uT,QE,Qd,$d,YE,F_,_4,$e,n3,mT,vT,PT],pipes:[kT,mY],styles:[""]}),n})();class gY{constructor(e,t,r,i){this.title=e,this.name=t,this.image=r,this.link=i}}class Xi{constructor(e,t,r){this.link=e,this.image=t,this.alt=r}}function pL1(n,e){if(1&n&&(c.TgZ(0,"div",22)(1,"a",23),c._UZ(2,"img",24),c.qZA()()),2&n){const t=e.$implicit;c.xp6(1),c.s9C("href",t.link,c.LSH),c.xp6(1),c.s9C("src",t.image,c.LSH),c.s9C("alt",t.alt)}}function mL1(n,e){if(1&n&&(c.TgZ(0,"div",25)(1,"div",11)(2,"div",26)(3,"div",27),c._UZ(4,"img",28),c.qZA()(),c.TgZ(5,"div",29)(6,"h3",30),c._uU(7),c.qZA(),c.TgZ(8,"div",31),c._uU(9),c.qZA(),c.TgZ(10,"a",32)(11,"button",33),c._UZ(12,"i",34),c._uU(13," View Project "),c.qZA()()()()()),2&n){const t=e.$implicit;c.xp6(4),c.s9C("src",t.image,c.LSH),c.s9C("alt",t.name),c.xp6(3),c.Oqu(t.title),c.xp6(2),c.Oqu(t.name),c.xp6(1),c.s9C("href",t.link,c.LSH)}}const gL1=function(n,e,t){return{id:"templatePagination",itemsPerPage:n,currentPage:e,totalItems:t}},vL1=function(n,e,t){return{id:"projectPagination",itemsPerPage:n,currentPage:e,totalItems:t}};let yL1=(()=>{class n{constructor(){this.projects=[new gY("Online Public Access Catalog","St. Cecilias College - Cebu Library","assets/image/sccopac-thumb.jpg","https://rickmedillo.000webhostapp.com"),new gY("A Wonder Paradise","Ruvi Cave - Resort","assets/image/ruvi-template-thumb.jpg","https://ruvicaveresortcebu.000webhostapp.com/")],this.templates=[new Xi("assets/image/ruvicave-template.jpg","assets/image/ruvicave-template.jpg","Resort Template"),new Xi("assets/image/template01.jpg","assets/image/template01.jpg","Dating Site Template 01"),new Xi("assets/image/template02.jpg","assets/image/template02.jpg","Dating Site Template 02"),new Xi("assets/image/template03.jpg","assets/image/template03.jpg","Dating Site Template 03"),new Xi("assets/image/template04.jpg","assets/image/template04.jpg","Dating Site Template 04"),new Xi("assets/image/template05.jpg","assets/image/template05.jpg","Dating Site Template 05"),new Xi("assets/image/template06.jpg","assets/image/template06.jpg","Dating Site Template 06"),new Xi("assets/image/template07.jpg","assets/image/template07.jpg","Dating Site Template 07")],this.page=1,this.count=0,this.tableSize=2,this.tableSizes=[2,8,12,16],this.tempPage=1,this.tempCount=0,this.tempTableSize=6,this.tempTableSizes=[6,8,12,16],this.faLaptop=zN,this.faMarker=jN}ngOnInit(){new navslide}onTableDataChange(t){this.page=t}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1}onTableDataChangeTemp(t){this.tempPage=t}onTableSizeChangeTemp(t){this.tempTableSize=t.target.value,this.tempPage=1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-work"]],decls:33,vars:18,consts:[[1,"container","about-container","d-flex","justify-content-end"],[1,"col-md-12","col-lg-8"],[1,"content-right-box","override-content"],[1,"nav","nav-pills","flex-column","flex-sm-row"],["id","template-tab","data-toggle","tab","href","#template","role","tab","aria-controls","template","aria-selected","true",1,"flex-sm-fill","text-sm-center","nav-link","active"],["id","project-tab","data-toggle","tab","href","#project","role","tab","aria-controls","project","aria-selected","false",1,"flex-sm-fill","text-sm-center","nav-link"],["id","myTabContent",1,"tab-content"],["id","template","role","tabpanel","aria-labelledby","template-tab",1,"tab-pane","fade","show","active"],[1,"content-right-box","content-right-separate"],[1,"header-title"],[3,"icon"],[1,"row"],[1,"col-md-12"],["id","Gallery"],["class","gallery-item",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","pagi-numbers","mt-4"],["id","templatePagination","previousLabel","Prev","nextLabel","Next",3,"pageChange"],["id","project","role","tabpanel","aria-labelledby","project-tab",1,"tab-pane","fade"],[1,"projects-content"],[1,"row","testi-section"],["class","proj-cont-box left-proj-content",4,"ngFor","ngForOf"],["id","projectPagination","previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"gallery-item"],[3,"href"],[3,"src","alt"],[1,"proj-cont-box","left-proj-content"],[1,"col-sm-12","col-md-4","col-lg-4"],[1,"proj-img"],["alt","Rick Ryan Medillo scc opac",1,"img-fluid",3,"src","alt"],[1,"col-sm-12","col-md-8","col-lg-8"],[1,"sccopac"],[1,"scc-title"],["target","_blank",3,"href"],["name","btn-view","role","button",1,"btn","btn-default","btn-md","btn-view-project"],[1,"fas","fa-eye"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"a",4),c._uU(5,"Templates"),c.qZA(),c.TgZ(6,"a",5),c._uU(7,"Projects"),c.qZA()()(),c.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),c._UZ(12,"fa-icon",10),c._uU(13," Templates "),c.qZA(),c.TgZ(14,"div",11)(15,"div",12)(16,"div",13),c.YNc(17,pL1,3,3,"div",14),c.ALo(18,"paginate"),c.qZA()()(),c.TgZ(19,"div",15)(20,"pagination-controls",16),c.NdJ("pageChange",function(s){return r.onTableDataChangeTemp(s)}),c.qZA()()()(),c.TgZ(21,"div",17)(22,"div",8)(23,"div",9),c._UZ(24,"fa-icon",10),c._uU(25," Projects "),c.qZA(),c.TgZ(26,"div",18)(27,"div",19)(28,"div",12),c.YNc(29,mL1,14,5,"div",20),c.ALo(30,"paginate"),c.qZA()(),c.TgZ(31,"div",15)(32,"pagination-controls",21),c.NdJ("pageChange",function(s){return r.onTableDataChange(s)}),c.qZA()()()()()()()()),2&t&&(c.xp6(12),c.Q6J("icon",r.faMarker),c.xp6(5),c.Q6J("ngForOf",c.xi3(18,4,r.templates,c.kEZ(10,gL1,r.tempTableSize,r.tempPage,r.tempCount))),c.xp6(7),c.Q6J("icon",r.faLaptop),c.xp6(5),c.Q6J("ngForOf",c.xi3(30,7,r.projects,c.kEZ(14,vL1,r.tableSize,r.page,r.count))))},directives:[nr,n3,PT],pipes:[kT],styles:[""]}),n})();function _L1(n,e){if(1&n&&(c.TgZ(0,"option",21),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("ngValue",t),c.xp6(1),c.hij(" ",t," ")}}function ML1(n,e){if(1&n&&(c.TgZ(0,"div",22)(1,"div",23),c._uU(2," IP Address "),c.TgZ(3,"span"),c._uU(4),c.qZA()(),c.TgZ(5,"ul",24)(6,"li",25),c._uU(7,"Country"),c.TgZ(8,"span"),c._uU(9),c.qZA()(),c.TgZ(10,"li",25),c._uU(11,"Visited "),c.TgZ(12,"span"),c._uU(13),c.qZA()(),c.TgZ(14,"li",25),c._uU(15,"Date and Time "),c.TgZ(16,"span"),c._uU(17),c.ALo(18,"dateAgo"),c.qZA()()()()),2&n){const t=e.$implicit,r=c.oxw();c.xp6(4),c.hij(" ",r.convertIp(t.user_ip),""),c.xp6(5),c.hij(" ",t.country,""),c.xp6(4),c.hij(" ",t.visited,""),c.xp6(4),c.hij(" ",c.lcZ(18,4,t.postedon),"")}}function LL1(n,e){1&n&&(c.TgZ(0,"tr")(1,"td",26),c._uU(2,"No Visitors Yet!"),c.qZA()())}function bL1(n,e){if(1&n&&(c.TgZ(0,"tr",27)(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.ALo(9,"dateAgo"),c.qZA()()),2&n){const t=e.$implicit,r=c.oxw();c.xp6(2),c.Oqu(r.convertIp(t.user_ip)),c.xp6(2),c.Oqu(t.country),c.xp6(2),c.Oqu(t.visited),c.xp6(2),c.Oqu(c.lcZ(9,4,t.postedon))}}const xL1=function(n,e,t){return{id:"mobilePagination",itemsPerPage:n,currentPage:e,totalItems:t}};var wL1=T(788);const zL1=[{path:"",pathMatch:"full",redirectTo:"about"},{path:"about",component:Mg1},{path:"contact",component:PM1},{path:"gallery",component:FM1},{path:"testimonials",component:CL1},{path:"works",component:yL1},{path:"visitors",component:(()=>{class n{constructor(t,r){this.datepipe=t,this.visitorService=r,this.faEnvelope=vs,this.page=1,this.count=0,this.tableSize=2,this.tableSizes=[2,8,12,16]}ngOnInit(){this.fetchVisitorsView(),this.fetchVisitorsMobile()}convertIp(t){return wL1(t).toIP()}fetchVisitorsView(){this.visitorService.getAll().snapshotChanges().pipe((0,M2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.visitor=t.reverse(),this.getResult=this.visitor,setTimeout(()=>{$("#datatableexample").DataTable({retrieve:!0,pagingType:"full_numbers",pageLength:5,processing:!0,lengthMenu:[5,10,25]})},1)})}fetchVisitorsMobile(){this.visitorService.getAll().snapshotChanges().pipe((0,M2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.visitor=t.reverse(),this.getResultMobile=this.visitor})}onTableDataChange(t){this.page=t,this.fetchVisitorsMobile()}onTableSizeChange(t){this.tableSize=t.target.value,this.page=1,this.fetchVisitorsMobile()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ln),c.Y36(mE))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-visitor"]],decls:33,vars:12,consts:[[1,"container","about-container","d-flex","justify-content-end"],[1,"col-md-12","col-lg-8"],[1,"content-right-box"],[1,"header-title"],[3,"icon"],[1,"visitor"],[1,"row"],[1,"col-md-6","visible-phone","d-none"],[1,"d-flex","justify-content-start","bd-highlight","mb-2"],[1,"p-2","bd-highlight"],[1,"custom-select","select-pagi",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-12","visible-phone","d-none"],["ngFor","",3,"ngForOf"],[1,"d-flex","justify-content-center","pagi-numbers","mt-4"],["id","mobilePagination","previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"col-md-12","d-none","d-sm-block","d-sm-none","d-md-block"],["id","datatableexample","cellspacing","0","width","100%",1,"table","table-striped","table-bordered","table-sm","row-border","hover","display"],["scope","col"],[4,"ngIf"],["let","","i","index",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"card"],[1,"card-header"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["colspan","5"],["let","","i","index"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"fa-icon",4),c._uU(5," Visitors "),c.qZA(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"select",10),c.NdJ("change",function(s){return r.onTableSizeChange(s)}),c.YNc(12,_L1,2,2,"option",11),c.qZA()()()(),c.TgZ(13,"div",12),c.YNc(14,ML1,19,6,"ng-template",13),c.ALo(15,"paginate"),c.TgZ(16,"div",14)(17,"pagination-controls",15),c.NdJ("pageChange",function(s){return r.onTableDataChange(s)}),c.qZA()()(),c.TgZ(18,"div",16)(19,"table",17)(20,"thead")(21,"tr")(22,"th",18),c._uU(23,"IP Address"),c.qZA(),c.TgZ(24,"th",18),c._uU(25,"Country"),c.qZA(),c.TgZ(26,"th",18),c._uU(27,"Visited"),c.qZA(),c.TgZ(28,"th",18),c._uU(29,"Date"),c.qZA()()(),c.TgZ(30,"tbody"),c.YNc(31,LL1,3,0,"tr",19),c.YNc(32,bL1,10,6,"tr",20),c.qZA()()()()()()()()),2&t&&(c.xp6(4),c.Q6J("icon",r.faEnvelope),c.xp6(8),c.Q6J("ngForOf",r.tableSizes),c.xp6(2),c.Q6J("ngForOf",c.xi3(15,5,r.getResultMobile,c.kEZ(8,xL1,r.tableSize,r.page,r.count))),c.xp6(17),c.Q6J("ngIf",!r.getResult),c.xp6(1),c.Q6J("ngForOf",r.getResult))},directives:[nr,n3,mT,vT,PT,$e],pipes:[kT,mY],styles:[""]}),n})()}];let SL1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[P5.forRoot(zL1)],P5]}),n})(),VL1=(()=>{class n{constructor(){this.faDownload=Gl,console.log("Header constructor called")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:65,vars:1,consts:[[1,"header-banner"],[1,"container"],[1,"logo-menu","d-none","d-sm-none","d-md-none","d-lg-block"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-6","offset-lg-4"],[1,"wrapper"],[1,"fr1"],["onClick","window.toggle();"],["src","assets/image/hamburger_button.png",1,"img-fluid"],[1,"pos"],[1,"toggledAnother",2,"display","block"],[1,"horizontalMenu3"],["href","#","routerLinkActive","active","routerLink","about"],["href","#","routerLinkActive","active","routerLink","gallery"],["href","#","routerLinkActive","active","routerLink","works"],["href","#","routerLinkActive","active","routerLink","testimonials"],["href","#","routerLinkActive","active","routerLink","contact"],[1,"row","new-nav","d-lg-none"],[1,"col-md-12"],[1,"navbar","navbar-expand-md","navbar-dark","bg-dark"],["href","#","routerLinkActive","active","routerLink","about",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarsExample05","aria-controls","navbarsExample05","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","collapsed"],[1,"navbar-toggler-icon"],["id","navbarsExample05",1,"navbar-collapse","collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item"],["href","#","routerLinkActive","active","routerLink","about",1,"nav-link"],["href","#","routerLinkActive","active","routerLink","gallery",1,"nav-link"],["href","#","routerLinkActive","active","routerLink","works",1,"nav-link"],["href","#","routerLinkActive","active","routerLink","testimonials",1,"nav-link"],["href","#","routerLinkActive","active","routerLink","contact",1,"nav-link"],[1,"container","d-none","d-sm-none","d-md-none","d-lg-block"],[1,"column","row"],[1,"col-md-12","col-lg-8"],[1,"name-position","d-flex","justify-content-end"],[1,"col-md-12","col-lg-6"],[1,"dl-button"],[1,"download-resume"],["role","button","type","submit","onclick","downloadFile('rickryan')",1,"btn","btn-primary","bntdwnld"],[3,"icon"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),c._UZ(8,"img",8),c.qZA(),c._UZ(9,"div",9),c.qZA(),c.TgZ(10,"div",10)(11,"ul",11)(12,"li")(13,"a",12),c._uU(14,"Home"),c.qZA()(),c.TgZ(15,"li")(16,"a",13),c._uU(17,"Gallery"),c.qZA()(),c.TgZ(18,"li")(19,"a",14),c._uU(20,"Works"),c.qZA()(),c.TgZ(21,"li")(22,"a",15),c._uU(23,"Testimonials"),c.qZA()(),c.TgZ(24,"li")(25,"a",16),c._uU(26,"Contact"),c.qZA()()()()()()()(),c.TgZ(27,"div",17)(28,"div",18)(29,"nav",19)(30,"a",20),c._uU(31,"Rick Ryan Medillo"),c.qZA(),c.TgZ(32,"button",21),c._UZ(33,"span",22),c.qZA(),c.TgZ(34,"div",23)(35,"ul",24)(36,"li",25)(37,"a",26),c._uU(38,"Home"),c.qZA()(),c.TgZ(39,"li",25)(40,"a",27),c._uU(41,"Gallery"),c.qZA()(),c.TgZ(42,"li",25)(43,"a",28),c._uU(44,"Works"),c.qZA()(),c.TgZ(45,"li",25)(46,"a",29),c._uU(47,"Testimonials"),c.qZA()(),c.TgZ(48,"li",25)(49,"a",30),c._uU(50,"Contact"),c.qZA()()()()()()()()(),c.TgZ(51,"div",31)(52,"div",32)(53,"div",33)(54,"div",34)(55,"div",35)(56,"p"),c._uU(57," Web Designer, Front-End and Back-End "),c._UZ(58,"br"),c._uU(59,"Developer. I Design and Build Websites from Scratch. "),c.qZA(),c.TgZ(60,"div",36)(61,"div",37)(62,"button",38),c._UZ(63,"fa-icon",39),c._uU(64,"\xa0\xa0\xa0DOWNLOAD RESUME "),c.qZA()()()()()()()()),2&t&&(c.xp6(63),c.Q6J("icon",r.faDownload))},directives:[$6,yo,nr],styles:[""]}),n})();class HL1{}let AL1=(()=>{class n{constructor(t){this.db=t,this.dbPath="/likes",this.likeStatus=new HL1,this.likeStatus.status={status:"Failed"},this.status=this.likeStatus.status,this.likesRef=t.list(this.dbPath)}getLike(t){return this.likeRef=this.db.object("/likes/"+t)}getAll(){return this.likesRef}create(t){return this.likesRef.push(t)}update(t,r){return this.likesRef.update(t,r)}delete(t){return this.likesRef.remove(t)}deleteAll(t){return this.likesRef.remove(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Df))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EL1=T(788);let TL1=(()=>{class n{constructor(t,r,i,s,l,f){this.likeService=t,this.testimonialsService=r,this.datepipe=i,this.visitorService=s,this.router=l,this.toastr=f,this.faThumbsUp=eY,this.faUsers=DP,this.faComments=O_,this.faDownload=Gl}ngOnInit(){var t=this;return(0,w1.Z)(function*(){t.request=yield fetch("https://ipinfo.io/json?token=1509eda3fb61e2"),t.result=yield t.request.json(),t.ipAddress=t.result.ip,t.visitorCountry=t.result.country,t.visitorCity=t.result.city,t.ipToInt=EL1(t.ipAddress).toInt(),t.fetchLikes(),t.fetchVisitors(),t.fetchTestimonials()})()}fetchTestimonials(){this.testimonialsService.getAll().snapshotChanges().pipe((0,M2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.testimonials=t,this.counttestimonials=t.length})}fetchVisitors(){this.visitorService.getAll().snapshotChanges().pipe((0,M2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.countvisitors=t.length})}fetchLikes(){this.likeService.getAll().snapshotChanges().pipe((0,M2.U)(t=>t.map(r=>Object.assign({key:r.payload.key},r.payload.val())))).subscribe(t=>{this.likes=t,this.countLikes=t.length,this.likes.forEach(r=>{r.user_ip==this.ipToInt&&(this.visitorIP=r.user_ip)})})}addLike(){let t=this.datepipe.transform(new Date,"yyyy-MM-dd h:mm:ss");this.likeService.create({user_ip:this.ipToInt,country:this.visitorCountry,city:this.visitorCity,postedon:t}).then(()=>{this.toastr.info("Thanks for the likes!!")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(AL1),c.Y36(pY),c.Y36(ln),c.Y36(mE),c.Y36(S3),c.Y36(l9))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-sidebar"]],decls:58,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-4"],[1,"left-box"],["src","assets/image/rick-ryan-profile.jpg",1,"img-fluid"],[1,"view-profile","text-center"],[1,"row","text-center"],[1,"col-sm-12","col-md-12"],[1,"btn","btn-default","btn-md","btn-like",3,"disabled","click"],[3,"icon"],[1,"content-box"],[1,"title"],[1,"content"],[1,"category"],[1,"col-md-7","col-sm-7","col-xs-7"],[1,"category-list"],[1,"col-md-5","col-sm-5","col-xs-5","text-right"],[1,"category-value"],[1,"hr-category"],["routerLinkActive","active","routerLink","visitors"],["routerLinkActive","active","routerLink","testimonials"],[1,"intro-box","d-none"],[1,"dl-button"],[1,"download-resume"],["role","button","type","submit","onclick","downloadFile('rickryan')",1,"btn","btn-primary","bntdwnld"]],template:function(t,r){if(1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"img",4),c.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"button",8),c.NdJ("click",function(){return r.addLike()}),c._UZ(9,"fa-icon",9),c._uU(10,"\xa0\xa0\xa0LIKE ME "),c.qZA()()()(),c.TgZ(11,"div",10)(12,"div",11),c._uU(13," CAREER OBJECTIVE "),c.qZA(),c.TgZ(14,"div",12),c._uU(15," To secure a challenging position in a reputable organization to expand my learnings, knowledge, and skills. "),c.qZA(),c.TgZ(16,"div",13)(17,"div",1)(18,"div",14)(19,"span",15),c._UZ(20,"fa-icon",9),c._uU(21,"\xa0\xa0LIKES "),c.qZA()(),c.TgZ(22,"div",16)(23,"span",17),c._uU(24),c.qZA()()(),c._UZ(25,"hr",18),c.TgZ(26,"div",1)(27,"div",14)(28,"span",15)(29,"a",19),c._UZ(30,"fa-icon",9),c._uU(31,"\xa0\xa0VISITORS"),c.qZA()()(),c.TgZ(32,"div",16)(33,"span",17),c._uU(34),c.qZA()()(),c._UZ(35,"hr",18),c.TgZ(36,"div",1)(37,"div",14)(38,"span",15)(39,"a",20),c._UZ(40,"fa-icon",9),c._uU(41,"\xa0\xa0TESTIMONIAL"),c.qZA()()(),c.TgZ(42,"div",16)(43,"span",17),c._uU(44),c.qZA()()()()()()()()(),c.TgZ(45,"div",0)(46,"div",1)(47,"div",7)(48,"div",21)(49,"p"),c._uU(50," Web Designer, Front-End and Back-End "),c._UZ(51,"br"),c._uU(52,"Developer. I Design and Build Websites from Scratch. "),c.qZA(),c.TgZ(53,"div",22)(54,"div",23)(55,"button",24),c._UZ(56,"fa-icon",9),c._uU(57,"\xa0\xa0\xa0DOWNLOAD RESUME "),c.qZA()()()()()()()),2&t){let i;c.xp6(8),c.Q6J("disabled",null!==(i=r.visitorIP)&&void 0!==i?i:null),c.xp6(1),c.Q6J("icon",r.faThumbsUp),c.xp6(11),c.Q6J("icon",r.faThumbsUp),c.xp6(4),c.Oqu(r.countLikes),c.xp6(6),c.Q6J("icon",r.faUsers),c.xp6(4),c.Oqu(r.countvisitors),c.xp6(6),c.Q6J("icon",r.faComments),c.xp6(4),c.Oqu(r.counttestimonials),c.xp6(12),c.Q6J("icon",r.faDownload)}},directives:[nr,$6,yo],styles:["button.btn.btn-default.btn-md.btn-like[_ngcontent-%COMP%]:hover:disabled{border:2px solid #eae3d8;color:#eae3d8}"]}),n})();var yY={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M504 256C504 119 393 8 256 8S8 119 8 256c0 123.8 90.69 226.4 209.3 245V327.7h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.3 482.4 504 379.8 504 256z"]},_Y={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]};let cE1=(()=>{class n{constructor(){this.faFacebook=yY,this.faLinkedin=_Y,this.faEnvelope=vs,this.faMobile=ev,this.currentYear=(new Date).getFullYear()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:26,vars:5,consts:[[1,"footer-bg"],[1,"container"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-8"],[1,"left-footer"],[1,"col-sm-12","col-md-12","col-lg-4"],[1,"right-footer","text-center"],[3,"icon"],["href","https://www.facebook.com/mudp0et","target","_blank"],["href","https://www.linkedin.com/in/rick-ryan-medillo-7821371a1/","target","_blank"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c._uU(5),c.TgZ(6,"span"),c._uU(7,"Rick Ryan Medillo."),c.qZA(),c._uU(8," All Rights Reserved. "),c.qZA()(),c.TgZ(9,"div",5)(10,"div",6)(11,"h5"),c._uU(12,"CONTACT INFO"),c.qZA(),c.TgZ(13,"p"),c._UZ(14,"fa-icon",7),c._uU(15," Email: rickryan29.rr@gmail.com"),c.qZA(),c.TgZ(16,"p"),c._UZ(17,"fa-icon",7),c._uU(18," Mobile: +639611335934"),c.qZA(),c.TgZ(19,"p"),c._uU(20," Follow me on:\xa0 "),c.TgZ(21,"a",8),c._UZ(22,"fa-icon",7),c.qZA(),c._uU(23,"\xa0\xa0 "),c.TgZ(24,"a",9),c._UZ(25,"fa-icon",7),c.qZA()()()()()()()),2&t&&(c.xp6(5),c.hij(" Copyright \xa9 ",r.currentYear," "),c.xp6(9),c.Q6J("icon",r.faEnvelope),c.xp6(3),c.Q6J("icon",r.faMobile),c.xp6(5),c.Q6J("icon",r.faFacebook),c.xp6(3),c.Q6J("icon",r.faLinkedin))},directives:[nr],styles:[""]}),n})();function lE1(n,e){1&n&&c._UZ(0,"app-header")}function uE1(n,e){1&n&&c._UZ(0,"app-sidebar")}function fE1(n,e){1&n&&c._UZ(0,"app-footer")}let dE1=(()=>{class n{constructor(t,r){this.router=t,this.activatedRoute=r,this.title="Rick Ryan Medillo",this.showHeader=!1,this.showSidebar=!1,this.showFooter=!1}ngOnInit(){this.router.events.subscribe(t=>{var r,i,s;t instanceof M8&&(this.showHeader=!1!==(null===(r=this.activatedRoute.root.firstChild)||void 0===r?void 0:r.snapshot.data.showHeader),this.showSidebar=!1!==(null===(i=this.activatedRoute.root.firstChild)||void 0===i?void 0:i.snapshot.data.showSidebar),this.showFooter=!1!==(null===(s=this.activatedRoute.root.firstChild)||void 0===s?void 0:s.snapshot.data.showFooter))})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(S3),c.Y36(R6))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:3,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(c.YNc(0,lE1,1,0,"app-header",0),c.YNc(1,uE1,1,0,"app-sidebar",0),c._UZ(2,"router-outlet"),c.YNc(3,fE1,1,0,"app-footer",0)),2&t&&(c.Q6J("ngIf",r.showHeader),c.xp6(1),c.Q6J("ngIf",r.showSidebar),c.xp6(2),c.Q6J("ngIf",r.showFooter))},directives:[$e,VL1,TL1,D5,cE1],styles:[""]}),n})();!function(){function n(e,t,r){this.el=e,this.vcr=t,this.renderer=r,this.dtOptions={}}n.prototype.ngOnInit=function(){var e=this;this.dtTrigger?this.dtTrigger.subscribe(function(t){e.displayTable(t)}):this.displayTable(null)},n.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},n.prototype.displayTable=function(e){var t=this;e&&(this.dtOptions=e),this.dtInstance=new Promise(function(r,i){Promise.resolve(t.dtOptions).then(function(s){0===Object.keys(s).length&&0===$("tbody tr",t.el.nativeElement).length?i("Both the table and dtOptions cannot be empty"):setTimeout(function(){var f={rowCallback:function(C,v,b){if(s.columns){var x=s.columns;t.applyNgPipeTransform(C,x),t.applyNgRefTemplate(C,x,v)}s.rowCallback&&s.rowCallback(C,v,b)}};f=Object.assign({},s,f),t.dt=$(t.el.nativeElement).DataTable(f),r(t.dt)})})})},n.prototype.applyNgPipeTransform=function(e,t){t.filter(function(i){return i.ngPipeInstance&&!i.ngTemplateRef}).forEach(function(i){var s=i.ngPipeInstance,l=t.findIndex(function(b){return b.data===i.data}),f=e.childNodes.item(l),C=$(f).text(),v=s.transform(C);$(f).text(v)})},n.prototype.applyNgRefTemplate=function(e,t,r){var i=this;t.filter(function(l){return l.ngTemplateRef&&!l.ngPipeInstance}).forEach(function(l){var f=l.ngTemplateRef,C=f.ref,v=f.context,b=t.findIndex(function(D){return D.data===l.data}),x=e.childNodes.item(b);$(x).html("");var S=Object.assign({},v,null==v?void 0:v.userData,{adtData:r}),A=i.vcr.createEmbeddedView(C,S);i.renderer.appendChild(x,A.rootNodes[0])})},n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}})}();var hE1=function(){function n(){}return n.forRoot=function(){return{ngModule:n}},n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[$t]]}),n}();const he=!1;function SY(n){return new c.vHH(3e3,he)}function WE1(){return"undefined"!=typeof window&&void 0!==window.document}function OT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function e0(n){switch(n.length){case 0:return new Fd;case 1:return n[0];default:return new x$(n)}}function VY(n,e,t,r,i={},s={}){const l=[],f=[];let C=-1,v=null;if(r.forEach(b=>{const x=b.offset,S=x==C,A=S&&v||{};Object.keys(b).forEach(D=>{let W=D,a1=b[D];if("offset"!==D)switch(W=e.normalizePropertyName(W,l),a1){case"!":a1=i[D];break;case Q8:a1=s[D];break;default:a1=e.normalizeStyleValue(D,W,a1,l)}A[W]=a1}),S||f.push(A),v=A,C=x}),l.length)throw function kE1(n){return new c.vHH(3502,he)}();return f}function BT(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&UT(t,"start",n)));break;case"done":n.onDone(()=>r(t&&UT(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&UT(t,"destroy",n)))}}function UT(n,e,t){const r=t.totalTime,s=GT(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function GT(n,e,t,r,i="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!l}}function An(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function HY(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let jT=(n,e)=>!1,AY=(n,e,t)=>[],EY=null;function qT(n){const e=n.parentNode||n.host;return e===EY?null:e}(OT()||"undefined"!=typeof Element)&&(WE1()?(EY=(()=>document.documentElement)(),jT=(n,e)=>{for(;e;){if(e===n)return!0;e=qT(e)}return!1}):jT=(n,e)=>n.contains(e),AY=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let va=null,TY=!1;function DY(n){va||(va=function KE1(){return"undefined"!=typeof document?document.body:null}()||{},TY=!!va.style&&"WebkitAppearance"in va.style);let e=!0;return va.style&&!function ZE1(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in va.style,!e&&TY&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in va.style)),e}const IY=jT,NY=AY;let kY=(()=>{class n{validateStyleProperty(t){return DY(t)}matchesElement(t,r){return!1}containsElement(t,r){return IY(t,r)}getParentElement(t){return qT(t)}query(t,r,i){return NY(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,l,f=[],C){return new Fd(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),$T=(()=>{class n{}return n.NOOP=new kY,n})();const WT="ng-enter",q_="ng-leave",$_="ng-trigger",W_=".ng-trigger",PY="ng-animating",ZT=".ng-animating";function ya(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:KT(parseFloat(e[1]),e[2])}function KT(n,e){return"s"===e?1e3*n:n}function Z_(n,e,t){return n.hasOwnProperty("duration")?n:function JE1(n,e,t){let i,s=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(SY()),{duration:0,delay:0,easing:""};i=KT(parseFloat(f[1]),f[2]);const C=f[3];null!=C&&(s=KT(parseFloat(C),f[4]));const v=f[5];v&&(l=v)}else i=n;if(!t){let f=!1,C=e.length;i<0&&(e.push(function CE1(){return new c.vHH(3100,he)}()),f=!0),s<0&&(e.push(function pE1(){return new c.vHH(3101,he)}()),f=!0),f&&e.splice(C,0,SY())}return{duration:i,delay:s,easing:l}}(n,e,t)}function p9(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function t0(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else p9(n,t);return t}function OY(n,e,t){return t?e+":"+t+";":""}function BY(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=OY(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=OY(0,tT1(t),n.style[t]));n.setAttribute("style",e)}function X5(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=QT(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),OT()&&BY(n))}function _a(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=QT(t);n.style[r]=""}),OT()&&BY(n))}function nh(n){return Array.isArray(n)?1==n.length?n[0]:M$(n):n}const YT=new RegExp("{{\\s*(.+?)\\s*}}","g");function UY(n){let e=[];if("string"==typeof n){let t;for(;t=YT.exec(n);)e.push(t[1]);YT.lastIndex=0}return e}function K_(n,e,t){const r=n.toString(),i=r.replace(YT,(s,l)=>{let f=e[l];return e.hasOwnProperty(l)||(t.push(function gE1(n){return new c.vHH(3003,he)}()),f=""),f.toString()});return i==r?n:i}function Y_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const eT1=/-+([a-z0-9])/g;function QT(n){return n.replace(eT1,(...e)=>e[1].toUpperCase())}function tT1(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function En(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function vE1(n){return new c.vHH(3004,he)}()}}function GY(n,e){return window.getComputedStyle(n)[e]}function oT1(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function cT1(n,e,t){if(":"==n[0]){const C=function lT1(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function TE1(n){return new c.vHH(3016,he)}()),"* => *"}}(n,t);if("function"==typeof C)return void e.push(C);n=C}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function EE1(n){return new c.vHH(3015,he)}()),e;const i=r[1],s=r[2],l=r[3];e.push(jY(i,l));"<"==s[0]&&!("*"==i&&"*"==l)&&e.push(jY(l,i))}(r,t,e)):t.push(n),t}const eM=new Set(["true","1"]),tM=new Set(["false","0"]);function jY(n,e){const t=eM.has(n)||tM.has(n),r=eM.has(e)||tM.has(e);return(i,s)=>{let l="*"==n||n==i,f="*"==e||e==s;return!l&&t&&"boolean"==typeof i&&(l=i?eM.has(n):tM.has(n)),!f&&r&&"boolean"==typeof s&&(f=s?eM.has(e):tM.has(e)),l&&f}}const uT1=new RegExp("s*:selfs*,?","g");function JT(n,e,t,r){return new fT1(n).build(e,t,r)}class fT1{constructor(e){this._driver=e}build(e,t,r){const i=new CT1(t);this._resetContextStyleTimingState(i);const s=En(this,nh(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function _E1(){return new c.vHH(3006,he)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const C=f,v=C.name;v.toString().split(/\s*,\s*/).forEach(b=>{C.name=b,s.push(this.visitState(C,t))}),C.name=v}else if(1==f.type){const C=this.visitTransition(f,t);r+=C.queryCount,i+=C.depCount,l.push(C)}else t.errors.push(function ME1(){return new c.vHH(3007,he)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,l=i||{};r.styles.forEach(f=>{if(nM(f)){const C=f;Object.keys(C).forEach(v=>{UY(C[v]).forEach(b=>{l.hasOwnProperty(b)||s.add(b)})})}}),s.size&&(Y_(s.values()),t.errors.push(function LE1(n,e){return new c.vHH(3008,he)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=En(this,nh(e.animation),t);return{type:1,matchers:oT1(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ma(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>En(this,r,t)),options:Ma(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(l=>{t.currentTime=r;const f=En(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:s,options:Ma(e.options)}}visitAnimate(e,t){const r=function mT1(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return XT(Z_(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=XT(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Z_(t,e);return XT(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Pd({});if(5==s.type)i=this.visitKeyframes(s,t);else{let l=e.styles,f=!1;if(!l){f=!0;const v={};r.easing&&(v.easing=r.easing),l=Pd(v)}t.currentTime+=r.duration+r.delay;const C=this.visitStyle(l,t);C.isEmptyStep=f,i=C}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(l=>{"string"==typeof l?l==Q8?r.push(l):t.errors.push(function bE1(n){return new c.vHH(3002,he)}()):r.push(l)}):r.push(e.styles);let i=!1,s=null;return r.forEach(l=>{if(nM(l)){const f=l,C=f.easing;if(C&&(s=C,delete f.easing),!i)for(let v in f)if(f[v].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&Object.keys(l).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete l[f],void t.unsupportedCSSPropertiesFound.add(f);const C=t.collectedStyles[t.currentQuerySelector],v=C[f];let b=!0;v&&(s!=i&&s>=v.startTime&&i<=v.endTime&&(t.errors.push(function xE1(n,e,t,r,i){return new c.vHH(3010,he)}()),b=!1),s=v.startTime),b&&(C[f]={startTime:s,endTime:i}),t.options&&function XE1(n,e,t){const r=e.params||{},i=UY(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function mE1(n){return new c.vHH(3001,he)}())})}(l[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function wE1(){return new c.vHH(3011,he)}()),r;let s=0;const l=[];let f=!1,C=!1,v=0;const b=e.steps.map(H1=>{const F1=this._makeStyleAst(H1,t);let W1=null!=F1.offset?F1.offset:function pT1(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(nM(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(nM(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(F1.styles),J1=0;return null!=W1&&(s++,J1=F1.offset=W1),C=C||J1<0||J1>1,f=f||J1<v,v=J1,l.push(J1),F1});C&&t.errors.push(function zE1(){return new c.vHH(3012,he)}()),f&&t.errors.push(function SE1(){return new c.vHH(3200,he)}());const x=e.steps.length;let S=0;s>0&&s<x?t.errors.push(function VE1(){return new c.vHH(3202,he)}()):0==s&&(S=1/(x-1));const A=x-1,D=t.currentTime,W=t.currentAnimateTimings,a1=W.duration;return b.forEach((H1,F1)=>{const W1=S>0?F1==A?1:S*F1:l[F1],J1=W1*a1;t.currentTime=D+W.delay+J1,W.duration=J1,this._validateStyleAst(H1,t),H1.offset=W1,r.styles.push(H1)}),r}visitReference(e,t){return{type:8,animation:En(this,nh(e.animation),t),options:Ma(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ma(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ma(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function dT1(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(uT1,"")),n=n.replace(/@\*/g,W_).replace(/@\w+/g,t=>W_+"-"+t.substr(1)).replace(/:animating/g,ZT),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,An(t.collectedStyles,t.currentQuerySelector,{});const f=En(this,nh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Ma(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function HE1(){return new c.vHH(3013,he)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Z_(e.timings,t.errors,!0);return{type:12,animation:En(this,nh(e.animation),t),timings:r,options:null}}}class CT1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function nM(n){return!Array.isArray(n)&&"object"==typeof n}function Ma(n){return n?(n=p9(n)).params&&(n.params=function hT1(n){return n?p9(n):null}(n.params)):n={},n}function XT(n,e,t){return{duration:n,delay:e,easing:t}}function eD(n,e,t,r,i,s,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:l,subTimeline:f}}class rM{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const yT1=new RegExp(":enter","g"),MT1=new RegExp(":leave","g");function tD(n,e,t,r,i,s={},l={},f,C,v=[]){return(new LT1).buildKeyframes(n,e,t,r,i,s,l,f,C,v)}class LT1{buildKeyframes(e,t,r,i,s,l,f,C,v,b=[]){v=v||new rM;const x=new nD(e,t,v,i,s,b,[]);x.options=C,x.currentTimeline.setStyles([l],null,x.errors,C),En(this,r,x);const S=x.timelines.filter(A=>A.containsAnimation());if(Object.keys(f).length){let A;for(let D=S.length-1;D>=0;D--){const W=S[D];if(W.element===t){A=W;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([f],null,x.errors,C)}return S.length?S.map(A=>A.buildKeyframes()):[eD(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const l=null!=r.duration?ya(r.duration):null,f=null!=r.delay?ya(r.delay):null;return 0!==l&&e.forEach(C=>{const v=t.appendInstructionToTimeline(C,l,f);s=Math.max(s,v.duration+v.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),En(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=iM);const l=ya(s.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>En(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ya(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);s&&f.delayNextStep(s),En(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Z_(t.params?K_(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(C=>{f.forwardTime((C.offset||0)*s),f.setStyles(C.styles,C.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ya(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=iM);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let C=null;f.forEach((v,b)=>{t.currentQueryIndex=b;const x=t.createSubContext(e.options,v);s&&x.delayNextStep(s),v===t.element&&(C=x.currentTimeline),En(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),C&&(t.currentTimeline.mergeTimelineCollectedStyles(C),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),f=l*(t.currentQueryTotal-1);let C=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":C=f-C;break;case"full":C=r.currentStaggerTime}const b=t.currentTimeline;C&&b.delayNextStep(C);const x=b.currentTime;En(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const iM={};class nD{constructor(e,t,r,i,s,l,f,C){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=iM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new sM(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ya(r.duration)),null!=r.delay&&(i.delay=ya(r.delay));const s=r.params;if(s){let l=i.params;l||(l=this.options.params={}),Object.keys(s).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=K_(s[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new nD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=iM,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new bT1(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(yT1,"."+this._enterClassName)).replace(MT1,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!s&&0==f.length&&l.push(function AE1(n){return new c.vHH(3014,he)}()),f}}class sM{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new sM(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Q8,this._currentKeyframe[t]=Q8}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},l=function xT1(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Q8})):t0(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(l).forEach(f=>{const C=K_(l[f],s,r);this._pendingStyles[f]=C,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Q8),this._updateStyle(f,C)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,C)=>{const v=t0(f,!0);Object.keys(v).forEach(b=>{const x=v[b];"!"==x?e.add(b):x==Q8&&t.add(b)}),r||(v.offset=C/this.duration),i.push(v)});const s=e.size?Y_(e.values()):[],l=t.size?Y_(t.values()):[];if(r){const f=i[0],C=p9(f);f.offset=0,C.offset=1,i=[f,C]}return eD(this.element,i,s,l,this.duration,this.startTime,this.easing,!1)}}class bT1 extends sM{constructor(e,t,r,i,s,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=r+t,f=t/l,C=t0(e[0],!1);C.offset=0,s.push(C);const v=t0(e[0],!1);v.offset=WY(f),s.push(v);const b=e.length-1;for(let x=1;x<=b;x++){let S=t0(e[x],!1);S.offset=WY((t+S.offset*r)/l),s.push(S)}r=l,t=0,i="",e=s}return eD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function WY(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class rD{}class wT1 extends rD{normalizePropertyName(e,t){return QT(e)}normalizeStyleValue(e,t,r,i){let s="";const l=r.toString().trim();if(zT1[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function yE1(n,e){return new c.vHH(3005,he)}())}return l+s}}const zT1=(()=>function ST1(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ZY(n,e,t,r,i,s,l,f,C,v,b,x,S){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:l,timelines:f,queriedElements:C,preStyleProps:v,postStyleProps:b,totalTime:x,errors:S}}const iD={};class KY{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function VT1(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],l=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):l}build(e,t,r,i,s,l,f,C,v,b){const x=[],S=this.ast.options&&this.ast.options.params||iD,D=this.buildStyles(r,f&&f.params||iD,x),W=C&&C.params||iD,a1=this.buildStyles(i,W,x),H1=new Set,F1=new Map,W1=new Map,J1="void"===i,v2={params:Object.assign(Object.assign({},S),W)},A2=b?[]:tD(e,t,this.ast.animation,s,l,D,a1,v2,v,x);let te=0;if(A2.forEach(h4=>{te=Math.max(h4.duration+h4.delay,te)}),x.length)return ZY(t,this._triggerName,r,i,J1,D,a1,[],[],F1,W1,te,x);A2.forEach(h4=>{const lr=h4.element,RJ=An(F1,lr,{});h4.preStyleProps.forEach(xa=>RJ[xa]=!0);const dh=An(W1,lr,{});h4.postStyleProps.forEach(xa=>dh[xa]=!0),lr!==t&&H1.add(lr)});const e3=Y_(H1.values());return ZY(t,this._triggerName,r,i,J1,D,a1,A2,e3,F1,W1,te)}}class HT1{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=p9(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!=l&&(i[s]=l)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const l=s;Object.keys(l).forEach(f=>{let C=l[f];C.length>1&&(C=K_(C,i,t));const v=this.normalizer.normalizePropertyName(f,t);C=this.normalizer.normalizeStyleValue(f,v,C,t),r[v]=C})}}),r}}class ET1{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new HT1(i.style,i.options&&i.options.params||{},r)}),YY(this.states,"true","1"),YY(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new KY(e,i,this.states))}),this.fallbackTransition=function TT1(n,e,t){return new KY(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function YY(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const DT1=new rM;class IT1{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=JT(this._driver,t,r,[]);if(r.length)throw function RE1(n){return new c.vHH(3503,he)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=VY(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let l;const f=new Map;if(s?(l=tD(this._driver,t,s,WT,q_,{},{},r,DT1,i),l.forEach(b=>{const x=An(f,b.element,{});b.postStyleProps.forEach(S=>x[S]=null)})):(i.push(function PE1(){return new c.vHH(3300,he)}()),l=[]),i.length)throw function FE1(n){return new c.vHH(3504,he)}();f.forEach((b,x)=>{Object.keys(b).forEach(S=>{b[S]=this._driver.computeStyle(x,S,Q8)})});const v=e0(l.map(b=>{const x=f.get(b.element);return this._buildPlayer(b,{},x)}));return this._playersById[e]=v,v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function OE1(n){return new c.vHH(3301,he)}();return t}listen(e,t,r,i){const s=GT(t,"","","");return BT(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const QY="ng-animate-queued",sD="ng-animate-disabled",FT1=[],JY={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},OT1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},g6="__ng_removed";class aD{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function jT1(n){return null!=n?n:null}(r?e.value:e),r){const s=p9(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const rh="void",oD=new aD(rh);class BT1{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,v6(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function BE1(n,e){return new c.vHH(3302,he)}();if(null==r||0==r.length)throw function UE1(n){return new c.vHH(3303,he)}();if(!function qT1(n){return"start"==n||"done"==n}(r))throw function GE1(n,e){return new c.vHH(3400,he)}();const s=An(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};s.push(l);const f=An(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(v6(e,$_),v6(e,$_+"-"+t),f[t]=oD),()=>{this._engine.afterFlush(()=>{const C=s.indexOf(l);C>=0&&s.splice(C,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function jE1(n){return new c.vHH(3401,he)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),l=new cD(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(v6(e,$_),v6(e,$_+"-"+t),this._engine.statesByElement.set(e,f={}));let C=f[t];const v=new aD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&C&&v.absorbOptions(C.options),f[t]=v,C||(C=oD),v.value!==rh&&C.value===v.value){if(!function ZT1(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(C.params,v.params)){const W=[],a1=s.matchStyles(C.value,C.params,W),H1=s.matchStyles(v.value,v.params,W);W.length?this._engine.reportError(W):this._engine.afterFlush(()=>{_a(e,a1),X5(e,H1)})}return}const S=An(this._engine.playersByElement,e,[]);S.forEach(W=>{W.namespaceId==this.id&&W.triggerName==t&&W.queued&&W.destroy()});let A=s.matchTransition(C.value,v.value,e,v.params),D=!1;if(!A){if(!i)return;A=s.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:A,fromState:C,toState:v,player:l,isFallbackTransition:D}),D||(v6(e,QY),l.onStart(()=>{m9(e,QY)})),l.onDone(()=>{let W=this.players.indexOf(l);W>=0&&this.players.splice(W,1);const a1=this._engine.playersByElement.get(e);if(a1){let H1=a1.indexOf(l);H1>=0&&a1.splice(H1,1)}}),this.players.push(l),S.push(l),l}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,W_,!0);r.forEach(i=>{if(i[g6])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const f=[];if(Object.keys(s).forEach(C=>{if(l.set(C,s[C].value),this._triggers[C]){const v=this.trigger(e,C,rh,i);v&&f.push(v)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&e0(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const l=s.name;if(i.has(l))return;i.add(l);const C=this._triggers[l].fallbackTransition,v=r[l]||oD,b=new aD(rh),x=new cD(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:C,fromState:v,toState:b,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[g6];(!s||s===JY)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){v6(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,l=this._elementListeners.get(s);l&&l.forEach(f=>{if(f.name==r.triggerName){const C=GT(s,r.triggerName,r.fromState.value,r.toState.value);C._data=e,BT(r.player,f.phase,C,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class UT1{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new BT1(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let l=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const C=i.get(f);if(C){const v=r.indexOf(C);r.splice(v+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}}else for(let f=s;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),l=!0;break}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const l=r[i[s]].namespaceId;if(l){const f=this._fetchNamespace(l);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(aM(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!aM(t))return;const s=t[g6];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),v6(e,sD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),m9(e,sD))}removeNode(e,t,r,i){if(aM(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[g6]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return aM(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,W_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ZT,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return e0(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[g6];if(r&&r.setForRemoval){if(e[g6]=JY,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(sD))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)v6(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?e0(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function qE1(n){return new c.vHH(3402,he)}()}_flushAnimations(e,t){const r=new rM,i=[],s=new Map,l=[],f=new Map,C=new Map,v=new Map,b=new Set;this.disabledNodes.forEach(x2=>{b.add(x2);const N2=this.driver.query(x2,".ng-animate-queued",!0);for(let U2=0;U2<N2.length;U2++)b.add(N2[U2])});const x=this.bodyNode,S=Array.from(this.statesByElement.keys()),A=tQ(S,this.collectedEnterElements),D=new Map;let W=0;A.forEach((x2,N2)=>{const U2=WT+W++;D.set(N2,U2),x2.forEach(Me=>v6(Me,U2))});const a1=[],H1=new Set,F1=new Set;for(let x2=0;x2<this.collectedLeaveElements.length;x2++){const N2=this.collectedLeaveElements[x2],U2=N2[g6];U2&&U2.setForRemoval&&(a1.push(N2),H1.add(N2),U2.hasAnimation?this.driver.query(N2,".ng-star-inserted",!0).forEach(Me=>H1.add(Me)):F1.add(N2))}const W1=new Map,J1=tQ(S,Array.from(H1));J1.forEach((x2,N2)=>{const U2=q_+W++;W1.set(N2,U2),x2.forEach(Me=>v6(Me,U2))}),e.push(()=>{A.forEach((x2,N2)=>{const U2=D.get(N2);x2.forEach(Me=>m9(Me,U2))}),J1.forEach((x2,N2)=>{const U2=W1.get(N2);x2.forEach(Me=>m9(Me,U2))}),a1.forEach(x2=>{this.processLeaveNode(x2)})});const v2=[],A2=[];for(let x2=this._namespaceList.length-1;x2>=0;x2--)this._namespaceList[x2].drainQueuedTransitions(t).forEach(U2=>{const Me=U2.player,k4=U2.element;if(v2.push(Me),this.collectedEnterElements.length){const Ot=k4[g6];if(Ot&&Ot.setForMove){if(Ot.previousTriggersValues&&Ot.previousTriggersValues.has(U2.triggerName)){const wa=Ot.previousTriggersValues.get(U2.triggerName),a0=this.statesByElement.get(U2.element);a0&&a0[U2.triggerName]&&(a0[U2.triggerName].value=wa)}return void Me.destroy()}}const r8=!x||!this.driver.containsElement(x,k4),Dn=W1.get(k4),s0=D.get(k4),E3=this._buildInstruction(U2,r,s0,Dn,r8);if(E3.errors&&E3.errors.length)return void A2.push(E3);if(r8)return Me.onStart(()=>_a(k4,E3.fromStyles)),Me.onDestroy(()=>X5(k4,E3.toStyles)),void i.push(Me);if(U2.isFallbackTransition)return Me.onStart(()=>_a(k4,E3.fromStyles)),Me.onDestroy(()=>X5(k4,E3.toStyles)),void i.push(Me);const OJ=[];E3.timelines.forEach(Ot=>{Ot.stretchStartingKeyframe=!0,this.disabledNodes.has(Ot.element)||OJ.push(Ot)}),E3.timelines=OJ,r.append(k4,E3.timelines),l.push({instruction:E3,player:Me,element:k4}),E3.queriedElements.forEach(Ot=>An(f,Ot,[]).push(Me)),E3.preStyleProps.forEach((Ot,wa)=>{const a0=Object.keys(Ot);if(a0.length){let za=C.get(wa);za||C.set(wa,za=new Set),a0.forEach(DD=>za.add(DD))}}),E3.postStyleProps.forEach((Ot,wa)=>{const a0=Object.keys(Ot);let za=v.get(wa);za||v.set(wa,za=new Set),a0.forEach(DD=>za.add(DD))})});if(A2.length){const x2=[];A2.forEach(N2=>{x2.push(function $E1(n,e){return new c.vHH(3505,he)}())}),v2.forEach(N2=>N2.destroy()),this.reportError(x2)}const te=new Map,e3=new Map;l.forEach(x2=>{const N2=x2.element;r.has(N2)&&(e3.set(N2,N2),this._beforeAnimationBuild(x2.player.namespaceId,x2.instruction,te))}),i.forEach(x2=>{const N2=x2.element;this._getPreviousPlayers(N2,!1,x2.namespaceId,x2.triggerName,null).forEach(Me=>{An(te,N2,[]).push(Me),Me.destroy()})});const h4=a1.filter(x2=>rQ(x2,C,v)),lr=new Map;eQ(lr,this.driver,F1,v,Q8).forEach(x2=>{rQ(x2,C,v)&&h4.push(x2)});const dh=new Map;A.forEach((x2,N2)=>{eQ(dh,this.driver,new Set(x2),C,"!")}),h4.forEach(x2=>{const N2=lr.get(x2),U2=dh.get(x2);lr.set(x2,Object.assign(Object.assign({},N2),U2))});const xa=[],PJ=[],FJ={};l.forEach(x2=>{const{element:N2,player:U2,instruction:Me}=x2;if(r.has(N2)){if(b.has(N2))return U2.onDestroy(()=>X5(N2,Me.toStyles)),U2.disabled=!0,U2.overrideTotalTime(Me.totalTime),void i.push(U2);let k4=FJ;if(e3.size>1){let Dn=N2;const s0=[];for(;Dn=Dn.parentNode;){const E3=e3.get(Dn);if(E3){k4=E3;break}s0.push(Dn)}s0.forEach(E3=>e3.set(E3,k4))}const r8=this._buildAnimation(U2.namespaceId,Me,te,s,dh,lr);if(U2.setRealPlayer(r8),k4===FJ)xa.push(U2);else{const Dn=this.playersByElement.get(k4);Dn&&Dn.length&&(U2.parentPlayer=e0(Dn)),i.push(U2)}}else _a(N2,Me.fromStyles),U2.onDestroy(()=>X5(N2,Me.toStyles)),PJ.push(U2),b.has(N2)&&i.push(U2)}),PJ.forEach(x2=>{const N2=s.get(x2.element);if(N2&&N2.length){const U2=e0(N2);x2.setRealPlayer(U2)}}),i.forEach(x2=>{x2.parentPlayer?x2.syncPlayerEvents(x2.parentPlayer):x2.destroy()});for(let x2=0;x2<a1.length;x2++){const N2=a1[x2],U2=N2[g6];if(m9(N2,q_),U2&&U2.hasAnimation)continue;let Me=[];if(f.size){let r8=f.get(N2);r8&&r8.length&&Me.push(...r8);let Dn=this.driver.query(N2,ZT,!0);for(let s0=0;s0<Dn.length;s0++){let E3=f.get(Dn[s0]);E3&&E3.length&&Me.push(...E3)}}const k4=Me.filter(r8=>!r8.destroyed);k4.length?$T1(this,N2,k4):this.processLeaveNode(N2)}return a1.length=0,xa.forEach(x2=>{this.players.push(x2),x2.onDone(()=>{x2.destroy();const N2=this.players.indexOf(x2);this.players.splice(N2,1)}),x2.play()}),xa}elementContainsData(e,t){let r=!1;const i=t[g6];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const C=!s||s==rh;f.forEach(v=>{v.queued||!C&&v.triggerName!=i||l.push(v)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const s=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const C of t.timelines){const v=C.element,b=v!==s,x=An(r,v,[]);this._getPreviousPlayers(v,b,l,f,t.toState).forEach(A=>{const D=A.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),A.destroy(),x.push(A)})}_a(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,l){const f=t.triggerName,C=t.element,v=[],b=new Set,x=new Set,S=t.timelines.map(D=>{const W=D.element;b.add(W);const a1=W[g6];if(a1&&a1.removedBeforeQueried)return new Fd(D.duration,D.delay);const H1=W!==C,F1=function WT1(n){const e=[];return nQ(n,e),e}((r.get(W)||FT1).map(te=>te.getRealPlayer())).filter(te=>!!te.element&&te.element===W),W1=s.get(W),J1=l.get(W),v2=VY(0,this._normalizer,0,D.keyframes,W1,J1),A2=this._buildPlayer(D,v2,F1);if(D.subTimeline&&i&&x.add(W),H1){const te=new cD(e,f,W);te.setRealPlayer(A2),v.push(te)}return A2});v.forEach(D=>{An(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>function GT1(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,D.element,D))}),b.forEach(D=>v6(D,PY));const A=e0(S);return A.onDestroy(()=>{b.forEach(D=>m9(D,PY)),X5(C,t.toStyles)}),x.forEach(D=>{An(i,D,[]).push(A)}),A}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Fd(e.duration,e.delay)}}class cD{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Fd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>BT(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){An(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function aM(n){return n&&1===n.nodeType}function XY(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function eQ(n,e,t,r,i){const s=[];t.forEach(C=>s.push(XY(C)));const l=[];r.forEach((C,v)=>{const b={};C.forEach(x=>{const S=b[x]=e.computeStyle(v,x,i);(!S||0==S.length)&&(v[g6]=OT1,l.push(v))}),n.set(v,b)});let f=0;return t.forEach(C=>XY(C,s[f++])),l}function tQ(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),s=new Map;function l(f){if(!f)return 1;let C=s.get(f);if(C)return C;const v=f.parentNode;return C=t.has(v)?v:i.has(v)?1:l(v),s.set(f,C),C}return e.forEach(f=>{const C=l(f);1!==C&&t.get(C).push(f)}),t}function v6(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function m9(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function $T1(n,e,t){e0(t).onDone(()=>n.processLeaveNode(e))}function nQ(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof x$?nQ(r.players,e):e.push(r)}}function rQ(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class oM{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new UT1(e,t,r),this._timelineEngine=new IT1(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const C=[],b=JT(this._driver,s,C,[]);if(C.length)throw function NE1(n,e){return new c.vHH(3404,he)}();f=function AT1(n,e,t){return new ET1(n,e,t)}(i,b,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,l]=HY(r);this._timelineEngine.command(s,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[l,f]=HY(r);return this._timelineEngine.listen(l,t,f,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let YT1=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&X5(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(X5(this._element,this._initialStyles),this._endStyles&&(X5(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_a(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_a(this._element,this._endStyles),this._endStyles=null),X5(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function lD(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];QT1(i)&&(e=e||{},e[i]=n[i])}return e}function QT1(n){return"display"===n||"position"===n}class iQ{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:GY(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class JT1{validateStyleProperty(e){return DY(e)}matchesElement(e,t){return!1}containsElement(e,t){return IY(e,t)}getParentElement(e){return qT(e)}query(e,t,r){return NY(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,l=[]){const C={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(C.easing=s);const v={},b=l.filter(S=>S instanceof iQ);(function nT1(n,e){return 0===n||0===e})(r,i)&&b.forEach(S=>{let A=S.currentSnapshot;Object.keys(A).forEach(D=>v[D]=A[D])}),t=function rT1(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],l=[];if(r.forEach(f=>{s.hasOwnProperty(f)||l.push(f),s[f]=t[f]}),l.length)for(var i=1;i<e.length;i++){let f=e[i];l.forEach(function(C){f[C]=GY(n,C)})}}return e}(e,t=t.map(S=>t0(S,!1)),v);const x=function KT1(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=lD(e[0]),e.length>1&&(r=lD(e[e.length-1]))):e&&(t=lD(e)),t||r?new YT1(n,t,r):null}(e,t);return new iQ(e,t,C,x)}}let XT1=(()=>{class n extends y${constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?M$(t):t;return sQ(this._renderer,null,r,"register",[i]),new eD1(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(c1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class eD1 extends class ep1{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new tD1(this._id,e,t||{},this._renderer)}}class tD1{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return sQ(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function sQ(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const aQ="@.disabled";let nD1=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,l)=>{const f=null==l?void 0:l.parentNode(s);f&&l.removeChild(f,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let b=this._rendererCache.get(s);return b||(b=new oQ("",s,this.engine),this._rendererCache.set(s,b)),b}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const C=b=>{Array.isArray(b)?b.forEach(C):this.engine.registerTrigger(l,f,t,b.name,b)};return r.data.animation.forEach(C),new rD1(this,f,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,f]=s;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(oM),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class oQ{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==aQ?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class rD1 extends oQ{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==aQ?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function iD1(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),l="";return"@"!=s.charAt(0)&&([s,l]=function sD1(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let aD1=(()=>{class n extends oM{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c1),c.LFG($T),c.LFG(rD))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const cQ=new c.OlP("AnimationModuleType"),lQ=[{provide:y$,useClass:XT1},{provide:rD,useFactory:function oD1(){return new wT1}},{provide:oM,useClass:aD1},{provide:c.FYo,useFactory:function cD1(n,e,t){return new nD1(n,e,t)},deps:[De,oM,c.R0b]}],uQ=[{provide:$T,useFactory:()=>new JT1},{provide:cQ,useValue:"BrowserAnimations"},...lQ],lD1=[{provide:$T,useClass:kY},{provide:cQ,useValue:"NoopAnimations"},...lQ];let uD1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?lD1:uQ}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:uQ,imports:[f5]}),n})();const fQ="firebasestorage.googleapis.com",dQ="storageBucket";class G3 extends N.ZR{constructor(e,t){super(uD(e),`Firebase Storage: ${t} (${uD(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,G3.prototype)}_codeEquals(e){return uD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function uD(n){return"storage/"+n}function fD(){return new G3("unknown","An unknown error occurred, please check the error payload for server response.")}function hQ(){return new G3("canceled","User canceled the upload/download.")}function CQ(){return new G3("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function g9(n){return new G3("invalid-argument",n)}function pQ(){return new G3("app-deleted","The Firebase app was deleted.")}function mQ(n){return new G3("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ih(n,e){return new G3("invalid-format","String does not match format '"+n+"': "+e)}function sh(n){throw new G3("internal-error","Internal error: "+n)}class ht{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ht.makeFromUrl(e,t)}catch(i){return new ht(e,"")}if(""===r.path)return r;throw function MD1(n){return new G3("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(J1){J1.path_=decodeURIComponent(J1.path)}const x=t.replace(/[.]/g,"\\."),W1=[{regex:f,indices:{bucket:1,path:3},postModify:function s(J1){"/"===J1.path.charAt(J1.path.length-1)&&(J1.path_=J1.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===fQ?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let J1=0;J1<W1.length;J1++){const v2=W1[J1],A2=v2.regex.exec(e);if(A2){let e3=A2[v2.indices.path];e3||(e3=""),r=new ht(A2[v2.indices.bucket],e3),v2.postModify(r);break}}if(null==r)throw function _D1(n){return new G3("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class wD1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function lM(n){return"string"==typeof n||n instanceof String}function gQ(n){return dD()&&n instanceof Blob}function dD(){return"undefined"!=typeof Blob}function hD(n,e,t,r){if(r<e)throw g9(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw g9(`Invalid value for '${n}'. Expected ${t} or less.`)}function sr(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function vQ(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var n0=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(n0||(n0={})),n0))();class ED1{constructor(e,t,r,i,s,l,f,C,v,b,x){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=C,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,A)=>{this.resolve_=S,this.reject_=A,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,l=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const C=this.callback_(f,f.getResponse());!function VD1(n){return void 0!==n}(C)?s():s(C)}catch(C){l(C)}else if(null!==f){const C=fD();C.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,C):C)}else l(i.canceled?this.appDelete_?pQ():hQ():function yD1(){return new G3("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new uM(!1,null,!0)):this.backoffId_=function zD1(n,e,t){let r=1,i=null,s=null,l=!1,f=0;function C(){return 2===f}let v=!1;function b(...a1){v||(v=!0,e.apply(null,a1))}function x(a1){i=setTimeout(()=>{i=null,n(A,C())},a1)}function S(){s&&clearTimeout(s)}function A(a1,...H1){if(v)return void S();if(a1)return S(),void b.call(null,a1,...H1);if(C()||l)return S(),void b.call(null,a1,...H1);let W1;r<64&&(r*=2),1===f?(f=2,W1=0):W1=1e3*(r+Math.random()),x(W1)}let D=!1;function W(a1){D||(D=!0,S(),!v&&(null!==i?(a1||(f=2),clearTimeout(i),x(0)):a1||(f=1)))}return x(0),s=setTimeout(()=>{l=!0,W(!0)},t),W}((r,i)=>{if(i)return void r(!1,new uM(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const f=s.getErrorCode()===n0.NO_ERROR,C=s.getStatus();if(!f||this.isRetryStatusCode_(C)){const b=s.getErrorCode()===n0.ABORT;return void r(!1,new uM(!1,null,b))}const v=-1!==this.successCodes_.indexOf(C);r(!0,new uM(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function SD1(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||s}}class uM{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function PD1(...n){const e=function RD1(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(dD())return new Blob(n);throw new G3("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class CD{constructor(e,t){this.data=e,this.contentType=t||null}}function pD(n,e){switch(n){case Tn.RAW:return new CD(yQ(e));case Tn.BASE64:case Tn.BASE64URL:return new CD(_Q(n,e));case Tn.DATA_URL:return new CD(function UD1(n){const e=new MQ(n);return e.base64?_Q(Tn.BASE64,e.rest):function BD1(n){let e;try{e=decodeURIComponent(n)}catch(t){throw ih(Tn.DATA_URL,"Malformed data URL.")}return yQ(e)}(e.rest)}(e),function GD1(n){return new MQ(n).contentType}(e))}throw fD()}function yQ(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function _Q(n,e){switch(n){case Tn.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw ih(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw ih(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function OD1(n){return atob(n)}(e)}catch(i){throw ih(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class MQ{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw ih(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function jD1(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class e8{constructor(e,t){let r=0,i="";gQ(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(gQ(this.data_)){const i=function FD1(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new e8(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new e8(r,!0)}}static getBlob(...e){if(dD()){const t=e.map(r=>r instanceof e8?r.data_:r);return new e8(PD1.apply(null,t))}{const t=e.map(l=>lM(l)?pD(Tn.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)i[s++]=l[f]}),new e8(i,!0)}}uploadData(){return this.data_}}function mD(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function AD1(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function LQ(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function WD1(n,e){return e}class Pt{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||WD1}}let fM=null;function ah(){if(fM)return fM;const n=[];n.push(new Pt("bucket")),n.push(new Pt("generation")),n.push(new Pt("metageneration")),n.push(new Pt("name","fullPath",!0));const t=new Pt("name");t.xform=function e(s,l){return function ZD1(n){return!lM(n)||n.length<2?n:LQ(n)}(l)},n.push(t);const i=new Pt("size");return i.xform=function r(s,l){return void 0!==l?Number(l):l},n.push(i),n.push(new Pt("timeCreated")),n.push(new Pt("updated")),n.push(new Pt("md5Hash",null,!0)),n.push(new Pt("cacheControl",null,!0)),n.push(new Pt("contentDisposition",null,!0)),n.push(new Pt("contentEncoding",null,!0)),n.push(new Pt("contentLanguage",null,!0)),n.push(new Pt("contentType",null,!0)),n.push(new Pt("metadata","customMetadata",!0)),fM=n,fM}function bQ(n,e,t){const r=mD(e);return null===r?null:function YD1(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const l=t[s];r[l.local]=l.xform(r,e[l.server])}return function KD1(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ht(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function gD(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const xQ="prefixes";class t8{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function n8(n){if(!n)throw fD()}function dM(n,e){return function t(r,i){const s=bQ(n,i,e);return n8(null!==s),s}}function v9(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function gD1(){return new G3("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function mD1(){return new G3("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function pD1(n){return new G3("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function vD1(n){return new G3("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function oh(n){const e=v9(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function CD1(n){return new G3("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function zQ(n,e,t){const i=sr(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new t8(i,"GET",dM(n,t),l);return f.errorHandler=oh(e),f}function nI1(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const f=sr(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,b=new t8(f,"GET",function eI1(n,e){return function t(r,i){const s=function XD1(n,e,t){const r=mD(t);return null===r?null:function JD1(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[xQ])for(const i of t[xQ]){const s=i.replace(/\/$/,""),l=n._makeStorageReference(new ht(e,s));r.prefixes.push(l)}if(t.items)for(const i of t.items){const s=n._makeStorageReference(new ht(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return n8(null!==s),s}}(n,e.bucket),v);return b.urlParams=s,b.errorHandler=v9(e),b}function VQ(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function aI1(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class hM{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function vD(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){n8(!1)}return n8(!!t&&-1!==(e||["active"]).indexOf(t)),t}const uI1={STATE_CHANGED:"state_changed"},Ft={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yD(n){switch(n){case"running":case"pausing":case"canceling":return Ft.RUNNING;case"paused":return Ft.PAUSED;case"success":return Ft.SUCCESS;case"canceled":return Ft.CANCELED;default:return Ft.ERROR}}class fI1{constructor(e,t,r){if(function HD1(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function y9(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class hI1 extends class dI1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=n0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=n0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=n0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw sh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sh("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw sh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function i5(){return new hI1}class TQ{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=ah(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function oI1(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),l=VQ(e,r,i),f={name:l.fullPath},C=sr(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},x=gD(l,t),D=new t8(C,"POST",function A(W){let a1;vD(W);try{a1=W.getResponseHeader("X-Goog-Upload-URL")}catch(H1){n8(!1)}return n8(lM(a1)),a1},n.maxUploadRetryTime);return D.urlParams=f,D.headers=b,D.body=x,D.errorHandler=v9(e),D}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,i5,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function cI1(n,e,t,r){const C=new t8(t,"POST",function s(v){const b=vD(v,["active","final"]);let x=null;try{x=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch(A){n8(!1)}x||n8(!1);const S=Number(x);return n8(!isNaN(S)),new hM(S,r.size(),"final"===b)},n.maxUploadRetryTime);return C.headers={"X-Goog-Upload-Command":"query"},C.errorHandler=v9(e),C}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,i5,t,r);this._request=s,s.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new hM(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let l;try{l=function lI1(n,e,t,r,i,s,l,f){const C=new hM(0,0);if(l?(C.current=l.current,C.total=l.total):(C.current=0,C.total=r.size()),r.size()!==C.total)throw function bD1(){return new G3("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=C.total-C.current;let b=v;i>0&&(b=Math.min(b,i));const x=C.current,D={"X-Goog-Upload-Command":b===v?"upload, finalize":"upload","X-Goog-Upload-Offset":`${C.current}`},W=r.slice(x,x+b);if(null===W)throw CQ();const W1=new t8(t,"POST",function a1(J1,v2){const A2=vD(J1,["active","final"]),te=C.current+b,e3=r.size();let h4;return h4="final"===A2?dM(e,s)(J1,v2):null,new hM(te,e3,"final"===A2,h4)},e.maxUploadRetryTime);return W1.headers=D,W1.body=W.uploadData(),W1.progressCallback=f||null,W1.errorHandler=v9(n),W1}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(C){return this._error=C,void this._transition("error")}const f=this._ref.storage._makeRequest(l,i5,i,s);this._request=f,f.getPromise().then(C=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(C.current),C.finalized?(this._metadata=C.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=zQ(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,i5,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function HQ(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},C=function f(){let W1="";for(let J1=0;J1<2;J1++)W1+=Math.random().toString().slice(2);return W1}();l["Content-Type"]="multipart/related; boundary="+C;const v=VQ(e,r,i),b=gD(v,t),A=e8.getBlob("--"+C+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+C+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+C+"--");if(null===A)throw CQ();const D={name:v.fullPath},W=sr(s,n.host,n._protocol),H1=n.maxUploadRetryTime,F1=new t8(W,"POST",dM(n,t),H1);return F1.urlParams=D,F1.headers=l,F1.body=A.uploadData(),F1.errorHandler=v9(e),F1}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,i5,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=hQ(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=yD(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new fI1(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(yD(this._state)){case Ft.SUCCESS:y9(this._resolve.bind(null,this.snapshot))();break;case Ft.CANCELED:case Ft.ERROR:y9(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yD(this._state)){case Ft.RUNNING:case Ft.PAUSED:e.next&&y9(e.next.bind(e,this.snapshot))();break;case Ft.SUCCESS:e.complete&&y9(e.complete.bind(e))();break;default:e.error&&y9(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class La{constructor(e,t){this._service=e,this._location=t instanceof ht?t:ht.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new La(e,t)}get root(){const e=new ht(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LQ(this._location.path)}get storage(){return this._service}get parent(){const e=function qD1(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ht(this._location.bucket,e);return new La(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw mQ(e)}}function IQ(n,e,t){return _D.apply(this,arguments)}function _D(){return _D=(0,w1.Z)(function*(n,e,t){const i=yield NQ(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield IQ(n,e,i.nextPageToken))}),_D.apply(this,arguments)}function NQ(n,e){null!=e&&"number"==typeof e.maxResults&&hD("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=nI1(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,i5)}function wI1(n){n._throwIfRoot("getDownloadURL");const e=function rI1(n,e,t){const i=sr(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new t8(i,"GET",function tI1(n,e){return function t(r,i){const s=bQ(n,i,e);return n8(null!==s),function QD1(n,e,t,r){const i=mD(e);if(null===i||!lM(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(v=>{const x=n.fullPath;return sr("/b/"+l(n.bucket)+"/o/"+l(x),t,r)+vQ({alt:"media",token:v})})[0]}(s,i,n.host,n._protocol)}}(n,t),l);return f.errorHandler=oh(e),f}(n.storage,n._location,ah());return n.storage.makeRequestWithTokens(e,i5).then(t=>{if(null===t)throw function xD1(){return new G3("no-download-url","The given file does not have any download URLs.")}();return t})}function kQ(n,e){const t=function $D1(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ht(n._location.bucket,t);return new La(n.storage,r)}function RQ(n,e){if(n instanceof MD){const t=n;if(null==t._bucket)throw function LD1(){return new G3("no-default-bucket","No default bucket found. Did you set the '"+dQ+"' property when initializing the app?")}();const r=new La(t,t._bucket);return null!=e?RQ(r,e):r}return void 0!==e?kQ(n,e):n}function HI1(n,e){if(e&&function SI1(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof MD)return function VI1(n,e){return new La(n,e)}(n,e);throw g9("To use ref(service, url), the first argument must be a Storage instance.")}return RQ(n,e)}function PQ(n,e){const t=null==e?void 0:e[dQ];return null==t?null:ht.makeFromBucketSpec(t,n)}class MD{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=fQ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ht.makeFromBucketSpec(i,this._host):PQ(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ht.makeFromBucketSpec(this._url,e):PQ(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,w1.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,w1.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new La(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new wD1(pQ());{const s=function kD1(n,e,t,r,i,s){const l=vQ(n.urlParams),f=n.url+l,C=Object.assign({},n.headers);return function ID1(n,e){e&&(n["X-Firebase-GMPID"]=e)}(C,e),function TD1(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(C,t),function DD1(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(C,s),function ND1(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(C,r),new ED1(f,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return(0,w1.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const FQ="@firebase/storage";function UQ(n,e){return HI1(n=(0,N.m9)(n),e)}function OI1(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new MD(t,r,i,e,St.SDK_VERSION)}!function BI1(){(0,St._registerComponent)(new Z6.wA("storage",OI1,"PUBLIC").setMultipleInstances(!0)),(0,St.registerVersion)(FQ,"0.9.6",""),(0,St.registerVersion)(FQ,"0.9.6","esm2017")}();class CM{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class GQ{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new CM(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new CM(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?l=>t(new CM(l,this,this._ref)):{next:t.next?l=>t.next(new CM(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class jQ{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ar(e,this._service))}get items(){return this._delegate.items.map(e=>new ar(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ar{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function PI1(n,e){return kQ(n,e)}(this._delegate,e);return new ar(t,this.storage)}get root(){return new ar(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ar(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new GQ(function EI1(n,e,t){return function _I1(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new TQ(n,new e8(e),t)}(n=(0,N.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Tn.RAW,r){this._throwIfRoot("putString");const i=pD(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new GQ(new TQ(this._delegate,new e8(i.data,!0),s),this)}listAll(){return function NI1(n){return function LI1(n){const e={prefixes:[],items:[]};return IQ(n,e).then(()=>e)}(n=(0,N.m9)(n))}(this._delegate).then(e=>new jQ(e,this.storage))}list(e){return function II1(n,e){return NQ(n=(0,N.m9)(n),e)}(this._delegate,e||void 0).then(t=>new jQ(t,this.storage))}getMetadata(){return function TI1(n){return function bI1(n){n._throwIfRoot("getMetadata");const e=zQ(n.storage,n._location,ah());return n.storage.makeRequestWithTokens(e,i5)}(n=(0,N.m9)(n))}(this._delegate)}updateMetadata(e){return function DI1(n,e){return function xI1(n,e){n._throwIfRoot("updateMetadata");const t=function iI1(n,e,t,r){const s=sr(e.fullServerUrl(),n.host,n._protocol),f=gD(t,r),v=n.maxOperationRetryTime,b=new t8(s,"PATCH",dM(n,r),v);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=f,b.errorHandler=oh(e),b}(n.storage,n._location,e,ah());return n.storage.makeRequestWithTokens(t,i5)}(n=(0,N.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function kI1(n){return wI1(n=(0,N.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function RI1(n){return function zI1(n){n._throwIfRoot("deleteObject");const e=function sI1(n,e){const r=sr(e.fullServerUrl(),n.host,n._protocol),f=new t8(r,"DELETE",function l(C,v){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=oh(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,i5)}(n=(0,N.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw mQ(e)}}class qQ{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if($Q(e))throw g9("ref() expected a child path but got a URL, use refFromURL instead.");return new ar(UQ(this._delegate,e),this)}refFromURL(e){if(!$Q(e))throw g9("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ht.makeFromUrl(e,this._delegate.host)}catch(t){throw g9("refFromUrl() expected a valid full URL but got an invalid one.")}return new ar(UQ(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function FI1(n,e,t,r={}){!function AI1(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,N.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function $Q(n){return/^[A-Za-z]+:\/\//.test(n)}function qI1(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new qQ(t,r)}function WQ(n){const e=function WI1(n){return new We.y(e=>{const t=l=>e.next(l);t(n.snapshot);const s=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){s()}}).pipe(function fD1(n,e=Dz.z){return(0,w3.e)((t,r)=>{let i=null,s=null,l=null;const f=()=>{if(i){i.unsubscribe(),i=null;const v=s;s=null,r.next(v)}};function C(){const v=l+n,b=e.now();if(b<v)return i=this.schedule(void 0,v-b),void r.add(i);f()}t.subscribe((0,Ge.x)(r,v=>{s=v,l=e.now(),i||(i=e.schedule(C,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{s=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,M2.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function pM(n){return{getDownloadURL:()=>b2(void 0).pipe(re.fc,Ne(()=>n.getDownloadURL()),re.iC),getMetadata:()=>b2(void 0).pipe(re.fc,Ne(()=>n.getMetadata()),re.iC),delete:()=>(0,Be.D)(n.delete()),child:e=>pM(n.child(e)),updateMetadata:e=>(0,Be.D)(n.updateMetadata(e)),put:(e,t)=>WQ(n.put(e,t)),putString:(e,t,r)=>WQ(n.putString(e,t,r)),list:e=>(0,Be.D)(n.list(e)),listAll:()=>(0,Be.D)(n.listAll())}}!function $I1(n){const e={TaskState:Ft,TaskEvent:uI1,StringFormat:Tn,Storage:qQ,Reference:ar};n.INTERNAL.registerComponent(new Z6.wA("storage-compat",qI1,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(Nz.Z);const ZI1=new c.OlP("angularfire2.storageBucket"),KI1=new c.OlP("angularfire2.storage.maxUploadRetryTime"),YI1=new c.OlP("angularfire2.storage.maxOperationRetryTime"),QI1=new c.OlP("angularfire2.storage.use-emulator");let JI1=(()=>{class n{constructor(t,r,i,s,l,f,C,v,b,x){const S=(0,V3.on)(t,l,r);this.storage=(0,V3.cc)(`${S.name}.storage.${i}`,"AngularFireStorage",S.name,()=>{const A=l.runOutsideAngular(()=>S.storage(i||void 0)),D=b;return D&&A.useEmulator(...D),C&&A.setMaxUploadRetryTime(C),v&&A.setMaxOperationRetryTime(v),A},[C,v])}ref(t){return pM(this.storage.ref(t))}refFromURL(t){return pM(this.storage.refFromURL(t))}upload(t,r,i){return pM(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(V3.Dh),c.LFG(V3.xv,8),c.LFG(ZI1,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(re.HU),c.LFG(KI1,8),c.LFG(YI1,8),c.LFG(QI1,8),c.LFG(Af,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XI1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),eN1=(()=>{class n{constructor(){Ds.Z.registerVersion("angularfire",re.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[JI1],imports:[XI1]}),n})();var ZQ=T(655),tN1=T(7982);const YQ="firebase_screen_id",bD="outlet",ch="screen_class",QQ="screen_name";let CN1=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const xD={},pN1=n=>{const e=[n[ch],n[bD]].join("#");if(xD.hasOwnProperty(e))return xD[e];{const t=CN1++;return xD[e]=t,t}},MN1=new c.OlP("angularfire2.analytics.analyticsCollectionEnabled"),LN1=new c.OlP("angularfire2.analytics.appVersion"),bN1=new c.OlP("angularfire2.analytics.appName"),xN1=new c.OlP("angularfire2.analytics.debugMode"),wN1=new c.OlP("angularfire2.analytics.config"),mM="dataLayer";let lh=(()=>{class n{constructor(t,r,i,s,l,f,C,v,b){if(this.analyticsInitialized=new Promise(()=>{}),Ye(C)){window[mM]=window[mM]||[];const S=(...W)=>"config"===W[0]&&"firebase"===W[2].origin&&(this.measurementId=W[1],!0),A=W=>{window.gtag=(...a1)=>{W&&W(...a1),"event"===a1[0]&&a1[2].send_to===this.measurementId&&(s&&(a1[2].app_name=s),i&&(a1[2].app_version=i)),l&&"undefined"!=typeof console&&console.info(...a1),function(...H1){window[mM].push(arguments)}(...a1)}};window[mM].some(S)?(this.analyticsInitialized=Promise.resolve(),A()):this.analyticsInitialized=new Promise(W=>{A((...a1)=>{S(...a1)&&W()})}),f&&this.updateConfig(f),l&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const x=b2(void 0).pipe((0,zf.Q)(b.outsideAngular),Ne(tN1.Gb),Ne(S=>S?v.runOutsideAngular(()=>T.e(643).then(T.bind(T,8643))):v5.E),(0,M2.U)(()=>(0,V3.cc)("analytics","AngularFireAnalytics",t.name,()=>{const S=t.analytics();return!1===r&&S.setAnalyticsCollectionEnabled(!1),S},[t,r,f,l])),$S({bufferSize:1,refCount:!1}));return(0,V3.pX)(this,x,v)}updateConfig(t){return(0,ZQ.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(V3.Ot),c.LFG(MN1,8),c.LFG(LN1,8),c.LFG(bN1,8),c.LFG(xN1,8),c.LFG(wN1,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(re.HU))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XQ=(()=>{class n{constructor(t,r,i,s){if(this.disposables=[],Ds.Z.registerVersion("angularfire",re.q4.full,"compat-user-tracking"),K3(r))this.initialized=Promise.resolve();else{let l;this.initialized=s.runOutsideAngular(()=>new Promise(f=>l=f)),this.disposables=[i.authState.subscribe(f=>{t.setUserId(null==f?void 0:f.uid),l()}),i.credential.subscribe(f=>{if(f){const C=f.user.isAnonymous?"anonymous":f.additionalUserInfo.providerId;f.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:C}),t.logEvent("login",{method:C})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lh),c.LFG(c.Lbi),c.LFG(Ef),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),TN1=(()=>{class n{constructor(t,r,i,s,l,f){if(Ds.Z.registerVersion("angularfire",re.q4.full,"compat-screen-tracking"),!r||!t)return this;l.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(s4(i=>i instanceof $n)).pipe(Ne(i=>{var s;const f=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,A=>A.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",C=n.routerState.root.children.map(A=>A).find(A=>A.outlet===i.snapshot.outlet);if(!C)return b2(null);let v=C;for(;v.firstChild;)v=v.firstChild;const b=v.pathFromRoot.map(A=>{var D;return null===(D=A.routeConfig)||void 0===D?void 0:D.path}).filter(A=>A).join("/")||"/",x={[QQ]:b,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:b,[bD]:i.snapshot.outlet};e&&(x.page_title=e.getTitle());let S=C.component;if(S){if(S===Ur){let A=i.snapshot;for(;A.firstChild;)A=A.firstChild;S=A.component}}else S=i.snapshot.component;if("string"==typeof S)return b2(Object.assign(Object.assign({},x),{[ch]:S}));if(S){const A=t.resolveComponentFactory(S);return b2(Object.assign(Object.assign({},x),{[ch]:A.selector}))}return b2(null)}),s4(i=>!!i),(0,M2.U)(i=>Object.assign({firebase_screen_class:i[ch],[YQ]:pN1(i)},i)),function nN1(n,e,t,r){return(0,w3.e)((i,s)=>{let l;e&&"function"!=typeof e?({duration:t,element:l,connector:r}=e):l=e;const f=new Map,C=D=>{f.forEach(D),D(s)},v=D=>C(W=>W.error(D));let b=0,x=!1;const S=new Ge.Q(s,D=>{try{const W=n(D);let a1=f.get(W);if(!a1){f.set(W,a1=r?r():new Qe.x);const H1=function A(D,W){const a1=new We.y(H1=>{b++;const F1=W.subscribe(H1);return()=>{F1.unsubscribe(),0==--b&&x&&S.unsubscribe()}});return a1.key=D,a1}(W,a1);if(s.next(H1),t){const F1=(0,Ge.x)(a1,()=>{a1.complete(),null==F1||F1.unsubscribe()},void 0,void 0,()=>f.delete(W));S.add((0,Qt.Xf)(t(H1)).subscribe(F1))}}a1.next(l?l(D):D)}catch(W){v(W)}},()=>C(D=>D.complete()),v,()=>f.clear(),()=>(x=!0,0===b));i.subscribe(S)})}(i=>i[bD]),(0,i3.z)(i=>i.pipe(Iz((s,l)=>JSON.stringify(s)===JSON.stringify(l)),_t(void 0),ey(),(0,M2.U)(([s,l])=>s?Object.assign({firebase_previous_class:s[ch],firebase_previous_screen:s[QQ],firebase_previous_id:s[YQ]},l):l)))))(r,i,s).pipe(Ne(C=>(0,ZQ.mG)(this,void 0,void 0,function*(){return f&&(yield f.initialized),yield t.logEvent("screen_view",C)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lh),c.LFG(S3,8),c.LFG(d5,8),c.LFG(c._Vd),c.LFG(c.R0b),c.LFG(XQ,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),DN1=(()=>{class n{constructor(t,r,i){Ds.Z.registerVersion("angularfire",re.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lh),c.LFG(TN1,8),c.LFG(XQ,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[lh]}),n})();const eJ_firebaseConfig={apiKey:"AIzaSyAC1b-XIKuTK9W12RTqynckEL_erWODNCU",authDomain:"rickryanmedillo-7e31a.firebaseapp.com",databaseURL:"https://rickryanmedillo-7e31a-default-rtdb.firebaseio.com",projectId:"rickryanmedillo-7e31a",storageBucket:"rickryanmedillo-7e31a.appspot.com",messagingSenderId:"798061190719",appId:"1:798061190719:web:e8dc1c89aabb2b3fe9628a",measurementId:"G-3P2QXQHE9J"};let IN1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:2,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"header works!"),c.qZA())},styles:[""]}),n})(),NN1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-sidebar"]],decls:2,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"sidebar works!"),c.qZA())},styles:[""]}),n})(),kN1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:2,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"footer works!"),c.qZA())},styles:[""]}),n})(),RN1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-admin"]],decls:4,vars:0,template:function(t,r){1&t&&c._UZ(0,"app-header")(1,"app-sidebar")(2,"router-outlet")(3,"app-footer")},directives:[IN1,NN1,D5,kN1],styles:[""]}),n})(),PN1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"dashboard works!"),c.qZA())},styles:[""]}),n})(),GN1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function nJ(n){for(let e in n){let t=n[e]||"";switch(e){case"display":n.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=t;break;case"flex-direction":t=t||"row",n["-webkit-flex-direction"]=t,n["flex-direction"]=t;break;case"order":n.order=n["-webkit-"+e]=isNaN(+t)?"0":t}}return n}const zD="inline",gM=["row","column","row-reverse","column-reverse"];function rJ(n){let[e,t,r]=iJ(n);return function qN1(n,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":e||null}}(e,t,r)}function iJ(n){var e;n=null!==(e=null==n?void 0:n.toLowerCase())&&void 0!==e?e:"";let[t,r,i]=n.split(" ");return gM.find(s=>s===t)||(t=gM[0]),r===zD&&(r=i!==zD?i:"",i=zD),[t,jN1(r),!!i]}function uh(n){let[e]=iJ(n);return e.indexOf("row")>-1}function jN1(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function or(n,...e){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(null!=t)for(let r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}const WN1={provide:c.tb,useFactory:function $N1(n,e){return()=>{if(Ye(e)){const t=Array.from(n.querySelectorAll(`[class*=${sJ}]`)),r=/\bflex-layout-.+?\b/g;t.forEach(i=>{i.classList.contains(`${sJ}ssr`)&&i.parentNode?i.parentNode.removeChild(i):i.className.replace(r,"")})}}},deps:[c1,c.Lbi],multi:!0},sJ="flex-layout-";let SD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[WN1]}),n})();class ba{constructor(e=!1,t="all",r="",i="",s=0){this.matches=e,this.mediaQuery=t,this.mqAlias=r,this.suffix=i,this.priority=s,this.property=""}clone(){return new ba(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let ZN1=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(t,r,i){const s=this.stylesheet.get(t);s?s.set(r,i):this.stylesheet.set(t,new Map([[r,i]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,r){const i=this.stylesheet.get(t);let s="";if(i){const l=i.get(r);("number"==typeof l||"string"==typeof l)&&(s=l+"")}return s}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VD={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},s5=new c.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>VD}),_9=new c.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),HD=new c.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function aJ(n,e){return n=n?n.clone():new ba,e&&(n.mqAlias=e.alias,n.mediaQuery=e.mediaQuery,n.suffix=e.suffix,n.priority=e.priority),n}class j3{constructor(){this.shouldCache=!0}sideEffect(e,t,r){}}let C3=(()=>{class n{constructor(t,r,i,s){this._serverStylesheet=t,this._serverModuleLoaded=r,this._platformId=i,this.layoutConfig=s}applyStyleToElement(t,r,i=null){let s={};"string"==typeof r&&(s[r]=i,r=s),s=this.layoutConfig.disableVendorPrefixes?r:nJ(r),this._applyMultiValueStyleToElement(s,t)}applyStyleToElements(t,r=[]){const i=this.layoutConfig.disableVendorPrefixes?t:nJ(t);r.forEach(s=>{this._applyMultiValueStyleToElement(i,s)})}getFlowDirection(t){const r="flex-direction";let i=this.lookupStyle(t,r);return[i||"row",this.lookupInlineStyle(t,r)||K3(this._platformId)&&this._serverModuleLoaded?i:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,r){var i;return null!==(i=t.getAttribute(r))&&void 0!==i?i:""}lookupInlineStyle(t,r){return Ye(this._platformId)?t.style.getPropertyValue(r):function KN1(n,e){var t;return null!==(t=oJ(n)[e])&&void 0!==t?t:""}(t,r)}lookupStyle(t,r,i=!1){let s="";return t&&((s=this.lookupInlineStyle(t,r))||(Ye(this._platformId)?i||(s=getComputedStyle(t).getPropertyValue(r)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(t,r)))),s?s.trim():""}_applyMultiValueStyleToElement(t,r){Object.keys(t).sort().forEach(i=>{const s=t[i],l=Array.isArray(s)?s:[s];l.sort();for(let f of l)f=f?f+"":"",Ye(this._platformId)||!this._serverModuleLoaded?Ye(this._platformId)?r.style.setProperty(i,f):YN1(r,i,f):this._serverStylesheet.addStyleToElement(r,i,f)})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ZN1),c.LFG(_9),c.LFG(c.Lbi),c.LFG(s5))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YN1(n,e,t){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=oJ(n);r[e]=null!=t?t:"",function QN1(n,e){let t="";for(const r in e)e[r]&&(t+=`${r}:${e[r]};`);n.setAttribute("style",t)}(n,r)}function oJ(n){const e={},t=n.getAttribute("style");if(t){const r=t.split(/;+/g);for(let i=0;i<r.length;i++){const s=r[i].trim();if(s.length>0){const l=s.indexOf(":");if(-1===l)throw new Error(`Invalid CSS style: ${s}`);e[s.substr(0,l).trim()]=s.substr(l+1).trim()}}}return e}function fh(n,e){return(e&&e.priority||0)-(n&&n.priority||0)}function JN1(n,e){return(n.priority||0)-(e.priority||0)}let AD=(()=>{class n{constructor(t,r,i){this._zone=t,this._platformId=r,this._document=i,this.source=new U4(new ba(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((r,i)=>{r.matches&&t.push(i)}),t}isActive(t){var r;const i=this.registry.get(t);return null!==(r=null==i?void 0:i.matches)&&void 0!==r?r:this.registerQuery(t).some(s=>s.matches)}observe(t,r=!1){if(t&&t.length){const i=this._observable$.pipe(s4(l=>!r||t.indexOf(l.mediaQuery)>-1)),s=new We.y(l=>{const f=this.registerQuery(t);if(f.length){const C=f.pop();f.forEach(v=>{l.next(v)}),this.source.next(C)}l.complete()});return(0,Qu.T)(s,i)}return this._observable$}registerQuery(t){const r=Array.isArray(t)?t:[t],i=[];return function XN1(n,e){const t=n.filter(r=>!cJ[r]);if(t.length>0){const r=t.join(", ");try{const i=e.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${r} {.fx-query-test{ }}\n`)),e.head.appendChild(i),t.forEach(s=>cJ[s]=i)}catch(i){console.error(i)}}}(r,this._document),r.forEach(s=>{const l=C=>{this._zone.run(()=>this.source.next(new ba(C.matches,s)))};let f=this.registry.get(s);f||(f=this.buildMQL(s),f.addListener(l),this.pendingRemoveListenerFns.push(()=>f.removeListener(l)),this.registry.set(s,f)),f.matches&&i.push(new ba(!0,s))}),i}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function ek1(n,e){return e&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,Ye(this._platformId))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(c.Lbi),c.LFG(c1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cJ={},tk1=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],lJ="(orientation: portrait) and (max-width: 599.98px)",uJ="(orientation: landscape) and (max-width: 959.98px)",fJ="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",dJ="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",hJ="(orientation: portrait) and (min-width: 840px)",CJ="(orientation: landscape) and (min-width: 1280px)",cr={HANDSET:`${lJ}, ${uJ}`,TABLET:`${fJ} , ${dJ}`,WEB:`${hJ}, ${CJ} `,HANDSET_PORTRAIT:`${lJ}`,TABLET_PORTRAIT:`${fJ} `,WEB_PORTRAIT:`${hJ}`,HANDSET_LANDSCAPE:`${uJ}`,TABLET_LANDSCAPE:`${dJ}`,WEB_LANDSCAPE:`${CJ}`},nk1=[{alias:"handset",priority:2e3,mediaQuery:cr.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:cr.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:cr.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:cr.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:cr.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:cr.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:cr.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:cr.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:cr.WEB_PORTRAIT,overlapping:!0}],rk1=/(\.|-|_)/g;function ik1(n){let e=n.length>0?n.charAt(0):"",t=n.length>1?n.slice(1):"";return e.toUpperCase()+t}const ck1=new c.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,c.f3M)(HD),e=(0,c.f3M)(s5),t=[].concat.apply([],(n||[]).map(i=>Array.isArray(i)?i:[i]));return function ok1(n,e=[]){const t={};return n.forEach(r=>{t[r.alias]=r}),e.forEach(r=>{t[r.alias]?or(t[r.alias],r):t[r.alias]=r}),function ak1(n){return n.forEach(e=>{e.suffix||(e.suffix=function sk1(n){return n.replace(rk1,"|").split("|").map(ik1).join("")}(e.alias),e.overlapping=!!e.overlapping)}),n}(Object.keys(t).map(r=>t[r]))}((e.disableDefaultBps?[]:tk1).concat(e.addOrientationBps?nk1:[]),t)}});let ED=(()=>{class n{constructor(t){this.findByMap=new Map,this.items=[...t].sort(JN1)}findByAlias(t){return t?this.findWithPredicate(t,r=>r.alias===t):null}findByQuery(t){return this.findWithPredicate(t,r=>r.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>{var r;return null!==(r=null==t?void 0:t.suffix)&&void 0!==r?r:""})}findWithPredicate(t,r){var i;let s=this.findByMap.get(t);return s||(s=null!==(i=this.items.find(r))&&void 0!==i?i:null,this.findByMap.set(t,s)),null!=s?s:null}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ck1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M9="print",lk1={alias:M9,mediaQuery:M9,priority:1e3};let uk1=(()=>{class n{constructor(t,r,i){this.breakpoints=t,this.layoutConfig=r,this._document=i,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new fk1,this.deactivations=[]}withPrintQuery(t){return[...t,M9]}isPrintEvent(t){return t.mediaQuery.startsWith(M9)}get printAlias(){var t;return[...null!==(t=this.layoutConfig.printWithBreakpoints)&&void 0!==t?t:[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const r=this.breakpoints.findByQuery(t);return(r?[...this.printBreakPoints,r]:this.printBreakPoints).sort(fh)}updateEvent(t){var r;let i=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(i=this.getEventBreakpoints(t)[0],t.mediaQuery=null!==(r=null==i?void 0:i.mediaQuery)&&void 0!==r?r:""),aJ(t,i)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const r=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new ba(!0,M9))),t.updateStyles())},i=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",r),this._document.defaultView.addEventListener("afterprint",i),this.beforePrintEventListeners.push(r),this.afterPrintEventListeners.push(i)}interceptEvents(t){return r=>{this.isPrintEvent(r)?r.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(r)),t.updateStyles()):!r.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,r)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,r){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(r)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,r){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!r.matches){const i=this.breakpoints.findByQuery(r.mediaQuery);if(i){const s=this.formerActivations&&this.formerActivations.includes(i),l=!this.formerActivations&&t.activatedBreakpoints.includes(i);(s||l)&&(this.deactivations.push(i),this.deactivations.sort(fh))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ED),c.LFG(s5),c.LFG(c1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fk1{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(lk1),e.sort(fh),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(r=>r.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function dk1(n){var e;return null!==(e=null==n?void 0:n.mediaQuery.startsWith(M9))&&void 0!==e&&e}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}let M3=(()=>{class n{constructor(t,r,i){this.matchMedia=t,this.breakpoints=r,this.hook=i,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Qe.x,this.observeActivations()}get activatedAlias(){var t,r;return null!==(r=null===(t=this.activatedBreakpoints[0])||void 0===t?void 0:t.alias)&&void 0!==r?r:""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const r=this.findByQuery(t.mediaQuery);if(r){t=aJ(t,r);const i=this.activatedBreakpoints.indexOf(r);t.matches&&-1===i?(this._activatedBreakpoints.push(r),this._activatedBreakpoints.sort(fh),this.updateStyles()):!t.matches&&-1!==i&&(this._activatedBreakpoints.splice(i,1),this._activatedBreakpoints.sort(fh),this.updateStyles())}}init(t,r,i,s,l=[]){pJ(this.updateMap,t,r,i),pJ(this.clearMap,t,r,s),this.buildElementKeyMap(t,r),this.watchExtraTriggers(t,r,l)}getValue(t,r,i){const s=this.elementMap.get(t);if(s){const l=void 0!==i?s.get(i):this.getActivatedValues(s,r);if(l)return l.get(r)}}hasValue(t,r){const i=this.elementMap.get(t);if(i){const s=this.getActivatedValues(i,r);if(s)return void 0!==s.get(r)||!1}return!1}setValue(t,r,i,s){var l;let f=this.elementMap.get(t);if(f){const v=(null!==(l=f.get(s))&&void 0!==l?l:new Map).set(r,i);f.set(s,v),this.elementMap.set(t,f)}else f=(new Map).set(s,(new Map).set(r,i)),this.elementMap.set(t,f);const C=this.getValue(t,r);void 0!==C&&this.updateElement(t,r,C)}trackValue(t,r){return this.subject.asObservable().pipe(s4(i=>i.element===t&&i.key===r))}updateStyles(){this.elementMap.forEach((t,r)=>{const i=new Set(this.elementKeyMap.get(r));let s=this.getActivatedValues(t);s&&s.forEach((l,f)=>{this.updateElement(r,f,l),i.delete(f)}),i.forEach(l=>{if(s=this.getActivatedValues(t,l),s){const f=s.get(l);this.updateElement(r,l,f)}else this.clearElement(r,l)})})}clearElement(t,r){const i=this.clearMap.get(t);if(i){const s=i.get(r);s&&(s(),this.subject.next({element:t,key:r,value:""}))}}updateElement(t,r,i){const s=this.updateMap.get(t);if(s){const l=s.get(r);l&&(l(i),this.subject.next({element:t,key:r,value:i}))}}releaseElement(t){const r=this.watcherMap.get(t);r&&(r.forEach(s=>s.unsubscribe()),this.watcherMap.delete(t));const i=this.elementMap.get(t);i&&(i.forEach((s,l)=>i.delete(l)),this.elementMap.delete(t))}triggerUpdate(t,r){const i=this.elementMap.get(t);if(i){const s=this.getActivatedValues(i,r);s&&(r?this.updateElement(t,r,s.get(r)):s.forEach((l,f)=>this.updateElement(t,f,l)))}}buildElementKeyMap(t,r){let i=this.elementKeyMap.get(t);i||(i=new Set,this.elementKeyMap.set(t,i)),i.add(r)}watchExtraTriggers(t,r,i){if(i&&i.length){let s=this.watcherMap.get(t);if(s||(s=new Map,this.watcherMap.set(t,s)),!s.get(r)){const f=(0,Qu.T)(...i).subscribe(()=>{const C=this.getValue(t,r);this.updateElement(t,r,C)});s.set(r,f)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,r){for(let s=0;s<this.activatedBreakpoints.length;s++){const f=t.get(this.activatedBreakpoints[s].alias);if(f&&(void 0===r||f.has(r)&&null!=f.get(r)))return f}if(!this._useFallbacks)return;const i=t.get("");return void 0===r||i&&i.has(r)?i:void 0}observeActivations(){const t=this.breakpoints.items.map(r=>r.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe((0,j4.b)(this.hook.interceptEvents(this)),s4(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(AD),c.LFG(ED),c.LFG(uk1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pJ(n,e,t,r){var i;if(void 0!==r){const s=null!==(i=n.get(e))&&void 0!==i?i:new Map;s.set(t,r),n.set(e,s)}}let A3=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.styleBuilder=r,this.styler=i,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Qe.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(r=>{if(-1!==this.inputs.indexOf(r)){const i=r.split(".").slice(1).join(".");this.setValue(t[r].currentValue,i)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,r){const i=this.styleBuilder,s=i.shouldCache;let l=this.styleCache.get(t);(!l||!s)&&(l=i.buildStyles(t,r),s&&this.styleCache.set(t,l)),this.mru=Object.assign({},l),this.applyStyleToElement(l),i.sideEffect(t,l,r)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,r=!1){if(t){const[i,s]=this.styler.getFlowDirection(t);if(!s&&r){const l=rJ(i);this.styler.applyStyleToElements(l,[t])}return i.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,r,i=this.nativeElement){this.styler.applyStyleToElement(i,t,r)}setValue(t,r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,r)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(j3),c.Y36(C3),c.Y36(M3))},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();let pk1=(()=>{class n extends j3{buildStyles(t,{display:r}){const i=rJ(t);return Object.assign(Object.assign({},i),{display:"none"===r?r:i.display})}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mk1=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let gk1=(()=>{class n extends A3{constructor(t,r,i,s,l){super(t,i,r,s),this._config=l,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){var r;const s=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(r=yJ.get(s))&&void 0!==r?r:new Map,yJ.set(s,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:s}),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(C3),c.Y36(pk1),c.Y36(M3),c.Y36(s5))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),yM=(()=>{class n extends gk1{constructor(){super(...arguments),this.inputs=mk1}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[c.qOj]}),n})();const yJ=new Map;let sR1=(()=>{class n extends j3{buildStyles(t,r){const i={},[s,l]=t.split(" ");switch(s){case"center":i["justify-content"]="center";break;case"space-around":i["justify-content"]="space-around";break;case"space-between":i["justify-content"]="space-between";break;case"space-evenly":i["justify-content"]="space-evenly";break;case"end":case"flex-end":i["justify-content"]="flex-end";break;default:i["justify-content"]="flex-start"}switch(l){case"start":case"flex-start":i["align-items"]=i["align-content"]="flex-start";break;case"center":i["align-items"]=i["align-content"]="center";break;case"end":case"flex-end":i["align-items"]=i["align-content"]="flex-end";break;case"space-between":i["align-content"]="space-between",i["align-items"]="stretch";break;case"space-around":i["align-content"]="space-around",i["align-items"]="stretch";break;case"baseline":i["align-content"]="stretch",i["align-items"]="baseline";break;default:i["align-items"]=i["align-content"]="stretch"}return or(i,{display:r.inline?"inline-flex":"flex","flex-direction":r.layout,"box-sizing":"border-box","max-width":"stretch"===l?uh(r.layout)?null:"100%":null,"max-height":"stretch"===l&&uh(r.layout)?"100%":null})}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aR1=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let oR1=(()=>{class n extends A3{constructor(t,r,i,s){super(t,i,r,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(function L9(n){return(0,w3.e)((e,t)=>{(0,Qt.Xf)(n).subscribe((0,Ge.x)(t,()=>t.complete(),YP.Z)),!t.closed&&e.subscribe(t)})}(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const r=this.layout||"row",i=this.inline;"row"===r&&i?this.styleCache=dR1:"row"!==r||i?"row-reverse"===r&&i?this.styleCache=CR1:"row-reverse"!==r||i?"column"===r&&i?this.styleCache=hR1:"column"!==r||i?"column-reverse"===r&&i?this.styleCache=pR1:"column-reverse"===r&&!i&&(this.styleCache=fR1):this.styleCache=lR1:this.styleCache=uR1:this.styleCache=cR1,this.addStyles(t,{layout:r,inline:i})}onLayoutChange(t){const r=t.value.split(" ");this.layout=r[0],this.inline=t.value.includes("inline"),gM.find(i=>i===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(C3),c.Y36(sR1),c.Y36(M3))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),MM=(()=>{class n extends oR1{constructor(){super(...arguments),this.inputs=aR1}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[c.qOj]}),n})();const cR1=new Map,lR1=new Map,uR1=new Map,fR1=new Map,dR1=new Map,hR1=new Map,CR1=new Map,pR1=new Map;let LJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[SD,GN1]]}),n})();const mR1=[{path:"admin",component:RN1,data:{showHeader:!1,showSidebar:!1,showFooter:!1},children:[{path:"dashboard",component:PN1},{path:"user-create",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user-create"]],decls:3,vars:0,consts:[["fxLayout","row","fxLayoutAlign","space-between"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"p"),c._uU(2,"user-create works!"),c.qZA()())},directives:[yM,MM],styles:[""]}),n})()},{path:"user-detail",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user-detail"]],decls:3,vars:0,consts:[["fxLayout","row","fxLayoutAlign","space-between"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"p"),c._uU(2,"user-detail works!"),c.qZA()())},directives:[yM,MM],styles:[""]}),n})()},{path:"user-list",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user-list"]],decls:3,vars:0,consts:[["fxLayout","row","fxLayoutAlign","space-between"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"p"),c._uU(2,"user-list works!"),c.qZA()())},directives:[yM,MM],styles:[""]}),n})()},{path:"signin",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:2,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"login works!"),c.qZA())},styles:[""]}),n})()},{path:"signup",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-registration"]],decls:2,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"registration works!"),c.qZA())},styles:[""]}),n})()}]}];let gR1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[P5.forChild(mR1)],P5]}),n})(),VJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[SD]]}),n})(),kJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[SD]]}),n})(),iF1=(()=>{class n{constructor(t,r){K3(r)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,r=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:s5,useValue:Object.assign(Object.assign({},VD),t)},{provide:HD,useValue:r,multi:!0},{provide:_9,useValue:!0}]:[{provide:s5,useValue:Object.assign(Object.assign({},VD),t)},{provide:HD,useValue:r,multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_9),c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[LJ,VJ,kJ],LJ,VJ,kJ]}),n})(),sF1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[$t,gR1,iF1]]}),n})(),aF1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[dE1]}),n.\u0275inj=c.cJS({providers:[ln],imports:[[f5,P5.forRoot([]),SL1,yg1,IM1,Cv1,AZ,rL1,hE1,uD1,V3.hO.initializeApp(eJ_firebaseConfig),DN1,gl1,XC1,eN1,El1,sF1,xp1.forRoot({preventDuplicates:!0})]]}),n})();(0,c.G48)(),f0().bootstrapModule(aF1).catch(n=>console.error(n))},7982:(a2,x1,T)=>{T.d(x1,{Gb:()=>c.Gb});var c=T(579)},5867:(a2,x1,T)=>{T.d(x1,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=T(9681);(0,c.registerVersion)("firebase","9.8.1","app")},127:(a2,x1,T)=>{T.d(x1,{Z:()=>c.Z});var c=T(3942);c.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(a2,x1,T)=>{T.r(x1);var c=T(5861),e1=T(3942),P=T(2090),f1=T(9681),p1=T(655),b1=T(1877),c1=T(4859);const O1=function G1(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},q1=function z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},g1=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),c2=new b1.Yd("@firebase/auth");function t2(y,...p){c2.logLevel<=b1.in.ERROR&&c2.error(`Auth (${f1.SDK_VERSION}): ${y}`,...p)}function D1(y,...p){throw U1(y,...p)}function V1(y,...p){return U1(y,...p)}function A1(y,p,g){const M=Object.assign(Object.assign({},q1()),{[p]:g});return new P.LL("auth","Firebase",M).create(p,{appName:y.name})}function X1(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&D1(y,"argument-error"),A1(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function U1(y,...p){if("string"!=typeof y){const g=p[0],M=[...p.slice(1)];return M[0]&&(M[0].appName=y.name),y._errorFactory.create(g,...M)}return g1.create(y,...p)}function j(y,p,...g){if(!y)throw U1(p,...g)}function B(y){const p="INTERNAL ASSERTION FAILED: "+y;throw t2(p),new Error(p)}function t1(y,p){y||B(p)}const h1=new Map;function l1(y){t1(y instanceof Function,"Expected a class definition");let p=h1.get(y);return p?(t1(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,h1.set(y,p),p)}function L2(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function k2(){return"http:"===He()||"https:"===He()}function He(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Le{constructor(p,g){this.shortDelay=p,this.longDelay=g,t1(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function o2(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(k2()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ce(y,p){t1(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class T3{static initialize(p,g,M){this.fetchImpl=p,g&&(this.headersImpl=g),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void B("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void B("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void B("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},D3=new Le(3e4,6e4);function F2(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function R2(y,p,g,M){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,c.Z)(function*(y,p,g,M,z={}){return R4(y,z,(0,c.Z)(function*(){let E={},X={};M&&("GET"===p?X=M:E={body:JSON.stringify(M)});const M1=(0,P.xO)(Object.assign({key:y.config.apiKey},X)).slice(1),Y1=yield y._getAdditionalHeaders();return Y1["Content-Type"]="application/json",y.languageCode&&(Y1["X-Firebase-Locale"]=y.languageCode),T3.fetch()(q3(y,y.config.apiHost,g,M1),Object.assign({method:p,headers:Y1,referrerPolicy:"no-referrer"},E))}))})).apply(this,arguments)}function R4(y,p,g){return l3.apply(this,arguments)}function l3(){return(l3=(0,c.Z)(function*(y,p,g){y._canInitEmulator=!1;const M=Object.assign(Object.assign({},ie),p);try{const z=new b3(y),E=yield Promise.race([g(),z.promise]);z.clearNetworkTimeout();const X=yield E.json();if("needConfirmation"in X)throw p3(y,"account-exists-with-different-credential",X);if(E.ok&&!("errorMessage"in X))return X;{const M1=E.ok?X.errorMessage:X.error.message,[Y1,l2]=M1.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Y1)throw p3(y,"credential-already-in-use",X);if("EMAIL_EXISTS"===Y1)throw p3(y,"email-already-in-use",X);const T2=M[Y1]||Y1.toLowerCase().replace(/[_\s]+/g,"-");if(l2)throw A1(y,T2,l2);D1(y,T2)}}catch(z){if(z instanceof P.ZR)throw z;D1(y,"network-request-failed")}})).apply(this,arguments)}function be(y,p,g,M){return L3.apply(this,arguments)}function L3(){return(L3=(0,c.Z)(function*(y,p,g,M,z={}){const E=yield R2(y,p,g,M,z);return"mfaPendingCredential"in E&&D1(y,"multi-factor-auth-required",{_serverResponse:E}),E})).apply(this,arguments)}function q3(y,p,g,M){const z=`${p}${g}?${M}`;return y.config.emulator?Ce(y.config,z):`${y.config.apiScheme}://${z}`}class b3{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,M)=>{this.timer=setTimeout(()=>M(V1(this.auth,"network-request-failed")),D3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function p3(y,p,g){const M={appName:y.name};g.email&&(M.email=g.email),g.phoneNumber&&(M.phoneNumber=g.phoneNumber);const z=V1(y,p,M);return z.customData._tokenResponse=g,z}function x3(){return(x3=(0,c.Z)(function*(y,p){return R2(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function de(y,p){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,c.Z)(function*(y,p){return R2(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function e4(y,p){return I3.apply(this,arguments)}function I3(){return(I3=(0,c.Z)(function*(y,p){return R2(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ze(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function C4(){return(C4=(0,c.Z)(function*(y,p=!1){const g=(0,P.m9)(y),M=yield g.getIdToken(p),z=d2(M);j(z&&z.exp&&z.auth_time&&z.iat,g.auth,"internal-error");const E="object"==typeof z.firebase?z.firebase:void 0,X=null==E?void 0:E.sign_in_provider;return{claims:z,token:M,authTime:Ze(Z2(z.auth_time)),issuedAtTime:Ze(Z2(z.iat)),expirationTime:Ze(Z2(z.exp)),signInProvider:X||null,signInSecondFactor:(null==E?void 0:E.sign_in_second_factor)||null}})).apply(this,arguments)}function Z2(y){return 1e3*Number(y)}function d2(y){const[p,g,M]=y.split(".");if(void 0===p||void 0===g||void 0===M)return t2("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,P.tV)(g);return z?JSON.parse(z):(t2("Failed to decode base64 JWT payload"),null)}catch(z){return t2("Caught error parsing JWT payload as JSON",z),null}}function ye(y,p){return t4.apply(this,arguments)}function t4(){return(t4=(0,c.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(M){throw M instanceof P.ZR&&q2(M)&&y.auth.currentUser===y&&(yield y.auth.signOut()),M}})).apply(this,arguments)}function q2({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class n4{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const z=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const M=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),M)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class t3{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ze(this.lastLoginAt),this.creationTime=Ze(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ke(y){return F.apply(this,arguments)}function F(){return(F=(0,c.Z)(function*(y){var p;const g=y.auth,M=yield y.getIdToken(),z=yield ye(y,e4(g,{idToken:M}));j(null==z?void 0:z.users.length,g,"internal-error");const E=z.users[0];y._notifyReloadListener(E);const X=(null===(p=E.providerUserInfo)||void 0===p?void 0:p.length)?U(E.providerUserInfo):[],M1=T1(y.providerData,X),T2=!!y.isAnonymous&&!(y.email&&E.passwordHash||(null==M1?void 0:M1.length)),V2={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:M1,metadata:new t3(E.createdAt,E.lastLoginAt),isAnonymous:T2};Object.assign(y,V2)})).apply(this,arguments)}function Q(){return(Q=(0,c.Z)(function*(y){const p=(0,P.m9)(y);yield Ke(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function T1(y,p){return[...y.filter(M=>!p.some(z=>z.providerId===M.providerId)),...p]}function U(y){return y.map(p=>{var{providerId:g}=p,M=(0,p1._T)(p,["providerId"]);return{providerId:g,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function G(){return(G=(0,c.Z)(function*(y,p){const g=yield R4(y,{},(0,c.Z)(function*(){const M=(0,P.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:z,apiKey:E}=y.config,X=q3(y,z,"/v1/token",`key=${E}`),M1=yield y._getAdditionalHeaders();return M1["Content-Type"]="application/x-www-form-urlencoded",T3.fetch()(X,{method:"POST",headers:M1,body:M})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class s1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){j(p.idToken,"internal-error"),j(void 0!==p.idToken,"internal-error"),j(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function y2(y){const p=d2(y);return j(p,"internal-error"),j(void 0!==p.exp,"internal-error"),j(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var M=this;return(0,c.Z)(function*(){return j(!M.accessToken||M.refreshToken,p,"user-token-expired"),g||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(p,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var M=this;return(0,c.Z)(function*(){const{accessToken:z,refreshToken:E,expiresIn:X}=yield function n1(y,p){return G.apply(this,arguments)}(p,g);M.updateTokensAndExpiration(z,E,Number(X))})()}updateTokensAndExpiration(p,g,M){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(p,g){const{refreshToken:M,accessToken:z,expirationTime:E}=g,X=new s1;return M&&(j("string"==typeof M,"internal-error",{appName:p}),X.refreshToken=M),z&&(j("string"==typeof z,"internal-error",{appName:p}),X.accessToken=z),E&&(j("number"==typeof E,"internal-error",{appName:p}),X.expirationTime=E),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new s1,this.toJSON())}_performRefresh(){return B("not implemented")}}function y1(y,p){j("string"==typeof y||void 0===y,"internal-error",{appName:p})}class k1{constructor(p){var{uid:g,auth:M,stsTokenManager:z}=p,E=(0,p1._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=M,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=E.displayName||null,this.email=E.email||null,this.emailVerified=E.emailVerified||!1,this.phoneNumber=E.phoneNumber||null,this.photoURL=E.photoURL||null,this.isAnonymous=E.isAnonymous||!1,this.tenantId=E.tenantId||null,this.providerData=E.providerData?[...E.providerData]:[],this.metadata=new t3(E.createdAt||void 0,E.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,c.Z)(function*(){const M=yield ye(g,g.stsTokenManager.getToken(g.auth,p));return j(M,g.auth,"internal-error"),g.accessToken!==M&&(g.accessToken=M,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),M})()}getIdTokenResult(p){return function N3(y){return C4.apply(this,arguments)}(this,p)}reload(){return function Y(y){return Q.apply(this,arguments)}(this)}_assign(p){this!==p&&(j(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new k1(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var M=this;return(0,c.Z)(function*(){let z=!1;p.idToken&&p.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(p),z=!0),g&&(yield Ke(M)),yield M.auth._persistUserIfCurrent(M),z&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var p=this;return(0,c.Z)(function*(){const g=yield p.getIdToken();return yield ye(p,function z2(y,p){return x3.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var M,z,E,X,M1,Y1,l2,T2;const V2=null!==(M=g.displayName)&&void 0!==M?M:void 0,Je=null!==(z=g.email)&&void 0!==z?z:void 0,w4=null!==(E=g.phoneNumber)&&void 0!==E?E:void 0,D8=null!==(X=g.photoURL)&&void 0!==X?X:void 0,tc=null!==(M1=g.tenantId)&&void 0!==M1?M1:void 0,Jn=null!==(Y1=g._redirectEventId)&&void 0!==Y1?Y1:void 0,$r=null!==(l2=g.createdAt)&&void 0!==l2?l2:void 0,Wr=null!==(T2=g.lastLoginAt)&&void 0!==T2?T2:void 0,{uid:Z0,emailVerified:Zr,isAnonymous:S3,providerData:K0,stsTokenManager:Y0}=g;j(Z0&&Y0,p,"internal-error");const Q0=s1.fromJSON(this.name,Y0);j("string"==typeof Z0,p,"internal-error"),y1(V2,p.name),y1(Je,p.name),j("boolean"==typeof Zr,p,"internal-error"),j("boolean"==typeof S3,p,"internal-error"),y1(w4,p.name),y1(D8,p.name),y1(tc,p.name),y1(Jn,p.name),y1($r,p.name),y1(Wr,p.name);const $6=new k1({uid:Z0,auth:p,email:Je,emailVerified:Zr,displayName:V2,isAnonymous:S3,photoURL:D8,phoneNumber:w4,tenantId:tc,stsTokenManager:Q0,createdAt:$r,lastLoginAt:Wr});return K0&&Array.isArray(K0)&&($6.providerData=K0.map(R5=>Object.assign({},R5))),Jn&&($6._redirectEventId=Jn),$6}static _fromIdTokenResponse(p,g,M=!1){return(0,c.Z)(function*(){const z=new s1;z.updateFromServerResponse(g);const E=new k1({uid:g.localId,auth:p,stsTokenManager:z,isAnonymous:M});return yield Ke(E),E})()}}const j1=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,M){var z=this;return(0,c.Z)(function*(){z.storage[g]=M})()}_get(g){var M=this;return(0,c.Z)(function*(){const z=M.storage[g];return void 0===z?null:z})()}_remove(g){var M=this;return(0,c.Z)(function*(){delete M.storage[g]})()}_addListener(g,M){}_removeListener(g,M){}}return y.type="NONE",y})();function p2(y,p,g){return`firebase:${y}:${p}:${g}`}class D2{constructor(p,g,M){this.persistence=p,this.auth=g,this.userKey=M;const{config:z,name:E}=this.auth;this.fullUserKey=p2(this.userKey,z.apiKey,E),this.fullPersistenceKey=p2("persistence",z.apiKey,E),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?k1._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,c.Z)(function*(){if(g.persistence===p)return;const M=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,M?g.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,M="authUser"){return(0,c.Z)(function*(){if(!g.length)return new D2(l1(j1),p,M);const z=(yield Promise.all(g.map(function(){var l2=(0,c.Z)(function*(T2){if(yield T2._isAvailable())return T2});return function(T2){return l2.apply(this,arguments)}}()))).filter(l2=>l2);let E=z[0]||l1(j1);const X=p2(M,p.config.apiKey,p.name);let M1=null;for(const l2 of g)try{const T2=yield l2._get(X);if(T2){const V2=k1._fromJSON(p,T2);l2!==E&&(M1=V2),E=l2;break}}catch(T2){}const Y1=z.filter(l2=>l2._shouldAllowMigration);return E._shouldAllowMigration&&Y1.length?(E=Y1[0],M1&&(yield E._set(X,M1.toJSON())),yield Promise.all(g.map(function(){var l2=(0,c.Z)(function*(T2){if(T2!==E)try{yield T2._remove(X)}catch(V2){}});return function(T2){return l2.apply(this,arguments)}}())),new D2(E,p,M)):new D2(E,p,M)})()}}function pe(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(_e(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(se(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(P4(p))return"Blackberry";if(qe(p))return"Webos";if($3(p))return"Safari";if((p.includes("chrome/")||v4(p))&&!p.includes("edge/"))return"Chrome";if(Ae(p))return"Android";{const M=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function se(y=(0,P.z$)()){return/firefox\//i.test(y)}function $3(y=(0,P.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function v4(y=(0,P.z$)()){return/crios\//i.test(y)}function _e(y=(0,P.z$)()){return/iemobile/i.test(y)}function Ae(y=(0,P.z$)()){return/android/i.test(y)}function P4(y=(0,P.z$)()){return/blackberry/i.test(y)}function qe(y=(0,P.z$)()){return/webos/i.test(y)}function k3(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)}function y4(y=(0,P.z$)()){return k3(y)||Ae(y)||qe(y)||P4(y)||/windows phone/i.test(y)||_e(y)}function Bt(y,p=[]){let g;switch(y){case"Browser":g=pe((0,P.z$)());break;case"Worker":g=`${pe((0,P.z$)())}-${y}`;break;default:g=y}const M=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${f1.SDK_VERSION}/${M}`}class W3{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const M=E=>new Promise((X,M1)=>{try{X(p(E))}catch(Y1){M1(Y1)}});M.onAbort=g,this.queue.push(M);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===p)return;const M=[];try{for(const z of g.queue)yield z(p),z.onAbort&&M.push(z.onAbort)}catch(z){M.reverse();for(const E of M)try{E()}catch(X){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:z.message})}})()}}class n2{constructor(p,g,M){this.app=p,this.heartbeatServiceProvider=g,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d1(this),this.idTokenSubscription=new d1(this),this.beforeStateQueue=new W3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,g){var M=this;return g&&(this._popupRedirectResolver=l1(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var z,E;if(!M._deleted&&(M.persistenceManager=yield D2.create(M,p),!M._deleted)){if(null===(z=M._popupRedirectResolver)||void 0===z?void 0:z._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch(X){}yield M.initializeCurrentUser(g),M.lastNotifiedUid=(null===(E=M.currentUser)||void 0===E?void 0:E.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,c.Z)(function*(){var M;const z=yield g.assertedPersistence.getCurrentUser();let E=z,X=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const M1=null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId,Y1=null==E?void 0:E._redirectEventId,l2=yield g.tryRedirectSignIn(p);(!M1||M1===Y1)&&(null==l2?void 0:l2.user)&&(E=l2.user,X=!0)}if(!E)return g.directlySetCurrentUser(null);if(!E._redirectEventId){if(X)try{yield g.beforeStateQueue.runMiddleware(E)}catch(M1){E=z,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(M1))}return E?g.reloadAndSetCurrentUserOrClear(E):g.directlySetCurrentUser(null)}return j(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===E._redirectEventId?g.directlySetCurrentUser(E):g.reloadAndSetCurrentUserOrClear(E)})()}tryRedirectSignIn(p){var g=this;return(0,c.Z)(function*(){let M=null;try{M=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(z){yield g._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,c.Z)(function*(){try{yield Ke(p)}catch(M){if("auth/network-request-failed"!==M.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function w2(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,c.Z)(function*(){const M=p?(0,P.m9)(p):null;return M&&j(M.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(M&&M._clone(g))})()}_updateCurrentUser(p,g=!1){var M=this;return(0,c.Z)(function*(){if(!M._deleted)return p&&j(M.tenantId===p.tenantId,M,"tenant-id-mismatch"),g||(yield M.beforeStateQueue.runMiddleware(p)),M.queue((0,c.Z)(function*(){yield M.directlySetCurrentUser(p),M.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(l1(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new P.LL("auth","Firebase",p())}onAuthStateChanged(p,g,M){return this.registerStateListener(this.authStateSubscription,p,g,M)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,M){return this.registerStateListener(this.idTokenSubscription,p,g,M)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var M=this;return(0,c.Z)(function*(){const z=yield M.getOrInitRedirectPersistenceManager(g);return null===p?z.removeCurrentUser():z.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const M=p&&l1(p)||g._popupRedirectResolver;j(M,g,"argument-error"),g.redirectPersistenceManager=yield D2.create(g,[l1(M._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,c.Z)(function*(){var M,z;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(M=g._currentUser)||void 0===M?void 0:M._redirectEventId)===p?g._currentUser:(null===(z=g.redirectUser)||void 0===z?void 0:z._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,c.Z)(function*(){if(p===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,M,z){if(this._deleted)return()=>{};const E="function"==typeof g?g:g.next.bind(g),X=this._isInitialized?Promise.resolve():this._initializationPromise;return j(X,this,"internal-error"),X.then(()=>E(this.currentUser)),"function"==typeof g?p.addObserver(g,M,z):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Bt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var g;const M={"X-Client-Version":p.clientVersion};p.app.options.appId&&(M["X-Firebase-gmpid"]=p.app.options.appId);const z=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return z&&(M["X-Firebase-Client"]=z),M})()}}function O(y){return(0,P.m9)(y)}class d1{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function h2(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Y2(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class xe{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return B("not implemented")}_getIdTokenResponse(p){return B("not implemented")}_linkToIdToken(p,g){return B("not implemented")}_getReauthenticationResolver(p){return B("not implemented")}}function Z3(y,p){return S2.apply(this,arguments)}function S2(){return(S2=(0,c.Z)(function*(y,p){return R2(y,"POST","/v1/accounts:resetPassword",F2(y,p))})).apply(this,arguments)}function Ut(y,p){return _4.apply(this,arguments)}function _4(){return(_4=(0,c.Z)(function*(y,p){return R2(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function a5(y,p){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(y,p){return R2(y,"POST","/v1/accounts:update",F2(y,p))})).apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithPassword",F2(y,p))})).apply(this,arguments)}function pt(y,p){return $e.apply(this,arguments)}function $e(){return($e=(0,c.Z)(function*(y,p){return R2(y,"POST","/v1/accounts:sendOobCode",F2(y,p))})).apply(this,arguments)}function we(y,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(y,p){return pt(y,p)})).apply(this,arguments)}function i8(y,p){return R3.apply(this,arguments)}function R3(){return(R3=(0,c.Z)(function*(y,p){return pt(y,p)})).apply(this,arguments)}function M4(y,p){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(y,p){return pt(y,p)})).apply(this,arguments)}function s8(y,p){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(y,p){return pt(y,p)})).apply(this,arguments)}function y6(){return(y6=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithEmailLink",F2(y,p))})).apply(this,arguments)}function a8(){return(a8=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithEmailLink",F2(y,p))})).apply(this,arguments)}class P3 extends xe{constructor(p,g,M,z=null){super("password",M),this._email=p,this._password=g,this._tenantId=z}static _fromEmailAndPassword(p,g){return new P3(p,g,"password")}static _fromEmailAndCode(p,g,M=null){return new P3(p,g,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function n3(y,p){return jt.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function O4(y,p){return y6.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:D1(p,"internal-error")}})()}_linkToIdToken(p,g){var M=this;return(0,c.Z)(function*(){switch(M.signInMethod){case"password":return Ut(p,{idToken:g,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function ur(y,p){return a8.apply(this,arguments)}(p,{idToken:g,email:M._email,oobCode:M._password});default:D1(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function qt(y,p){return fr.apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithIdp",F2(y,p))})).apply(this,arguments)}class X4 extends xe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new X4(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):D1("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:z}=g,E=(0,p1._T)(g,["providerId","signInMethod"]);if(!M||!z)return null;const X=new X4(M,z);return X.idToken=E.idToken||void 0,X.accessToken=E.accessToken||void 0,X.secret=E.secret,X.nonce=E.nonce,X.pendingToken=E.pendingToken||null,X}_getIdTokenResponse(p){return qt(p,this.buildRequest())}_linkToIdToken(p,g){const M=this.buildRequest();return M.idToken=g,qt(p,M)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,qt(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,P.xO)(g)}return p}}function dr(y,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*(y,p){return R2(y,"POST","/v1/accounts:sendVerificationCode",F2(y,p))})).apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithPhoneNumber",F2(y,p))})).apply(this,arguments)}function o0(){return(o0=(0,c.Z)(function*(y,p){const g=yield be(y,"POST","/v1/accounts:signInWithPhoneNumber",F2(y,p));if(g.temporaryProof)throw p3(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ln={USER_NOT_FOUND:"user-not-found"};function c0(){return(c0=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithPhoneNumber",F2(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ln)})).apply(this,arguments)}class kn extends xe{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new kn({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new kn({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Cr(y,p){return pr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function b9(y,p){return o0.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function x9(y,p){return c0.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:M,verificationCode:z}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:M,code:z}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:M,phoneNumber:z,temporaryProof:E}=p;return M||g||z||E?new kn({verificationId:g,verificationCode:M,phoneNumber:z,temporaryProof:E}):null}}class o5{constructor(p){var g,M,z,E,X,M1;const Y1=(0,P.zd)((0,P.pd)(p)),l2=null!==(g=Y1.apiKey)&&void 0!==g?g:null,T2=null!==(M=Y1.oobCode)&&void 0!==M?M:null,V2=function mr(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=Y1.mode)&&void 0!==z?z:null);j(l2&&T2&&V2,"argument-error"),this.apiKey=l2,this.operation=V2,this.code=T2,this.continueUrl=null!==(E=Y1.continueUrl)&&void 0!==E?E:null,this.languageCode=null!==(X=Y1.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(M1=Y1.tenantId)&&void 0!==M1?M1:null}static parseLink(p){const g=function o8(y){const p=(0,P.zd)((0,P.pd)(y)).link,g=p?(0,P.zd)((0,P.pd)(p)).deep_link_id:null,M=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(M?(0,P.zd)((0,P.pd)(M)).link:null)||M||g||p||y}(p);try{return new o5(g)}catch(M){return null}}}let c8=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,M){return P3._fromEmailAndPassword(g,M)}static credentialWithLink(g,M){const z=o5.parseLink(M);return j(z,"argument-error"),P3._fromEmailAndCode(g,z.code,z.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class r4{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Rn extends r4{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class et extends Rn{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return j("providerId"in g&&"signInMethod"in g,"argument-error"),X4._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return j(p.idToken||p.accessToken,"argument-error"),X4._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return et.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return et.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:M,oauthTokenSecret:z,pendingToken:E,nonce:X,providerId:M1}=p;if(!M&&!z&&!g&&!E||!M1)return null;try{return new et(M1)._credential({idToken:g,accessToken:M,nonce:X,pendingToken:E})}catch(Y1){return null}}}let Pn=(()=>{class y extends Rn{constructor(){super("facebook.com")}static credential(g){return X4._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(M){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),gr=(()=>{class y extends Rn{constructor(){super("google.com"),this.addScope("profile")}static credential(g,M){return X4._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:M})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:M,oauthAccessToken:z}=g;if(!M&&!z)return null;try{return y.credential(M,z)}catch(E){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),l0=(()=>{class y extends Rn{constructor(){super("github.com")}static credential(g){return X4._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(M){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class tt extends xe{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return qt(p,this.buildRequest())}_linkToIdToken(p,g){const M=this.buildRequest();return M.idToken=g,qt(p,M)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,qt(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:z,pendingToken:E}=g;return M&&z&&E&&M===z?new tt(M,E):null}static _create(p,g){return new tt(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wt extends r4{constructor(p){j(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Wt.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Wt.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=tt.fromJSON(p);return j(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:M}=p;if(!g||!M)return null;try{return tt._create(M,g)}catch(z){return null}}}let c5=(()=>{class y extends Rn{constructor(){super("twitter.com")}static credential(g,M){return X4._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:M})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:M,oauthTokenSecret:z}=g;if(!M||!z)return null;try{return y.credential(M,z)}catch(E){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ye(y,p){return K3.apply(this,arguments)}function K3(){return(K3=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signUp",F2(y,p))})).apply(this,arguments)}class nt{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,M,z=!1){return(0,c.Z)(function*(){const E=yield k1._fromIdTokenResponse(p,M,z),X=vr(M);return new nt({user:E,providerId:X,_tokenResponse:M,operationType:g})})()}static _forOperation(p,g,M){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(M,!0);const z=vr(M);return new nt({user:p,providerId:z,_tokenResponse:M,operationType:g})})()}}function vr(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function u8(){return(u8=(0,c.Z)(function*(y){var p;const g=O(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new nt({user:g.currentUser,providerId:null,operationType:"signIn"});const M=yield Ye(g,{returnSecureToken:!0}),z=yield nt._fromIdTokenResponse(g,"signIn",M,!0);return yield g._updateCurrentUser(z.user),z})).apply(this,arguments)}class Fn extends P.ZR{constructor(p,g,M,z){var E;super(g.code,g.message),this.operationType=M,this.user=z,Object.setPrototypeOf(this,Fn.prototype),this.customData={appName:p.name,tenantId:null!==(E=p.tenantId)&&void 0!==E?E:void 0,_serverResponse:g.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(p,g,M,z){return new Fn(p,g,M,z)}}function Zt(y,p,g,M){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(E=>{throw"auth/multi-factor-auth-required"===E.code?Fn._fromErrorAndOperation(y,E,p,M):E})}function _6(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Ee(){return(Ee=(0,c.Z)(function*(y,p){const g=(0,P.m9)(y);yield ae(!0,g,p);const{providerUserInfo:M}=yield de(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),z=_6(M||[]);return g.providerData=g.providerData.filter(E=>z.has(E.providerId)),z.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function rt(y,p){return M6.apply(this,arguments)}function M6(){return(M6=(0,c.Z)(function*(y,p,g=!1){const M=yield ye(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return nt._forOperation(y,"link",M)})).apply(this,arguments)}function ae(y,p,g){return f8.apply(this,arguments)}function f8(){return(f8=(0,c.Z)(function*(y,p,g){yield Ke(p);const z=!1===y?"provider-already-linked":"no-such-provider";j(_6(p.providerData).has(g)===y,p.auth,z)})).apply(this,arguments)}function d8(y,p){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(y,p,g=!1){const{auth:M}=y,z="reauthenticate";try{const E=yield ye(y,Zt(M,z,p,y),g);j(E.idToken,M,"internal-error");const X=d2(E.idToken);j(X,M,"internal-error");const{sub:M1}=X;return j(y.uid===M1,M,"user-mismatch"),nt._forOperation(y,z,E)}catch(E){throw"auth/user-not-found"===(null==E?void 0:E.code)&&D1(M,"user-mismatch"),E}})).apply(this,arguments)}function i4(y,p){return h8.apply(this,arguments)}function h8(){return(h8=(0,c.Z)(function*(y,p,g=!1){const M="signIn",z=yield Zt(y,M,p),E=yield nt._fromIdTokenResponse(y,M,z);return g||(yield y._updateCurrentUser(E.user)),E})).apply(this,arguments)}function L6(y,p){return k.apply(this,arguments)}function k(){return(k=(0,c.Z)(function*(y,p){return i4(O(y),p)})).apply(this,arguments)}function I(y,p){return J.apply(this,arguments)}function J(){return(J=(0,c.Z)(function*(y,p){const g=(0,P.m9)(y);return yield ae(!1,g,p.providerId),rt(g,p)})).apply(this,arguments)}function C1(y,p){return $1.apply(this,arguments)}function $1(){return($1=(0,c.Z)(function*(y,p){return d8((0,P.m9)(y),p)})).apply(this,arguments)}function e2(y,p){return E2.apply(this,arguments)}function E2(){return(E2=(0,c.Z)(function*(y,p){return be(y,"POST","/v1/accounts:signInWithCustomToken",F2(y,p))})).apply(this,arguments)}function f2(){return(f2=(0,c.Z)(function*(y,p){const g=O(y),M=yield e2(g,{token:p,returnSecureToken:!0}),z=yield nt._fromIdTokenResponse(g,"signIn",M);return yield g._updateCurrentUser(z.user),z})).apply(this,arguments)}class Te{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ze._fromServerResponse(p,g):D1(p,"internal-error")}}class ze extends Te{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ze(g)}}function G2(y,p,g){var M;j((null===(M=g.url)||void 0===M?void 0:M.length)>0,y,"invalid-continue-uri"),j(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(j(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(j(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function B4(){return(B4=(0,c.Z)(function*(y,p,g){const M=(0,P.m9)(y),z={requestType:"PASSWORD_RESET",email:p};g&&G2(M,z,g),yield i8(M,z)})).apply(this,arguments)}function b6(){return(b6=(0,c.Z)(function*(y,p,g){yield Z3((0,P.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function B2(){return(B2=(0,c.Z)(function*(y,p){yield a5((0,P.m9)(y),{oobCode:p})})).apply(this,arguments)}function dn(y,p){return De.apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(y,p){const g=(0,P.m9)(y),M=yield Z3(g,{oobCode:p}),z=M.requestType;switch(j(z,g,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(M.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(M.mfaInfo,g,"internal-error");default:j(M.email,g,"internal-error")}let E=null;return M.mfaInfo&&(E=Te._fromServerResponse(O(g),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:E},operation:z}})).apply(this,arguments)}function x6(){return(x6=(0,c.Z)(function*(y,p){const{data:g}=yield dn((0,P.m9)(y),p);return g.email})).apply(this,arguments)}function C8(){return(C8=(0,c.Z)(function*(y,p,g){const M=O(y),z=yield Ye(M,{returnSecureToken:!0,email:p,password:g}),E=yield nt._fromIdTokenResponse(M,"signIn",z);return yield M._updateCurrentUser(E.user),E})).apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(y,p,g){const M=(0,P.m9)(y),z={requestType:"EMAIL_SIGNIN",email:p};j(g.handleCodeInApp,M,"argument-error"),g&&G2(M,z,g),yield M4(M,z)})).apply(this,arguments)}function F3(){return(F3=(0,c.Z)(function*(y,p,g){const M=(0,P.m9)(y),z=c8.credentialWithLink(p,g||L2());return j(z._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),L6(M,z)})).apply(this,arguments)}function hn(y,p){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(y,p){return R2(y,"POST","/v1/accounts:createAuthUri",F2(y,p))})).apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(y,p){const M={identifier:p,continueUri:k2()?L2():"http://localhost"},{signinMethods:z}=yield hn((0,P.m9)(y),M);return z||[]})).apply(this,arguments)}function xr(){return(xr=(0,c.Z)(function*(y,p){const g=(0,P.m9)(y),z={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&G2(g.auth,z,p);const{email:E}=yield we(g.auth,z);E!==y.email&&(yield y.reload())})).apply(this,arguments)}function f0(){return(f0=(0,c.Z)(function*(y,p,g){const M=(0,P.m9)(y),E={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&G2(M.auth,E,g);const{email:X}=yield s8(M.auth,E);X!==y.email&&(yield y.reload())})).apply(this,arguments)}function d0(y,p){return f5.apply(this,arguments)}function f5(){return(f5=(0,c.Z)(function*(y,p){return R2(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function p8(){return(p8=(0,c.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const M=(0,P.m9)(y),E={idToken:yield M.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},X=yield ye(M,d0(M.auth,E));M.displayName=X.displayName||null,M.photoURL=X.photoUrl||null;const M1=M.providerData.find(({providerId:Y1})=>"password"===Y1);M1&&(M1.displayName=M.displayName,M1.photoURL=M.photoURL),yield M._updateTokensIfNecessary(X)})).apply(this,arguments)}function d5(y,p,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(y,p,g){const{auth:M}=y,E={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(E.email=p),g&&(E.password=g);const X=yield ye(y,Ut(M,E));yield y._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class h5{constructor(p,g,M={}){this.isNewUser=p,this.providerId=g,this.profile=M}}class Ta extends h5{constructor(p,g,M,z){super(p,g,M),this.username=z}}class m8 extends h5{constructor(p,g){super(p,"facebook.com",g)}}class On extends Ta{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class H9 extends h5{constructor(p,g){super(p,"google.com",g)}}class p4 extends Ta{constructor(p,g,M){super(p,"twitter.com",g,M)}}function Kt(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Ea(y){var p,g;if(!y)return null;const{providerId:M}=y,z=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},E=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!M&&(null==y?void 0:y.idToken)){const X=null===(g=null===(p=d2(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(X)return new h5(E,"anonymous"!==X&&"custom"!==X?X:null)}if(!M)return null;switch(M){case"facebook.com":return new m8(E,z);case"github.com":return new On(E,z);case"google.com":return new H9(E,z);case"twitter.com":return new p4(E,z,y.screenName||null);case"custom":case"anonymous":return new h5(E,null);default:return new h5(E,M,z)}}(g)}class Cn{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Cn("enroll",p)}static _fromMfaPendingCredential(p){return new Cn("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,M;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Cn._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(M=p.multiFactorSession)||void 0===M?void 0:M.idToken)return Cn._fromIdtoken(p.multiFactorSession.idToken)}return null}}class v8{constructor(p,g,M){this.session=p,this.hints=g,this.signInResolver=M}static _fromError(p,g){const M=O(p),z=g.customData._serverResponse,E=(z.mfaInfo||[]).map(M1=>Te._fromServerResponse(M,M1));j(z.mfaPendingCredential,M,"internal-error");const X=Cn._fromMfaPendingCredential(z.mfaPendingCredential);return new v8(X,E,function(){var M1=(0,c.Z)(function*(Y1){const l2=yield Y1._process(M,X);delete z.mfaInfo,delete z.mfaPendingCredential;const T2=Object.assign(Object.assign({},z),{idToken:l2.idToken,refreshToken:l2.refreshToken});switch(g.operationType){case"signIn":const V2=yield nt._fromIdTokenResponse(M,g.operationType,T2);return yield M._updateCurrentUser(V2.user),V2;case"reauthenticate":return j(g.user,M,"internal-error"),nt._forOperation(g.user,g.operationType,T2);default:D1(M,"internal-error")}});return function(Y1){return M1.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,c.Z)(function*(){return g.signInResolver(p)})()}}function gh(y,p){return R2(y,"POST","/v2/accounts/mfaEnrollment:start",F2(y,p))}class Ia{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(M=>Te._fromServerResponse(p.auth,M)))})}static _fromUser(p){return new Ia(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Cn._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var M=this;return(0,c.Z)(function*(){const z=p,E=yield M.getSession(),X=yield ye(M.user,z._process(M.user.auth,E,g));return yield M.user._updateTokensIfNecessary(X),M.user.reload()})()}unenroll(p){var g=this;return(0,c.Z)(function*(){const M="string"==typeof p?p:p.uid,z=yield g.user.getIdToken(),E=yield ye(g.user,function zr(y,p){return R2(y,"POST","/v2/accounts/mfaEnrollment:withdraw",F2(y,p))}(g.user.auth,{idToken:z,mfaEnrollmentId:M}));g.enrolledFactors=g.enrolledFactors.filter(({uid:X})=>X!==M),yield g.user._updateTokensIfNecessary(E);try{yield g.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const Na=new WeakMap,C5="__sak";class h0{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(C5,"1"),this.storage.removeItem(C5),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qe=(()=>{class y extends h0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,M)=>this.onStorageEvent(g,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vh(){const y=(0,P.z$)();return $3(y)||k3(y)}()&&function m3(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=y4(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const M of Object.keys(this.listeners)){const z=this.storage.getItem(M),E=this.localCache[M];z!==E&&g(M,E,z)}}onStorageEvent(g,M=!1){if(!g.key)return void this.forAllChangedKeys((M1,Y1,l2)=>{this.notifyListeners(M1,l2)});const z=g.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const M1=this.storage.getItem(z);if(g.newValue!==M1)null!==g.newValue?this.storage.setItem(z,g.newValue):this.storage.removeItem(z);else if(this.localCache[z]===g.newValue&&!M)return}const E=()=>{const M1=this.storage.getItem(z);!M&&this.localCache[z]===M1||this.notifyListeners(z,M1)},X=this.storage.getItem(z);!function F4(){return(0,P.w1)()&&10===document.documentMode}()||X===g.newValue||g.newValue===g.oldValue?E():setTimeout(E,10)}notifyListeners(g,M){this.localCache[g]=M;const z=this.listeners[g];if(z)for(const E of Array.from(z))E(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,M,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:M,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,M){var z=()=>super._set,E=this;return(0,c.Z)(function*(){yield z().call(E,g,M),E.localCache[g]=JSON.stringify(M)})()}_get(g){var M=()=>super._get,z=this;return(0,c.Z)(function*(){const E=yield M().call(z,g);return z.localCache[g]=JSON.stringify(E),E})()}_remove(g){var M=()=>super._remove,z=this;return(0,c.Z)(function*(){yield M().call(z,g),delete z.localCache[g]})()}}return y.type="LOCAL",y})(),We=(()=>{class y extends h0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,M){}_removeListener(g,M){}}return y.type="SESSION",y})();let Ra=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const M=this.receivers.find(E=>E.isListeningto(g));if(M)return M;const z=new y(g);return this.receivers.push(z),z}isListeningto(g){return this.eventTarget===g}handleEvent(g){var M=this;return(0,c.Z)(function*(){const z=g,{eventId:E,eventType:X,data:M1}=z.data,Y1=M.handlersMap[X];if(!(null==Y1?void 0:Y1.size))return;z.ports[0].postMessage({status:"ack",eventId:E,eventType:X});const l2=Array.from(Y1).map(function(){var V2=(0,c.Z)(function*(Je){return Je(z.origin,M1)});return function(Je){return V2.apply(this,arguments)}}()),T2=yield function ka(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(M){return{fulfilled:!1,reason:M}}});return function(g){return p.apply(this,arguments)}}()))}(l2);z.ports[0].postMessage({status:"done",eventId:E,eventType:X,response:T2})})()}_subscribe(g,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(M)}_unsubscribe(g,M){this.handlersMap[g]&&M&&this.handlersMap[g].delete(M),(!M||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Yt(y="",p=10){let g="";for(let M=0;M<p;M++)g+=Math.floor(10*Math.random());return y+g}class E9{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,M=50){var z=this;return(0,c.Z)(function*(){const E="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!E)throw new Error("connection_unavailable");let X,M1;return new Promise((Y1,l2)=>{const T2=Yt("",20);E.port1.start();const V2=setTimeout(()=>{l2(new Error("unsupported_event"))},M);M1={messageChannel:E,onMessage(Je){const w4=Je;if(w4.data.eventId===T2)switch(w4.data.status){case"ack":clearTimeout(V2),X=setTimeout(()=>{l2(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Y1(w4.data.response);break;default:clearTimeout(V2),clearTimeout(X),l2(new Error("invalid_response"))}}},z.handlers.add(M1),E.port1.addEventListener("message",M1.onMessage),z.target.postMessage({eventType:p,eventId:T2,data:g},[E.port2])}).finally(()=>{M1&&z.removeMessageHandler(M1)})})()}}function Ue(){return window}function yt(){return void 0!==Ue().WorkerGlobalScope&&"function"==typeof Ue().importScripts}function Sr(){return(Sr=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const p0="firebaseLocalStorageDb",m5="firebaseLocalStorage",Vr="fbase_key";class Un{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Gn(y,p){return y.transaction([m5],p?"readwrite":"readonly").objectStore(m5)}function z6(){const y=indexedDB.open(p0,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const M=y.result;try{M.createObjectStore(m5,{keyPath:Vr})}catch(z){g(z)}}),y.addEventListener("success",(0,c.Z)(function*(){const M=y.result;M.objectStoreNames.contains(m5)?p(M):(M.close(),yield function m0(){const y=indexedDB.deleteDatabase(p0);return new Un(y).toPromise()}(),p(yield z6()))}))})}function g0(y,p,g){return S6.apply(this,arguments)}function S6(){return(S6=(0,c.Z)(function*(y,p,g){const M=Gn(y,!0).put({[Vr]:p,value:g});return new Un(M).toPromise()})).apply(this,arguments)}function v0(){return(v0=(0,c.Z)(function*(y,p){const g=Gn(y,!1).get(p),M=yield new Un(g).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Hr(y,p){const g=Gn(y,!0).delete(p);return new Un(g).toPromise()}const jn=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield z6()),g.db})()}_withRetries(g){var M=this;return(0,c.Z)(function*(){let z=0;for(;;)try{const E=yield M._openDb();return yield g(E)}catch(E){if(z++>3)throw E;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return yt()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Ra._getInstance(function Fa(){return yt()?self:null}()),g.receiver._subscribe("keyChanged",function(){var M=(0,c.Z)(function*(z,E){return{keyProcessed:(yield g._poll()).includes(E.key)}});return function(z,E){return M.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var M=(0,c.Z)(function*(z,E){return["keyChanged"]});return function(z,E){return M.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var M,z;if(g.activeServiceWorker=yield function M2(){return Sr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new E9(g.activeServiceWorker);const E=yield g.sender._send("ping",{},800);!E||(null===(M=E[0])||void 0===M?void 0:M.fulfilled)&&(null===(z=E[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var M=this;return(0,c.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Pa(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:g},M.serviceWorkerReceiverAvailable?800:50)}catch(z){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield z6();return yield g0(g,C5,"1"),yield Hr(g,C5),!0}catch(g){}return!1})()}_withPendingWrite(g){var M=this;return(0,c.Z)(function*(){M.pendingWrites++;try{yield g()}finally{M.pendingWrites--}})()}_set(g,M){var z=this;return(0,c.Z)(function*(){return z._withPendingWrite((0,c.Z)(function*(){return yield z._withRetries(E=>g0(E,g,M)),z.localCache[g]=M,z.notifyServiceWorker(g)}))})()}_get(g){var M=this;return(0,c.Z)(function*(){const z=yield M._withRetries(E=>function y8(y,p){return v0.apply(this,arguments)}(E,g));return M.localCache[g]=z,z})()}_remove(g){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(z=>Hr(z,g)),delete M.localCache[g],M.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const M=yield g._withRetries(X=>{const M1=Gn(X,!1).getAll();return new Un(M1).toPromise()});if(!M)return[];if(0!==g.pendingWrites)return[];const z=[],E=new Set;for(const{fbase_key:X,value:M1}of M)E.add(X),JSON.stringify(g.localCache[X])!==JSON.stringify(M1)&&(g.notifyListeners(X,M1),z.push(X));for(const X of Object.keys(g.localCache))g.localCache[X]&&!E.has(X)&&(g.notifyListeners(X,null),z.push(X));return z})()}notifyListeners(g,M){this.localCache[g]=M;const z=this.listeners[g];if(z)for(const E of Array.from(z))E(M)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function w3(y,p){return R2(y,"POST","/v2/accounts/mfaSignIn:start",F2(y,p))}function Ne(){return(Ne=(0,c.Z)(function*(y){return(yield R2(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _t(y){return new Promise((p,g)=>{const M=document.createElement("script");M.setAttribute("src",y),M.onload=p,M.onerror=z=>{const E=V1("internal-error");E.customData=z,g(E)},M.type="text/javascript",M.charset="UTF-8",function _8(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(M)})}function H6(y){return`__${y}${Math.floor(1e6*Math.random())}`}const G4=1e12;class i3{constructor(p){this.auth=p,this.counter=G4,this._widgets=new Map}render(p,g){const M=this.counter;return this._widgets.set(M,new A6(p,this.auth.name,g||{})),this.counter++,M}reset(p){var g;const M=p||G4;null===(g=this._widgets.get(M))||void 0===g||g.delete(),this._widgets.delete(M)}getResponse(p){var g;return(null===(g=this._widgets.get(p||G4))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,c.Z)(function*(){var M;return null===(M=g._widgets.get(p||G4))||void 0===M||M.execute(),""})()}}class A6{constructor(p,g,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof p?document.getElementById(p):p;j(z,"argument-error",{appName:g}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function y0(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<y;M++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(M){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(M){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const je=H6("rcb"),T9=new Le(3e4,6e4);class yh{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ue().grecaptcha}load(p,g=""){return j(function y5(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Ue().grecaptcha):new Promise((M,z)=>{const E=Ue().setTimeout(()=>{z(V1(p,"network-request-failed"))},T9.get());Ue()[je]=()=>{Ue().clearTimeout(E),delete Ue()[je];const M1=Ue().grecaptcha;if(!M1)return void z(V1(p,"internal-error"));const Y1=M1.render;M1.render=(l2,T2)=>{const V2=Y1(l2,T2);return this.counter++,V2},this.hostLanguage=g,M(M1)},_t(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:je,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(E),z(V1(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Ue().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class j4{load(p){return(0,c.Z)(function*(){return new i3(p)})()}clearedOneInstance(){}}const I9="recaptcha",qn={theme:"light",type:"image"};class E6{constructor(p,g=Object.assign({},qn),M){this.parameters=g,this.type=I9,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=O(M),this.isInvisible="invisible"===this.parameters.size,j("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof p?document.getElementById(p):p;j(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new j4:new yh,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),M=p.getAssertedRecaptcha();return M.getResponse(g)||new Promise(E=>{const X=M1=>{!M1||(p.tokenChangeListeners.delete(X),E(M1))};p.tokenChangeListeners.add(X),p.isInvisible&&M.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(M=>M(g)),"function"==typeof p)p(g);else if("string"==typeof p){const M=Ue()[p];"function"==typeof M&&M(g)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const M=document.createElement("div");g.appendChild(M),g=M}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){j(k2()&&!yt(),p.auth,"internal-error"),yield function M8(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Oa(y){return Ne.apply(this,arguments)}(p.auth);j(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class s3{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=kn._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function T6(){return(T6=(0,c.Z)(function*(y,p,g){const M=O(y),z=yield _5(M,p,(0,P.m9)(g));return new s3(z,E=>L6(M,E))})).apply(this,arguments)}function M0(){return(M0=(0,c.Z)(function*(y,p,g){const M=(0,P.m9)(y);yield ae(!1,M,"phone");const z=yield _5(M.auth,p,(0,P.m9)(g));return new s3(z,E=>I(M,E))})).apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(y,p,g){const M=(0,P.m9)(y),z=yield _5(M.auth,p,(0,P.m9)(g));return new s3(z,E=>C1(M,E))})).apply(this,arguments)}function _5(y,p,g){return D6.apply(this,arguments)}function D6(){return(D6=(0,c.Z)(function*(y,p,g){var M;const z=yield g.verify();try{let E;if(j("string"==typeof z,y,"argument-error"),j(g.type===I9,y,"argument-error"),E="string"==typeof p?{phoneNumber:p}:p,"session"in E){const X=E.session;if("phoneNumber"in E)return j("enroll"===X.type,y,"internal-error"),(yield gh(y,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:E.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{j("signin"===X.type,y,"internal-error");const M1=(null===(M=E.multiFactorHint)||void 0===M?void 0:M.uid)||E.multiFactorUid;return j(M1,y,"missing-multi-factor-info"),(yield w3(y,{mfaPendingCredential:X.credential,mfaEnrollmentId:M1,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield dr(y,{phoneNumber:E.phoneNumber,recaptchaToken:z});return X}}finally{g._reset()}})).apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(y,p){yield rt((0,P.m9)(y),p)})).apply(this,arguments)}let b8=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=O(g)}verifyPhoneNumber(g,M){return _5(this.auth,g,(0,P.m9)(M))}static credential(g,M){return kn._fromVerification(g,M)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:M,temporaryProof:z}=g;return M&&z?kn._fromTokenResponse(M,z):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function $n(y,p){return p?l1(p):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class L0 extends xe{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return qt(p,this._buildIdpRequest())}_linkToIdToken(p,g){return qt(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return qt(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function ne(y){return i4(y.auth,new L0(y),y.bypassAuthState)}function Ba(y){const{auth:p,user:g}=y;return j(g,p,"internal-error"),d8(g,new L0(y),y.bypassAuthState)}function O3(y){return M5.apply(this,arguments)}function M5(){return(M5=(0,c.Z)(function*(y){const{auth:p,user:g}=y;return j(g,p,"internal-error"),rt(g,new L0(y),y.bypassAuthState)})).apply(this,arguments)}class pn{constructor(p,g,M,z,E=!1){this.auth=p,this.resolver=M,this.user=z,this.bypassAuthState=E,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,c.Z)(function*(M,z){p.pendingPromise={resolve:M,reject:z};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(E){p.reject(E)}});return function(M,z){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,c.Z)(function*(){const{urlResponse:M,sessionId:z,postBody:E,tenantId:X,error:M1,type:Y1}=p;if(M1)return void g.reject(M1);const l2={auth:g.auth,requestUri:M,sessionId:z,tenantId:X||void 0,postBody:E||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Y1)(l2))}catch(T2){g.reject(T2)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ne;case"linkViaPopup":case"linkViaRedirect":return O3;case"reauthViaPopup":case"reauthViaRedirect":return Ba;default:D1(this.auth,"internal-error")}}resolve(p){t1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){t1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mh=new Le(2e3,1e4);function b0(){return(b0=(0,c.Z)(function*(y,p,g){const M=O(y);X1(y,p,r4);const z=$n(M,g);return new x0(M,"signInViaPopup",p,z).executeNotNull()})).apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(y,p,g){const M=(0,P.m9)(y);X1(M.auth,p,r4);const z=$n(M.auth,g);return new x0(M.auth,"reauthViaPopup",p,z,M).executeNotNull()})).apply(this,arguments)}function Tr(){return(Tr=(0,c.Z)(function*(y,p,g){const M=(0,P.m9)(y);X1(M.auth,p,r4);const z=$n(M.auth,g);return new x0(M.auth,"linkViaPopup",p,z,M).executeNotNull()})).apply(this,arguments)}let x0=(()=>{class y extends pn{constructor(g,M,z,E,X){super(g,M,E,X),this.provider=z,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const M=yield g.execute();return j(M,g.auth,"internal-error"),M})()}onExecution(){var g=this;return(0,c.Z)(function*(){t1(1===g.filter.length,"Popup operations only handle one event");const M=Yt();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],M),g.authWindow.associatedEvent=M,g.resolver._originValidation(g.auth).catch(z=>{g.reject(z)}),g.resolver._isIframeWebStorageSupported(g.auth,z=>{z||g.reject(V1(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(V1(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var M,z;this.pollId=(null===(z=null===(M=this.authWindow)||void 0===M?void 0:M.window)||void 0===z?void 0:z.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(V1(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Mh.get())};g()}}return y.currentPopupAction=null,y})();const Y3=new Map;class Lh extends pn{constructor(p,g,M=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,M),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,c.Z)(function*(){let M=Y3.get(g.auth._key());if(!M){try{const E=(yield function x8(y,p){return L5.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;M=()=>Promise.resolve(E)}catch(z){M=()=>Promise.reject(z)}Y3.set(g.auth._key(),M)}return g.bypassAuthState||Y3.set(g.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,M=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(M,p);if("unknown"!==p.type){if(p.eventId){const z=yield M.auth._redirectUserForId(p.eventId);if(z)return M.user=z,g().call(M,p);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function L5(){return(L5=(0,c.Z)(function*(y,p){const g=S0(p),M=Dr(y);if(!(yield M._isAvailable()))return!1;const z="true"===(yield M._get(g));return yield M._remove(g),z})).apply(this,arguments)}function I6(y,p){return w0.apply(this,arguments)}function w0(){return(w0=(0,c.Z)(function*(y,p){return Dr(y)._set(S0(p),"true")})).apply(this,arguments)}function z0(y,p){Y3.set(y._key(),p)}function Dr(y){return l1(y._redirectPersistence)}function S0(y){return p2("pendingRedirect",y.config.apiKey,y.name)}function X2(){return(X2=(0,c.Z)(function*(y,p,g){const M=O(y);X1(y,p,r4);const z=$n(M,g);return yield I6(z,M),z._openRedirect(M,p,"signInViaRedirect")})).apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(y,p,g){const M=(0,P.m9)(y);X1(M.auth,p,r4);const z=$n(M.auth,g);yield I6(z,M.auth);const E=yield w5(M);return z._openRedirect(M.auth,p,"reauthViaRedirect",E)})).apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(y,p,g){const M=(0,P.m9)(y);X1(M.auth,p,r4);const z=$n(M.auth,g);yield ae(!1,M,p.providerId),yield I6(z,M.auth);const E=yield w5(M);return z._openRedirect(M.auth,p,"linkViaRedirect",E)})).apply(this,arguments)}function x5(){return(x5=(0,c.Z)(function*(y,p){return yield O(y)._initializationPromise,Mt(y,p,!1)})).apply(this,arguments)}function Mt(y,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(y,p,g=!1){const M=O(y),z=$n(M,p),X=yield new Lh(M,z,g).execute();return X&&!g&&(delete X.user._redirectEventId,yield M._persistUserIfCurrent(X.user),yield M._setRedirectUser(null,p)),X})).apply(this,arguments)}function w5(y){return N6.apply(this,arguments)}function N6(){return(N6=(0,c.Z)(function*(y){const p=Yt(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class z5{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(p,M)&&(g=!0,this.sendToConsumer(p,M),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function $a(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S5(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var M;if(p.error&&!S5(p)){const z=(null===(M=p.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";g.onError(V1(this.auth,z))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const M=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&M}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(w8(p))}saveEventToCache(p){this.cachedEventUids.add(w8(p)),this.lastProcessedEventTime=Date.now()}}function w8(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function S5({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Wa(y){return A0.apply(this,arguments)}function A0(){return(A0=(0,c.Z)(function*(y,p={}){return R2(y,"GET","/v1/projects",p)})).apply(this,arguments)}const mn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z8=/^https?/;function Za(){return(Za=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Wa(y);for(const g of p)try{if(Ka(g))return}catch(M){}D1(y,"unauthorized-domain")})).apply(this,arguments)}function Ka(y){const p=L2(),{protocol:g,hostname:M}=new URL(p);if(y.startsWith("chrome-extension://")){const X=new URL(y);return""===X.hostname&&""===M?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&X.hostname===M}if(!z8.test(g))return!1;if(mn.test(y))return M===y;const z=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(M)}const R9=new Le(3e4,6e4);function Ya(){const y=Ue().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let V5=null;function gn(y){return V5=V5||function E0(y){return new Promise((p,g)=>{var M,z,E;function X(){Ya(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ya(),g(V1(y,"network-request-failed"))},timeout:R9.get()})}if(null===(z=null===(M=Ue().gapi)||void 0===M?void 0:M.iframes)||void 0===z?void 0:z.Iframe)p(gapi.iframes.getContext());else{if(!(null===(E=Ue().gapi)||void 0===E?void 0:E.load)){const M1=H6("iframefcb");return Ue()[M1]=()=>{gapi.load?X():g(V1(y,"network-request-failed"))},_t(`https://apis.google.com/js/api.js?onload=${M1}`).catch(Y1=>g(Y1))}X()}}).catch(p=>{throw V5=null,p})}(y),V5}const vn=new Le(5e3,15e3),P9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F9(y){const p=y.config;j(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Ce(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,M={apiKey:p.apiKey,appName:y.name,v:f1.SDK_VERSION},z=R6.get(y.config.apiHost);z&&(M.eid=z);const E=y._getFrameworks();return E.length&&(M.fw=E.join(",")),`${g}?${(0,P.xO)(M).slice(1)}`}function Yn(){return Yn=(0,c.Z)(function*(y){const p=yield gn(y),g=Ue().gapi;return j(g,y,"internal-error"),p.open({where:document.body,url:F9(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P9,dontclear:!0},M=>new Promise(function(){var z=(0,c.Z)(function*(E,X){yield M.restyle({setHideOnLeave:!1});const M1=V1(y,"network-request-failed"),Y1=Ue().setTimeout(()=>{X(M1)},vn.get());function l2(){Ue().clearTimeout(Y1),E(M)}M.ping(l2).then(l2,()=>{X(M1)})});return function(E,X){return z.apply(this,arguments)}}()))}),Yn.apply(this,arguments)}const T0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qa{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Lt(y,p,g,M,z,E){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const X={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:M,v:f1.SDK_VERSION,eventId:z};if(p instanceof r4){p.setDefaultLanguage(y.languageCode),X.providerId=p.providerId||"",(0,P.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Y1,l2]of Object.entries(E||{}))X[Y1]=l2}if(p instanceof Rn){const Y1=p.getScopes().filter(l2=>""!==l2);Y1.length>0&&(X.scopes=Y1.join(","))}y.tenantId&&(X.tid=y.tenantId);const M1=X;for(const Y1 of Object.keys(M1))void 0===M1[Y1]&&delete M1[Y1];return`${function H5({config:y}){return y.emulator?Ce(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(M1).slice(1)}`}const V8="webStorageSupport";class H8 extends class U9{constructor(p){this.factorId=p}_process(p,g,M){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,M);case"signin":return this._finalizeSignIn(p,g.credential);default:return B("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new H8(p)}_finalizeEnroll(p,g,M){return function w6(y,p){return R2(y,"POST","/v2/accounts/mfaEnrollment:finalize",F2(y,p))}(p,{idToken:g,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function V6(y,p){return R2(y,"POST","/v2/accounts/mfaSignIn:finalize",F2(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xa=(()=>{class y{constructor(){}static assertion(g){return H8._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var eo="@firebase/auth";class no{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(M=>{var z;p((null===(z=M)||void 0===z?void 0:z.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bt(){return window}function P6(){return(P6=(0,c.Z)(function*(y,p,g){var M;const{BuildInfo:z}=bt();t1(p.sessionId,"AuthEvent did not contain a session ID");const E=yield R0(p.sessionId),X={};return k3()?X.ibi=z.packageName:Ae()?X.apn=z.packageName:D1(y,"operation-not-supported-in-this-environment"),z.displayName&&(X.appDisplayName=z.displayName),X.sessionId=E,Lt(y,g,p.type,void 0,null!==(M=p.eventId)&&void 0!==M?M:void 0,X)})).apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(y){const{BuildInfo:p}=bt(),g={};k3()?g.iosBundleId=p.packageName:Ae()?g.androidPackageName=p.packageName:D1(y,"operation-not-supported-in-this-environment"),yield Wa(y,g)})).apply(this,arguments)}function so(){return(so=(0,c.Z)(function*(y,p,g){const{cordova:M}=bt();let z=()=>{};try{yield new Promise((E,X)=>{let M1=null;function Y1(){var V2;E();const Je=null===(V2=M.plugins.browsertab)||void 0===V2?void 0:V2.close;"function"==typeof Je&&Je(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function l2(){M1||(M1=window.setTimeout(()=>{X(V1(y,"redirect-cancelled-by-user"))},2e3))}function T2(){"visible"===(null==document?void 0:document.visibilityState)&&l2()}p.addPassiveListener(Y1),document.addEventListener("resume",l2,!1),Ae()&&document.addEventListener("visibilitychange",T2,!1),z=()=>{p.removePassiveListener(Y1),document.removeEventListener("resume",l2,!1),document.removeEventListener("visibilitychange",T2,!1),M1&&window.clearTimeout(M1)}})}finally{z()}})).apply(this,arguments)}function R0(y){return A8.apply(this,arguments)}function A8(){return(A8=(0,c.Z)(function*(y){const p=P0(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function P0(y){if(t1(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let M=0;M<y.length;M++)g[M]=y.charCodeAt(M);return g}!function bh(y){(0,f1._registerComponent)(new c1.wA("auth",(p,{options:g})=>{const M=p.getProvider("app").getImmediate(),z=p.getProvider("heartbeat"),{apiKey:E,authDomain:X}=M.options;return((M1,Y1)=>{j(E&&!E.includes(":"),"invalid-api-key",{appName:M1.name}),j(!(null==X?void 0:X.includes(":")),"argument-error",{appName:M1.name});const l2={apiKey:E,authDomain:X,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bt(y)},T2=new n2(M1,Y1,l2);return function u1(y,p){const g=(null==p?void 0:p.persistence)||[],M=(Array.isArray(g)?g:[g]).map(l1);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(M,null==p?void 0:p.popupRedirectResolver)}(T2,g),T2})(M,z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,M)=>{p.getProvider("auth-internal").initialize()})),(0,f1._registerComponent)(new c1.wA("auth-internal",p=>{const g=O(p.getProvider("auth").getImmediate());return new no(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,f1.registerVersion)(eo,"0.20.1",function Pr(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,f1.registerVersion)(eo,"0.20.1","esm2017")}("Browser");class Br extends z5{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function T5(y){return D5.apply(this,arguments)}function D5(){return(D5=(0,c.Z)(function*(y){const p=yield O6()._get(Gr(y));return p&&(yield O6()._remove(Gr(y))),p})).apply(this,arguments)}function Ur(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const M=Math.floor(Math.random()*p.length);y.push(p.charAt(M))}return y.join("")}function O6(){return l1(Qe)}function Gr(y){return p2("authEvent",y.config.apiKey,y.name)}function oe(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,P.zd)(g.join("?"))}function N5(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:V1("no-auth-event")}}function B6(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function oo(y=(0,P.z$)()){return!("file:"!==B6()&&"ionic:"!==B6()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function G0(){try{const y=self.localStorage,p=Yt();if(y)return y.setItem(p,"1"),y.removeItem(p),!function U0(y=(0,P.z$)()){return function a4(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function U6(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch(y){return B3()&&(0,P.hl)()}return!1}function B3(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function G6(){return(function K9(){return"http:"===B6()||"https:"===B6()}()||(0,P.ru)()||oo())&&!function Qn(){return(0,P.b$)()||(0,P.UG)()}()&&G0()&&!B3()}function jr(){return oo()&&"undefined"!=typeof document}function E8(){return(E8=(0,c.Z)(function*(){return!!jr()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const L4={LOCAL:"local",NONE:"none",SESSION:"session"},Mn=j,lo="persistence";function k5(y){return j0.apply(this,arguments)}function j0(){return(j0=(0,c.Z)(function*(y){yield y._initializationPromise;const p=fo(),g=p2(lo,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function fo(){var y;try{return(null===(y=function co(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Q9=j;class b4{constructor(){this.browserResolver=l1(class Ja{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=We,this._completeRedirectFn=Mt,this._overrideRedirectResult=z0}_openPopup(p,g,M,z){var E=this;return(0,c.Z)(function*(){var X;t1(null===(X=E.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const M1=Lt(p,g,M,L2(),z);return function S8(y,p,g,M=500,z=600){const E=Math.max((window.screen.availHeight-z)/2,0).toString(),X=Math.max((window.screen.availWidth-M)/2,0).toString();let M1="";const Y1=Object.assign(Object.assign({},T0),{width:M.toString(),height:z.toString(),top:E,left:X}),l2=(0,P.z$)().toLowerCase();g&&(M1=v4(l2)?"_blank":g),se(l2)&&(p=p||"http://localhost",Y1.scrollbars="yes");const T2=Object.entries(Y1).reduce((Je,[w4,D8])=>`${Je}${w4}=${D8},`,"");if(function Ct(y=(0,P.z$)()){var p;return k3(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(l2)&&"_self"!==M1)return function O9(y,p){const g=document.createElement("a");g.href=y,g.target=p;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(M)}(p||"",M1),new Qa(null);const V2=window.open(p||"",M1,T2);j(V2,y,"popup-blocked");try{V2.focus()}catch(Je){}return new Qa(V2)}(p,M1,Yt())})()}_openRedirect(p,g,M,z){var E=this;return(0,c.Z)(function*(){return yield E._originValidation(p),function C0(y){Ue().location.href=y}(Lt(p,g,M,L2(),z)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:z,promise:E}=this.eventManagers[g];return z?Promise.resolve(z):(t1(E,"If manager is not set, promise should be"),E)}const M=this.initAndGetManager(p);return this.eventManagers[g]={promise:M},M.catch(()=>{delete this.eventManagers[g]}),M}initAndGetManager(p){var g=this;return(0,c.Z)(function*(){const M=yield function kr(y){return Yn.apply(this,arguments)}(p),z=new z5(p);return M.register("authEvent",E=>(j(null==E?void 0:E.authEvent,p,"invalid-auth-event"),{status:z.onEvent(E.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:z},g.iframes[p._key()]=M,z})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(V8,{type:V8},z=>{var E;const X=null===(E=null==z?void 0:z[0])||void 0===E?void 0:E[V8];void 0!==X&&g(!!X),D1(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function k9(y){return Za.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return y4()||$3()||k3()}}),this.cordovaResolver=l1(class ao{constructor(){this._redirectPersistence=We,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mt,this._overrideRedirectResult=z0}_initialize(p){var g=this;return(0,c.Z)(function*(){const M=p._key();let z=g.eventManagers.get(M);return z||(z=new Br(p),g.eventManagers.set(M,z),g.attachCallbackListeners(p,z)),z})()}_openPopup(p){D1(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,M,z){var E=this;return(0,c.Z)(function*(){!function A5(y){var p,g,M,z,E,X,M1,Y1,l2,T2;const V2=bt();j("function"==typeof(null===(p=null==V2?void 0:V2.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(void 0!==(null===(g=null==V2?void 0:V2.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(E=null===(z=null===(M=null==V2?void 0:V2.cordova)||void 0===M?void 0:M.plugins)||void 0===z?void 0:z.browsertab)||void 0===E?void 0:E.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Y1=null===(M1=null===(X=null==V2?void 0:V2.cordova)||void 0===X?void 0:X.plugins)||void 0===M1?void 0:M1.browsertab)||void 0===Y1?void 0:Y1.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(T2=null===(l2=null==V2?void 0:V2.cordova)||void 0===l2?void 0:l2.InAppBrowser)||void 0===T2?void 0:T2.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const X=yield E._initialize(p);yield X.initialized(),X.resetRedirect(),function ja(){Y3.clear()}(),yield E._originValidation(p);const M1=function E5(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Ur(),postBody:null,tenantId:y.tenantId,error:V1(y,"no-auth-event")}}(p,M,z);yield function G9(y,p){return O6()._set(Gr(y),p)}(p,M1);const Y1=yield function xt(y,p,g){return P6.apply(this,arguments)}(p,M1,g),l2=yield function Or(y){const{cordova:p}=bt();return new Promise(g=>{p.plugins.browsertab.isAvailable(M=>{let z=null;M?p.plugins.browsertab.openUrl(y):z=p.InAppBrowser.open(y,function In(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(z)})})}(Y1);return function F6(y,p,g){return so.apply(this,arguments)}(p,X,l2)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function io(y){return Fr.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:M,handleOpenURL:z,BuildInfo:E}=bt(),X=setTimeout((0,c.Z)(function*(){yield T5(p),g.onEvent(N5())}),500),M1=function(){var T2=(0,c.Z)(function*(V2){clearTimeout(X);const Je=yield T5(p);let w4=null;Je&&(null==V2?void 0:V2.url)&&(w4=function j9(y,p){var g,M;const z=function O0(y){const p=oe(y),g=p.link?decodeURIComponent(p.link):void 0,M=oe(g).link,z=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return oe(z).link||z||M||g||y}(p);if(z.includes("/__/auth/callback")){const E=oe(z),X=E.firebaseError?function F0(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(E.firebaseError)):null,M1=null===(M=null===(g=null==X?void 0:X.code)||void 0===g?void 0:g.split("auth/"))||void 0===M?void 0:M[1],Y1=M1?V1(M1):null;return Y1?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Y1,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:z,postBody:null}}return null}(Je,V2.url)),g.onEvent(w4||N5())});return function(Je){return T2.apply(this,arguments)}}();void 0!==M&&"function"==typeof M.subscribe&&M.subscribe(null,M1);const Y1=z,l2=`${E.packageName.toLowerCase()}://`;bt().handleOpenURL=function(){var T2=(0,c.Z)(function*(V2){if(V2.toLowerCase().startsWith(l2)&&M1({url:V2}),"function"==typeof Y1)try{Y1(V2)}catch(Je){console.error(Je)}});return function(V2){return T2.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=We,this._completeRedirectFn=Mt,this._overrideRedirectResult=z0}_initialize(p){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,M,z){var E=this;return(0,c.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._openPopup(p,g,M,z)})()}_openRedirect(p,g,M,z){var E=this;return(0,c.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._openRedirect(p,g,M,z)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return jr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Q9(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Y9(){return E8.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function ho(y){return y.unwrap()}function qr(y){return Co(y)}function Co(y){const{_tokenResponse:p}=y instanceof P.ZR?y.customData:y;if(!p)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return b8.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let M;switch(g){case"google.com":M=gr;break;case"facebook.com":M=Pn;break;case"github.com":M=l0;break;case"twitter.com":M=c5;break;default:const{oauthIdToken:z,oauthAccessToken:E,oauthTokenSecret:X,pendingToken:M1,nonce:Y1}=p;return E||X||z||M1?M1?g.startsWith("saml.")?tt._create(g,M1):X4._fromParams({providerId:g,signInMethod:g,pendingToken:M1,idToken:z,accessToken:E}):new et(g).credential({idToken:z,accessToken:E,rawNonce:Y1}):null}return y instanceof P.ZR?M.credentialFromError(y):M.credentialFromResult(y)}function x4(y,p){return p.catch(g=>{throw g instanceof P.ZR&&function X9(y,p){var g;const M=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new po(y,function A9(y,p){var g;const M=(0,P.m9)(y),z=p;return j(p.customData.operationType,M,"argument-error"),j(null===(g=z.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,M,"argument-error"),v8._fromError(M,z)}(y,p));else if(M){const z=Co(p),E=p;z&&(E.credential=z,E.tenantId=M.tenantId||void 0,E.email=M.email||void 0,E.phoneNumber=M.phoneNumber||void 0)}}(y,g),g}).then(g=>{const z=g.user;return{operationType:g.operationType,credential:qr(g),additionalUserInfo:Kt(g),user:en.getOrCreate(z)}})}function q0(y,p){return $0.apply(this,arguments)}function $0(){return($0=(0,c.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:M=>x4(y,g.confirm(M))}})).apply(this,arguments)}class po{constructor(p,g){this.resolver=g,this.auth=function J9(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return x4(ho(this.auth),this.resolver.resolveSignIn(p))}}class en{constructor(p){this._delegate=p,this.multiFactor=function Bn(y){const p=(0,P.m9)(y);return Na.has(p)||Na.set(p,Ia._fromUser(p)),Na.get(p)}(p)}static getOrCreate(p){return en.USER_MAP.has(p)||en.USER_MAP.set(p,new en(p)),en.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,c.Z)(function*(){return x4(g.auth,I(g._delegate,p))})()}linkWithPhoneNumber(p,g){var M=this;return(0,c.Z)(function*(){return q0(M.auth,function _h(y,p,g){return M0.apply(this,arguments)}(M._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,c.Z)(function*(){return x4(g.auth,function Ga(y,p,g){return Tr.apply(this,arguments)}(g._delegate,p,b4))})()}linkWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield k5(O(g.auth)),function V0(y,p,g){return function b5(y,p,g){return Ir.apply(this,arguments)}(y,p,g)}(g._delegate,p,b4)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,c.Z)(function*(){return x4(g.auth,C1(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return q0(this.auth,function st(y,p,g){return at.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return x4(this.auth,function Jt(y,p,g){return Er.apply(this,arguments)}(this._delegate,p,b4))}reauthenticateWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield k5(O(g.auth)),function u3(y,p,g){return function qa(y,p,g){return Xt.apply(this,arguments)}(y,p,g)}(g._delegate,p,b4)})()}sendEmailVerification(p){return function z9(y,p){return xr.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,c.Z)(function*(){return yield function w9(y,p){return Ee.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Ch(y,p){return d5((0,P.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Aa(y,p){return d5((0,P.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function L8(y,p){return Ar.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function V9(y,p){return p8.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function S9(y,p,g){return f0.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}en.USER_MAP=new WeakMap;const T8=j;let mo=(()=>{class y{constructor(g,M){if(this.app=g,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=g.options;T8(z,"invalid-api-key",{appName:g.name}),T8(z,"invalid-api-key",{appName:g.name});const E="undefined"!=typeof window?b4:void 0;this._delegate=M.initialize({options:{persistence:ec(z,g.name),popupRedirectResolver:E}}),this._delegate._updateErrorMap(O1),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?en.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,M){!function P1(y,p,g){const M=O(y);j(M._canInitEmulator,M,"emulator-config-failed"),j(/^https?:\/\//.test(p),M,"invalid-emulator-scheme");const z=!!(null==g?void 0:g.disableWarnings),E=h2(p),{host:X,port:M1}=function $2(y){const p=h2(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const M=g[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(M);if(z){const E=z[1];return{host:E,port:Y2(M.substr(E.length+1))}}{const[E,X]=M.split(":");return{host:E,port:Y2(X)}}}(p);M.config.emulator={url:`${E}//${X}${null===M1?"":`:${M1}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:X,port:M1,protocol:E.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function Q2(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,M)}applyActionCode(g){return function N1(y,p){return B2.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return dn(this._delegate,g)}confirmPasswordReset(g,M){return function l5(y,p,g){return b6.apply(this,arguments)}(this._delegate,g,M)}createUserWithEmailAndPassword(g,M){var z=this;return(0,c.Z)(function*(){return x4(z._delegate,function gt(y,p,g){return C8.apply(this,arguments)}(z._delegate,g,M))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function u5(y,p){return vt.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Mr(y,p){const g=o5.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){T8(G6(),g._delegate,"operation-not-supported-in-this-environment");const M=yield function N9(y,p){return x5.apply(this,arguments)}(g._delegate,b4);return M?x4(g._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function q9(y,p){O(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,M,z){const{next:E,error:X,complete:M1}=go(g,M,z);return this._delegate.onAuthStateChanged(E,X,M1)}onIdTokenChanged(g,M,z){const{next:E,error:X,complete:M1}=go(g,M,z);return this._delegate.onIdTokenChanged(E,X,M1)}sendSignInLinkToEmail(g,M){return function hh(y,p,g){return _r.apply(this,arguments)}(this._delegate,g,M)}sendPasswordResetEmail(g,M){return function fn(y,p,g){return B4.apply(this,arguments)}(this._delegate,g,M||void 0)}setPersistence(g){var M=this;return(0,c.Z)(function*(){let z;switch(function uo(y,p){Mn(Object.values(L4).includes(p),y,"invalid-persistence-type"),(0,P.b$)()?Mn(p!==L4.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?Mn(p===L4.NONE,y,"unsupported-persistence-type"):B3()?Mn(p===L4.NONE||p===L4.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):Mn(p===L4.NONE||G0(),y,"unsupported-persistence-type")}(M._delegate,g),g){case L4.SESSION:z=We;break;case L4.LOCAL:z=(yield l1(jn)._isAvailable())?jn:Qe;break;case L4.NONE:z=j1;break;default:return D1("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return x4(this._delegate,function Ha(y){return u8.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return x4(this._delegate,L6(this._delegate,g))}signInWithCustomToken(g){return x4(this._delegate,function Oe(y,p){return f2.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,M){return x4(this._delegate,function u0(y,p,g){return L6((0,P.m9)(y),c8.credential(p,g))}(this._delegate,g,M))}signInWithEmailLink(g,M){return x4(this._delegate,function Lr(y,p,g){return F3.apply(this,arguments)}(this._delegate,g,M))}signInWithPhoneNumber(g,M){return q0(this._delegate,function _0(y,p,g){return T6.apply(this,arguments)}(this._delegate,g,M))}signInWithPopup(g){var M=this;return(0,c.Z)(function*(){return T8(G6(),M._delegate,"operation-not-supported-in-this-environment"),x4(M._delegate,function Ua(y,p,g){return b0.apply(this,arguments)}(M._delegate,g,b4))})()}signInWithRedirect(g){var M=this;return(0,c.Z)(function*(){return T8(G6(),M._delegate,"operation-not-supported-in-this-environment"),yield k5(M._delegate),function Wn(y,p,g){return function Zn(y,p,g){return X2.apply(this,arguments)}(y,p,g)}(M._delegate,g,b4)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function yr(y,p){return x6.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=L4,y})();function go(y,p,g){let M=y;"function"!=typeof y&&({next:M,error:p,complete:g}=y);const z=M;return{next:X=>z(X&&en.getOrCreate(X)),error:p,complete:g}}function ec(y,p){const g=function j6(y,p){const g=fo();if(!g)return[];const M=p2(lo,y,p);switch(g.getItem(M)){case L4.NONE:return[j1];case L4.LOCAL:return[jn,We];case L4.SESSION:return[We];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(jn)&&g.push(jn),"undefined"!=typeof window)for(const M of[Qe,We])g.includes(M)||g.push(M);return g.includes(j1)||g.push(j1),g}class W0{constructor(){this.providerId="phone",this._delegate=new b8(ho(e1.Z.auth()))}static credential(p,g){return b8.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}W0.PHONE_SIGN_IN_METHOD=b8.PHONE_SIGN_IN_METHOD,W0.PROVIDER_ID=b8.PROVIDER_ID;const vo=j;class wh{constructor(p,g,M=e1.Z.app()){var z;vo(null===(z=M.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new E6(p,g,M.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function wt(y){y.INTERNAL.registerComponent(new c1.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),M=p.getProvider("auth");return new mo(g,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:c8,FacebookAuthProvider:Pn,GithubAuthProvider:l0,GoogleAuthProvider:gr,OAuthProvider:et,SAMLAuthProvider:Wt,PhoneAuthProvider:W0,PhoneMultiFactorGenerator:Xa,RecaptchaVerifier:wh,TwitterAuthProvider:c5,Auth:mo,AuthCredential:xe,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.14")}(e1.Z)},788:a2=>{const x1=/\b((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/;a2.exports=function(P){return{toInt:()=>function T(e1){if(!e1)throw new Error("E_UNDEFINED_IP");if(!x1.test(e1))throw new Error("E_INVALID_IP");return e1.split(".").map((P,f1,p1)=>parseInt(P)*Math.pow(256,p1.length-f1-1)).reduce((P,f1)=>P+f1)}(P),toIP:()=>function c(e1){if(!e1)throw new Error("E_UNDEFINED_INTEGER");const P=/\d+/.exec(e1);if(!P)throw new Error("E_INTEGER_NOT_FOUND");return[(e1=P[0])>>24&255,e1>>16&255,e1>>8&255,255&e1].join(".")}(P)}}},8306:(a2,x1,T)=>{T.d(x1,{y:()=>Z});var c=T(930),e1=T(727),P=T(8822),f1=T(4671);var c1=T(2416),m1=T(576),v1=T(2806);let Z=(()=>{class z1{constructor(q1){q1&&(this._subscribe=q1)}lift(q1){const g1=new z1;return g1.source=this,g1.operator=q1,g1}subscribe(q1,g1,S1){const c2=function G1(z1){return z1&&z1 instanceof c.Lv||function o1(z1){return z1&&(0,m1.m)(z1.next)&&(0,m1.m)(z1.error)&&(0,m1.m)(z1.complete)}(z1)&&(0,e1.Nn)(z1)}(q1)?q1:new c.Hp(q1,g1,S1);return(0,v1.x)(()=>{const{operator:t2,source:D1}=this;c2.add(t2?t2.call(c2,D1):D1?this._subscribe(c2):this._trySubscribe(c2))}),c2}_trySubscribe(q1){try{return this._subscribe(q1)}catch(g1){q1.error(g1)}}forEach(q1,g1){return new(g1=q(g1))((S1,c2)=>{const t2=new c.Hp({next:D1=>{try{q1(D1)}catch(V1){c2(V1),t2.unsubscribe()}},error:c2,complete:S1});this.subscribe(t2)})}_subscribe(q1){var g1;return null===(g1=this.source)||void 0===g1?void 0:g1.subscribe(q1)}[P.L](){return this}pipe(...q1){return function b1(z1){return 0===z1.length?f1.y:1===z1.length?z1[0]:function(q1){return z1.reduce((g1,S1)=>S1(g1),q1)}}(q1)(this)}toPromise(q1){return new(q1=q(q1))((g1,S1)=>{let c2;this.subscribe(t2=>c2=t2,t2=>S1(t2),()=>g1(c2))})}}return z1.create=O1=>new z1(O1),z1})();function q(z1){var O1;return null!==(O1=null!=z1?z1:c1.v.Promise)&&void 0!==O1?O1:Promise}},7579:(a2,x1,T)=>{T.d(x1,{x:()=>c1});var c=T(8306),e1=T(727);const f1=(0,T(3888).d)(v1=>function(){v1(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var p1=T(8737),b1=T(2806);let c1=(()=>{class v1 extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const o1=new m1(this,this);return o1.operator=q,o1}_throwIfClosed(){if(this.closed)throw new f1}next(q){(0,b1.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const o1=this.observers.slice();for(const G1 of o1)G1.next(q)}})}error(q){(0,b1.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:o1}=this;for(;o1.length;)o1.shift().error(q)}})}complete(){(0,b1.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:o1,isStopped:G1,observers:z1}=this;return o1||G1?e1.Lc:(z1.push(q),new e1.w0(()=>(0,p1.P)(z1,q)))}_checkFinalizedStatuses(q){const{hasError:o1,thrownError:G1,isStopped:z1}=this;o1?q.error(G1):z1&&q.complete()}asObservable(){const q=new c.y;return q.source=this,q}}return v1.create=(Z,q)=>new m1(Z,q),v1})();class m1 extends c1{constructor(Z,q){super(),this.destination=Z,this.source=q}next(Z){var q,o1;null===(o1=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===o1||o1.call(q,Z)}error(Z){var q,o1;null===(o1=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===o1||o1.call(q,Z)}complete(){var Z,q;null===(q=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===q||q.call(Z)}_subscribe(Z){var q,o1;return null!==(o1=null===(q=this.source)||void 0===q?void 0:q.subscribe(Z))&&void 0!==o1?o1:e1.Lc}}},930:(a2,x1,T)=>{T.d(x1,{Hp:()=>q1,Lv:()=>o1});var c=T(576),e1=T(727),P=T(2416),f1=T(7849),p1=T(5032);const b1=v1("C",void 0,void 0);function v1(D1,V1,A1){return{kind:D1,value:V1,error:A1}}var Z=T(3410),q=T(2806);class o1 extends e1.w0{constructor(V1){super(),this.isStopped=!1,V1?(this.destination=V1,(0,e1.Nn)(V1)&&V1.add(this)):this.destination=t2}static create(V1,A1,X1){return new q1(V1,A1,X1)}next(V1){this.isStopped?c2(function m1(D1){return v1("N",D1,void 0)}(V1),this):this._next(V1)}error(V1){this.isStopped?c2(function c1(D1){return v1("E",void 0,D1)}(V1),this):(this.isStopped=!0,this._error(V1))}complete(){this.isStopped?c2(b1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(V1){this.destination.next(V1)}_error(V1){try{this.destination.error(V1)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const G1=Function.prototype.bind;function z1(D1,V1){return G1.call(D1,V1)}class O1{constructor(V1){this.partialObserver=V1}next(V1){const{partialObserver:A1}=this;if(A1.next)try{A1.next(V1)}catch(X1){g1(X1)}}error(V1){const{partialObserver:A1}=this;if(A1.error)try{A1.error(V1)}catch(X1){g1(X1)}else g1(V1)}complete(){const{partialObserver:V1}=this;if(V1.complete)try{V1.complete()}catch(A1){g1(A1)}}}class q1 extends o1{constructor(V1,A1,X1){let U1;if(super(),(0,c.m)(V1)||!V1)U1={next:null!=V1?V1:void 0,error:null!=A1?A1:void 0,complete:null!=X1?X1:void 0};else{let j;this&&P.v.useDeprecatedNextContext?(j=Object.create(V1),j.unsubscribe=()=>this.unsubscribe(),U1={next:V1.next&&z1(V1.next,j),error:V1.error&&z1(V1.error,j),complete:V1.complete&&z1(V1.complete,j)}):U1=V1}this.destination=new O1(U1)}}function g1(D1){P.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(D1):(0,f1.h)(D1)}function c2(D1,V1){const{onStoppedNotification:A1}=P.v;A1&&Z.z.setTimeout(()=>A1(D1,V1))}const t2={closed:!0,next:p1.Z,error:function S1(D1){throw D1},complete:p1.Z}},727:(a2,x1,T)=>{T.d(x1,{Lc:()=>b1,w0:()=>p1,Nn:()=>c1});var c=T(576);const P=(0,T(3888).d)(v1=>function(q){v1(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((o1,G1)=>`${G1+1}) ${o1.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var f1=T(8737);class p1{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const z1 of q)z1.remove(this);else q.remove(this);const{initialTeardown:o1}=this;if((0,c.m)(o1))try{o1()}catch(z1){Z=z1 instanceof P?z1.errors:[z1]}const{_teardowns:G1}=this;if(G1){this._teardowns=null;for(const z1 of G1)try{m1(z1)}catch(O1){Z=null!=Z?Z:[],O1 instanceof P?Z=[...Z,...O1.errors]:Z.push(O1)}}if(Z)throw new P(Z)}}add(Z){var q;if(Z&&Z!==this)if(this.closed)m1(Z);else{if(Z instanceof p1){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._teardowns=null!==(q=this._teardowns)&&void 0!==q?q:[]).push(Z)}}_hasParent(Z){const{_parentage:q}=this;return q===Z||Array.isArray(q)&&q.includes(Z)}_addParent(Z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(Z),q):q?[q,Z]:Z}_removeParent(Z){const{_parentage:q}=this;q===Z?this._parentage=null:Array.isArray(q)&&(0,f1.P)(q,Z)}remove(Z){const{_teardowns:q}=this;q&&(0,f1.P)(q,Z),Z instanceof p1&&Z._removeParent(this)}}p1.EMPTY=(()=>{const v1=new p1;return v1.closed=!0,v1})();const b1=p1.EMPTY;function c1(v1){return v1 instanceof p1||v1&&"closed"in v1&&(0,c.m)(v1.remove)&&(0,c.m)(v1.add)&&(0,c.m)(v1.unsubscribe)}function m1(v1){(0,c.m)(v1)?v1():v1.unsubscribe()}},2416:(a2,x1,T)=>{T.d(x1,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(a2,x1,T)=>{T.d(x1,{E:()=>e1});const e1=new(T(8306).y)(p1=>p1.complete())},8996:(a2,x1,T)=>{T.d(x1,{D:()=>V1});var c=T(8421),e1=T(5363),P=T(9468),b1=T(8306),m1=T(2202),v1=T(576),Z=T(9672);function o1(A1,X1){if(!A1)throw new Error("Iterable cannot be null");return new b1.y(U1=>{(0,Z.f)(U1,X1,()=>{const j=A1[Symbol.asyncIterator]();(0,Z.f)(U1,X1,()=>{j.next().then(B=>{B.done?U1.complete():U1.next(B.value)})},0,!0)})})}var G1=T(3670),z1=T(8239),O1=T(1144),q1=T(6495),g1=T(2206),S1=T(4532),c2=T(3260);function V1(A1,X1){return X1?function D1(A1,X1){if(null!=A1){if((0,G1.c)(A1))return function f1(A1,X1){return(0,c.Xf)(A1).pipe((0,P.R)(X1),(0,e1.Q)(X1))}(A1,X1);if((0,O1.z)(A1))return function c1(A1,X1){return new b1.y(U1=>{let j=0;return X1.schedule(function(){j===A1.length?U1.complete():(U1.next(A1[j++]),U1.closed||this.schedule())})})}(A1,X1);if((0,z1.t)(A1))return function p1(A1,X1){return(0,c.Xf)(A1).pipe((0,P.R)(X1),(0,e1.Q)(X1))}(A1,X1);if((0,g1.D)(A1))return o1(A1,X1);if((0,q1.T)(A1))return function q(A1,X1){return new b1.y(U1=>{let j;return(0,Z.f)(U1,X1,()=>{j=A1[m1.h](),(0,Z.f)(U1,X1,()=>{let B,t1;try{({value:B,done:t1}=j.next())}catch(h1){return void U1.error(h1)}t1?U1.complete():U1.next(B)},0,!0)}),()=>(0,v1.m)(null==j?void 0:j.return)&&j.return()})}(A1,X1);if((0,c2.L)(A1))return function t2(A1,X1){return o1((0,c2.Q)(A1),X1)}(A1,X1)}throw(0,S1.z)(A1)}(A1,X1):(0,c.Xf)(A1)}},8421:(a2,x1,T)=>{T.d(x1,{Xf:()=>G1});var c=T(655),e1=T(1144),P=T(8239),f1=T(8306),p1=T(3670),b1=T(2206),c1=T(4532),m1=T(6495),v1=T(3260),Z=T(576),q=T(7849),o1=T(8822);function G1(D1){if(D1 instanceof f1.y)return D1;if(null!=D1){if((0,p1.c)(D1))return function z1(D1){return new f1.y(V1=>{const A1=D1[o1.L]();if((0,Z.m)(A1.subscribe))return A1.subscribe(V1);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(D1);if((0,e1.z)(D1))return function O1(D1){return new f1.y(V1=>{for(let A1=0;A1<D1.length&&!V1.closed;A1++)V1.next(D1[A1]);V1.complete()})}(D1);if((0,P.t)(D1))return function q1(D1){return new f1.y(V1=>{D1.then(A1=>{V1.closed||(V1.next(A1),V1.complete())},A1=>V1.error(A1)).then(null,q.h)})}(D1);if((0,b1.D)(D1))return S1(D1);if((0,m1.T)(D1))return function g1(D1){return new f1.y(V1=>{for(const A1 of D1)if(V1.next(A1),V1.closed)return;V1.complete()})}(D1);if((0,v1.L)(D1))return function c2(D1){return S1((0,v1.Q)(D1))}(D1)}throw(0,c1.z)(D1)}function S1(D1){return new f1.y(V1=>{(function t2(D1,V1){var A1,X1,U1,j;return(0,c.mG)(this,void 0,void 0,function*(){try{for(A1=(0,c.KL)(D1);!(X1=yield A1.next()).done;)if(V1.next(X1.value),V1.closed)return}catch(B){U1={error:B}}finally{try{X1&&!X1.done&&(j=A1.return)&&(yield j.call(A1))}finally{if(U1)throw U1.error}}V1.complete()})})(D1,V1).catch(A1=>V1.error(A1))})}},6451:(a2,x1,T)=>{T.d(x1,{T:()=>b1});var c=T(8189),e1=T(8421),P=T(515),f1=T(7669),p1=T(8996);function b1(...c1){const m1=(0,f1.yG)(c1),v1=(0,f1._6)(c1,1/0),Z=c1;return Z.length?1===Z.length?(0,e1.Xf)(Z[0]):(0,c.J)(v1)((0,p1.D)(Z,m1)):P.E}},5403:(a2,x1,T)=>{T.d(x1,{Q:()=>P,x:()=>e1});var c=T(930);function e1(f1,p1,b1,c1,m1){return new P(f1,p1,b1,c1,m1)}class P extends c.Lv{constructor(p1,b1,c1,m1,v1,Z){super(p1),this.onFinalize=v1,this.shouldUnsubscribe=Z,this._next=b1?function(q){try{b1(q)}catch(o1){p1.error(o1)}}:super._next,this._error=m1?function(q){try{m1(q)}catch(o1){p1.error(o1)}finally{this.unsubscribe()}}:super._error,this._complete=c1?function(){try{c1()}catch(q){p1.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var p1;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:b1}=this;super.unsubscribe(),!b1&&(null===(p1=this.onFinalize)||void 0===p1||p1.call(this))}}}},4004:(a2,x1,T)=>{T.d(x1,{U:()=>P});var c=T(4482),e1=T(5403);function P(f1,p1){return(0,c.e)((b1,c1)=>{let m1=0;b1.subscribe((0,e1.x)(c1,v1=>{c1.next(f1.call(p1,v1,m1++))}))})}},8189:(a2,x1,T)=>{T.d(x1,{J:()=>P});var c=T(5577),e1=T(4671);function P(f1=1/0){return(0,c.z)(e1.y,f1)}},5577:(a2,x1,T)=>{T.d(x1,{z:()=>m1});var c=T(4004),e1=T(8421),P=T(4482),f1=T(9672),p1=T(5403),c1=T(576);function m1(v1,Z,q=1/0){return(0,c1.m)(Z)?m1((o1,G1)=>(0,c.U)((z1,O1)=>Z(o1,z1,G1,O1))((0,e1.Xf)(v1(o1,G1))),q):("number"==typeof Z&&(q=Z),(0,P.e)((o1,G1)=>function b1(v1,Z,q,o1,G1,z1,O1,q1){const g1=[];let S1=0,c2=0,t2=!1;const D1=()=>{t2&&!g1.length&&!S1&&Z.complete()},V1=X1=>S1<o1?A1(X1):g1.push(X1),A1=X1=>{z1&&Z.next(X1),S1++;let U1=!1;(0,e1.Xf)(q(X1,c2++)).subscribe((0,p1.x)(Z,j=>{null==G1||G1(j),z1?V1(j):Z.next(j)},()=>{U1=!0},void 0,()=>{if(U1)try{for(S1--;g1.length&&S1<o1;){const j=g1.shift();O1?(0,f1.f)(Z,O1,()=>A1(j)):A1(j)}D1()}catch(j){Z.error(j)}}))};return v1.subscribe((0,p1.x)(Z,V1,()=>{t2=!0,D1()})),()=>{null==q1||q1()}}(o1,G1,v1,q)))}},5363:(a2,x1,T)=>{T.d(x1,{Q:()=>f1});var c=T(9672),e1=T(4482),P=T(5403);function f1(p1,b1=0){return(0,e1.e)((c1,m1)=>{c1.subscribe((0,P.x)(m1,v1=>(0,c.f)(m1,p1,()=>m1.next(v1),b1),()=>(0,c.f)(m1,p1,()=>m1.complete(),b1),v1=>(0,c.f)(m1,p1,()=>m1.error(v1),b1)))})}},3099:(a2,x1,T)=>{T.d(x1,{B:()=>b1});var c=T(8996),e1=T(5698),P=T(7579),f1=T(930),p1=T(4482);function b1(m1={}){const{connector:v1=(()=>new P.x),resetOnError:Z=!0,resetOnComplete:q=!0,resetOnRefCountZero:o1=!0}=m1;return G1=>{let z1=null,O1=null,q1=null,g1=0,S1=!1,c2=!1;const t2=()=>{null==O1||O1.unsubscribe(),O1=null},D1=()=>{t2(),z1=q1=null,S1=c2=!1},V1=()=>{const A1=z1;D1(),null==A1||A1.unsubscribe()};return(0,p1.e)((A1,X1)=>{g1++,!c2&&!S1&&t2();const U1=q1=null!=q1?q1:v1();X1.add(()=>{g1--,0===g1&&!c2&&!S1&&(O1=c1(V1,o1))}),U1.subscribe(X1),z1||(z1=new f1.Hp({next:j=>U1.next(j),error:j=>{c2=!0,t2(),O1=c1(D1,Z,j),U1.error(j)},complete:()=>{S1=!0,t2(),O1=c1(D1,q),U1.complete()}}),(0,c.D)(A1).subscribe(z1))})(G1)}}function c1(m1,v1,...Z){return!0===v1?(m1(),null):!1===v1?null:v1(...Z).pipe((0,e1.q)(1)).subscribe(()=>m1())}},9468:(a2,x1,T)=>{T.d(x1,{R:()=>e1});var c=T(4482);function e1(P,f1=0){return(0,c.e)((p1,b1)=>{b1.add(P.schedule(()=>p1.subscribe(b1),f1))})}},5698:(a2,x1,T)=>{T.d(x1,{q:()=>f1});var c=T(515),e1=T(4482),P=T(5403);function f1(p1){return p1<=0?()=>c.E:(0,e1.e)((b1,c1)=>{let m1=0;b1.subscribe((0,P.x)(c1,v1=>{++m1<=p1&&(c1.next(v1),p1<=m1&&c1.complete())}))})}},8505:(a2,x1,T)=>{T.d(x1,{b:()=>p1});var c=T(576),e1=T(4482),P=T(5403),f1=T(4671);function p1(b1,c1,m1){const v1=(0,c.m)(b1)||c1||m1?{next:b1,error:c1,complete:m1}:b1;return v1?(0,e1.e)((Z,q)=>{var o1;null===(o1=v1.subscribe)||void 0===o1||o1.call(v1);let G1=!0;Z.subscribe((0,P.x)(q,z1=>{var O1;null===(O1=v1.next)||void 0===O1||O1.call(v1,z1),q.next(z1)},()=>{var z1;G1=!1,null===(z1=v1.complete)||void 0===z1||z1.call(v1),q.complete()},z1=>{var O1;G1=!1,null===(O1=v1.error)||void 0===O1||O1.call(v1,z1),q.error(z1)},()=>{var z1,O1;G1&&(null===(z1=v1.unsubscribe)||void 0===z1||z1.call(v1)),null===(O1=v1.finalize)||void 0===O1||O1.call(v1)}))}):f1.y}},4408:(a2,x1,T)=>{T.d(x1,{o:()=>p1});var c=T(727);class e1 extends c.w0{constructor(c1,m1){super()}schedule(c1,m1=0){return this}}const P={setInterval(...b1){const{delegate:c1}=P;return((null==c1?void 0:c1.setInterval)||setInterval)(...b1)},clearInterval(b1){const{delegate:c1}=P;return((null==c1?void 0:c1.clearInterval)||clearInterval)(b1)},delegate:void 0};var f1=T(8737);class p1 extends e1{constructor(c1,m1){super(c1,m1),this.scheduler=c1,this.work=m1,this.pending=!1}schedule(c1,m1=0){if(this.closed)return this;this.state=c1;const v1=this.id,Z=this.scheduler;return null!=v1&&(this.id=this.recycleAsyncId(Z,v1,m1)),this.pending=!0,this.delay=m1,this.id=this.id||this.requestAsyncId(Z,this.id,m1),this}requestAsyncId(c1,m1,v1=0){return P.setInterval(c1.flush.bind(c1,this),v1)}recycleAsyncId(c1,m1,v1=0){if(null!=v1&&this.delay===v1&&!1===this.pending)return m1;P.clearInterval(m1)}execute(c1,m1){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const v1=this._execute(c1,m1);if(v1)return v1;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(c1,m1){let Z,v1=!1;try{this.work(c1)}catch(q){v1=!0,Z=q||new Error("Scheduled action threw falsy error")}if(v1)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:c1,scheduler:m1}=this,{actions:v1}=m1;this.work=this.state=this.scheduler=null,this.pending=!1,(0,f1.P)(v1,this),null!=c1&&(this.id=this.recycleAsyncId(m1,c1,null)),this.delay=null,super.unsubscribe()}}}},7565:(a2,x1,T)=>{T.d(x1,{v:()=>P});var c=T(6063);class e1{constructor(p1,b1=e1.now){this.schedulerActionCtor=p1,this.now=b1}schedule(p1,b1=0,c1){return new this.schedulerActionCtor(this,p1).schedule(c1,b1)}}e1.now=c.l.now;class P extends e1{constructor(p1,b1=e1.now){super(p1,b1),this.actions=[],this._active=!1,this._scheduled=void 0}flush(p1){const{actions:b1}=this;if(this._active)return void b1.push(p1);let c1;this._active=!0;do{if(c1=p1.execute(p1.state,p1.delay))break}while(p1=b1.shift());if(this._active=!1,c1){for(;p1=b1.shift();)p1.unsubscribe();throw c1}}}},4986:(a2,x1,T)=>{T.d(x1,{z:()=>P});var c=T(4408);const P=new(T(7565).v)(c.o)},6063:(a2,x1,T)=>{T.d(x1,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(a2,x1,T)=>{T.d(x1,{z:()=>c});const c={setTimeout(...e1){const{delegate:P}=c;return((null==P?void 0:P.setTimeout)||setTimeout)(...e1)},clearTimeout(e1){const{delegate:P}=c;return((null==P?void 0:P.clearTimeout)||clearTimeout)(e1)},delegate:void 0}},2202:(a2,x1,T)=>{T.d(x1,{h:()=>e1});const e1=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(a2,x1,T)=>{T.d(x1,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(a2,x1,T)=>{T.d(x1,{_6:()=>b1,jO:()=>f1,yG:()=>p1});var c=T(576);function P(c1){return c1[c1.length-1]}function f1(c1){return(0,c.m)(P(c1))?c1.pop():void 0}function p1(c1){return function e1(c1){return c1&&(0,c.m)(c1.schedule)}(P(c1))?c1.pop():void 0}function b1(c1,m1){return"number"==typeof P(c1)?c1.pop():m1}},8737:(a2,x1,T)=>{function c(e1,P){if(e1){const f1=e1.indexOf(P);0<=f1&&e1.splice(f1,1)}}T.d(x1,{P:()=>c})},3888:(a2,x1,T)=>{function c(e1){const f1=e1(p1=>{Error.call(p1),p1.stack=(new Error).stack});return f1.prototype=Object.create(Error.prototype),f1.prototype.constructor=f1,f1}T.d(x1,{d:()=>c})},2806:(a2,x1,T)=>{T.d(x1,{O:()=>f1,x:()=>P});var c=T(2416);let e1=null;function P(p1){if(c.v.useDeprecatedSynchronousErrorHandling){const b1=!e1;if(b1&&(e1={errorThrown:!1,error:null}),p1(),b1){const{errorThrown:c1,error:m1}=e1;if(e1=null,c1)throw m1}}else p1()}function f1(p1){c.v.useDeprecatedSynchronousErrorHandling&&e1&&(e1.errorThrown=!0,e1.error=p1)}},9672:(a2,x1,T)=>{function c(e1,P,f1,p1=0,b1=!1){const c1=P.schedule(function(){f1(),b1?e1.add(this.schedule(null,p1)):this.unsubscribe()},p1);if(e1.add(c1),!b1)return c1}T.d(x1,{f:()=>c})},4671:(a2,x1,T)=>{function c(e1){return e1}T.d(x1,{y:()=>c})},1144:(a2,x1,T)=>{T.d(x1,{z:()=>c});const c=e1=>e1&&"number"==typeof e1.length&&"function"!=typeof e1},2206:(a2,x1,T)=>{T.d(x1,{D:()=>e1});var c=T(576);function e1(P){return Symbol.asyncIterator&&(0,c.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(a2,x1,T)=>{function c(e1){return"function"==typeof e1}T.d(x1,{m:()=>c})},3670:(a2,x1,T)=>{T.d(x1,{c:()=>P});var c=T(8822),e1=T(576);function P(f1){return(0,e1.m)(f1[c.L])}},6495:(a2,x1,T)=>{T.d(x1,{T:()=>P});var c=T(2202),e1=T(576);function P(f1){return(0,e1.m)(null==f1?void 0:f1[c.h])}},8239:(a2,x1,T)=>{T.d(x1,{t:()=>e1});var c=T(576);function e1(P){return(0,c.m)(null==P?void 0:P.then)}},3260:(a2,x1,T)=>{T.d(x1,{L:()=>f1,Q:()=>P});var c=T(655),e1=T(576);function P(p1){return(0,c.FC)(this,arguments,function*(){const c1=p1.getReader();try{for(;;){const{value:m1,done:v1}=yield(0,c.qq)(c1.read());if(v1)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(m1)}}finally{c1.releaseLock()}})}function f1(p1){return(0,e1.m)(null==p1?void 0:p1.getReader)}},4482:(a2,x1,T)=>{T.d(x1,{A:()=>e1,e:()=>P});var c=T(576);function e1(f1){return(0,c.m)(null==f1?void 0:f1.lift)}function P(f1){return p1=>{if(e1(p1))return p1.lift(function(b1){try{return f1(b1,this)}catch(c1){this.error(c1)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(a2,x1,T)=>{function c(){}T.d(x1,{Z:()=>c})},7849:(a2,x1,T)=>{T.d(x1,{h:()=>P});var c=T(2416),e1=T(3410);function P(f1){e1.z.setTimeout(()=>{const{onUnhandledError:p1}=c.v;if(!p1)throw f1;p1(f1)})}},4532:(a2,x1,T)=>{function c(e1){return new TypeError(`You provided ${null!==e1&&"object"==typeof e1?"an invalid object":`'${e1}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(x1,{z:()=>c})},655:(a2,x1,T)=>{function f1(B,t1){var h1={};for(var l1 in B)Object.prototype.hasOwnProperty.call(B,l1)&&t1.indexOf(l1)<0&&(h1[l1]=B[l1]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var I1=0;for(l1=Object.getOwnPropertySymbols(B);I1<l1.length;I1++)t1.indexOf(l1[I1])<0&&Object.prototype.propertyIsEnumerable.call(B,l1[I1])&&(h1[l1[I1]]=B[l1[I1]])}return h1}function m1(B,t1,h1,l1){return new(h1||(h1=Promise))(function(u1,L2){function k2(w2){try{o2(l1.next(w2))}catch(Le){L2(Le)}}function He(w2){try{o2(l1.throw(w2))}catch(Le){L2(Le)}}function o2(w2){w2.done?u1(w2.value):function I1(u1){return u1 instanceof h1?u1:new h1(function(L2){L2(u1)})}(w2.value).then(k2,He)}o2((l1=l1.apply(B,t1||[])).next())})}function g1(B){return this instanceof g1?(this.v=B,this):new g1(B)}function S1(B,t1,h1){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I1,l1=h1.apply(B,t1||[]),u1=[];return I1={},L2("next"),L2("throw"),L2("return"),I1[Symbol.asyncIterator]=function(){return this},I1;function L2(Ce){l1[Ce]&&(I1[Ce]=function(T3){return new Promise(function(ie,D3){u1.push([Ce,T3,ie,D3])>1||k2(Ce,T3)})})}function k2(Ce,T3){try{!function He(Ce){Ce.value instanceof g1?Promise.resolve(Ce.value.v).then(o2,w2):Le(u1[0][2],Ce)}(l1[Ce](T3))}catch(ie){Le(u1[0][3],ie)}}function o2(Ce){k2("next",Ce)}function w2(Ce){k2("throw",Ce)}function Le(Ce,T3){Ce(T3),u1.shift(),u1.length&&k2(u1[0][0],u1[0][1])}}function t2(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h1,t1=B[Symbol.asyncIterator];return t1?t1.call(B):(B=function o1(B){var t1="function"==typeof Symbol&&Symbol.iterator,h1=t1&&B[t1],l1=0;if(h1)return h1.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&l1>=B.length&&(B=void 0),{value:B&&B[l1++],done:!B}}};throw new TypeError(t1?"Object is not iterable.":"Symbol.iterator is not defined.")}(B),h1={},l1("next"),l1("throw"),l1("return"),h1[Symbol.asyncIterator]=function(){return this},h1);function l1(u1){h1[u1]=B[u1]&&function(L2){return new Promise(function(k2,He){!function I1(u1,L2,k2,He){Promise.resolve(He).then(function(o2){u1({value:o2,done:k2})},L2)}(k2,He,(L2=B[u1](L2)).done,L2.value)})}}}T.d(x1,{FC:()=>S1,KL:()=>t2,_T:()=>f1,mG:()=>m1,qq:()=>g1})},5e3:(a2,x1,T)=>{T.d(x1,{$8M:()=>_8,$Z:()=>Bo,AFp:()=>mu,ALo:()=>Qm,AaK:()=>m1,AsE:()=>ml,BQk:()=>jo,CHM:()=>dn,CRH:()=>cg,CZH:()=>pu,CqO:()=>op,EJc:()=>Hw,EiD:()=>Gr,EpF:()=>tl,F$t:()=>ol,F4k:()=>rl,FYo:()=>Pm,FiY:()=>Kn,G48:()=>Ww,GfV:()=>Om,Gpc:()=>q,Hsn:()=>fp,IIB:()=>xw,Ikx:()=>Ll,JOm:()=>z,JVY:()=>V8,L6k:()=>Ja,LAX:()=>U9,LFG:()=>u3,LSH:()=>I5,Lbi:()=>Sw,MAs:()=>$C,MGl:()=>$o,NdJ:()=>il,OlP:()=>je,Oqu:()=>pl,PXZ:()=>Ow,Q6J:()=>Jc,QGY:()=>nl,Qsj:()=>Nx,R0b:()=>wn,RDi:()=>Zt,Rgc:()=>vi,SBq:()=>Cs,Sil:()=>Ew,Suo:()=>og,TTD:()=>et,TgZ:()=>os,Tol:()=>dl,Udp:()=>fl,VLi:()=>Pw,WLB:()=>qm,X6Q:()=>$w,XFs:()=>z2,Xpm:()=>y1,Y36:()=>as,YKP:()=>Fl,YNc:()=>qC,Yjl:()=>v4,Yz7:()=>ie,ZZ4:()=>Nu,_Bn:()=>Tm,_UZ:()=>el,_Vd:()=>r7,_c5:()=>lz,_uU:()=>Dp,aQg:()=>ku,c2e:()=>Vg,cJS:()=>F2,cg1:()=>Qo,d8E:()=>Yo,dDg:()=>Ig,deG:()=>T9,dqk:()=>q2,eBb:()=>N0,eFA:()=>Pg,ekj:()=>Wo,f3M:()=>Xt,g9A:()=>vu,h0i:()=>mi,hGG:()=>uz,hij:()=>Ko,iGM:()=>ag,ifc:()=>Z2,ip1:()=>Cu,kEZ:()=>jl,kL8:()=>bl,kYT:()=>pe,lG2:()=>$3,lcZ:()=>Jm,mCW:()=>bt,n5z:()=>Oa,oAB:()=>D2,oJD:()=>B0,oxw:()=>al,pB0:()=>H8,q3G:()=>oe,q4F:()=>Bm,qLn:()=>qr,qOj:()=>qc,qZA:()=>Uo,qzn:()=>Lt,r_U:()=>zg,s9C:()=>qo,sBO:()=>Gg,sIi:()=>ss,s_b:()=>a7,soG:()=>h7,tBr:()=>Mt,tb:()=>yu,tp0:()=>N6,uIk:()=>Po,vHH:()=>O1,vpe:()=>o6,wAp:()=>I2,xi3:()=>ql,xp6:()=>Ph,yhl:()=>H5,ynx:()=>Go,z2F:()=>wu,z3N:()=>_n,zSh:()=>Pc,zs3:()=>n6});var c=T(7579),e1=T(727),P=T(8306),f1=T(6451),p1=T(3099);function b1(a){for(let o in a)if(a[o]===b1)return o;throw Error("Could not find renamed property on target object.")}function c1(a,o){for(const u in o)o.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=o[u])}function m1(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(m1).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const o=a.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function v1(a,o){return null==a||""===a?null===o?"":o:null==o||""===o?a:a+" "+o}const Z=b1({__forward_ref__:b1});function q(a){return a.__forward_ref__=q,a.toString=function(){return m1(this())},a}function o1(a){return G1(a)?a():a}function G1(a){return"function"==typeof a&&a.hasOwnProperty(Z)&&a.__forward_ref__===q}class O1 extends Error{constructor(o,u){super(function q1(a,o){return`NG0${Math.abs(a)}${o?": "+o:""}`}(o,u)),this.code=o}}function g1(a){return"string"==typeof a?a:null==a?"":String(a)}function S1(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():g1(a)}function V1(a,o){const u=o?` in ${o}`:"";throw new O1(-201,`No provider for ${S1(a)} found${u}`)}function o2(a,o){null==a&&function w2(a,o,u,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}(o,a,null,"!=")}function ie(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function F2(a){return{providers:a.providers||[],imports:a.imports||[]}}function R2(a){return Pe(a,L3)||Pe(a,b3)}function Pe(a,o){return a.hasOwnProperty(o)?a[o]:null}function be(a){return a&&(a.hasOwnProperty(q3)||a.hasOwnProperty(p3))?a[q3]:null}const L3=b1({\u0275prov:b1}),q3=b1({\u0275inj:b1}),b3=b1({ngInjectableDef:b1}),p3=b1({ngInjectorDef:b1});var z2=(()=>((z2=z2||{})[z2.Default=0]="Default",z2[z2.Host=1]="Host",z2[z2.Self=2]="Self",z2[z2.SkipSelf=4]="SkipSelf",z2[z2.Optional=8]="Optional",z2))();let x3;function Ie(a){const o=x3;return x3=a,o}function e4(a,o,u){const d=R2(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&z2.Optional?null:void 0!==o?o:void V1(m1(a),"Injector")}function Ze(a){return{toString:a}.toString()}var Fe=(()=>((Fe=Fe||{})[Fe.OnPush=0]="OnPush",Fe[Fe.Default=1]="Default",Fe))(),Z2=(()=>{return(a=Z2||(Z2={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Z2;var a})();const d2="undefined"!=typeof globalThis&&globalThis,y2="undefined"!=typeof window&&window,ye="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q2=d2||"undefined"!=typeof global&&global||y2||ye,Ke={},F=[],Y=b1({\u0275cmp:b1}),Q=b1({\u0275dir:b1}),T1=b1({\u0275pipe:b1}),U=b1({\u0275mod:b1}),n1=b1({\u0275fac:b1}),G=b1({__NG_ELEMENT_ID__:b1});let s1=0;function y1(a){return Ze(()=>{const u={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Fe.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||F,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Z2.Emulated,id:"c",styles:a.styles||F,_:null,setInput:null,schemas:a.schemas||null,tView:null},h=a.directives,m=a.features,_=a.pipes;return d.id+=s1++,d.inputs=se(a.inputs,u),d.outputs=se(a.outputs),m&&m.forEach(L=>L(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(Z1):null,d.pipeDefs=_?()=>("function"==typeof _?_():_).map(j1):null,d})}function Z1(a){return _e(a)||function Ae(a){return a[Q]||null}(a)}function j1(a){return function P4(a){return a[T1]||null}(a)}const p2={};function D2(a){return Ze(()=>{const o={type:a.type,bootstrap:a.bootstrap||F,declarations:a.declarations||F,imports:a.imports||F,exports:a.exports||F,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(p2[a.id]=a.type),o})}function pe(a,o){return Ze(()=>{const u=qe(a,!0);u.declarations=o.declarations||F,u.imports=o.imports||F,u.exports=o.exports||F})}function se(a,o){if(null==a)return Ke;const u={};for(const d in a)if(a.hasOwnProperty(d)){let h=a[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),u[h]=d,o&&(o[h]=m)}return u}const $3=y1;function v4(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function _e(a){return a[Y]||null}function qe(a,o){const u=a[U]||null;if(!u&&!0===o)throw new Error(`Type ${m1(a)} does not have '\u0275mod' property.`);return u}function R3(a){return Array.isArray(a)&&"object"==typeof a[1]}function M4(a){return Array.isArray(a)&&!0===a[1]}function cn(a){return 0!=(8&a.flags)}function s8(a){return 2==(2&a.flags)}function mt(a){return 1==(1&a.flags)}function O4(a){return null!==a.template}function y6(a){return 0!=(512&a[2])}function r4(a,o){return a.hasOwnProperty(n1)?a[n1]:null}class Rn{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function et(){return Pn}function Pn(a){return a.type.prototype.ngOnChanges&&(a.setInput=l0),gr}function gr(){const a=tt(this),o=null==a?void 0:a.current;if(o){const u=a.previous;if(u===Ke)a.previous=o;else for(let d in o)u[d]=o[d];a.current=null,this.ngOnChanges(o)}}function l0(a,o,u,d){const h=tt(a)||function l8(a,o){return a[$t]=o}(a,{previous:Ke,current:null}),m=h.current||(h.current={}),_=h.previous,L=this.declaredInputs[u],w=_[L];m[L]=new Rn(w&&w.currentValue,o,_===Ke),a[d]=o}et.ngInherit=!0;const $t="__ngSimpleChanges__";function tt(a){return a[$t]||null}let Fn;function Zt(a){Fn=a}function _6(){return void 0!==Fn?Fn:"undefined"!=typeof document?document:void 0}function Ee(a){return!!a.listen}const rt={createRenderer:(a,o)=>_6()};function ae(a){for(;Array.isArray(a);)a=a[0];return a}function un(a,o){return ae(o[a])}function i4(a,o){return ae(o[a.index])}function L6(a,o){return a.data[o]}function k(a,o){return a[o]}function I(a,o){const u=o[a];return R3(u)?u:u[0]}function J(a){return 4==(4&a[2])}function C1(a){return 128==(128&a[2])}function e2(a,o){return null==o?null:a[o]}function E2(a){a[18]=0}function Oe(a,o){a[5]+=o;let u=a,d=a[3];for(;null!==d&&(1===o&&1===u[5]||-1===o&&0===u[5]);)d[5]+=o,u=d,d=d[3]}const f2={lFrame:Ea(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function B4(){return f2.bindingsEnabled}function N1(){return f2.lFrame.lView}function B2(){return f2.lFrame.tView}function dn(a){return f2.lFrame.contextLView=a,a[8]}function De(){let a=yr();for(;null!==a&&64===a.type;)a=a.parent;return a}function yr(){return f2.lFrame.currentTNode}function gt(a,o){const u=f2.lFrame;u.currentTNode=a,u.isParent=o}function C8(){return f2.lFrame.isParent}function u0(){f2.lFrame.isParent=!1}function Mr(){return f2.isInCheckNoChangesMode}function Lr(a){f2.isInCheckNoChangesMode=a}function F3(){const a=f2.lFrame;let o=a.bindingRootIndex;return-1===o&&(o=a.bindingRootIndex=a.tView.bindingStartIndex),o}function u5(){return f2.lFrame.bindingIndex++}function vt(a){const o=f2.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+a,u}function S9(a,o){const u=f2.lFrame;u.bindingIndex=u.bindingRootIndex=a,d0(o)}function d0(a){f2.lFrame.currentDirectiveIndex=a}function f5(a){const o=f2.lFrame.currentDirectiveIndex;return-1===o?null:a[o]}function V9(){return f2.lFrame.currentQueryIndex}function p8(a){f2.lFrame.currentQueryIndex=a}function Ch(a){const o=a[1];return 2===o.type?o.declTNode:1===o.type?a[6]:null}function Aa(a,o,u){if(u&z2.SkipSelf){let h=o,m=a;for(;!(h=h.parent,null!==h||u&z2.Host||(h=Ch(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,a=m}const d=f2.lFrame=wr();return d.currentTNode=o,d.lView=a,!0}function d5(a){const o=wr(),u=a[1];f2.lFrame=o,o.currentTNode=u.firstChild,o.lView=a,o.tView=u,o.contextLView=a,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function wr(){const a=f2.lFrame,o=null===a?null:a.child;return null===o?Ea(a):o}function Ea(a){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=o),o}function h5(){const a=f2.lFrame;return f2.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Ta=h5;function m8(){const a=h5();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function p4(){return f2.lFrame.selectedIndex}function Kt(a){f2.lFrame.selectedIndex=a}function r3(){const a=f2.lFrame;return L6(a.tView,a.selectedIndex)}function Da(a,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const m=a.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:L,ngAfterViewInit:w,ngAfterViewChecked:V,ngOnDestroy:H}=m;_&&(a.contentHooks||(a.contentHooks=[])).push(-u,_),L&&((a.contentHooks||(a.contentHooks=[])).push(u,L),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,L)),w&&(a.viewHooks||(a.viewHooks=[])).push(-u,w),V&&((a.viewHooks||(a.viewHooks=[])).push(u,V),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,V)),null!=H&&(a.destroyHooks||(a.destroyHooks=[])).push(u,H)}}function g8(a,o,u){A9(a,o,3,u)}function Cn(a,o,u,d){(3&a[2])===u&&A9(a,o,u,d)}function v8(a,o){let u=a[2];(3&u)===o&&(u&=2047,u+=1,a[2]=u)}function A9(a,o,u,d){const m=null!=d?d:-1,_=o.length-1;let L=0;for(let w=void 0!==d?65535&a[18]:0;w<_;w++)if("number"==typeof o[w+1]){if(L=o[w],null!=d&&L>=d)break}else o[w]<0&&(a[18]+=65536),(L<m||-1==m)&&(gh(a,u,o,w),a[18]=(4294901760&a[18])+w+2),w++}function gh(a,o,u,d){const h=u[d]<0,m=u[d+1],L=a[h?-u[d]:u[d]];if(h){if(a[2]>>11<a[18]>>16&&(3&a[2])===o){a[2]+=2048;try{m.call(L)}finally{}}}else try{m.call(L)}finally{}}class zr{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function b2(a,o,u){const d=Ee(a);let h=0;for(;h<u.length;){const m=u[h];if("number"==typeof m){if(0!==m)break;h++;const _=u[h++],L=u[h++],w=u[h++];d?a.setAttribute(o,L,w,_):o.setAttributeNS(_,L,w)}else{const _=m,L=u[++h];U4(_)?d&&a.setProperty(o,_,L):d?a.setAttribute(o,_,L):o.setAttribute(_,L),h++}}return h}function Qe(a){return 3===a||4===a||6===a}function U4(a){return 64===a.charCodeAt(0)}function We(a,o){if(null!==o&&0!==o.length)if(null===a||0===a.length)a=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||ka(a,u,h,null,-1===u||2===u?o[++d]:null)}}return a}function ka(a,o,u,d,h){let m=0,_=a.length;if(-1===o)_=-1;else for(;m<a.length;){const L=a[m++];if("number"==typeof L){if(L===o){_=-1;break}if(L>o){_=m-1;break}}}for(;m<a.length;){const L=a[m];if("number"==typeof L)break;if(L===u){if(null===d)return void(null!==h&&(a[m+1]=h));if(d===a[m+1])return void(a[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==_&&(a.splice(_,0,o),m=_+1),a.splice(m++,0,u),null!==d&&a.splice(m++,0,d),null!==h&&a.splice(m++,0,h)}function Ra(a){return-1!==a}function Yt(a){return 32767&a}function Ue(a,o){let u=function E9(a){return a>>16}(a),d=o;for(;u>0;)d=d[15],u--;return d}let C0=!0;function yt(a){const o=C0;return C0=a,o}let Fa=0;function Ge(a,o){const u=Vr(a,o);if(-1!==u)return u;const d=o[1];d.firstCreatePass&&(a.injectorIndex=o.length,m5(d.data,a),m5(o,null),m5(d.blueprint,null));const h=Un(a,o),m=a.injectorIndex;if(Ra(h)){const _=Yt(h),L=Ue(h,o),w=L[1].data;for(let V=0;V<8;V++)o[m+V]=L[_+V]|w[_+V]}return o[m+8]=h,m}function m5(a,o){a.push(0,0,0,0,0,0,0,0,o)}function Vr(a,o){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===o[a.injectorIndex+8]?-1:a.injectorIndex}function Un(a,o){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){const m=h[1],_=m.type;if(d=2===_?m.declTNode:1===_?h[6]:null,null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Gn(a,o,u){!function p0(a,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(G)&&(d=u[G]),null==d&&(d=u[G]=Fa++);const h=255&d;o.data[a+(h>>5)]|=1<<h}(a,o,u)}function z6(a,o,u){if(u&z2.Optional)return a;V1(o,"NodeInjector")}function g0(a,o,u,d){if(u&z2.Optional&&void 0===d&&(d=null),0==(u&(z2.Self|z2.Host))){const h=a[9],m=Ie(void 0);try{return h?h.get(o,d,u&z2.Optional):e4(o,d,u&z2.Optional)}finally{Ie(m)}}return z6(d,o,u)}function S6(a,o,u,d=z2.Default,h){if(null!==a){const m=function v5(a){if("string"==typeof a)return a.charCodeAt(0)||0;const o=a.hasOwnProperty(G)?a[G]:void 0;return"number"==typeof o?o>=0?255&o:v0:o}(u);if("function"==typeof m){if(!Aa(o,a,d))return d&z2.Host?z6(h,u,d):g0(o,u,d,h);try{const _=m(d);if(null!=_||d&z2.Optional)return _;V1(u)}finally{Ta()}}else if("number"==typeof m){let _=null,L=Vr(a,o),w=-1,V=d&z2.Host?o[16][6]:null;for((-1===L||d&z2.SkipSelf)&&(w=-1===L?Un(a,o):o[L+8],-1!==w&&w3(d,!1)?(_=o[1],L=Yt(w),o=Ue(w,o)):L=-1);-1!==L;){const H=o[1];if(jn(m,L,H.data)){const R=Hr(L,o,u,_,d,V);if(R!==y8)return R}w=o[L+8],-1!==w&&w3(d,o[1].data[L+8]===V)&&jn(m,L,o)?(_=H,L=Yt(w),o=Ue(w,o)):L=-1}}}return g0(o,u,d,h)}const y8={};function v0(){return new V6(De(),N1())}function Hr(a,o,u,d,h,m){const _=o[1],L=_.data[a+8],H=Qt(L,_,u,null==d?s8(L)&&C0:d!=_&&0!=(3&L.type),h&z2.Host&&m===L);return null!==H?g5(o,_,H,L):y8}function Qt(a,o,u,d,h){const m=a.providerIndexes,_=o.data,L=1048575&m,w=a.directiveStart,H=m>>20,K=h?L+H:a.directiveEnd;for(let r1=d?L:L+H;r1<K;r1++){const E1=_[r1];if(r1<w&&u===E1||r1>=w&&E1.type===u)return r1}if(h){const r1=_[w];if(r1&&O4(r1)&&r1.type===u)return w}return null}function g5(a,o,u,d){let h=a[u];const m=o.data;if(function Ia(a){return a instanceof zr}(h)){const _=h;_.resolving&&function c2(a,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${a}`:"";throw new O1(-200,`Circular dependency in DI detected for ${a}${u}`)}(S1(m[u]));const L=yt(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?Ie(_.injectImpl):null;Aa(a,d,z2.Default);try{h=a[u]=_.factory(void 0,m,a,d),o.firstCreatePass&&u>=d.directiveStart&&function mh(a,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const _=Pn(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,_)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,h),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,m))}(u,m[u],o)}finally{null!==w&&Ie(w),yt(L),_.resolving=!1,Ta()}}return h}function jn(a,o,u){return!!(u[o+(a>>5)]&1<<a)}function w3(a,o){return!(a&z2.Self||a&z2.Host&&o)}class V6{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return S6(this._tNode,this._lView,o,d,u)}}function Oa(a){return Ze(()=>{const o=a.prototype.constructor,u=o[n1]||Ne(o),d=Object.prototype;let h=Object.getPrototypeOf(a.prototype).constructor;for(;h&&h!==d;){const m=h[n1]||Ne(h);if(m&&m!==u)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ne(a){return G1(a)?()=>{const o=Ne(o1(a));return o&&o()}:r4(a)}function _8(a){return function m0(a,o){if("class"===o)return a.classes;if("style"===o)return a.styles;const u=a.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const m=u[h];if(Qe(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(m===o)return u[h+1];h+=2}}}return null}(De(),a)}const H6="__parameters__",it="__prop__metadata__";function G4(a){return function(...u){if(a){const d=a(...u);for(const h in d)this[h]=d[h]}}}function i3(a,o,u){return Ze(()=>{const d=G4(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const _=new h(...m);return L.annotation=_,L;function L(w,V,H){const R=w.hasOwnProperty(H6)?w[H6]:Object.defineProperty(w,H6,{value:[]})[H6];for(;R.length<=H;)R.push(null);return(R[H]=R[H]||[]).push(_),w}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=a,h.annotationCls=h,h})}function A6(a,o,u,d){return Ze(()=>{const h=G4(o);function m(..._){if(this instanceof m)return h.apply(this,_),this;const L=new m(..._);return function w(V,H){const R=V.constructor,K=R.hasOwnProperty(it)?R[it]:Object.defineProperty(R,it,{value:{}})[it];K[H]=K.hasOwnProperty(H)&&K[H]||[],K[H].unshift(L),d&&d(V,H,..._)}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class je{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=ie({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const T9=new je("AnalyzeForEntryComponents");function st(a,o){void 0===o&&(o=a);for(let u=0;u<a.length;u++){let d=a[u];Array.isArray(d)?(o===a&&(o=a.slice(0,u)),st(d,o)):o!==a&&o.push(d)}return o}function at(a,o){a.forEach(u=>Array.isArray(u)?at(u,o):o(u))}function _5(a,o,u){o>=a.length?a.push(u):a.splice(o,0,u)}function D6(a,o){return o>=a.length-1?a.pop():a.splice(o,1)[0]}function L8(a,o){const u=[];for(let d=0;d<a;d++)u.push(o);return u}function O3(a,o,u){let d=pn(a,o);return d>=0?a[1|d]=u:(d=~d,function $n(a,o,u,d){let h=a.length;if(h==o)a.push(u,d);else if(1===h)a.push(d,a[0]),a[0]=u;else{for(h--,a.push(a[h-1],a[h]);h>o;)a[h]=a[h-2],h--;a[o]=u,a[o+1]=d}}(a,d,o,u)),d}function M5(a,o){const u=pn(a,o);if(u>=0)return a[1|u]}function pn(a,o){return function Ua(a,o,u){let d=0,h=a.length>>u;for(;h!==d;){const m=d+(h-d>>1),_=a[m<<u];if(o===_)return m<<u;_>o?h=m:d=m+1}return~(h<<u)}(a,o,1)}const x8={},L5="__NG_DI_FLAG__",I6="ngTempTokenPath",ja=/\n/gm,Dr="__source",S0=b1({provide:String,useValue:b1});let Wn;function Zn(a){const o=Wn;return Wn=a,o}function X2(a,o=z2.Default){if(void 0===Wn)throw new O1(203,"");return null===Wn?e4(a,void 0,o):Wn.get(a,o&z2.Optional?null:void 0,o)}function u3(a,o=z2.Default){return(function de(){return x3}()||X2)(o1(a),o)}const Xt=u3;function V0(a){const o=[];for(let u=0;u<a.length;u++){const d=o1(a[u]);if(Array.isArray(d)){if(0===d.length)throw new O1(900,"");let h,m=z2.Default;for(let _=0;_<d.length;_++){const L=d[_],w=Ir(L);"number"==typeof w?-1===w?h=L.token:m|=w:h=L}o.push(u3(h,m))}else o.push(u3(d))}return o}function b5(a,o){return a[L5]=o,a.prototype[L5]=o,a}function Ir(a){return a[L5]}const Mt=b5(i3("Inject",a=>({token:a})),-1),Kn=b5(i3("Optional"),8),N6=b5(i3("SkipSelf"),4);let vn,kr;function k6(a){var o;return(null===(o=function Nr(){if(void 0===vn&&(vn=null,q2.trustedTypes))try{vn=q2.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return vn}())||void 0===o?void 0:o.createHTML(a))||a}function T0(a){var o;return(null===(o=function Yn(){if(void 0===kr&&(kr=null,q2.trustedTypes))try{kr=q2.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return kr}())||void 0===o?void 0:o.createHTML(a))||a}class yn{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class I0 extends yn{getTypeName(){return"HTML"}}class Qa extends yn{getTypeName(){return"Style"}}class S8 extends yn{getTypeName(){return"Script"}}class O9 extends yn{getTypeName(){return"URL"}}class B9 extends yn{getTypeName(){return"ResourceURL"}}function _n(a){return a instanceof yn?a.changingThisBreaksApplicationSecurity:a}function Lt(a,o){const u=H5(a);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function H5(a){return a instanceof yn&&a.getTypeName()||null}function V8(a){return new I0(a)}function Ja(a){return new Qa(a)}function N0(a){return new S8(a)}function U9(a){return new O9(a)}function H8(a){return new B9(a)}class eo{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(k6(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class to{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=k6(o),u;const d=this.inertDocument.createElement("body");return d.innerHTML=k6(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const _=u.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Pr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ro=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function bt(a){return(a=String(a)).match(Pr)||a.match(ro)?a:"unsafe:"+a}function xt(a){const o={};for(const u of a.split(","))o[u]=!0;return o}function P6(...a){const o={};for(const u of a)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const io=xt("area,br,col,hr,img,wbr"),Fr=xt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Or=xt("rp,rt"),R0=P6(io,P6(Fr,xt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),P6(Or,xt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),P6(Or,Fr)),A8=xt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),P0=xt("srcset"),E5=P6(A8,P0,xt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),G9=xt("script,style,template");class T5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!R0.hasOwnProperty(u))return this.sanitizedSomething=!0,!G9.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=o.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),_=m.name,L=_.toLowerCase();if(!E5.hasOwnProperty(L)){this.sanitizedSomething=!0;continue}let w=m.value;A8[L]&&(w=bt(w)),P0[L]&&(a=w,w=(a=String(a)).split(",").map(o=>bt(o.trim())).join(", ")),this.buf.push(" ",_,'="',Ur(w),'"')}var a;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();R0.hasOwnProperty(u)&&!io.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Ur(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const D5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j9=/([^\#-~ |!])/g;function Ur(a){return a.replace(/&/g,"&amp;").replace(D5,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(j9,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let O6;function Gr(a,o){let u=null;try{O6=O6||function Xa(a){const o=new to(a);return function no(){try{return!!(new window.DOMParser).parseFromString(k6(""),"text/html")}catch(a){return!1}}()?new eo(o):o}(a);let d=o?String(o):"";u=O6.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=u.innerHTML,u=O6.getInertBodyElement(d)}while(d!==m);return k6((new T5).sanitizeChildren(F0(u)||u))}finally{if(u){const d=F0(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function F0(a){return"content"in a&&function O0(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var oe=(()=>((oe=oe||{})[oe.NONE=0]="NONE",oe[oe.HTML=1]="HTML",oe[oe.STYLE=2]="STYLE",oe[oe.SCRIPT=3]="SCRIPT",oe[oe.URL=4]="URL",oe[oe.RESOURCE_URL=5]="RESOURCE_URL",oe))();function B0(a){const o=Qn();return o?T0(o.sanitize(oe.HTML,a)||""):Lt(a,"HTML")?T0(_n(a)):Gr(_6(),g1(a))}function I5(a){const o=Qn();return o?o.sanitize(oe.URL,a)||"":Lt(a,"URL")?_n(a):bt(g1(a))}function Qn(){const a=N1();return a&&a[12]}const G0="__ngContext__";function B3(a,o){a[G0]=o}function jr(a){const o=function G6(a){return a[G0]||null}(a);return o?Array.isArray(o)?o:o.lView:null}function b4(a){return a.ngOriginalError}function J9(a,...o){a.error(...o)}class qr{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),d=function ho(a){return a&&a.ngErrorLogger||J9}(o);d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&b4(o);for(;u&&b4(u);)u=b4(u);return u||null}}const ec=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q2))();function wt(a){return a instanceof Function?a():a}var z=(()=>((z=z||{})[z.Important=1]="Important",z[z.DashCase=2]="DashCase",z))();function X(a,o){return undefined(a,o)}function l2(a){const o=a[3];return M4(o)?o[3]:o}function Je(a){return D8(a[13])}function w4(a){return D8(a[4])}function D8(a){for(;null!==a&&!M4(a);)a=a[4];return a}function Jn(a,o,u,d,h){if(null!=d){let m,_=!1;M4(d)?m=d:R3(d)&&(_=!0,d=d[0]);const L=ae(d);0===a&&null!==u?null==h?sc(o,u,L):zt(o,u,L,h||null,!0):1===a&&null!==u?zt(o,u,L,h||null,!0):2===a?function lc(a,o,u){const d=P5(a,o);d&&function SM(a,o,u,d){Ee(a)?a.removeChild(o,u,d):o.removeChild(u)}(a,d,o,u)}(o,L,_):3===a&&o.destroyNode(L),null!=m&&function AM(a,o,u,d,h){const m=u[7];m!==ae(u)&&Jn(o,a,d,m,h);for(let L=10;L<u.length;L++){const w=u[L];Lo(w[1],w,a,o,d,m)}}(o,a,m,u,h)}}function Zr(a,o,u){if(Ee(a))return a.createElement(o,u);{const d=null!==u?function u8(a){const o=a.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?a.createElement(o):a.createElementNS(d,o)}}function yo(a,o){const u=a[9],d=u.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Oe(h,-1)),u.splice(d,1)}function nc(a,o){if(a.length<=10)return;const u=10+o,d=a[u];if(d){const h=d[17];null!==h&&h!==a&&yo(h,d),o>0&&(a[u-1][4]=d[4]);const m=D6(a,10+o);!function S3(a,o){Lo(a,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const _=m[19];null!==_&&_.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function rc(a,o){if(!(256&o[2])){const u=o[11];Ee(u)&&u.destroyNode&&Lo(a,o,u,3,null,null),function Q0(a){let o=a[13];if(!o)return ic(a[1],a);for(;o;){let u=null;if(R3(o))u=o[13];else{const d=o[10];d&&(u=d)}if(!u){for(;o&&!o[4]&&o!==a;)R3(o)&&ic(o[1],o),o=o[3];null===o&&(o=a),R3(o)&&ic(o[1],o),u=o&&o[4]}o=u}}(o)}}function ic(a,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Sh(a,o){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof zr)){const m=u[d+1];if(Array.isArray(m))for(let _=0;_<m.length;_+=2){const L=h[m[_]],w=m[_+1];try{w.call(L)}finally{}}else try{m.call(h)}finally{}}}}(a,o),function zh(a,o){const u=a.cleanup,d=o[7];let h=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const _=u[m+1],L="function"==typeof _?_(o):ae(o[_]),w=d[h=u[m+2]],V=u[m+3];"boolean"==typeof V?L.removeEventListener(u[m],w,V):V>=0?d[h=V]():d[h=-V].unsubscribe(),m+=2}else{const _=d[h=u[m+1]];u[m].call(_)}if(null!==d){for(let m=h+1;m<d.length;m++)d[m]();o[7]=null}}(a,o),1===o[1].type&&Ee(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&M4(o[3])){u!==o[3]&&yo(u,o);const d=o[19];null!==d&&d.detachView(a)}}}function _o(a,o,u){return function zM(a,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[0];if(2&d.flags){const h=a.data[d.directiveStart].encapsulation;if(h===Z2.None||h===Z2.Emulated)return null}return i4(d,u)}(a,o.parent,u)}function zt(a,o,u,d,h){Ee(a)?a.insertBefore(o,u,d,h):o.insertBefore(u,d,h)}function sc(a,o,u){Ee(a)?a.appendChild(o,u):o.appendChild(u)}function Vh(a,o,u,d,h){null!==d?zt(a,o,u,d,h):sc(a,o,u)}function P5(a,o){return Ee(a)?a.parentNode(o):o.parentNode}function Hh(a,o,u){return ac(a,o,u)}let ac=function Ah(a,o,u){return 40&a.type?i4(a,u):null};function Mo(a,o,u,d){const h=_o(a,d,o),m=o[11],L=Hh(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(u))for(let w=0;w<u.length;w++)Vh(m,h,u[w],L,!1);else Vh(m,h,u,L,!1)}function Kr(a,o){if(null!==o){const u=o.type;if(3&u)return i4(o,a);if(4&u)return cc(-1,a[o.index]);if(8&u){const d=o.child;if(null!==d)return Kr(a,d);{const h=a[o.index];return M4(h)?cc(-1,h):ae(h)}}if(32&u)return X(o,a)()||ae(a[o.index]);{const d=Th(a,o);return null!==d?Array.isArray(d)?d[0]:Kr(l2(a[16]),d):Kr(a,o.next)}}return null}function Th(a,o){return null!==o?a[16][6].projection[o.projection]:null}function cc(a,o){const u=10+a+1;if(u<o.length){const d=o[u],h=d[1].firstChild;if(null!==h)return Kr(d,h)}return o[7]}function uc(a,o,u,d,h,m,_){for(;null!=u;){const L=d[u.index],w=u.type;if(_&&0===o&&(L&&B3(ae(L),d),u.flags|=4),64!=(64&u.flags))if(8&w)uc(a,o,u.child,d,h,m,!1),Jn(o,a,h,L,m);else if(32&w){const V=X(u,d);let H;for(;H=V();)Jn(o,a,h,H,m);Jn(o,a,h,L,m)}else 16&w?HM(a,o,d,u,h,m):Jn(o,a,h,L,m);u=_?u.projectionNext:u.next}}function Lo(a,o,u,d,h,m){uc(u,d,a.firstChild,o,h,m,!1)}function HM(a,o,u,d,h,m){const _=u[16],w=_[6].projection[d.projection];if(Array.isArray(w))for(let V=0;V<w.length;V++)Jn(o,a,h,w[V],m);else uc(a,o,w,_[3],h,m,!0)}function Dh(a,o,u){Ee(a)?a.setAttribute(o,"style",u):o.style.cssText=u}function fc(a,o,u){Ee(a)?""===u?a.removeAttribute(o,"class"):a.setAttribute(o,"class",u):o.className=u}function Ih(a,o,u){let d=a.length;for(;;){const h=a.indexOf(o,u);if(-1===h)return h;if(0===h||a.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||a.charCodeAt(h+m)<=32)return h}u=h+1}}const Nh="ng-template";function TM(a,o,u){let d=0;for(;d<a.length;){let h=a[d++];if(u&&"class"===h){if(h=a[d],-1!==Ih(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<a.length&&"string"==typeof(h=a[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function kh(a){return 4===a.type&&a.value!==Nh}function DM(a,o,u){return o===(4!==a.type||u?a.value:Nh)}function IM(a,o,u){let d=4;const h=a.attrs||[],m=function RM(a){for(let o=0;o<a.length;o++)if(Qe(a[o]))return o;return a.length}(h);let _=!1;for(let L=0;L<o.length;L++){const w=o[L];if("number"!=typeof w){if(!_)if(4&d){if(d=2|1&d,""!==w&&!DM(a,w,u)||""===w&&1===o.length){if(tn(d))return!1;_=!0}}else{const V=8&d?w:o[++L];if(8&d&&null!==a.attrs){if(!TM(a.attrs,V,u)){if(tn(d))return!1;_=!0}continue}const R=NM(8&d?"class":w,h,kh(a),u);if(-1===R){if(tn(d))return!1;_=!0;continue}if(""!==V){let K;K=R>m?"":h[R+1].toLowerCase();const r1=8&d?K:null;if(r1&&-1!==Ih(r1,V,0)||2&d&&V!==K){if(tn(d))return!1;_=!0}}}}else{if(!_&&!tn(d)&&!tn(w))return!1;if(_&&tn(w))continue;_=!1,d=w|1&d}}return tn(d)||_}function tn(a){return 0==(1&a)}function NM(a,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let m=!1;for(;h<o.length;){const _=o[h];if(_===a)return h;if(3===_||6===_)m=!0;else{if(1===_||2===_){let L=o[++h];for(;"string"==typeof L;)L=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=m?1:2}return-1}return function PM(a,o){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const d=a[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,a)}function bo(a,o,u=!1){for(let d=0;d<o.length;d++)if(IM(a,o[d],u))return!0;return!1}function FM(a,o){e:for(let u=0;u<o.length;u++){const d=o[u];if(a.length===d.length){for(let h=0;h<a.length;h++)if(a[h]!==d[h])continue e;return!0}}return!1}function Rh(a,o){return a?":not("+o.trim()+")":o}function OM(a){let o=a[0],u=1,d=2,h="",m=!1;for(;u<a.length;){let _=a[u];if("string"==typeof _)if(2&d){const L=a[++u];h+="["+_+(L.length>0?'="'+L+'"':"")+"]"}else 8&d?h+="."+_:4&d&&(h+=" "+_);else""!==h&&!tn(_)&&(o+=Rh(m,h),h=""),d=_,m=m||!tn(d);u++}return""!==h&&(o+=Rh(m,h)),o}const W2={};function Ph(a){Fh(B2(),N1(),p4()+a,Mr())}function Fh(a,o,u,d){if(!d)if(3==(3&o[2])){const m=a.preOrderCheckHooks;null!==m&&g8(o,m,u)}else{const m=a.preOrderHooks;null!==m&&Cn(o,m,0,u)}Kt(u)}function xo(a,o){return a<<17|o<<2}function Ln(a){return a>>17&32767}function dc(a){return 2|a}function Xn(a){return(131068&a)>>2}function hc(a,o){return-131069&a|o<<2}function pc(a){return 1|a}function Yr(a,o){const u=a.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],m=u[d+1];if(-1!==m){const _=a.data[m];p8(h),_.contentQueries(2,o[m],m)}}}function es(a,o,u,d,h,m,_,L,w,V){const H=o.blueprint.slice();return H[0]=h,H[2]=140|d,E2(H),H[3]=H[15]=a,H[8]=u,H[10]=_||a&&a[10],H[11]=L||a&&a[11],H[12]=w||a&&a[12]||null,H[9]=V||a&&a[9]||null,H[6]=m,H[16]=2==o.type?a[16]:H,H}function Qr(a,o,u,d,h){let m=a.data[o];if(null===m)m=function Jr(a,o,u,d,h){const m=yr(),_=C8(),w=a.data[o]=function iL(a,o,u,d,h,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?m:m&&m.parent,u,o,d,h);return null===a.firstChild&&(a.firstChild=w),null!==m&&(_?null==m.child&&null!==w.parent&&(m.child=w):null===m.next&&(m.next=w)),w}(a,o,u,d,h),function z9(){return f2.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=d,m.attrs=h;const _=function x6(){const a=f2.lFrame,o=a.currentTNode;return a.isParent?o:o.parent}();m.injectorIndex=null===_?-1:_.injectorIndex}return gt(m,!0),m}function Xr(a,o,u,d){if(0===u)return-1;const h=o.length;for(let m=0;m<u;m++)o.push(d),a.blueprint.push(d),a.data.push(null);return h}function ts(a,o,u){d5(o);try{const d=a.viewQuery;null!==d&&Ic(1,d,u);const h=a.template;null!==h&&Qh(a,o,h,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Yr(a,o),a.staticViewQueries&&Ic(2,a.viewQuery,u);const m=a.components;null!==m&&function tL(a,o){for(let u=0;u<o.length;u++)_L(a,o[u])}(o,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{o[2]&=-5,m8()}}function ei(a,o,u,d){const h=o[2];if(256==(256&h))return;d5(o);const m=Mr();try{E2(o),function br(a){return f2.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&Qh(a,o,u,2,d);const _=3==(3&h);if(!m)if(_){const V=a.preOrderCheckHooks;null!==V&&g8(o,V,null)}else{const V=a.preOrderHooks;null!==V&&Cn(o,V,0,null),v8(o,0)}if(function oC(a){for(let o=Je(a);null!==o;o=w4(o)){if(!o[2])continue;const u=o[9];for(let d=0;d<u.length;d++){const h=u[d],m=h[3];0==(1024&h[2])&&Oe(m,1),h[2]|=1024}}}(o),function vL(a){for(let o=Je(a);null!==o;o=w4(o))for(let u=10;u<o.length;u++){const d=o[u],h=d[1];C1(d)&&ei(h,d,h.template,d[8])}}(o),null!==a.contentQueries&&Yr(a,o),!m)if(_){const V=a.contentCheckHooks;null!==V&&g8(o,V)}else{const V=a.contentHooks;null!==V&&Cn(o,V,1),v8(o,1)}!function XM(a,o){const u=a.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)Kt(~h);else{const m=h,_=u[++d],L=u[++d];S9(_,m),L(2,o[m])}}}finally{Kt(-1)}}(a,o);const L=a.components;null!==L&&function eL(a,o){for(let u=0;u<o.length;u++)yL(a,o[u])}(o,L);const w=a.viewQuery;if(null!==w&&Ic(2,w,d),!m)if(_){const V=a.viewCheckHooks;null!==V&&g8(o,V)}else{const V=a.viewHooks;null!==V&&Cn(o,V,2),v8(o,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Oe(o[3],-1))}finally{m8()}}function nL(a,o,u,d){const h=o[10],m=!Mr(),_=J(o);try{m&&!_&&h.begin&&h.begin(),_&&ts(a,o,d),ei(a,o,u,d)}finally{m&&!_&&h.end&&h.end()}}function Qh(a,o,u,d,h){const m=p4(),_=2&d;try{Kt(-1),_&&o.length>20&&Fh(a,o,20,Mr()),u(d,h)}finally{Kt(m)}}function Mc(a,o,u){if(cn(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const _=a.data[m];_.contentQueries&&_.contentQueries(1,u[m],m)}}}function Lc(a,o,u){!B4()||(function fL(a,o,u,d){const h=u.directiveStart,m=u.directiveEnd;a.firstCreatePass||Ge(u,o),B3(d,o);const _=u.initialInputs;for(let L=h;L<m;L++){const w=a.data[L],V=O4(w);V&&pL(o,u,w);const H=g5(o,a,L,u);B3(H,o),null!==_&&mL(0,L-h,H,w,0,_),V&&(I(u.index,o)[8]=H)}}(a,o,u,i4(u,o)),128==(128&u.flags)&&function dL(a,o,u){const d=u.directiveStart,h=u.directiveEnd,_=u.index,L=function f0(){return f2.lFrame.currentDirectiveIndex}();try{Kt(_);for(let w=d;w<h;w++){const V=a.data[w],H=o[w];d0(w),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&Sc(V,H)}}finally{Kt(-1),d0(L)}}(a,o,u))}function Eo(a,o,u=i4){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const _=d[m+1],L=-1===_?u(o,a):a[_];a[h++]=L}}}function Jh(a){const o=a.tView;return null===o||o.incompleteFirstPass?a.tView=To(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):o}function To(a,o,u,d,h,m,_,L,w,V){const H=20+d,R=H+h,K=function Xh(a,o){const u=[];for(let d=0;d<o;d++)u.push(d<a?null:W2);return u}(H,R),r1="function"==typeof V?V():V;return K[1]={type:a,blueprint:K,template:u,queries:null,viewQuery:L,declTNode:o,data:K.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:r1,incompleteFirstPass:!1}}function bc(a,o,u,d){const h=Nc(o);null===u?h.push(d):(h.push(u),a.firstCreatePass&&uC(a).push(d,h.length-1))}function nC(a,o,u){for(let d in a)if(a.hasOwnProperty(d)){const h=a[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(o,h):u[d]=[o,h]}return u}function ot(a,o,u,d,h,m,_,L){const w=i4(o,u);let H,V=o.inputs;!L&&null!=V&&(H=V[d])?(hC(a,u,H,d,h),s8(o)&&function oL(a,o){const u=I(o,a);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(d=function aL(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),h=null!=_?_(h,o.value||"",d):h,Ee(m)?m.setProperty(w,d,h):U4(d)||(w.setProperty?w.setProperty(d,h):w[d]=h))}function wc(a,o,u,d){let h=!1;if(B4()){const m=function hL(a,o,u){const d=a.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const _=d[m];bo(u,_.selectors,!1)&&(h||(h=[]),Gn(Ge(u,o),a,_.type),O4(_)?(iC(a,u),h.unshift(_)):h.push(_))}return h}(a,o,u),_=null===d?null:{"":-1};if(null!==m){h=!0,sC(u,a.data.length,m.length);for(let H=0;H<m.length;H++){const R=m[H];R.providersResolver&&R.providersResolver(R)}let L=!1,w=!1,V=Xr(a,o,m.length,null);for(let H=0;H<m.length;H++){const R=m[H];u.mergedAttrs=We(u.mergedAttrs,R.hostAttrs),aC(a,u,o,V,R),CL(V,R,_),null!==R.contentQueries&&(u.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=128);const K=R.type.prototype;!L&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),L=!0),!w&&(K.ngOnChanges||K.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),w=!0),V++}!function sL(a,o){const d=o.directiveEnd,h=a.data,m=o.attrs,_=[];let L=null,w=null;for(let V=o.directiveStart;V<d;V++){const H=h[V],R=H.inputs,K=null===m||kh(o)?null:gL(R,m);_.push(K),L=nC(R,V,L),w=nC(H.outputs,V,w)}null!==L&&(L.hasOwnProperty("class")&&(o.flags|=16),L.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=L,o.outputs=w}(a,u)}_&&function Vc(a,o,u){if(o){const d=a.localNames=[];for(let h=0;h<o.length;h+=2){const m=u[o[h+1]];if(null==m)throw new O1(-301,!1);d.push(o[h],m)}}}(u,d,_)}return u.mergedAttrs=We(u.mergedAttrs,u.attrs),h}function zc(a,o,u,d,h,m){const _=m.hostBindings;if(_){let L=a.hostBindingOpCodes;null===L&&(L=a.hostBindingOpCodes=[]);const w=~o.index;(function uL(a){let o=a.length;for(;o>0;){const u=a[--o];if("number"==typeof u&&u<0)return u}return 0})(L)!=w&&L.push(w),L.push(d,h,_)}}function Sc(a,o){null!==a.hostBindings&&a.hostBindings(1,o)}function iC(a,o){o.flags|=2,(a.components||(a.components=[])).push(o.index)}function CL(a,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=a;O4(o)&&(u[""]=a)}}function sC(a,o,u){a.flags|=1,a.directiveStart=o,a.directiveEnd=o+u,a.providerIndexes=o}function aC(a,o,u,d,h){a.data[d]=h;const m=h.factory||(h.factory=r4(h.type)),_=new zr(m,O4(h),null);a.blueprint[d]=_,u[d]=_,zc(a,o,0,d,Xr(a,u,h.hostVars,W2),h)}function pL(a,o,u){const d=i4(o,a),h=Jh(u),m=a[10],_=Do(a,es(a,h,null,u.onPush?64:16,d,o,m,m.createRenderer(d,u),null,null));a[o.index]=_}function e6(a,o,u,d,h,m){const _=i4(a,o);!function Hc(a,o,u,d,h,m,_){if(null==m)Ee(a)?a.removeAttribute(o,h,u):o.removeAttribute(h);else{const L=null==_?g1(m):_(m,d||"",h);Ee(a)?a.setAttribute(o,h,L,u):u?o.setAttributeNS(u,h,L):o.setAttribute(h,L)}}(o[11],_,m,a.value,u,d,h)}function mL(a,o,u,d,h,m){const _=m[o];if(null!==_){const L=d.setInput;for(let w=0;w<_.length;){const V=_[w++],H=_[w++],R=_[w++];null!==L?d.setInput(u,R,V,H):u[H]=R}}}function gL(a,o){let u=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;a.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,a[h],o[d+1])),d+=2}else d+=2;else d+=4}return u}function Ac(a,o,u,d){return new Array(a,!0,!1,o,null,0,d,u,null,null)}function yL(a,o){const u=I(o,a);if(C1(u)){const d=u[1];80&u[2]?ei(d,u,d.template,u[8]):u[5]>0&&Ec(u)}}function Ec(a){for(let d=Je(a);null!==d;d=w4(d))for(let h=10;h<d.length;h++){const m=d[h];if(1024&m[2]){const _=m[1];ei(_,m,_.template,m[8])}else m[5]>0&&Ec(m)}const u=a[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=I(u[d],a);C1(h)&&h[5]>0&&Ec(h)}}function _L(a,o){const u=I(o,a),d=u[1];(function ML(a,o){for(let u=o.length;u<a.blueprint.length;u++)o.push(a.blueprint[u])})(d,u),ts(d,u,u[8])}function Do(a,o){return a[13]?a[14][4]=o:a[13]=o,a[14]=o,o}function Tc(a){for(;a;){a[2]|=64;const o=l2(a);if(y6(a)&&!o)return a;a=o}return null}function Dc(a,o,u){const d=o[10];d.begin&&d.begin();try{ei(a,o,a.template,u)}catch(h){throw dC(o,h),h}finally{d.end&&d.end()}}function cC(a){!function Io(a){for(let o=0;o<a.components.length;o++){const u=a.components[o],d=jr(u),h=d[1];nL(h,d,h.template,u)}}(a[8])}function Ic(a,o,u){p8(0),o(a,u)}const wL=(()=>Promise.resolve(null))();function Nc(a){return a[7]||(a[7]=[])}function uC(a){return a.cleanup||(a.cleanup=[])}function dC(a,o){const u=a[9],d=u?u.get(qr,null):null;d&&d.handleError(o)}function hC(a,o,u,d,h){for(let m=0;m<u.length;){const _=u[m++],L=u[m++],w=o[_],V=a.data[_];null!==V.setInput?V.setInput(w,h,d,L):w[L]=h}}function t6(a,o,u){const d=un(o,a);!function Wr(a,o,u){Ee(a)?a.setValue(o,u):o.textContent=u}(a[11],d,u)}function No(a,o,u){let d=u?a.styles:null,h=u?a.classes:null,m=0;if(null!==o)for(let _=0;_<o.length;_++){const L=o[_];"number"==typeof L?m=L:1==m?h=v1(h,L):2==m&&(d=v1(d,L+": "+o[++_]+";"))}u?a.styles=d:a.stylesWithoutHost=d,u?a.classes=h:a.classesWithoutHost=h}const kc=new je("INJECTOR",-1);class Rc{get(o,u=x8){if(u===x8){const d=new Error(`NullInjectorError: No provider for ${m1(o)}!`);throw d.name="NullInjectorError",d}return u}}const Pc=new je("Set Injector scope."),ti={},HL={};let Fc;function Oc(){return void 0===Fc&&(Fc=new Rc),Fc}function CC(a,o=null,u=null,d){const h=Bc(a,o,u,d);return h._resolveInjectorDefTypes(),h}function Bc(a,o=null,u=null,d){return new AL(a,u,o||Oc(),d)}class AL{constructor(o,u,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&at(u,L=>this.processProvider(L,o,u)),at([o],L=>this.processInjectorType(L,[],m)),this.records.set(kc,ni(void 0,this));const _=this.records.get(Pc);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof o?null:m1(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=x8,d=z2.Default){this.assertNotDestroyed();const h=Zn(this),m=Ie(void 0);try{if(!(d&z2.SkipSelf)){let L=this.records.get(o);if(void 0===L){const w=function vC(a){return"function"==typeof a||"object"==typeof a&&a instanceof je}(o)&&R2(o);L=w&&this.injectableDefInScope(w)?ni(ns(o),ti):null,this.records.set(o,L)}if(null!=L)return this.hydrate(o,L)}return(d&z2.Self?Oc():this.parent).get(o,u=d&z2.Optional&&u===x8?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[I6]=_[I6]||[]).unshift(m1(o)),h)throw _;return function N9(a,o,u,d){const h=a[I6];throw o[Dr]&&h.unshift(o[Dr]),a.message=function x5(a,o,u,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let h=m1(o);if(Array.isArray(o))h=o.map(m1).join(" -> ");else if("object"==typeof o){let m=[];for(let _ in o)if(o.hasOwnProperty(_)){let L=o[_];m.push(_+":"+("string"==typeof L?JSON.stringify(L):m1(L)))}h=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${a.replace(ja,"\n  ")}`}("\n"+a.message,h,u,d),a.ngTokenPath=h,a[I6]=null,a}(_,o,"R3InjectorError",this.source)}throw _}finally{Ie(m),Zn(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(m1(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O1(205,!1)}processInjectorType(o,u,d){if(!(o=o1(o)))return!1;let h=be(o);const m=null==h&&o.ngModule||void 0,_=void 0===m?o:m,L=-1!==d.indexOf(_);if(void 0!==m&&(h=be(m)),null==h)return!1;if(null!=h.imports&&!L){let H;d.push(_);try{at(h.imports,R=>{this.processInjectorType(R,u,d)&&(void 0===H&&(H=[]),H.push(R))})}finally{}if(void 0!==H)for(let R=0;R<H.length;R++){const{ngModule:K,providers:r1}=H[R];at(r1,E1=>this.processProvider(E1,K,r1||F))}}this.injectorDefTypes.add(_);const w=r4(_)||(()=>new _);this.records.set(_,ni(w,ti));const V=h.providers;if(null!=V&&!L){const H=o;at(V,R=>this.processProvider(R,H,V))}return void 0!==m&&void 0!==o.providers}processProvider(o,u,d){let h=I8(o=o1(o))?o:o1(o&&o.provide);const m=function TL(a,o,u){return pC(a)?ni(void 0,a.useValue):ni(Uc(a),ti)}(o);if(I8(o)||!0!==o.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=ni(void 0,ti,!0),_.factory=()=>V0(_.multi),this.records.set(h,_)),h=o,_.multi.push(o)}this.records.set(h,m)}hydrate(o,u){return u.value===ti&&(u.value=HL,u.value=u.factory()),"object"==typeof u.value&&u.value&&function NL(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=o1(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function ns(a){const o=R2(a),u=null!==o?o.factory:r4(a);if(null!==u)return u;if(a instanceof je)throw new O1(204,!1);if(a instanceof Function)return function EL(a){const o=a.length;if(o>0)throw L8(o,"?"),new O1(204,!1);const u=function R4(a){const o=a&&(a[L3]||a[b3]);if(o){const u=function l3(a){if(a.hasOwnProperty("name"))return a.name;const o=(""+a).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new O1(204,!1)}function Uc(a,o,u){let d;if(I8(a)){const h=o1(a);return r4(h)||ns(h)}if(pC(a))d=()=>o1(a.useValue);else if(function DL(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...V0(a.deps||[]));else if(function mC(a){return!(!a||!a.useExisting)}(a))d=()=>u3(o1(a.useExisting));else{const h=o1(a&&(a.useClass||a.provide));if(!function gC(a){return!!a.deps}(a))return r4(h)||ns(h);d=()=>new h(...V0(a.deps))}return d}function ni(a,o,u=!1){return{factory:a,value:o,multi:u?[]:void 0}}function pC(a){return null!==a&&"object"==typeof a&&S0 in a}function I8(a){return"function"==typeof a}let n6=(()=>{class a{static create(u,d){var h;if(Array.isArray(u))return CC({name:""},d,u,"");{const m=null!==(h=u.name)&&void 0!==h?h:"";return CC({name:m},u.parent,u.providers,m)}}}return a.THROW_IF_NOT_FOUND=x8,a.NULL=new Rc,a.\u0275prov=ie({token:a,providedIn:"any",factory:()=>u3(kc)}),a.__NG_ELEMENT_ID__=-1,a})();function TC(a,o){Da(jr(a)[1],De())}function qc(a){let o=function DC(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const d=[a];for(;o;){let h;if(O4(a))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new O1(903,"");h=o.\u0275dir}if(h){if(u){d.push(h);const _=a;_.inputs=$c(a.inputs),_.declaredInputs=$c(a.declaredInputs),_.outputs=$c(a.outputs);const L=h.hostBindings;L&&jL(a,L);const w=h.viewQuery,V=h.contentQueries;if(w&&GL(a,w),V&&IC(a,V),c1(a.inputs,h.inputs),c1(a.declaredInputs,h.declaredInputs),c1(a.outputs,h.outputs),O4(h)&&h.data.animation){const H=a.data;H.animation=(H.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let _=0;_<m.length;_++){const L=m[_];L&&L.ngInherit&&L(a),L===qc&&(u=!1)}}o=Object.getPrototypeOf(o)}!function UL(a){let o=0,u=null;for(let d=a.length-1;d>=0;d--){const h=a[d];h.hostVars=o+=h.hostVars,h.hostAttrs=We(h.hostAttrs,u=We(u,h.hostAttrs))}}(d)}function $c(a){return a===Ke?{}:a===F?[]:a}function GL(a,o){const u=a.viewQuery;a.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function IC(a,o){const u=a.contentQueries;a.contentQueries=u?(d,h,m)=>{o(d,h,m),u(d,h,m)}:o}function jL(a,o){const u=a.hostBindings;a.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}let is=null;function ri(){if(!is){const a=q2.Symbol;if(a&&a.iterator)is=a.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const d=o[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(is=d)}}}return is}function ss(a){return!!ko(a)&&(Array.isArray(a)||!(a instanceof Map)&&ri()in a)}function ko(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function r6(a,o,u){return a[o]=u}function z4(a,o,u){return!Object.is(a[o],u)&&(a[o]=u,!0)}function N8(a,o,u,d){const h=z4(a,o,u);return z4(a,o+1,d)||h}function Po(a,o,u,d){const h=N1();return z4(h,u5(),o)&&(B2(),e6(r3(),h,a,o,u,d)),Po}function ai(a,o,u,d){return z4(a,u5(),u)?o+g1(u)+d:W2}function oi(a,o,u,d,h,m){const L=N8(a,function hn(){return f2.lFrame.bindingIndex}(),u,h);return vt(2),L?o+g1(u)+d+g1(h)+m:W2}function qC(a,o,u,d,h,m,_,L){const w=N1(),V=B2(),H=a+20,R=V.firstCreatePass?function KL(a,o,u,d,h,m,_,L,w){const V=o.consts,H=Qr(o,a,4,_||null,e2(V,L));wc(o,u,H,e2(V,w)),Da(o,H);const R=H.tViews=To(2,H,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,V);return null!==o.queries&&(o.queries.template(o,H),R.queries=o.queries.embeddedTView(H)),H}(H,V,w,o,u,d,h,m,_):V.data[H];gt(R,!1);const K=w[11].createComment("");Mo(V,w,K,R),B3(K,w),Do(w,w[H]=Ac(K,w,K,R)),mt(R)&&Lc(V,w,R),null!=_&&Eo(w,R,L)}function $C(a){return k(function _r(){return f2.lFrame.contextLView}(),20+a)}function as(a,o=z2.Default){const u=N1();return null===u?u3(a,o):S6(De(),u,o1(a),o)}function Bo(){throw new Error("invalid")}function Jc(a,o,u){const d=N1();return z4(d,u5(),o)&&ot(B2(),r3(),d,a,o,d[11],u,!1),Jc}function Xc(a,o,u,d,h){const _=h?"class":"style";hC(a,u,o.inputs[_],_,d)}function os(a,o,u,d){const h=N1(),m=B2(),_=20+a,L=h[11],w=h[_]=Zr(L,o,function wM(){return f2.lFrame.currentNamespace}()),V=m.firstCreatePass?function hb(a,o,u,d,h,m,_){const L=o.consts,V=Qr(o,a,2,h,e2(L,m));return wc(o,u,V,e2(L,_)),null!==V.attrs&&No(V,V.attrs,!1),null!==V.mergedAttrs&&No(V,V.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,V),V}(_,m,h,0,o,u,d):m.data[_];gt(V,!0);const H=V.mergedAttrs;null!==H&&b2(L,w,H);const R=V.classes;null!==R&&fc(L,w,R);const K=V.styles;return null!==K&&Dh(L,w,K),64!=(64&V.flags)&&Mo(m,h,w,V),0===function ze(){return f2.lFrame.elementDepthCount}()&&B3(w,h),function G2(){f2.lFrame.elementDepthCount++}(),mt(V)&&(Lc(m,h,V),Mc(m,V,h)),null!==d&&Eo(h,V),os}function Uo(){let a=De();C8()?u0():(a=a.parent,gt(a,!1));const o=a;!function fn(){f2.lFrame.elementDepthCount--}();const u=B2();return u.firstCreatePass&&(Da(u,a),cn(a)&&u.queries.elementEnd(a)),null!=o.classesWithoutHost&&function h0(a){return 0!=(16&a.flags)}(o)&&Xc(u,o,N1(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function vh(a){return 0!=(32&a.flags)}(o)&&Xc(u,o,N1(),o.stylesWithoutHost,!1),Uo}function el(a,o,u,d){return os(a,o,u,d),Uo(),el}function Go(a,o,u){const d=N1(),h=B2(),m=a+20,_=h.firstCreatePass?function pb(a,o,u,d,h){const m=o.consts,_=e2(m,d),L=Qr(o,a,8,"ng-container",_);return null!==_&&No(L,_,!0),wc(o,u,L,e2(m,h)),null!==o.queries&&o.queries.elementStart(o,L),L}(m,h,d,o,u):h.data[m];gt(_,!0);const L=d[m]=d[11].createComment("");return Mo(h,d,L,_),B3(L,d),mt(_)&&(Lc(h,d,_),Mc(h,_,d)),null!=u&&Eo(d,_),Go}function jo(){let a=De();const o=B2();return C8()?u0():(a=a.parent,gt(a,!1)),o.firstCreatePass&&(Da(o,a),cn(a)&&o.queries.elementEnd(a)),jo}function tl(){return N1()}function nl(a){return!!a&&"function"==typeof a.then}function rl(a){return!!a&&"function"==typeof a.subscribe}const op=rl;function il(a,o,u,d){const h=N1(),m=B2(),_=De();return function lp(a,o,u,d,h,m,_,L){const w=mt(d),H=a.firstCreatePass&&uC(a),R=o[8],K=Nc(o);let r1=!0;if(3&d.type||L){const r2=i4(d,o),C2=L?L(r2):r2,R1=K.length,H2=L?ce=>L(ae(ce[d.index])):d.index;if(Ee(u)){let ce=null;if(!L&&w&&(ce=function mb(a,o,u,d){const h=a.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const _=h[m];if(_===u&&h[m+1]===d){const L=o[7],w=h[m+2];return L.length>w?L[w]:null}"string"==typeof _&&(m+=2)}return null}(a,o,h,d.index)),null!==ce)(ce.__ngLastListenerFn__||ce).__ngNextListenerFn__=m,ce.__ngLastListenerFn__=m,r1=!1;else{m=sl(d,o,R,m,!1);const Se=u.listen(C2,h,m);K.push(m,Se),H&&H.push(h,H2,R1,R1+1)}}else m=sl(d,o,R,m,!0),C2.addEventListener(h,m,_),K.push(m),H&&H.push(h,H2,R1,_)}else m=sl(d,o,R,m,!1);const E1=d.outputs;let K1;if(r1&&null!==E1&&(K1=E1[h])){const r2=K1.length;if(r2)for(let C2=0;C2<r2;C2+=2){const q4=o[K1[C2]][K1[C2+1]].subscribe(m),O8=K.length;K.push(m,q4),H&&H.push(h,d.index,O8,-(O8+1))}}}(m,h,h[11],_,a,o,!!u,d),il}function up(a,o,u,d){try{return!1!==u(d)}catch(h){return dC(a,h),!1}}function sl(a,o,u,d,h){return function m(_){if(_===Function)return d;const L=2&a.flags?I(a.index,o):o;0==(32&o[2])&&Tc(L);let w=up(o,0,d,_),V=m.__ngNextListenerFn__;for(;V;)w=up(o,0,V,_)&&w,V=V.__ngNextListenerFn__;return h&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function al(a=1){return function On(a){return(f2.lFrame.contextLView=function H9(a,o){for(;a>0;)o=o[15],a--;return o}(a,f2.lFrame.contextLView))[8]}(a)}function gb(a,o){let u=null;const d=function kM(a){const o=a.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(a);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?bo(a,m,!0):FM(d,m))return h}else u=h}return u}function ol(a){const o=N1()[16][6];if(!o.projection){const d=o.projection=L8(a?a.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const _=a?gb(m,a):0;null!==_&&(h[_]?h[_].projectionNext=m:d[_]=m,h[_]=m),m=m.next}}}function fp(a,o=0,u){const d=N1(),h=B2(),m=Qr(h,20+a,16,null,u||null);null===m.projection&&(m.projection=o),u0(),64!=(64&m.flags)&&function w1(a,o,u){HM(o[11],0,o,u,_o(a,u,o),Hh(u.parent||o[6],u,o))}(h,d,m)}function qo(a,o,u){return $o(a,"",o,"",u),qo}function $o(a,o,u,d,h){const m=N1(),_=ai(m,o,u,d);return _!==W2&&ot(B2(),r3(),m,a,_,m[11],h,!1),$o}function yp(a,o,u,d,h){const m=a[u+1],_=null===o;let L=d?Ln(m):Xn(m),w=!1;for(;0!==L&&(!1===w||_);){const H=a[L+1];_p(a[L],o)&&(w=!0,a[L+1]=d?pc(H):dc(H)),L=d?Ln(H):Xn(H)}w&&(a[u+1]=d?dc(m):pc(m))}function _p(a,o){return null===a||null==o||(Array.isArray(a)?a[1]:a)===o||!(!Array.isArray(a)||"string"!=typeof o)&&pn(a,o)>=0}const Q3={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ll(a){return a.substring(Q3.key,Q3.keyEnd)}function ul(a,o){const u=Q3.textEnd;return u===o?-1:(o=Q3.keyEnd=function bb(a,o,u){for(;o<u&&a.charCodeAt(o)>32;)o++;return o}(a,Q3.key=o,u),hi(a,o,u))}function hi(a,o,u){for(;o<u&&a.charCodeAt(o)<=32;)o++;return o}function fl(a,o,u){return rn(a,o,u,!1),fl}function Wo(a,o){return rn(a,o,null,!0),Wo}function dl(a){!function xn(a,o,u,d){const h=B2(),m=vt(2);h.firstUpdatePass&&Sp(h,null,m,d);const _=N1();if(u!==W2&&z4(_,m,u)){const L=h.data[p4()];if(Tp(L,d)&&!zp(h,m)){let w=d?L.classesWithoutHost:L.stylesWithoutHost;null!==w&&(u=v1(w,u||"")),Xc(h,L,_,u,d)}else!function Ab(a,o,u,d,h,m,_,L){h===W2&&(h=F);let w=0,V=0,H=0<h.length?h[0]:null,R=0<m.length?m[0]:null;for(;null!==H||null!==R;){const K=w<h.length?h[w+1]:void 0,r1=V<m.length?m[V+1]:void 0;let K1,E1=null;H===R?(w+=2,V+=2,K!==r1&&(E1=R,K1=r1)):null===R||null!==H&&H<R?(w+=2,E1=H):(V+=2,E1=R,K1=r1),null!==E1&&Ap(a,o,u,d,E1,K1,_,L),H=w<h.length?h[w]:null,R=V<m.length?m[V]:null}}(h,L,_,_[11],_[m+1],_[m+1]=function Hb(a,o,u){if(null==u||""===u)return F;const d=[],h=_n(u);if(Array.isArray(h))for(let m=0;m<h.length;m++)a(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&a(d,m,h[m]);else"string"==typeof h&&o(d,h);return d}(a,o,u),d,m)}}(O3,a6,a,!0)}function a6(a,o){for(let u=function Mb(a){return function Lp(a){Q3.key=0,Q3.keyEnd=0,Q3.value=0,Q3.valueEnd=0,Q3.textEnd=a.length}(a),ul(a,hi(a,0,Q3.textEnd))}(o);u>=0;u=ul(o,u))O3(a,ll(o),!0)}function rn(a,o,u,d){const h=N1(),m=B2(),_=vt(2);m.firstUpdatePass&&Sp(m,a,_,d),o!==W2&&z4(h,_,o)&&Ap(m,m.data[p4()],h,h[11],a,h[_+1]=function Eb(a,o){return null==a||("string"==typeof o?a+=o:"object"==typeof a&&(a=m1(_n(a)))),a}(o,u),d,_)}function zp(a,o){return o>=a.expandoStartIndex}function Sp(a,o,u,d){const h=a.data;if(null===h[u+1]){const m=h[p4()],_=zp(a,u);Tp(m,d)&&null===o&&!_&&(o=!1),o=function Vp(a,o,u,d){const h=f5(a);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=cs(u=hl(null,a,o,u,d),o.attrs,d),m=null);else{const _=o.directiveStylingLast;if(-1===_||a[_]!==h)if(u=hl(h,a,o,u,d),null===m){let w=function Sb(a,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==Xn(d))return a[Ln(d)]}(a,o,d);void 0!==w&&Array.isArray(w)&&(w=hl(null,a,o,w[1],d),w=cs(w,o.attrs,d),function Hp(a,o,u,d){a[Ln(u?o.classBindings:o.styleBindings)]=d}(a,o,d,w))}else m=function Vb(a,o,u){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=cs(d,a[m].hostAttrs,u);return cs(d,o.attrs,u)}(a,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),u}(h,m,o,d),function vb(a,o,u,d,h,m){let _=m?o.classBindings:o.styleBindings,L=Ln(_),w=Xn(_);a[d]=u;let H,V=!1;if(Array.isArray(u)){const R=u;H=R[1],(null===H||pn(R,H)>0)&&(V=!0)}else H=u;if(h)if(0!==w){const K=Ln(a[L+1]);a[d+1]=xo(K,L),0!==K&&(a[K+1]=hc(a[K+1],d)),a[L+1]=function Uh(a,o){return 131071&a|o<<17}(a[L+1],d)}else a[d+1]=xo(L,0),0!==L&&(a[L+1]=hc(a[L+1],d)),L=d;else a[d+1]=xo(w,0),0===L?L=d:a[w+1]=hc(a[w+1],d),w=d;V&&(a[d+1]=dc(a[d+1])),yp(a,H,d,!0),yp(a,H,d,!1),function yb(a,o,u,d,h){const m=h?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof o&&pn(m,o)>=0&&(u[d+1]=pc(u[d+1]))}(o,H,a,d,m),_=xo(L,w),m?o.classBindings=_:o.styleBindings=_}(h,m,o,u,_,d)}}function hl(a,o,u,d,h){let m=null;const _=u.directiveEnd;let L=u.directiveStylingLast;for(-1===L?L=u.directiveStart:L++;L<_&&(m=o[L],d=cs(d,m.hostAttrs,h),m!==a);)L++;return null!==a&&(u.directiveStylingLast=L),d}function cs(a,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const _=o[m];"number"==typeof _?h=_:h===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),O3(a,_,!!u||o[++m]))}return void 0===a?null:a}function Ap(a,o,u,d,h,m,_,L){if(!(3&o.type))return;const w=a.data,V=w[L+1];Zo(function Cc(a){return 1==(1&a)}(V)?Ep(w,o,u,h,Xn(V),_):void 0)||(Zo(m)||function Bh(a){return 2==(2&a)}(V)&&(m=Ep(w,null,u,h,L,_)),function EM(a,o,u,d,h){const m=Ee(a);if(o)h?m?a.addClass(u,d):u.classList.add(d):m?a.removeClass(u,d):u.classList.remove(d);else{let _=-1===d.indexOf("-")?void 0:z.DashCase;if(null==h)m?a.removeStyle(u,d,_):u.style.removeProperty(d);else{const L="string"==typeof h&&h.endsWith("!important");L&&(h=h.slice(0,-10),_|=z.Important),m?a.setStyle(u,d,h,_):u.style.setProperty(d,h,L?"important":"")}}}(d,_,un(p4(),u),h,m))}function Ep(a,o,u,d,h,m){const _=null===o;let L;for(;h>0;){const w=a[h],V=Array.isArray(w),H=V?w[1]:w,R=null===H;let K=u[h+1];K===W2&&(K=R?F:void 0);let r1=R?M5(K,d):H===d?K:void 0;if(V&&!Zo(r1)&&(r1=M5(w,d)),Zo(r1)&&(L=r1,_))return L;const E1=a[h+1];h=_?Ln(E1):Xn(E1)}if(null!==o){let w=m?o.residualClasses:o.residualStyles;null!=w&&(L=M5(w,d))}return L}function Zo(a){return void 0!==a}function Tp(a,o){return 0!=(a.flags&(o?16:32))}function Dp(a,o=""){const u=N1(),d=B2(),h=a+20,m=d.firstCreatePass?Qr(d,h,1,o,null):d.data[h],_=u[h]=function $r(a,o){return Ee(a)?a.createText(o):a.createTextNode(o)}(u[11],o);Mo(d,u,_,m),gt(m,!1)}function pl(a){return Ko("",a,""),pl}function Ko(a,o,u){const d=N1(),h=ai(d,a,o,u);return h!==W2&&t6(d,p4(),h),Ko}function ml(a,o,u,d,h){const m=N1(),_=oi(m,a,o,u,d,h);return _!==W2&&t6(m,p4(),_),ml}function Ll(a,o,u){const d=N1();return z4(d,u5(),o)&&ot(B2(),r3(),d,a,o,d[11],u,!0),Ll}function Yo(a,o,u){const d=N1();if(z4(d,u5(),o)){const m=B2(),_=r3();ot(m,_,d,a,o,function fC(a,o,u){return(null===a||O4(a))&&(u=function f8(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[o.index])),u[11]}(f5(m.data),_,d),u,!0)}return Yo}const R8=void 0;var Gb=["en",[["a","p"],["AM","PM"],R8],[["AM","PM"],R8,R8],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],R8,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],R8,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",R8,"{1} 'at' {0}",R8],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Jp(a){const u=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let P8={};function Qo(a){const o=function qb(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=Xp(o);if(u)return u;const d=o.split("-")[0];if(u=Xp(d),u)return u;if("en"===d)return Gb;throw new Error(`Missing locale data for the locale "${a}".`)}function bl(a){return Qo(a)[I2.PluralCase]}function Xp(a){return a in P8||(P8[a]=q2.ng&&q2.ng.common&&q2.ng.common.locales&&q2.ng.common.locales[a]),P8[a]}var I2=(()=>((I2=I2||{})[I2.LocaleId=0]="LocaleId",I2[I2.DayPeriodsFormat=1]="DayPeriodsFormat",I2[I2.DayPeriodsStandalone=2]="DayPeriodsStandalone",I2[I2.DaysFormat=3]="DaysFormat",I2[I2.DaysStandalone=4]="DaysStandalone",I2[I2.MonthsFormat=5]="MonthsFormat",I2[I2.MonthsStandalone=6]="MonthsStandalone",I2[I2.Eras=7]="Eras",I2[I2.FirstDayOfWeek=8]="FirstDayOfWeek",I2[I2.WeekendRange=9]="WeekendRange",I2[I2.DateFormat=10]="DateFormat",I2[I2.TimeFormat=11]="TimeFormat",I2[I2.DateTimeFormat=12]="DateTimeFormat",I2[I2.NumberSymbols=13]="NumberSymbols",I2[I2.NumberFormats=14]="NumberFormats",I2[I2.CurrencyCode=15]="CurrencyCode",I2[I2.CurrencySymbol=16]="CurrencySymbol",I2[I2.CurrencyName=17]="CurrencyName",I2[I2.Currencies=18]="Currencies",I2[I2.Directionality=19]="Directionality",I2[I2.PluralCase=20]="PluralCase",I2[I2.ExtraData=21]="ExtraData",I2))();const Jo="en-US";let nm=Jo;function Tl(a,o,u,d,h){if(a=o1(a),Array.isArray(a))for(let m=0;m<a.length;m++)Tl(a[m],o,u,d,h);else{const m=B2(),_=N1();let L=I8(a)?a:o1(a.provide),w=Uc(a);const V=De(),H=1048575&V.providerIndexes,R=V.directiveStart,K=V.providerIndexes>>20;if(I8(a)||!a.multi){const r1=new zr(w,h,as),E1=Il(L,o,h?H:H+K,R);-1===E1?(Gn(Ge(V,_),m,L),Dl(m,a,o.length),o.push(L),V.directiveStart++,V.directiveEnd++,h&&(V.providerIndexes+=1048576),u.push(r1),_.push(r1)):(u[E1]=r1,_[E1]=r1)}else{const r1=Il(L,o,H+K,R),E1=Il(L,o,H,H+K),K1=r1>=0&&u[r1],r2=E1>=0&&u[E1];if(h&&!r2||!h&&!K1){Gn(Ge(V,_),m,L);const C2=function Tx(a,o,u,d,h){const m=new zr(a,u,as);return m.multi=[],m.index=o,m.componentProviders=0,Em(m,h,d&&!u),m}(h?Ex:Ax,u.length,h,d,w);!h&&r2&&(u[E1].providerFactory=C2),Dl(m,a,o.length,0),o.push(L),V.directiveStart++,V.directiveEnd++,h&&(V.providerIndexes+=1048576),u.push(C2),_.push(C2)}else Dl(m,a,r1>-1?r1:E1,Em(u[h?E1:r1],w,!h&&d));!h&&d&&r2&&u[E1].componentProviders++}}}function Dl(a,o,u,d){const h=I8(o),m=function IL(a){return!!a.useClass}(o);if(h||m){const w=(m?o1(o.useClass):o).prototype.ngOnDestroy;if(w){const V=a.destroyHooks||(a.destroyHooks=[]);if(!h&&o.multi){const H=V.indexOf(u);-1===H?V.push(u,[d,w]):V[H+1].push(d,w)}else V.push(u,w)}}}function Em(a,o,u){return u&&a.componentProviders++,a.multi.push(o)-1}function Il(a,o,u,d){for(let h=u;h<d;h++)if(o[h]===a)return h;return-1}function Ax(a,o,u,d){return Nl(this.multi,[])}function Ex(a,o,u,d){const h=this.multi;let m;if(this.providerFactory){const _=this.providerFactory.componentProviders,L=g5(u,u[1],this.providerFactory.index,d);m=L.slice(0,_),Nl(h,m);for(let w=_;w<L.length;w++)m.push(L[w])}else m=[],Nl(h,m);return m}function Nl(a,o){for(let u=0;u<a.length;u++)o.push((0,a[u])());return o}function Tm(a,o=[]){return u=>{u.providersResolver=(d,h)=>function Hx(a,o,u){const d=B2();if(d.firstCreatePass){const h=O4(a);Tl(u,d.data,d.blueprint,h,!0),Tl(o,d.data,d.blueprint,h,!1)}}(d,h?h(a):a,o)}}class Dm{}class km{resolveComponentFactory(o){throw function Im(a){const o=Error(`No component factory found for ${m1(a)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=a,o}(o)}}let r7=(()=>{class a{}return a.NULL=new km,a})();function Ix(){return pi(De(),N1())}function pi(a,o){return new Cs(i4(a,o))}let Cs=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Ix,a})();function Rm(a){return a instanceof Cs?a.nativeElement:a}class Pm{}let Nx=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function kx(){const a=N1(),u=I(De().index,a);return function Fm(a){return a[11]}(R3(u)?u:a)}(),a})(),Rx=(()=>{class a{}return a.\u0275prov=ie({token:a,providedIn:"root",factory:()=>null}),a})();class Om{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Bm=new Om("13.3.6"),kl={};function i7(a,o,u,d,h=!1){for(;null!==u;){const m=o[u.index];if(null!==m&&d.push(ae(m)),M4(m))for(let L=10;L<m.length;L++){const w=m[L],V=w[1].firstChild;null!==V&&i7(w[1],w,V,d)}const _=u.type;if(8&_)i7(a,o,u.child,d);else if(32&_){const L=X(u,o);let w;for(;w=L();)d.push(w)}else if(16&_){const L=Th(o,u);if(Array.isArray(L))d.push(...L);else{const w=l2(o[16]);i7(w[1],w,L,d,!0)}}u=h?u.projectionNext:u.next}return d}class ps{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return i7(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(M4(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(nc(o,d),D6(u,d))}this._attachedToViewContainer=!1}rc(this._lView[1],this._lView)}onDestroy(o){bc(this._lView[1],this._lView,null,o)}markForCheck(){Tc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function lC(a,o,u){Lr(!0);try{Dc(a,o,u)}finally{Lr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new O1(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Y0(a,o){Lo(a,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new O1(902,"");this._appRef=o}}class Px extends ps{constructor(o){super(o),this._view=o}detectChanges(){cC(this._view)}checkNoChanges(){!function bL(a){Lr(!0);try{cC(a)}finally{Lr(!1)}}(this._view)}get context(){return null}}class Um extends r7{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=_e(o);return new Rl(u,this.ngModule)}}function Gm(a){const o=[];for(let u in a)a.hasOwnProperty(u)&&o.push({propName:a[u],templateName:u});return o}class Rl extends Dm{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function BM(a){return a.map(OM).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Gm(this.componentDef.inputs)}get outputs(){return Gm(this.componentDef.outputs)}create(o,u,d,h){const m=(h=h||this.ngModule)?function Ox(a,o){return{get:(u,d,h)=>{const m=a.get(u,kl,h);return m!==kl||d===kl?m:o.get(u,d,h)}}}(o,h.injector):o,_=m.get(Pm,rt),L=m.get(Rx,null),w=_.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",H=d?function tC(a,o,u){if(Ee(a))return a.selectRootElement(o,u===Z2.ShadowDom);let d="string"==typeof o?a.querySelector(o):o;return d.textContent="",d}(w,d,this.componentDef.encapsulation):Zr(_.createRenderer(null,this.componentDef),V,function Fx(a){const o=a.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(V)),R=this.componentDef.onPush?576:528,K=function EC(a,o){return{components:[],scheduler:a||ec,clean:wL,playerHandler:o||null,flags:0}}(),r1=To(0,null,null,1,0,null,null,null,null,null),E1=es(null,r1,K,R,null,null,_,w,L,m);let K1,r2;d5(E1);try{const C2=function HC(a,o,u,d,h,m){const _=u[1];u[20]=a;const w=Qr(_,20,2,"#host",null),V=w.mergedAttrs=o.hostAttrs;null!==V&&(No(w,V,!0),null!==a&&(b2(h,a,V),null!==w.classes&&fc(h,a,w.classes),null!==w.styles&&Dh(h,a,w.styles)));const H=d.createRenderer(a,o),R=es(u,Jh(o),null,o.onPush?64:16,u[20],w,d,H,m||null,null);return _.firstCreatePass&&(Gn(Ge(w,u),_,o.type),iC(_,w),sC(w,u.length,1)),Do(u,R),u[20]=R}(H,this.componentDef,E1,_,w);if(H)if(d)b2(w,H,["ng-version",Bm.full]);else{const{attrs:R1,classes:H2}=function UM(a){const o=[],u=[];let d=1,h=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===h?""!==m&&o.push(m,a[++d]):8===h&&u.push(m);else{if(!tn(h))break;h=m}d++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);R1&&b2(w,H,R1),H2&&H2.length>0&&fc(w,H,H2.join(" "))}if(r2=L6(r1,20),void 0!==u){const R1=r2.projection=[];for(let H2=0;H2<this.ngContentSelectors.length;H2++){const ce=u[H2];R1.push(null!=ce?Array.from(ce):null)}}K1=function AC(a,o,u,d,h){const m=u[1],_=function rC(a,o,u){const d=De();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),aC(a,d,o,Xr(a,o,1,null),u));const h=g5(o,a,d.directiveStart,d);B3(h,o);const m=i4(d,o);return m&&B3(m,o),h}(m,u,o);if(d.components.push(_),a[8]=_,h&&h.forEach(w=>w(_,o)),o.contentQueries){const w=De();o.contentQueries(1,_,w.directiveStart)}const L=De();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Kt(L.index),zc(u[1],L,0,L.directiveStart,L.directiveEnd,o),Sc(o,_)),_}(C2,this.componentDef,E1,K,[TC]),ts(r1,E1,null)}finally{m8()}return new Pl(this.componentType,K1,pi(r2,E1),E1,r2)}}class Pl extends class Dx{}{constructor(o,u,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new Px(h),this.componentType=o}get injector(){return new V6(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class mi{}class Fl{}const gi=new Map;class Bl extends mi{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Um(this);const d=qe(o);this._bootstrapComponents=wt(d.bootstrap),this._r3Injector=Bc(o,u,[{provide:mi,useValue:this},{provide:r7,useValue:this.componentFactoryResolver}],m1(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=n6.THROW_IF_NOT_FOUND,d=z2.Default){return o===n6||o===mi||o===kc?this:this._r3Injector.get(o,u,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ul extends Fl{constructor(o){super(),this.moduleType=o,null!==qe(o)&&function Gx(a){const o=new Set;!function u(d){const h=qe(d,!0),m=h.id;null!==m&&(function jm(a,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${a} - ${m1(o)} vs ${m1(o.name)}`)}(m,gi.get(m),d),gi.set(m,d));const _=wt(h.imports);for(const L of _)o.has(L)||(o.add(L),u(L))}(a)}(o)}create(o){return new Bl(this.moduleType,o)}}function qm(a,o,u,d,h){return Zm(N1(),F3(),a,o,u,d,h)}function jl(a,o,u,d,h,m){return function Km(a,o,u,d,h,m,_,L){const w=o+u;return function Ro(a,o,u,d,h){const m=N8(a,o,u,d);return z4(a,o+2,h)||m}(a,w,h,m,_)?r6(a,w+3,L?d.call(L,h,m,_):d(h,m,_)):ms(a,w+3)}(N1(),F3(),a,o,u,d,h,m)}function ms(a,o){const u=a[o];return u===W2?void 0:u}function Zm(a,o,u,d,h,m,_){const L=o+u;return N8(a,L,h,m)?r6(a,L+2,_?d.call(_,h,m):d(h,m)):ms(a,L+2)}function Qm(a,o){const u=B2();let d;const h=a+20;u.firstCreatePass?(d=function Yx(a,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(a===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const m=d.factory||(d.factory=r4(d.type)),_=Ie(as);try{const L=yt(!1),w=m();return yt(L),function YL(a,o,u,d){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),o[u]=d}(u,N1(),h,w),w}finally{Ie(_)}}function Jm(a,o,u){const d=a+20,h=N1(),m=k(h,d);return O5(h,d)?function Wm(a,o,u,d,h,m){const _=o+u;return z4(a,_,h)?r6(a,_+1,m?d.call(m,h):d(h)):ms(a,_+1)}(h,F3(),o,m.transform,u,m):m.transform(u)}function ql(a,o,u,d){const h=a+20,m=N1(),_=k(m,h);return O5(m,h)?Zm(m,F3(),o,_.transform,u,d,_):_.transform(u,d)}function O5(a,o){return a[1].data[o].pure}function $l(a){return o=>{setTimeout(a,void 0,o)}}const o6=class Xx extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){var h,m,_;let L=o,w=u||(()=>null),V=d;if(o&&"object"==typeof o){const R=o;L=null===(h=R.next)||void 0===h?void 0:h.bind(R),w=null===(m=R.error)||void 0===m?void 0:m.bind(R),V=null===(_=R.complete)||void 0===_?void 0:_.bind(R)}this.__isAsync&&(w=$l(w),L&&(L=$l(L)),V&&(V=$l(V)));const H=super.subscribe({next:L,error:w,complete:V});return o instanceof e1.w0&&o.add(H),H}};function eg(){return this._results[ri()]()}class Wl{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ri(),d=Wl.prototype;d[u]||(d[u]=eg)}get changes(){return this._changes||(this._changes=new o6)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=st(o);(this._changesDetected=!function M0(a,o,u){if(a.length!==o.length)return!1;for(let d=0;d<a.length;d++){let h=a[d],m=o[d];if(u&&(h=u(h),m=u(m)),m!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let vi=(()=>{class a{}return a.__NG_ELEMENT_ID__=tw,a})();const ew=vi,tg=class extends ew{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o){const u=this._declarationTContainer.tViews,d=es(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(u)),ts(u,d,o),new ps(d)}};function tw(){return s7(De(),N1())}function s7(a,o){return 4&a.type?new tg(o,a,pi(a,o)):null}let a7=(()=>{class a{}return a.__NG_ELEMENT_ID__=nw,a})();function nw(){return vs(De(),N1())}const ng=a7,rg=class extends ng{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return pi(this._hostTNode,this._hostLView)}get injector(){return new V6(this._hostTNode,this._hostLView)}get parentInjector(){const o=Un(this._hostTNode,this._hostLView);if(Ra(o)){const u=Ue(o,this._hostLView),d=Yt(o);return new V6(u[1].data[d+8],u)}return new V6(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Zl(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,d){const h=o.createEmbeddedView(u||{});return this.insert(h,d),h}createComponent(o,u,d,h,m){const _=o&&!function T6(a){return"function"==typeof a}(o);let L;if(_)L=u;else{const R=u||{};L=R.index,d=R.injector,h=R.projectableNodes,m=R.ngModuleRef}const w=_?o:new Rl(_e(o)),V=d||this.parentInjector;if(!m&&null==w.ngModule){const K=(_?V:this.parentInjector).get(mi,null);K&&(m=K)}const H=w.create(V,h,void 0,m);return this.insert(H.hostView,L),H}insert(o,u){const d=o._lView,h=d[1];if(function $1(a){return M4(a[3])}(d)){const H=this.indexOf(o);if(-1!==H)this.detach(H);else{const R=d[3],K=new rg(R,R[6],R[3]);K.detach(K.indexOf(o))}}const m=this._adjustIndex(u),_=this._lContainer;!function $6(a,o,u,d){const h=10+d,m=u.length;d>0&&(u[h-1][4]=o),d<m-10?(o[4]=u[h],_5(u,10+d,o)):(u.push(o),o[4]=null),o[3]=u;const _=o[17];null!==_&&u!==_&&function R5(a,o){const u=a[9];o[16]!==o[3][3][16]&&(a[2]=!0),null===u?a[9]=[o]:u.push(o)}(_,o);const L=o[19];null!==L&&L.insertView(a),o[2]|=128}(h,d,_,m);const L=cc(m,_),w=d[11],V=P5(w,_[7]);return null!==V&&function K0(a,o,u,d,h,m){d[0]=h,d[6]=o,Lo(a,d,u,1,h,m)}(h,_[6],w,d,V,L),o.attachToViewContainerRef(),_5(Kl(_),m,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Zl(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=nc(this._lContainer,u);d&&(D6(Kl(this._lContainer),u),rc(d[1],d))}detach(o){const u=this._adjustIndex(o,-1),d=nc(this._lContainer,u);return d&&null!=D6(Kl(this._lContainer),u)?new ps(d):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function Zl(a){return a[8]}function Kl(a){return a[8]||(a[8]=[])}function vs(a,o){let u;const d=o[a.index];if(M4(d))u=d;else{let h;if(8&a.type)h=ae(d);else{const m=o[11];h=m.createComment("");const _=i4(a,o);zt(m,P5(m,_),h,function VM(a,o){return Ee(a)?a.nextSibling(o):o.nextSibling}(m,_),!1)}o[a.index]=u=Ac(d,o,h,a),Do(o,u)}return new rg(u,a,o)}class o7{constructor(o){this.queryList=o,this.matches=null}clone(){return new o7(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yl{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let m=0;m<d;m++){const _=u.getByIndex(m);h.push(this.queries[_.indexInDeclarationView].clone())}return new Yl(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==nu(o,u).matches&&this.queries[u].setDirty()}}class ig{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class Ql{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new Ql(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Jl{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Jl(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,u,Xl(u,m)),this.matchTNodeWithReadOption(o,u,Qt(u,o,m,!1,!1))}else d===vi?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Qt(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Cs||h===a7||h===vi&&4&u.type)this.addMatch(u.index,-2);else{const m=Qt(u,o,h,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function Xl(a,o){const u=a.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function aw(a,o,u,d){return-1===u?function sw(a,o){return 11&a.type?pi(a,o):4&a.type?s7(a,o):null}(o,a):-2===u?function ow(a,o,u){return u===Cs?pi(o,a):u===vi?s7(o,a):u===a7?vs(o,a):void 0}(a,o,d):g5(a,a[1],u,o)}function sg(a,o,u,d){const h=o[19].queries[d];if(null===h.matches){const m=a.data,_=u.matches,L=[];for(let w=0;w<_.length;w+=2){const V=_[w];L.push(V<0?null:aw(o,m[V],_[w+1],u.metadata.read))}h.matches=L}return h.matches}function eu(a,o,u,d){const h=a.queries.getByIndex(u),m=h.matches;if(null!==m){const _=sg(a,o,h,u);for(let L=0;L<m.length;L+=2){const w=m[L];if(w>0)d.push(_[L/2]);else{const V=m[L+1],H=o[-w];for(let R=10;R<H.length;R++){const K=H[R];K[17]===K[3]&&eu(K[1],K,V,d)}if(null!==H[9]){const R=H[9];for(let K=0;K<R.length;K++){const r1=R[K];eu(r1[1],r1,V,d)}}}}}return d}function ag(a){const o=N1(),u=B2(),d=V9();p8(d+1);const h=nu(u,d);if(a.dirty&&J(o)===(2==(2&h.metadata.flags))){if(null===h.matches)a.reset([]);else{const m=h.crossesNgTemplate?eu(u,o,d,[]):sg(u,o,h,d);a.reset(m,Rm),a.notifyOnChanges()}return!0}return!1}function og(a,o,u,d){const h=B2();if(h.firstCreatePass){const m=De();(function fg(a,o,u){null===a.queries&&(a.queries=new Ql),a.queries.track(new Jl(o,u))})(h,new ig(o,u,d),m.index),function cw(a,o){const u=a.contentQueries||(a.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,o)}(h,a),2==(2&u)&&(h.staticContentQueries=!0)}!function ug(a,o,u){const d=new Wl(4==(4&u));bc(a,o,d,d.destroy),null===o[19]&&(o[19]=new Yl),o[19].queries.push(new o7(d))}(h,N1(),u)}function cg(){return function lg(a,o){return a[19].queries[o].queryList}(N1(),V9())}function nu(a,o){return a.queries.getByIndex(o)}const xw=A6("Input",a=>({bindingPropertyName:a})),zg=A6("Output",a=>({bindingPropertyName:a}));function _s(...a){}const Cu=new je("Application Initializer");let pu=(()=>{class a{constructor(u){this.appInits=u,this.resolve=_s,this.reject=_s,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(nl(m))u.push(m);else if(op(m)){const _=new Promise((L,w)=>{m.subscribe({complete:L,error:w})});u.push(_)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(u3(Cu,8))},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const mu=new je("AppId",{providedIn:"root",factory:function Sg(){return`${gu()}${gu()}${gu()}`}});function gu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vu=new je("Platform Initializer"),Sw=new je("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yu=new je("appBootstrapListener");let Vg=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const h7=new je("LocaleId",{providedIn:"root",factory:()=>Xt(h7,z2.Optional|z2.SkipSelf)||function Vw(){return"undefined"!=typeof $localize&&$localize.locale||Jo}()}),Hw=new je("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Aw{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let Ew=(()=>{class a{compileModuleSync(u){return new Ul(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=wt(qe(u).declarations).reduce((_,L)=>{const w=_e(L);return w&&_.push(new Rl(w)),_},[]);return new Aw(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Tw=(()=>Promise.resolve(0))();function _u(a){"undefined"==typeof Zone?Tw.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class wn{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new o6(!1),this.onMicrotaskEmpty=new o6(!1),this.onStable=new o6(!1),this.onError=new o6(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Ag(){let a=q2.requestAnimationFrame,o=q2.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&o){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Iw(a){const o=()=>{!function Dw(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(q2,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Lu(a),a.isCheckStableRunning=!0,Mu(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Lu(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,m,_,L)=>{try{return Tg(a),u.invokeTask(h,m,_,L)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&o(),Dg(a)}},onInvoke:(u,d,h,m,_,L,w)=>{try{return Tg(a),u.invoke(h,m,_,L,w)}finally{a.shouldCoalesceRunChangeDetection&&o(),Dg(a)}},onHasTask:(u,d,h,m)=>{u.hasTask(h,m),d===h&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Lu(a),Mu(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,h,m)=>(u.handleError(h,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(wn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const m=this._inner,_=m.scheduleEventTask("NgZoneEvent: "+h,o,Eg,_s,_s);try{return m.runTask(_,u,d)}finally{m.cancelTask(_)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const Eg={};function Mu(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Lu(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Tg(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Dg(a){a._nesting--,Mu(a)}class Nw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new o6,this.onMicrotaskEmpty=new o6,this.onStable=new o6,this.onError=new o6}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}let Ig=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wn.assertNotInAngularZone(),_u(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_u(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,h){return[]}}return a.\u0275fac=function(u){return new(u||a)(u3(wn))},a.\u0275prov=ie({token:a,factory:a.\u0275fac}),a})(),kw=(()=>{class a{constructor(){this._applications=new Map,bu.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return bu.findTestabilityInTree(this,u,d)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class Rw{addToWindow(o){}findTestabilityInTree(o,u,d){return null}}function Pw(a){bu=a}let bu=new Rw,B5=null;const Ng=new je("AllowMultipleToken"),kg=new je("PlatformOnDestroy");class Ow{constructor(o,u){this.name=o,this.token=u}}function Pg(a,o,u=[]){const d=`Platform: ${o}`,h=new je(d);return(m=[])=>{let _=C7();if(!_||_.injector.get(Ng,!1)){const L=[...u,...m,{provide:h,useValue:!0}];a?a(L):function xu(a){if(B5&&!B5.get(Ng,!1))throw new O1(400,"");B5=a;const o=a.get(Fg),u=a.get(vu,null);u&&u.forEach(d=>d())}(function Uw(a=[],o){return n6.create({name:o,providers:[{provide:Pc,useValue:"platform"},{provide:kg,useValue:()=>B5=null},...a]})}(L,d))}return function Bw(a){const o=C7();if(!o)throw new O1(401,"");return o}()}}function C7(){var a;return null!==(a=null==B5?void 0:B5.get(Fg))&&void 0!==a?a:null}let Fg=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const L=function Gw(a,o){let u;return u="noop"===a?new Nw:("zone.js"===a?void 0:a)||new wn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),w=[{provide:wn,useValue:L}];return L.run(()=>{const V=n6.create({providers:w,parent:this.injector,name:u.moduleType.name}),H=u.create(V),R=H.injector.get(qr,null);if(!R)throw new O1(402,"");return L.runOutsideAngular(()=>{const K=L.onError.subscribe({next:r1=>{R.handleError(r1)}});H.onDestroy(()=>{zu(this._modules,H),K.unsubscribe()})}),function jw(a,o,u){try{const d=u();return nl(d)?d.catch(h=>{throw o.runOutsideAngular(()=>a.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>a.handleError(d)),d}}(R,L,()=>{const K=H.injector.get(pu);return K.runInitializers(),K.donePromise.then(()=>(function rm(a){o2(a,"Expected localeId to be defined"),"string"==typeof a&&(nm=a.toLowerCase().replace(/_/g,"-"))}(H.injector.get(h7,Jo)||Jo),this._moduleDoBootstrap(H),H))})})}bootstrapModule(u,d=[]){const h=Og({},d);return function Rg(a,o,u){const d=new Ul(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(u){const d=u.injector.get(wu);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new O1(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O1(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(kg,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(u3(n6))},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Og(a,o){return Array.isArray(o)?o.reduce(Og,a):Object.assign(Object.assign({},a),o)}let wu=(()=>{class a{constructor(u,d,h,m){this._zone=u,this._injector=d,this._exceptionHandler=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new P.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),L=new P.y(w=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{wn.assertNotInAngularZone(),_u(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{wn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{V.unsubscribe(),H.unsubscribe()}});this.isStable=(0,f1.T)(_,L.pipe((0,p1.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new O1(405,"");let h;h=u instanceof Dm?u:this._injector.get(r7).resolveComponentFactory(u),this.componentTypes.push(h.componentType);const m=function Fw(a){return a.isBoundToModule}(h)?void 0:this._injector.get(mi),L=h.create(n6.NULL,[],d||h.selector,m),w=L.location.nativeElement,V=L.injector.get(Ig,null),H=V&&L.injector.get(kw);return V&&H&&H.registerApplication(w,V),L.onDestroy(()=>{this.detachView(L.hostView),zu(this.components,L),H&&H.unregisterApplication(w)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new O1(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;zu(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(yu,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(u3(wn),u3(n6),u3(qr),u3(pu))},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function zu(a,o){const u=a.indexOf(o);u>-1&&a.splice(u,1)}let Bg=!0,Vu=!1;function $w(){return Vu=!0,Bg}function Ww(){if(Vu)throw new Error("Cannot enable prod mode after platform setup.");Bg=!1}let Gg=(()=>{class a{}return a.__NG_ELEMENT_ID__=Zw,a})();function Zw(a){return function Kw(a,o,u){if(s8(a)&&!u){const d=I(a.index,o);return new ps(d,d)}return 47&a.type?new ps(o[16],o):null}(De(),N1(),16==(16&a))}class $g{constructor(){}supports(o){return ss(o)}create(o){return new rz(o)}}const nz=(a,o)=>o;class rz{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||nz}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,m=null;for(;u||d;){const _=!d||u&&u.currentIndex<Zg(d,h,m)?u:d,L=Zg(_,h,m),w=_.currentIndex;if(_===d)h--,d=d._nextRemoved;else if(u=u._next,null==_.previousIndex)h++;else{m||(m=[]);const V=L-h,H=w-h;if(V!=H){for(let K=0;K<V;K++){const r1=K<m.length?m[K]:m[K]=0,E1=r1+K;H<=E1&&E1<V&&(m[K]=r1+1)}m[_.previousIndex]=H-V}}L!==w&&o(_,L,w)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!ss(o))throw new O1(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,_,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let L=0;L<this.length;L++)m=o[L],_=this._trackByFn(L,m),null!==u&&Object.is(u.trackById,_)?(d&&(u=this._verifyReinsertion(u,m,_,L)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,_,L),d=!0),u=u._next}else h=0,function ZL(a,o){if(Array.isArray(a))for(let u=0;u<a.length;u++)o(a[u]);else{const u=a[ri()]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,L=>{_=this._trackByFn(h,L),null!==u&&Object.is(u.trackById,_)?(d&&(u=this._verifyReinsertion(u,L,_,h)),Object.is(u.item,L)||this._addIdentityChange(u,L)):(u=this._mismatch(u,L,_,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,m,h)):o=this._addAfter(new iz(u,d),m,h),o}_verifyReinsertion(o,u,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Wg),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wg),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class iz{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tu{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class Wg{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new Tu,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zg(a,o,u){const d=a.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class Du{constructor(){}supports(o){return o instanceof Map||ko(o)}create(){return new sz}}class sz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||ko(o)))throw new O1(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const m=h._prev,_=h._next;return m&&(m._next=_),_&&(_._prev=m),h._next=null,h._prev=null,h}const d=new az(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class az{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Iu(){return new Nu([new $g])}let Nu=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||Iu()),deps:[[a,new N6,new Kn]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new O1(901,"")}}return a.\u0275prov=ie({token:a,providedIn:"root",factory:Iu}),a})();function Kg(){return new ku([new Du])}let ku=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||Kg()),deps:[[a,new N6,new Kn]]}}find(u){const d=this.factories.find(m=>m.supports(u));if(d)return d;throw new O1(901,"")}}return a.\u0275prov=ie({token:a,providedIn:"root",factory:Kg}),a})();const lz=Pg(null,"core",[]);let uz=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(u3(wu))},a.\u0275mod=D2({type:a}),a.\u0275inj=F2({}),a})()},579:(a2,x1,T)=>{T.d(x1,{EI:()=>Y,Gb:()=>q2,Iv:()=>Ke,Kz:()=>Q,Xd:()=>z2,lT:()=>t3,xP:()=>F});var c=T(5861),e1=T(9681),P=T(1877),f1=T(2090),p1=T(4859);T(2833);const c1="analytics",m1="firebase_id",q="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",o1="https://www.googletagmanager.com/gtag/js",G1=new P.Yd("@firebase/analytics");function z1(G){return Promise.all(G.map(s1=>s1.catch(y1=>y1)))}function O1(G,s1){const y1=document.createElement("script");y1.src=`${o1}?l=${G}&id=${s1}`,y1.async=!0,document.head.appendChild(y1)}function g1(G,s1,y1,k1,Z1,j1){return S1.apply(this,arguments)}function S1(){return(S1=(0,c.Z)(function*(G,s1,y1,k1,Z1,j1){const p2=k1[Z1];try{if(p2)yield s1[p2];else{const pe=(yield z1(y1)).find(se=>se.measurementId===Z1);pe&&(yield s1[pe.appId])}}catch(D2){G1.error(D2)}G("config",Z1,j1)})).apply(this,arguments)}function c2(G,s1,y1,k1,Z1){return t2.apply(this,arguments)}function t2(){return(t2=(0,c.Z)(function*(G,s1,y1,k1,Z1){try{let j1=[];if(Z1&&Z1.send_to){let p2=Z1.send_to;Array.isArray(p2)||(p2=[p2]);const D2=yield z1(y1);for(const pe of p2){const se=D2.find(v4=>v4.measurementId===pe),$3=se&&s1[se.appId];if(!$3){j1=[];break}j1.push($3)}}0===j1.length&&(j1=Object.values(s1)),yield Promise.all(j1),G("event",k1,Z1||{})}catch(j1){G1.error(j1)}})).apply(this,arguments)}function A1(){const G=window.document.getElementsByTagName("script");for(const s1 of Object.values(G))if(s1.src&&s1.src.includes(o1))return s1;return null}const U1=new f1.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),h1=new class t1{constructor(s1={},y1=1e3){this.throttleMetadata=s1,this.intervalMillis=y1}getThrottleMetadata(s1){return this.throttleMetadata[s1]}setThrottleMetadata(s1,y1){this.throttleMetadata[s1]=y1}deleteThrottleMetadata(s1){delete this.throttleMetadata[s1]}};function l1(G){return new Headers({Accept:"application/json","x-goog-api-key":G})}function I1(G){return u1.apply(this,arguments)}function u1(){return(u1=(0,c.Z)(function*(G){var s1;const{appId:y1,apiKey:k1}=G,Z1={method:"GET",headers:l1(k1)},j1=q.replace("{app-id}",y1),p2=yield fetch(j1,Z1);if(200!==p2.status&&304!==p2.status){let D2="";try{const pe=yield p2.json();(null===(s1=pe.error)||void 0===s1?void 0:s1.message)&&(D2=pe.error.message)}catch(pe){}throw U1.create("config-fetch-failed",{httpStatus:p2.status,responseMessage:D2})}return p2.json()})).apply(this,arguments)}function L2(G){return k2.apply(this,arguments)}function k2(){return(k2=(0,c.Z)(function*(G,s1=h1,y1){const{appId:k1,apiKey:Z1,measurementId:j1}=G.options;if(!k1)throw U1.create("no-app-id");if(!Z1){if(j1)return{measurementId:j1,appId:k1};throw U1.create("no-api-key")}const p2=s1.getThrottleMetadata(k1)||{backoffCount:0,throttleEndTimeMillis:Date.now()},D2=new Ce;return setTimeout((0,c.Z)(function*(){D2.abort()}),void 0!==y1?y1:6e4),He({appId:k1,apiKey:Z1,measurementId:j1},p2,D2,s1)})).apply(this,arguments)}function He(G,s1,y1){return o2.apply(this,arguments)}function o2(){return(o2=(0,c.Z)(function*(G,{throttleEndTimeMillis:s1,backoffCount:y1},k1,Z1=h1){const{appId:j1,measurementId:p2}=G;try{yield w2(k1,s1)}catch(D2){if(p2)return G1.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p2} provided in the "measurementId" field in the local Firebase config. [${D2.message}]`),{appId:j1,measurementId:p2};throw D2}try{const D2=yield I1(G);return Z1.deleteThrottleMetadata(j1),D2}catch(D2){if(!Le(D2)){if(Z1.deleteThrottleMetadata(j1),p2)return G1.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p2} provided in the "measurementId" field in the local Firebase config. [${D2.message}]`),{appId:j1,measurementId:p2};throw D2}const pe=503===Number(D2.customData.httpStatus)?(0,f1.$s)(y1,Z1.intervalMillis,30):(0,f1.$s)(y1,Z1.intervalMillis),se={throttleEndTimeMillis:Date.now()+pe,backoffCount:y1+1};return Z1.setThrottleMetadata(j1,se),G1.debug(`Calling attemptFetch again in ${pe} millis`),He(G,se,k1,Z1)}})).apply(this,arguments)}function w2(G,s1){return new Promise((y1,k1)=>{const Z1=Math.max(s1-Date.now(),0),j1=setTimeout(y1,Z1);G.addEventListener(()=>{clearTimeout(j1),k1(U1.create("fetch-throttle",{throttleEndTimeMillis:s1}))})})}function Le(G){if(!(G instanceof f1.ZR&&G.customData))return!1;const s1=Number(G.customData.httpStatus);return 429===s1||500===s1||503===s1||504===s1}class Ce{constructor(){this.listeners=[]}addEventListener(s1){this.listeners.push(s1)}abort(){this.listeners.forEach(s1=>s1())}}function T3(){return ie.apply(this,arguments)}function ie(){return(ie=(0,c.Z)(function*(){if(!(0,f1.hl)())return G1.warn(U1.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,f1.eu)()}catch(G){return G1.warn(U1.create("indexeddb-unavailable",{errorInfo:G}).message),!1}return!0})).apply(this,arguments)}function F2(){return(F2=(0,c.Z)(function*(G,s1,y1,k1,Z1,j1,p2){var D2;const pe=L2(G);pe.then(Ae=>{y1[Ae.measurementId]=Ae.appId,G.options.measurementId&&Ae.measurementId!==G.options.measurementId&&G1.warn(`The measurement ID in the local Firebase config (${G.options.measurementId}) does not match the measurement ID fetched from the server (${Ae.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ae=>G1.error(Ae)),s1.push(pe);const se=T3().then(Ae=>{if(Ae)return k1.getId()}),[$3,v4]=yield Promise.all([pe,se]);A1()||O1(j1,$3.measurementId),Z1("js",new Date);const _e=null!==(D2=null==p2?void 0:p2.config)&&void 0!==D2?D2:{};return _e.origin="firebase",_e.update=!0,null!=v4&&(_e[m1]=v4),Z1("config",$3.measurementId,_e),$3.measurementId})).apply(this,arguments)}class R2{constructor(s1){this.app=s1}_delete(){return delete Pe[this.app.options.appId],Promise.resolve()}}let Pe={},R4=[];const l3={};let q3,b3,be="dataLayer",L3="gtag",p3=!1;function z2(G){if(p3)throw U1.create("already-initialized");G.dataLayerName&&(be=G.dataLayerName),G.gtagName&&(L3=G.gtagName)}function de(G,s1,y1){!function x3(){const G=[];if((0,f1.ru)()&&G.push("This is a browser extension environment."),(0,f1.zI)()||G.push("Cookies are not available."),G.length>0){const s1=G.map((k1,Z1)=>`(${Z1+1}) ${k1}`).join(" "),y1=U1.create("invalid-analytics-context",{errorInfo:s1});G1.warn(y1.message)}}();const k1=G.options.appId;if(!k1)throw U1.create("no-app-id");if(!G.options.apiKey){if(!G.options.measurementId)throw U1.create("no-api-key");G1.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${G.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pe[k1])throw U1.create("already-exists",{id:k1});if(!p3){!function q1(G){let s1=[];Array.isArray(window[G])?s1=window[G]:window[G]=s1}(be);const{wrappedGtag:j1,gtagCore:p2}=function V1(G,s1,y1,k1,Z1){let j1=function(...p2){window[k1].push(arguments)};return window[Z1]&&"function"==typeof window[Z1]&&(j1=window[Z1]),window[Z1]=function D1(G,s1,y1,k1){function j1(){return(j1=(0,c.Z)(function*(p2,D2,pe){try{"event"===p2?yield c2(G,s1,y1,D2,pe):"config"===p2?yield g1(G,s1,y1,k1,D2,pe):G("set",D2)}catch(se){G1.error(se)}})).apply(this,arguments)}return function Z1(p2,D2,pe){return j1.apply(this,arguments)}}(j1,G,s1,y1),{gtagCore:j1,wrappedGtag:window[Z1]}}(Pe,R4,l3,be,L3);b3=j1,q3=p2,p3=!0}return Pe[k1]=function D3(G,s1,y1,k1,Z1,j1,p2){return F2.apply(this,arguments)}(G,R4,l3,s1,q3,be,y1),new R2(G)}function e4(){return(e4=(0,c.Z)(function*(G,s1,y1,k1,Z1){if(Z1&&Z1.global)G("event",y1,k1);else{const j1=yield s1;G("event",y1,Object.assign(Object.assign({},k1),{send_to:j1}))}})).apply(this,arguments)}function Ze(){return(Ze=(0,c.Z)(function*(G,s1,y1,k1){if(k1&&k1.global)return G("set",{screen_name:y1}),Promise.resolve();G("config",yield s1,{update:!0,screen_name:y1})})).apply(this,arguments)}function N3(){return(N3=(0,c.Z)(function*(G,s1,y1,k1){if(k1&&k1.global)return G("set",{user_id:y1}),Promise.resolve();G("config",yield s1,{update:!0,user_id:y1})})).apply(this,arguments)}function Z2(){return(Z2=(0,c.Z)(function*(G,s1,y1,k1){if(k1&&k1.global){const Z1={};for(const j1 of Object.keys(y1))Z1[`user_properties.${j1}`]=y1[j1];return G("set",Z1),Promise.resolve()}G("config",yield s1,{update:!0,user_properties:y1})})).apply(this,arguments)}function y2(){return(y2=(0,c.Z)(function*(G,s1){const y1=yield G;window[`ga-disable-${y1}`]=!s1})).apply(this,arguments)}function q2(){return n4.apply(this,arguments)}function n4(){return(n4=(0,c.Z)(function*(){if((0,f1.ru)()||!(0,f1.zI)()||!(0,f1.hl)())return!1;try{return yield(0,f1.eu)()}catch(G){return!1}})).apply(this,arguments)}function t3(G,s1,y1){G=(0,f1.m9)(G),function I3(G,s1,y1,k1){return Ze.apply(this,arguments)}(b3,Pe[G.app.options.appId],s1,y1).catch(k1=>G1.error(k1))}function Ke(G,s1,y1){G=(0,f1.m9)(G),function Fe(G,s1,y1,k1){return N3.apply(this,arguments)}(b3,Pe[G.app.options.appId],s1,y1).catch(k1=>G1.error(k1))}function F(G,s1,y1){G=(0,f1.m9)(G),function C4(G,s1,y1,k1){return Z2.apply(this,arguments)}(b3,Pe[G.app.options.appId],s1,y1).catch(k1=>G1.error(k1))}function Y(G,s1){G=(0,f1.m9)(G),function d2(G,s1){return y2.apply(this,arguments)}(Pe[G.app.options.appId],s1).catch(y1=>G1.error(y1))}function Q(G,s1,y1,k1){G=(0,f1.m9)(G),function Ie(G,s1,y1,k1,Z1){return e4.apply(this,arguments)}(b3,Pe[G.app.options.appId],s1,y1,k1).catch(Z1=>G1.error(Z1))}const T1="@firebase/analytics",U="0.7.9";!function n1(){(0,e1._registerComponent)(new p1.wA(c1,(s1,{options:y1})=>de(s1.getProvider("app").getImmediate(),s1.getProvider("installations-internal").getImmediate(),y1),"PUBLIC")),(0,e1._registerComponent)(new p1.wA("analytics-internal",function G(s1){try{const y1=s1.getProvider(c1).getImmediate();return{logEvent:(k1,Z1,j1)=>Q(y1,k1,Z1,j1)}}catch(y1){throw U1.create("interop-component-reg-failed",{reason:y1})}},"PRIVATE")),(0,e1.registerVersion)(T1,U),(0,e1.registerVersion)(T1,U,"esm2017")}()},3942:(a2,x1,T)=>{T.d(x1,{Z:()=>O1});var c=T(2090),e1=T(4859),P=T(9681),f1=T(1877);class p1{constructor(g1,S1){this._delegate=g1,this.firebase=S1,(0,P._addComponent)(g1,new e1.wA("app-compat",()=>this,"PUBLIC")),this.container=g1.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(g1){this._delegate.automaticDataCollectionEnabled=g1}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(g1=>{this._delegate.checkDestroyed(),g1()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(g1,S1=P._DEFAULT_ENTRY_NAME){var c2;this._delegate.checkDestroyed();const t2=this._delegate.container.getProvider(g1);return!t2.isInitialized()&&"EXPLICIT"===(null===(c2=t2.getComponent())||void 0===c2?void 0:c2.instantiationMode)&&t2.initialize(),t2.getImmediate({identifier:S1})}_removeServiceInstance(g1,S1=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(g1).clearInstance(S1)}_addComponent(g1){(0,P._addComponent)(this._delegate,g1)}_addOrOverwriteComponent(g1){(0,P._addOrOverwriteComponent)(this._delegate,g1)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const c1=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function v1(){const q1=function m1(q1){const g1={},S1={__esModule:!0,initializeApp:function D1(U1,j={}){const B=P.initializeApp(U1,j);if((0,c.r3)(g1,B.name))return g1[B.name];const t1=new q1(B,S1);return g1[B.name]=t1,t1},app:t2,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function A1(U1){const j=U1.name,B=j.replace("-compat","");if(P._registerComponent(U1)&&"PUBLIC"===U1.type){const t1=(h1=t2())=>{if("function"!=typeof h1[B])throw c1.create("invalid-app-argument",{appName:j});return h1[B]()};void 0!==U1.serviceProps&&(0,c.ZB)(t1,U1.serviceProps),S1[B]=t1,q1.prototype[B]=function(...h1){return this._getService.bind(this,j).apply(this,U1.multipleInstances?h1:[])}}return"PUBLIC"===U1.type?S1[B]:null},removeApp:function c2(U1){delete g1[U1]},useAsService:function X1(U1,j){return"serverAuth"===j?null:j},modularAPIs:P}};function t2(U1){if(!(0,c.r3)(g1,U1=U1||P._DEFAULT_ENTRY_NAME))throw c1.create("no-app",{appName:U1});return g1[U1]}return S1.default=S1,Object.defineProperty(S1,"apps",{get:function V1(){return Object.keys(g1).map(U1=>g1[U1])}}),t2.App=q1,S1}(p1);return q1.INTERNAL=Object.assign(Object.assign({},q1.INTERNAL),{createFirebaseNamespace:v1,extendNamespace:function g1(S1){(0,c.ZB)(q1,S1)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),q1}(),q=new f1.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const q1=self.firebase.SDK_VERSION;q1&&q1.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const O1=Z;!function z1(q1){(0,P.registerVersion)("@firebase/app-compat","0.1.25",q1)}()},9681:(a2,x1,T)=>{T.r(x1),T.d(x1,{FirebaseError:()=>f1.ZR,SDK_VERSION:()=>L3,_DEFAULT_ENTRY_NAME:()=>o2,_addComponent:()=>T3,_addOrOverwriteComponent:()=>ie,_apps:()=>Le,_clearComponents:()=>Pe,_components:()=>Ce,_getProvider:()=>F2,_registerComponent:()=>D3,_removeServiceInstance:()=>R2,deleteApp:()=>z2,getApp:()=>b3,getApps:()=>p3,initializeApp:()=>q3,onLog:()=>Ie,registerVersion:()=>de,setLogLevel:()=>e4});var c=T(5861),e1=T(4859),P=T(1877),f1=T(2090),p1=T(8766);class b1{constructor(n1){this.container=n1}getPlatformInfoString(){return this.container.getProviders().map(G=>{if(function c1(U){const n1=U.getComponent();return"VERSION"===(null==n1?void 0:n1.type)}(G)){const s1=G.getImmediate();return`${s1.library}/${s1.version}`}return null}).filter(G=>G).join(" ")}}const m1="@firebase/app",Z=new P.Yd("@firebase/app"),o2="[DEFAULT]",w2={[m1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Le=new Map,Ce=new Map;function T3(U,n1){try{U.container.addComponent(n1)}catch(G){Z.debug(`Component ${n1.name} failed to register with FirebaseApp ${U.name}`,G)}}function ie(U,n1){U.container.addOrOverwriteComponent(n1)}function D3(U){const n1=U.name;if(Ce.has(n1))return Z.debug(`There were multiple attempts to register component ${n1}.`),!1;Ce.set(n1,U);for(const G of Le.values())T3(G,U);return!0}function F2(U,n1){const G=U.container.getProvider("heartbeat").getImmediate({optional:!0});return G&&G.triggerHeartbeat(),U.container.getProvider(n1)}function R2(U,n1,G=o2){F2(U,n1).clearInstance(G)}function Pe(){Ce.clear()}const l3=new f1.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class be{constructor(n1,G,s1){this._isDeleted=!1,this._options=Object.assign({},n1),this._config=Object.assign({},G),this._name=G.name,this._automaticDataCollectionEnabled=G.automaticDataCollectionEnabled,this._container=s1,this.container.addComponent(new e1.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n1){this.checkDestroyed(),this._automaticDataCollectionEnabled=n1}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n1){this._isDeleted=n1}checkDestroyed(){if(this.isDeleted)throw l3.create("app-deleted",{appName:this._name})}}const L3="9.8.1";function q3(U,n1={}){"object"!=typeof n1&&(n1={name:n1});const G=Object.assign({name:o2,automaticDataCollectionEnabled:!1},n1),s1=G.name;if("string"!=typeof s1||!s1)throw l3.create("bad-app-name",{appName:String(s1)});const y1=Le.get(s1);if(y1){if((0,f1.vZ)(U,y1.options)&&(0,f1.vZ)(G,y1.config))return y1;throw l3.create("duplicate-app",{appName:s1})}const k1=new e1.H0(s1);for(const j1 of Ce.values())k1.addComponent(j1);const Z1=new be(U,G,k1);return Le.set(s1,Z1),Z1}function b3(U=o2){const n1=Le.get(U);if(!n1)throw l3.create("no-app",{appName:U});return n1}function p3(){return Array.from(Le.values())}function z2(U){return x3.apply(this,arguments)}function x3(){return(x3=(0,c.Z)(function*(U){const n1=U.name;Le.has(n1)&&(Le.delete(n1),yield Promise.all(U.container.getProviders().map(G=>G.delete())),U.isDeleted=!0)})).apply(this,arguments)}function de(U,n1,G){var s1;let y1=null!==(s1=w2[U])&&void 0!==s1?s1:U;G&&(y1+=`-${G}`);const k1=y1.match(/\s|\//),Z1=n1.match(/\s|\//);if(k1||Z1){const j1=[`Unable to register library "${y1}" with version "${n1}":`];return k1&&j1.push(`library name "${y1}" contains illegal characters (whitespace or "/")`),k1&&Z1&&j1.push("and"),Z1&&j1.push(`version name "${n1}" contains illegal characters (whitespace or "/")`),void Z.warn(j1.join(" "))}D3(new e1.wA(`${y1}-version`,()=>({library:y1,version:n1}),"VERSION"))}function Ie(U,n1){if(null!==U&&"function"!=typeof U)throw l3.create("invalid-log-argument");(0,P.Am)(U,n1)}function e4(U){(0,P.Ub)(U)}const Fe="firebase-heartbeat-store";let N3=null;function C4(){return N3||(N3=(0,p1.X3)("firebase-heartbeat-database",1,{upgrade:(U,n1)=>{0===n1&&U.createObjectStore(Fe)}}).catch(U=>{throw l3.create("storage-open",{originalErrorMessage:U.message})})),N3}function d2(){return(d2=(0,c.Z)(function*(U){try{return(yield C4()).transaction(Fe).objectStore(Fe).get(t4(U))}catch(n1){throw l3.create("storage-get",{originalErrorMessage:n1.message})}})).apply(this,arguments)}function y2(U,n1){return ye.apply(this,arguments)}function ye(){return(ye=(0,c.Z)(function*(U,n1){try{const s1=(yield C4()).transaction(Fe,"readwrite");return yield s1.objectStore(Fe).put(n1,t4(U)),s1.done}catch(G){throw l3.create("storage-set",{originalErrorMessage:G.message})}})).apply(this,arguments)}function t4(U){return`${U.name}!${U.options.appId}`}class t3{constructor(n1){this.container=n1,this._heartbeatsCache=null;const G=this.container.getProvider("app").getImmediate();this._storage=new Y(G),this._heartbeatsCachePromise=this._storage.read().then(s1=>(this._heartbeatsCache=s1,s1))}triggerHeartbeat(){var n1=this;return(0,c.Z)(function*(){const s1=n1.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),y1=Ke();if(null===n1._heartbeatsCache&&(n1._heartbeatsCache=yield n1._heartbeatsCachePromise),n1._heartbeatsCache.lastSentHeartbeatDate!==y1&&!n1._heartbeatsCache.heartbeats.some(k1=>k1.date===y1))return n1._heartbeatsCache.heartbeats.push({date:y1,agent:s1}),n1._heartbeatsCache.heartbeats=n1._heartbeatsCache.heartbeats.filter(k1=>{const Z1=new Date(k1.date).valueOf();return Date.now()-Z1<=2592e6}),n1._storage.overwrite(n1._heartbeatsCache)})()}getHeartbeatsHeader(){var n1=this;return(0,c.Z)(function*(){if(null===n1._heartbeatsCache&&(yield n1._heartbeatsCachePromise),null===n1._heartbeatsCache||0===n1._heartbeatsCache.heartbeats.length)return"";const G=Ke(),{heartbeatsToSend:s1,unsentEntries:y1}=function F(U,n1=1024){const G=[];let s1=U.slice();for(const y1 of U){const k1=G.find(Z1=>Z1.agent===y1.agent);if(k1){if(k1.dates.push(y1.date),Q(G)>n1){k1.dates.pop();break}}else if(G.push({agent:y1.agent,dates:[y1.date]}),Q(G)>n1){G.pop();break}s1=s1.slice(1)}return{heartbeatsToSend:G,unsentEntries:s1}}(n1._heartbeatsCache.heartbeats),k1=(0,f1.L)(JSON.stringify({version:2,heartbeats:s1}));return n1._heartbeatsCache.lastSentHeartbeatDate=G,y1.length>0?(n1._heartbeatsCache.heartbeats=y1,yield n1._storage.overwrite(n1._heartbeatsCache)):(n1._heartbeatsCache.heartbeats=[],n1._storage.overwrite(n1._heartbeatsCache)),k1})()}}function Ke(){return(new Date).toISOString().substring(0,10)}class Y{constructor(n1){this.app=n1,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,f1.hl)()&&(0,f1.eu)().then(()=>!0).catch(()=>!1)})()}read(){var n1=this;return(0,c.Z)(function*(){return(yield n1._canUseIndexedDBPromise)&&(yield function Z2(U){return d2.apply(this,arguments)}(n1.app))||{heartbeats:[]}})()}overwrite(n1){var G=this;return(0,c.Z)(function*(){var s1;if(yield G._canUseIndexedDBPromise){const k1=yield G.read();return y2(G.app,{lastSentHeartbeatDate:null!==(s1=n1.lastSentHeartbeatDate)&&void 0!==s1?s1:k1.lastSentHeartbeatDate,heartbeats:n1.heartbeats})}})()}add(n1){var G=this;return(0,c.Z)(function*(){var s1;if(yield G._canUseIndexedDBPromise){const k1=yield G.read();return y2(G.app,{lastSentHeartbeatDate:null!==(s1=n1.lastSentHeartbeatDate)&&void 0!==s1?s1:k1.lastSentHeartbeatDate,heartbeats:[...k1.heartbeats,...n1.heartbeats]})}})()}}function Q(U){return(0,f1.L)(JSON.stringify({version:2,heartbeats:U})).length}!function T1(U){D3(new e1.wA("platform-logger",n1=>new b1(n1),"PRIVATE")),D3(new e1.wA("heartbeat",n1=>new t3(n1),"PRIVATE")),de(m1,"0.7.24",U),de(m1,"0.7.24","esm2017"),de("fire-js","")}("")},4859:(a2,x1,T)=>{T.d(x1,{H0:()=>m1,wA:()=>P,zt:()=>p1});var c=T(5861),e1=T(2090);class P{constructor(Z,q,o1){this.name=Z,this.instanceFactory=q,this.type=o1,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const f1="[DEFAULT]";class p1{constructor(Z,q){this.name=Z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(q)){const o1=new e1.BH;if(this.instancesDeferred.set(q,o1),this.isInitialized(q)||this.shouldAutoInitialize())try{const G1=this.getOrInitializeService({instanceIdentifier:q});G1&&o1.resolve(G1)}catch(G1){}}return this.instancesDeferred.get(q).promise}getImmediate(Z){var q;const o1=this.normalizeInstanceIdentifier(null==Z?void 0:Z.identifier),G1=null!==(q=null==Z?void 0:Z.optional)&&void 0!==q&&q;if(!this.isInitialized(o1)&&!this.shouldAutoInitialize()){if(G1)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:o1})}catch(z1){if(G1)return null;throw z1}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function c1(v1){return"EAGER"===v1.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:f1})}catch(q){}for(const[q,o1]of this.instancesDeferred.entries()){const G1=this.normalizeInstanceIdentifier(q);try{const z1=this.getOrInitializeService({instanceIdentifier:G1});o1.resolve(z1)}catch(z1){}}}}clearInstance(Z=f1){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,c.Z)(function*(){const q=Array.from(Z.instances.values());yield Promise.all([...q.filter(o1=>"INTERNAL"in o1).map(o1=>o1.INTERNAL.delete()),...q.filter(o1=>"_delete"in o1).map(o1=>o1._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=f1){return this.instances.has(Z)}getOptions(Z=f1){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:q={}}=Z,o1=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(o1))throw Error(`${this.name}(${o1}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const G1=this.getOrInitializeService({instanceIdentifier:o1,options:q});for(const[z1,O1]of this.instancesDeferred.entries())o1===this.normalizeInstanceIdentifier(z1)&&O1.resolve(G1);return G1}onInit(Z,q){var o1;const G1=this.normalizeInstanceIdentifier(q),z1=null!==(o1=this.onInitCallbacks.get(G1))&&void 0!==o1?o1:new Set;z1.add(Z),this.onInitCallbacks.set(G1,z1);const O1=this.instances.get(G1);return O1&&Z(O1,G1),()=>{z1.delete(Z)}}invokeOnInitCallbacks(Z,q){const o1=this.onInitCallbacks.get(q);if(o1)for(const G1 of o1)try{G1(Z,q)}catch(z1){}}getOrInitializeService({instanceIdentifier:Z,options:q={}}){let o1=this.instances.get(Z);if(!o1&&this.component&&(o1=this.component.instanceFactory(this.container,{instanceIdentifier:(v1=Z,v1===f1?void 0:v1),options:q}),this.instances.set(Z,o1),this.instancesOptions.set(Z,q),this.invokeOnInitCallbacks(o1,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,o1)}catch(G1){}var v1;return o1||null}normalizeInstanceIdentifier(Z=f1){return this.component?this.component.multipleInstances?Z:f1:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m1{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const q=this.getProvider(Z.name);if(q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);q.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const q=new p1(Z,this);return this.providers.set(Z,q),q}getProviders(){return Array.from(this.providers.values())}}},2833:(a2,x1,T)=>{var c=T(5861),e1=T(9681),P=T(4859),f1=T(2090),p1=T(8766);const b1="@firebase/installations",v1="w:0.5.9",Z="FIS_v2",q1=new f1.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function g1(O){return O instanceof f1.ZR&&O.code.includes("request-failed")}function S1({projectId:O}){return`https://firebaseinstallations.googleapis.com/v1/projects/${O}/installations`}function c2(O){return{token:O.token,requestStatus:2,expiresIn:j(O.expiresIn),creationTime:Date.now()}}function t2(O,d1){return D1.apply(this,arguments)}function D1(){return(D1=(0,c.Z)(function*(O,d1){const h2=(yield d1.json()).error;return q1.create("request-failed",{requestName:O,serverCode:h2.code,serverMessage:h2.message,serverStatus:h2.status})})).apply(this,arguments)}function V1({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function A1(O,{refreshToken:d1}){const P1=V1(O);return P1.append("Authorization",function B(O){return`${Z} ${O}`}(d1)),P1}function X1(O){return U1.apply(this,arguments)}function U1(){return(U1=(0,c.Z)(function*(O){const d1=yield O();return d1.status>=500&&d1.status<600?O():d1})).apply(this,arguments)}function j(O){return Number(O.replace("s","000"))}function t1(O,d1){return h1.apply(this,arguments)}function h1(){return(h1=(0,c.Z)(function*({appConfig:O,heartbeatServiceProvider:d1},{fid:P1}){const h2=S1(O),$2=V1(O),Y2=d1.getImmediate({optional:!0});if(Y2){const S2=yield Y2.getHeartbeatsHeader();S2&&$2.append("x-firebase-client",S2)}const xe={method:"POST",headers:$2,body:JSON.stringify({fid:P1,authVersion:Z,appId:O.appId,sdkVersion:v1})},Z3=yield X1(()=>fetch(h2,xe));if(Z3.ok){const S2=yield Z3.json();return{fid:S2.fid||P1,registrationStatus:2,refreshToken:S2.refreshToken,authToken:c2(S2.authToken)}}throw yield t2("Create Installation",Z3)})).apply(this,arguments)}function l1(O){return new Promise(d1=>{setTimeout(d1,O)})}const u1=/^[cdef][\w-]{21}$/;function k2(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const P1=function He(O){return function I1(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return u1.test(P1)?P1:""}catch(O){return""}}function o2(O){return`${O.appName}!${O.appId}`}const w2=new Map;function Le(O,d1){const P1=o2(O);ie(P1,d1),function D3(O,d1){const P1=function R2(){return!F2&&"BroadcastChannel"in self&&(F2=new BroadcastChannel("[Firebase] FID Change"),F2.onmessage=O=>{ie(O.data.key,O.data.fid)}),F2}();P1&&P1.postMessage({key:O,fid:d1}),function Pe(){0===w2.size&&F2&&(F2.close(),F2=null)}()}(P1,d1)}function ie(O,d1){const P1=w2.get(O);if(P1)for(const h2 of P1)h2(d1)}let F2=null;const be="firebase-installations-store";let L3=null;function q3(){return L3||(L3=(0,p1.X3)("firebase-installations-database",1,{upgrade:(O,d1)=>{0===d1&&O.createObjectStore(be)}})),L3}function b3(O,d1){return p3.apply(this,arguments)}function p3(){return(p3=(0,c.Z)(function*(O,d1){const P1=o2(O),$2=(yield q3()).transaction(be,"readwrite"),Y2=$2.objectStore(be),Q2=yield Y2.get(P1);return yield Y2.put(d1,P1),yield $2.done,(!Q2||Q2.fid!==d1.fid)&&Le(O,d1.fid),d1})).apply(this,arguments)}function z2(O){return x3.apply(this,arguments)}function x3(){return(x3=(0,c.Z)(function*(O){const d1=o2(O),h2=(yield q3()).transaction(be,"readwrite");yield h2.objectStore(be).delete(d1),yield h2.done})).apply(this,arguments)}function de(O,d1){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,c.Z)(function*(O,d1){const P1=o2(O),$2=(yield q3()).transaction(be,"readwrite"),Y2=$2.objectStore(be),Q2=yield Y2.get(P1),xe=d1(Q2);return void 0===xe?yield Y2.delete(P1):yield Y2.put(xe,P1),yield $2.done,xe&&(!Q2||Q2.fid!==xe.fid)&&Le(O,xe.fid),xe})).apply(this,arguments)}function e4(O){return I3.apply(this,arguments)}function I3(){return(I3=(0,c.Z)(function*(O){let d1;const P1=yield de(O.appConfig,h2=>{const $2=Ze(h2),Y2=Fe(O,$2);return d1=Y2.registrationPromise,Y2.installationEntry});return""===P1.fid?{installationEntry:yield d1}:{installationEntry:P1,registrationPromise:d1}})).apply(this,arguments)}function Ze(O){return ye(O||{fid:k2(),registrationStatus:0})}function Fe(O,d1){if(0===d1.registrationStatus){if(!navigator.onLine)return{installationEntry:d1,registrationPromise:Promise.reject(q1.create("app-offline"))};const P1={fid:d1.fid,registrationStatus:1,registrationTime:Date.now()},h2=function N3(O,d1){return C4.apply(this,arguments)}(O,P1);return{installationEntry:P1,registrationPromise:h2}}return 1===d1.registrationStatus?{installationEntry:d1,registrationPromise:Z2(O)}:{installationEntry:d1}}function C4(){return(C4=(0,c.Z)(function*(O,d1){try{const P1=yield t1(O,d1);return b3(O.appConfig,P1)}catch(P1){throw g1(P1)&&409===P1.customData.serverCode?yield z2(O.appConfig):yield b3(O.appConfig,{fid:d1.fid,registrationStatus:0}),P1}})).apply(this,arguments)}function Z2(O){return d2.apply(this,arguments)}function d2(){return(d2=(0,c.Z)(function*(O){let d1=yield y2(O.appConfig);for(;1===d1.registrationStatus;)yield l1(100),d1=yield y2(O.appConfig);if(0===d1.registrationStatus){const{installationEntry:P1,registrationPromise:h2}=yield e4(O);return h2||P1}return d1})).apply(this,arguments)}function y2(O){return de(O,d1=>{if(!d1)throw q1.create("installation-not-found");return ye(d1)})}function ye(O){return function t4(O){return 1===O.registrationStatus&&O.registrationTime+1e4<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function q2(O,d1){return n4.apply(this,arguments)}function n4(){return(n4=(0,c.Z)(function*({appConfig:O,heartbeatServiceProvider:d1},P1){const h2=t3(O,P1),$2=A1(O,P1),Y2=d1.getImmediate({optional:!0});if(Y2){const S2=yield Y2.getHeartbeatsHeader();S2&&$2.append("x-firebase-client",S2)}const xe={method:"POST",headers:$2,body:JSON.stringify({installation:{sdkVersion:v1,appId:O.appId}})},Z3=yield X1(()=>fetch(h2,xe));if(Z3.ok)return c2(yield Z3.json());throw yield t2("Generate Auth Token",Z3)})).apply(this,arguments)}function t3(O,{fid:d1}){return`${S1(O)}/${d1}/authTokens:generate`}function Ke(O){return F.apply(this,arguments)}function F(){return(F=(0,c.Z)(function*(O,d1=!1){let P1;const h2=yield de(O.appConfig,Y2=>{if(!G(Y2))throw q1.create("not-registered");const Q2=Y2.authToken;if(!d1&&s1(Q2))return Y2;if(1===Q2.requestStatus)return P1=Y(O,d1),Y2;{if(!navigator.onLine)throw q1.create("app-offline");const xe=k1(Y2);return P1=U(O,xe),xe}});return P1?yield P1:h2.authToken})).apply(this,arguments)}function Y(O,d1){return Q.apply(this,arguments)}function Q(){return(Q=(0,c.Z)(function*(O,d1){let P1=yield T1(O.appConfig);for(;1===P1.authToken.requestStatus;)yield l1(100),P1=yield T1(O.appConfig);const h2=P1.authToken;return 0===h2.requestStatus?Ke(O,d1):h2})).apply(this,arguments)}function T1(O){return de(O,d1=>{if(!G(d1))throw q1.create("not-registered");return function Z1(O){return 1===O.requestStatus&&O.requestTime+1e4<Date.now()}(d1.authToken)?Object.assign(Object.assign({},d1),{authToken:{requestStatus:0}}):d1})}function U(O,d1){return n1.apply(this,arguments)}function n1(){return(n1=(0,c.Z)(function*(O,d1){try{const P1=yield q2(O,d1),h2=Object.assign(Object.assign({},d1),{authToken:P1});return yield b3(O.appConfig,h2),P1}catch(P1){if(!g1(P1)||401!==P1.customData.serverCode&&404!==P1.customData.serverCode){const h2=Object.assign(Object.assign({},d1),{authToken:{requestStatus:0}});yield b3(O.appConfig,h2)}else yield z2(O.appConfig);throw P1}})).apply(this,arguments)}function G(O){return void 0!==O&&2===O.registrationStatus}function s1(O){return 2===O.requestStatus&&!function y1(O){const d1=Date.now();return d1<O.creationTime||O.creationTime+O.expiresIn<d1+36e5}(O)}function k1(O){const d1={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:d1})}function p2(){return(p2=(0,c.Z)(function*(O){const d1=O,{installationEntry:P1,registrationPromise:h2}=yield e4(d1);return h2?h2.catch(console.error):Ke(d1).catch(console.error),P1.fid})).apply(this,arguments)}function pe(){return(pe=(0,c.Z)(function*(O,d1=!1){const P1=O;return yield se(P1),(yield Ke(P1,d1)).token})).apply(this,arguments)}function se(O){return $3.apply(this,arguments)}function $3(){return($3=(0,c.Z)(function*(O){const{registrationPromise:d1}=yield e4(O);d1&&(yield d1)})).apply(this,arguments)}function F4(O){return q1.create("missing-app-config-values",{valueName:O})}const y4="installations",Bt=O=>{const d1=O.getProvider("app").getImmediate(),P1=function Ct(O){if(!O||!O.options)throw F4("App Configuration");if(!O.name)throw F4("App Name");const d1=["projectId","apiKey","appId"];for(const P1 of d1)if(!O.options[P1])throw F4(P1);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(d1);return{app:d1,appConfig:P1,heartbeatServiceProvider:(0,e1._getProvider)(d1,"heartbeat"),_delete:()=>Promise.resolve()}},W3=O=>{const d1=O.getProvider("app").getImmediate(),P1=(0,e1._getProvider)(d1,y4).getImmediate();return{getId:()=>function j1(O){return p2.apply(this,arguments)}(P1),getToken:$2=>function D2(O){return pe.apply(this,arguments)}(P1,$2)}};(function n2(){(0,e1._registerComponent)(new P.wA(y4,Bt,"PUBLIC")),(0,e1._registerComponent)(new P.wA("installations-internal",W3,"PRIVATE"))})(),(0,e1.registerVersion)(b1,"0.5.9"),(0,e1.registerVersion)(b1,"0.5.9","esm2017")},1877:(a2,x1,T)=>{T.d(x1,{Am:()=>v1,Ub:()=>m1,Yd:()=>c1,in:()=>e1});const c=[];var e1=(()=>{return(Z=e1||(e1={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",e1;var Z})();const P={debug:e1.DEBUG,verbose:e1.VERBOSE,info:e1.INFO,warn:e1.WARN,error:e1.ERROR,silent:e1.SILENT},f1=e1.INFO,p1={[e1.DEBUG]:"log",[e1.VERBOSE]:"log",[e1.INFO]:"info",[e1.WARN]:"warn",[e1.ERROR]:"error"},b1=(Z,q,...o1)=>{if(q<Z.logLevel)return;const G1=(new Date).toISOString(),z1=p1[q];if(!z1)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[z1](`[${G1}]  ${Z.name}:`,...o1)};class c1{constructor(q){this.name=q,this._logLevel=f1,this._logHandler=b1,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in e1))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?P[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,e1.DEBUG,...q),this._logHandler(this,e1.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,e1.VERBOSE,...q),this._logHandler(this,e1.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,e1.INFO,...q),this._logHandler(this,e1.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,e1.WARN,...q),this._logHandler(this,e1.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,e1.ERROR,...q),this._logHandler(this,e1.ERROR,...q)}}function m1(Z){c.forEach(q=>{q.setLogLevel(Z)})}function v1(Z,q){for(const o1 of c){let G1=null;q&&q.level&&(G1=P[q.level]),o1.userLogHandler=null===Z?null:(z1,O1,...q1)=>{const g1=q1.map(S1=>{if(null==S1)return null;if("string"==typeof S1)return S1;if("number"==typeof S1||"boolean"==typeof S1)return S1.toString();if(S1 instanceof Error)return S1.message;try{return JSON.stringify(S1)}catch(c2){return null}}).filter(S1=>S1).join(" ");O1>=(null!=G1?G1:z1.logLevel)&&Z({level:e1[O1].toLowerCase(),message:g1,args:q1,type:z1.name})}}}},8766:(a2,x1,T)=>{T.d(x1,{Lj:()=>D1,X3:()=>t2});var c=T(5861);let P,f1;const c1=new WeakMap,m1=new WeakMap,v1=new WeakMap,Z=new WeakMap,q=new WeakMap;let z1={get(j,B,t1){if(j instanceof IDBTransaction){if("done"===B)return m1.get(j);if("objectStoreNames"===B)return j.objectStoreNames||v1.get(j);if("store"===B)return t1.objectStoreNames[1]?void 0:t1.objectStore(t1.objectStoreNames[0])}return S1(j[B])},set:(j,B,t1)=>(j[B]=t1,!0),has:(j,B)=>j instanceof IDBTransaction&&("done"===B||"store"===B)||B in j};function g1(j){return"function"==typeof j?function q1(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function b1(){return f1||(f1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...B){return j.apply(c2(this),B),S1(c1.get(this))}:function(...B){return S1(j.apply(c2(this),B))}:function(B,...t1){const h1=j.call(c2(this),B,...t1);return v1.set(h1,B.sort?B.sort():[B]),S1(h1)}}(j):(j instanceof IDBTransaction&&function G1(j){if(m1.has(j))return;const B=new Promise((t1,h1)=>{const l1=()=>{j.removeEventListener("complete",I1),j.removeEventListener("error",u1),j.removeEventListener("abort",u1)},I1=()=>{t1(),l1()},u1=()=>{h1(j.error||new DOMException("AbortError","AbortError")),l1()};j.addEventListener("complete",I1),j.addEventListener("error",u1),j.addEventListener("abort",u1)});m1.set(j,B)}(j),((j,B)=>B.some(t1=>j instanceof t1))(j,function p1(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,z1):j)}function S1(j){if(j instanceof IDBRequest)return function o1(j){const B=new Promise((t1,h1)=>{const l1=()=>{j.removeEventListener("success",I1),j.removeEventListener("error",u1)},I1=()=>{t1(S1(j.result)),l1()},u1=()=>{h1(j.error),l1()};j.addEventListener("success",I1),j.addEventListener("error",u1)});return B.then(t1=>{t1 instanceof IDBCursor&&c1.set(t1,j)}).catch(()=>{}),q.set(B,j),B}(j);if(Z.has(j))return Z.get(j);const B=g1(j);return B!==j&&(Z.set(j,B),q.set(B,j)),B}const c2=j=>q.get(j);function t2(j,B,{blocked:t1,upgrade:h1,blocking:l1,terminated:I1}={}){const u1=indexedDB.open(j,B),L2=S1(u1);return h1&&u1.addEventListener("upgradeneeded",k2=>{h1(S1(u1.result),k2.oldVersion,k2.newVersion,S1(u1.transaction))}),t1&&u1.addEventListener("blocked",()=>t1()),L2.then(k2=>{I1&&k2.addEventListener("close",()=>I1()),l1&&k2.addEventListener("versionchange",()=>l1())}).catch(()=>{}),L2}function D1(j,{blocked:B}={}){const t1=indexedDB.deleteDatabase(j);return B&&t1.addEventListener("blocked",()=>B()),S1(t1).then(()=>{})}const V1=["get","getKey","getAll","getAllKeys","count"],A1=["put","add","delete","clear"],X1=new Map;function U1(j,B){if(!(j instanceof IDBDatabase)||B in j||"string"!=typeof B)return;if(X1.get(B))return X1.get(B);const t1=B.replace(/FromIndex$/,""),h1=B!==t1,l1=A1.includes(t1);if(!(t1 in(h1?IDBIndex:IDBObjectStore).prototype)||!l1&&!V1.includes(t1))return;const I1=function(){var u1=(0,c.Z)(function*(L2,...k2){const He=this.transaction(L2,l1?"readwrite":"readonly");let o2=He.store;return h1&&(o2=o2.index(k2.shift())),(yield Promise.all([o2[t1](...k2),l1&&He.done]))[0]});return function(k2){return u1.apply(this,arguments)}}();return X1.set(B,I1),I1}!function O1(j){z1=j(z1)}(j=>jJ(GJ({},j),{get:(B,t1,h1)=>U1(B,t1)||j.get(B,t1,h1),has:(B,t1)=>!!U1(B,t1)||j.has(B,t1)}))},5861:(a2,x1,T)=>{function c(P,f1,p1,b1,c1,m1,v1){try{var Z=P[m1](v1),q=Z.value}catch(o1){return void p1(o1)}Z.done?f1(q):Promise.resolve(q).then(b1,c1)}function e1(P){return function(){var f1=this,p1=arguments;return new Promise(function(b1,c1){var m1=P.apply(f1,p1);function v1(q){c(m1,b1,c1,v1,Z,"next",q)}function Z(q){c(m1,b1,c1,v1,Z,"throw",q)}v1(void 0)})}}T.d(x1,{Z:()=>e1})}},a2=>{a2(a2.s=7358)}]);